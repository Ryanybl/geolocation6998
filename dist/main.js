/*! For license information please see main.js.LICENSE.txt */
(()=>{var Ne,et,tt,rt,nt={7154:Ne=>{function _extends(){return Ne.exports=_extends=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(Ne[rt]=tt[rt])}return Ne},Ne.exports.default=Ne.exports,Ne.exports.__esModule=!0,_extends.apply(this,arguments)}Ne.exports=_extends,Ne.exports.default=Ne.exports,Ne.exports.__esModule=!0},5318:Ne=>{Ne.exports=function _interopRequireDefault(Ne){return Ne&&Ne.__esModule?Ne:{default:Ne}},Ne.exports.default=Ne.exports,Ne.exports.__esModule=!0},2087:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>pt});var rt=tt(7462),nt=tt(5987),it=tt(7294),ot=(tt(5697),tt(6010)),at=tt(5551),st=tt(3871),ct=it.forwardRef((function SvgIcon(Ne,et){var tt=Ne.children,at=Ne.classes,ct=Ne.className,pt=Ne.color,ft=void 0===pt?"inherit":pt,dt=Ne.component,mt=void 0===dt?"svg":dt,yt=Ne.fontSize,vt=void 0===yt?"default":yt,Rt=Ne.htmlColor,Dt=Ne.titleAccess,Ot=Ne.viewBox,Bt=void 0===Ot?"0 0 24 24":Ot,er=(0,nt.Z)(Ne,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return it.createElement(mt,(0,rt.Z)({className:(0,ot.Z)(at.root,ct,"inherit"!==ft&&at["color".concat((0,st.Z)(ft))],"default"!==vt&&at["fontSize".concat((0,st.Z)(vt))]),focusable:"false",viewBox:Bt,color:Rt,"aria-hidden":!Dt||void 0,role:Dt?"img":void 0,ref:et},er),tt,Dt?it.createElement("title",null,Dt):null)}));ct.muiName="SvgIcon";const pt=(0,at.Z)((function styles(Ne){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:Ne.typography.pxToRem(24),transition:Ne.transitions.create("fill",{duration:Ne.transitions.duration.shorter})},colorPrimary:{color:Ne.palette.primary.main},colorSecondary:{color:Ne.palette.secondary.main},colorAction:{color:Ne.palette.action.active},colorError:{color:Ne.palette.error.main},colorDisabled:{color:Ne.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:Ne.typography.pxToRem(20)},fontSizeLarge:{fontSize:Ne.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(ct)},2015:(Ne,et,tt)=>{"use strict";tt.r(et),tt.d(et,{default:()=>rt.Z});var rt=tt(2087)},8105:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>rt});const rt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}},9693:(Ne,et,tt)=>{"use strict";tt.d(et,{mi:()=>getContrastRatio,_4:()=>emphasize,U1:()=>fade,_j:()=>darken,$n:()=>lighten});var rt=tt(288);function clamp(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(et,Ne),tt)}function decomposeColor(Ne){if(Ne.type)return Ne;if("#"===Ne.charAt(0))return decomposeColor(function hexToRgb(Ne){Ne=Ne.substr(1);var et=new RegExp(".{1,".concat(Ne.length>=6?2:1,"}"),"g"),tt=Ne.match(et);return tt&&1===tt[0].length&&(tt=tt.map((function(Ne){return Ne+Ne}))),tt?"rgb".concat(4===tt.length?"a":"","(").concat(tt.map((function(Ne,et){return et<3?parseInt(Ne,16):Math.round(parseInt(Ne,16)/255*1e3)/1e3})).join(", "),")"):""}(Ne));var et=Ne.indexOf("("),tt=Ne.substring(0,et);if(-1===["rgb","rgba","hsl","hsla"].indexOf(tt))throw new Error((0,rt.Z)(3,Ne));var nt=Ne.substring(et+1,Ne.length-1).split(",");return{type:tt,values:nt=nt.map((function(Ne){return parseFloat(Ne)}))}}function recomposeColor(Ne){var et=Ne.type,tt=Ne.values;return-1!==et.indexOf("rgb")?tt=tt.map((function(Ne,et){return et<3?parseInt(Ne,10):Ne})):-1!==et.indexOf("hsl")&&(tt[1]="".concat(tt[1],"%"),tt[2]="".concat(tt[2],"%")),"".concat(et,"(").concat(tt.join(", "),")")}function getContrastRatio(Ne,et){var tt=getLuminance(Ne),rt=getLuminance(et);return(Math.max(tt,rt)+.05)/(Math.min(tt,rt)+.05)}function getLuminance(Ne){var et="hsl"===(Ne=decomposeColor(Ne)).type?decomposeColor(function hslToRgb(Ne){var et=(Ne=decomposeColor(Ne)).values,tt=et[0],rt=et[1]/100,nt=et[2]/100,it=rt*Math.min(nt,1-nt),ot=function f(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ne+tt/30)%12;return nt-it*Math.max(Math.min(et-3,9-et,1),-1)},at="rgb",st=[Math.round(255*ot(0)),Math.round(255*ot(8)),Math.round(255*ot(4))];return"hsla"===Ne.type&&(at+="a",st.push(et[3])),recomposeColor({type:at,values:st})}(Ne)).values:Ne.values;return et=et.map((function(Ne){return(Ne/=255)<=.03928?Ne/12.92:Math.pow((Ne+.055)/1.055,2.4)})),Number((.2126*et[0]+.7152*et[1]+.0722*et[2]).toFixed(3))}function emphasize(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return getLuminance(Ne)>.5?darken(Ne,et):lighten(Ne,et)}function fade(Ne,et){return Ne=decomposeColor(Ne),et=clamp(et),"rgb"!==Ne.type&&"hsl"!==Ne.type||(Ne.type+="a"),Ne.values[3]=et,recomposeColor(Ne)}function darken(Ne,et){if(Ne=decomposeColor(Ne),et=clamp(et),-1!==Ne.type.indexOf("hsl"))Ne.values[2]*=1-et;else if(-1!==Ne.type.indexOf("rgb"))for(var tt=0;tt<3;tt+=1)Ne.values[tt]*=1-et;return recomposeColor(Ne)}function lighten(Ne,et){if(Ne=decomposeColor(Ne),et=clamp(et),-1!==Ne.type.indexOf("hsl"))Ne.values[2]+=(100-Ne.values[2])*et;else if(-1!==Ne.type.indexOf("rgb"))for(var tt=0;tt<3;tt+=1)Ne.values[tt]+=(255-Ne.values[tt])*et;return recomposeColor(Ne)}},9741:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>Vn});var rt=tt(5987),nt=tt(5953),it=tt(7462),ot=["xs","sm","md","lg","xl"];function createBreakpoints(Ne){var et=Ne.values,tt=void 0===et?{xs:0,sm:600,md:960,lg:1280,xl:1920}:et,nt=Ne.unit,at=void 0===nt?"px":nt,st=Ne.step,ct=void 0===st?5:st,pt=(0,rt.Z)(Ne,["values","unit","step"]);function up(Ne){var et="number"==typeof tt[Ne]?tt[Ne]:Ne;return"@media (min-width:".concat(et).concat(at,")")}function between(Ne,et){var rt=ot.indexOf(et);return rt===ot.length-1?up(Ne):"@media (min-width:".concat("number"==typeof tt[Ne]?tt[Ne]:Ne).concat(at,") and ")+"(max-width:".concat((-1!==rt&&"number"==typeof tt[ot[rt+1]]?tt[ot[rt+1]]:et)-ct/100).concat(at,")")}return(0,it.Z)({keys:ot,values:tt,up,down:function down(Ne){var et=ot.indexOf(Ne)+1,rt=tt[ot[et]];return et===ot.length?up("xs"):"@media (max-width:".concat(("number"==typeof rt&&et>0?rt:Ne)-ct/100).concat(at,")")},between,only:function only(Ne){return between(Ne,Ne)},width:function width(Ne){return tt[Ne]}},pt)}var at=tt(4942);function createMixins(Ne,et,tt){var rt;return(0,it.Z)({gutters:function gutters(){var tt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,it.Z)({paddingLeft:et(2),paddingRight:et(2)},tt,(0,at.Z)({},Ne.up("sm"),(0,it.Z)({paddingLeft:et(3),paddingRight:et(3)},tt[Ne.up("sm")])))},toolbar:(rt={minHeight:56},(0,at.Z)(rt,"".concat(Ne.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,at.Z)(rt,Ne.up("sm"),{minHeight:64}),rt)},tt)}var st=tt(288);const ct={black:"#000",white:"#fff"};var pt=tt(8105);const ft={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const dt={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const mt={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const yt={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const vt={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const Rt={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var Dt=tt(9693),Ot={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ct.white,default:pt.Z[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Bt={text:{primary:ct.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:pt.Z[800],default:"#303030"},action:{active:ct.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(Ne,et,tt,rt){var nt=rt.light||rt,it=rt.dark||1.5*rt;Ne[et]||(Ne.hasOwnProperty(tt)?Ne[et]=Ne[tt]:"light"===et?Ne.light=(0,Dt.$n)(Ne.main,nt):"dark"===et&&(Ne.dark=(0,Dt._j)(Ne.main,it)))}function createPalette(Ne){var et=Ne.primary,tt=void 0===et?{light:ft[300],main:ft[500],dark:ft[700]}:et,ot=Ne.secondary,at=void 0===ot?{light:dt.A200,main:dt.A400,dark:dt.A700}:ot,er=Ne.error,rr=void 0===er?{light:mt[300],main:mt[500],dark:mt[700]}:er,vr=Ne.warning,wr=void 0===vr?{light:yt[300],main:yt[500],dark:yt[700]}:vr,Sr=Ne.info,rn=void 0===Sr?{light:vt[300],main:vt[500],dark:vt[700]}:Sr,vn=Ne.success,bn=void 0===vn?{light:Rt[300],main:Rt[500],dark:Rt[700]}:vn,Tn=Ne.type,Cn=void 0===Tn?"light":Tn,In=Ne.contrastThreshold,Mn=void 0===In?3:In,zn=Ne.tonalOffset,Ln=void 0===zn?.2:zn,Fn=(0,rt.Z)(Ne,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function getContrastText(Ne){return(0,Dt.mi)(Ne,Bt.text.primary)>=Mn?Bt.text.primary:Ot.text.primary}var Bn=function augmentColor(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,rt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(Ne=(0,it.Z)({},Ne)).main&&Ne[et]&&(Ne.main=Ne[et]),!Ne.main)throw new Error((0,st.Z)(4,et));if("string"!=typeof Ne.main)throw new Error((0,st.Z)(5,JSON.stringify(Ne.main)));return addLightOrDark(Ne,"light",tt,Ln),addLightOrDark(Ne,"dark",rt,Ln),Ne.contrastText||(Ne.contrastText=getContrastText(Ne.main)),Ne},Nn={dark:Bt,light:Ot};return(0,nt.Z)((0,it.Z)({common:ct,type:Cn,primary:Bn(tt),secondary:Bn(at,"A400","A200","A700"),error:Bn(rr),warning:Bn(wr),info:Bn(rn),success:Bn(bn),grey:pt.Z,contrastThreshold:Mn,getContrastText,augmentColor:Bn,tonalOffset:Ln},Nn[Cn]),Fn)}function round(Ne){return Math.round(1e5*Ne)/1e5}var er={textTransform:"uppercase"},rr='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(Ne,et){var tt="function"==typeof et?et(Ne):et,ot=tt.fontFamily,at=void 0===ot?rr:ot,st=tt.fontSize,ct=void 0===st?14:st,pt=tt.fontWeightLight,ft=void 0===pt?300:pt,dt=tt.fontWeightRegular,mt=void 0===dt?400:dt,yt=tt.fontWeightMedium,vt=void 0===yt?500:yt,Rt=tt.fontWeightBold,Dt=void 0===Rt?700:Rt,Ot=tt.htmlFontSize,Bt=void 0===Ot?16:Ot,vr=tt.allVariants,wr=tt.pxToRem,Sr=(0,rt.Z)(tt,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var rn=ct/14,vn=wr||function(Ne){return"".concat(Ne/Bt*rn,"rem")},bn=function buildVariant(Ne,et,tt,rt,nt){return(0,it.Z)({fontFamily:at,fontWeight:Ne,fontSize:vn(et),lineHeight:tt},at===rr?{letterSpacing:"".concat(round(rt/et),"em")}:{},nt,vr)},Tn={h1:bn(ft,96,1.167,-1.5),h2:bn(ft,60,1.2,-.5),h3:bn(mt,48,1.167,0),h4:bn(mt,34,1.235,.25),h5:bn(mt,24,1.334,0),h6:bn(vt,20,1.6,.15),subtitle1:bn(mt,16,1.75,.15),subtitle2:bn(vt,14,1.57,.1),body1:bn(mt,16,1.5,.15),body2:bn(mt,14,1.43,.15),button:bn(vt,14,1.75,.4,er),caption:bn(mt,12,1.66,.4),overline:bn(mt,12,2.66,1,er)};return(0,nt.Z)((0,it.Z)({htmlFontSize:Bt,pxToRem:vn,round,fontFamily:at,fontSize:ct,fontWeightLight:ft,fontWeightRegular:mt,fontWeightMedium:vt,fontWeightBold:Dt},Tn),Sr,{clone:!1})}function createShadow(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const vr=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)];const wr={borderRadius:4};var Sr=tt(885),rn=tt(1002),vn=(tt(5697),{xs:0,sm:600,md:960,lg:1280,xl:1920}),bn={keys:["xs","sm","md","lg","xl"],up:function up(Ne){return"@media (min-width:".concat(vn[Ne],"px)")}};const Tn=function merge_merge(Ne,et){return et?(0,nt.Z)(Ne,et,{clone:!1}):Ne};var Cn={m:"margin",p:"padding"},In={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Mn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zn=function memoize(Ne){var et={};return function(tt){return void 0===et[tt]&&(et[tt]=Ne(tt)),et[tt]}}((function(Ne){if(Ne.length>2){if(!Mn[Ne])return[Ne];Ne=Mn[Ne]}var et=Ne.split(""),tt=(0,Sr.Z)(et,2),rt=tt[0],nt=tt[1],it=Cn[rt],ot=In[nt]||"";return Array.isArray(ot)?ot.map((function(Ne){return it+Ne})):[it+ot]})),Ln=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function createUnarySpacing(Ne){var et=Ne.spacing||8;return"number"==typeof et?function(Ne){return et*Ne}:Array.isArray(et)?function(Ne){return et[Ne]}:"function"==typeof et?et:function(){}}function getStyleFromPropValue(Ne,et){return function(tt){return Ne.reduce((function(Ne,rt){return Ne[rt]=function getValue(Ne,et){if("string"==typeof et||null==et)return et;var tt=Ne(Math.abs(et));return et>=0?tt:"number"==typeof tt?-tt:"-".concat(tt)}(et,tt),Ne}),{})}}function spacing(Ne){var et=createUnarySpacing(Ne.theme);return Object.keys(Ne).map((function(tt){if(-1===Ln.indexOf(tt))return null;var rt=getStyleFromPropValue(zn(tt),et),nt=Ne[tt];return function handleBreakpoints(Ne,et,tt){if(Array.isArray(et)){var rt=Ne.theme.breakpoints||bn;return et.reduce((function(Ne,nt,it){return Ne[rt.up(rt.keys[it])]=tt(et[it]),Ne}),{})}if("object"===(0,rn.Z)(et)){var nt=Ne.theme.breakpoints||bn;return Object.keys(et).reduce((function(Ne,rt){return Ne[nt.up(rt)]=tt(et[rt]),Ne}),{})}return tt(et)}(Ne,nt,rt)})).reduce(Tn,{})}spacing.propTypes={},spacing.filterProps=Ln;function createSpacing(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(Ne.mui)return Ne;var et=createUnarySpacing({spacing:Ne}),tt=function spacing(){for(var Ne=arguments.length,tt=new Array(Ne),rt=0;rt<Ne;rt++)tt[rt]=arguments[rt];return 0===tt.length?et(1):1===tt.length?et(tt[0]):tt.map((function(Ne){if("string"==typeof Ne)return Ne;var tt=et(Ne);return"number"==typeof tt?"".concat(tt,"px"):tt})).join(" ")};return Object.defineProperty(tt,"unit",{get:function get(){return Ne}}),tt.mui=!0,tt}var Fn=tt(3291);const Bn={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const Nn=function createMuiTheme(){for(var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},et=Ne.breakpoints,tt=void 0===et?{}:et,it=Ne.mixins,ot=void 0===it?{}:it,at=Ne.palette,st=void 0===at?{}:at,ct=Ne.spacing,pt=Ne.typography,ft=void 0===pt?{}:pt,dt=(0,rt.Z)(Ne,["breakpoints","mixins","palette","spacing","typography"]),mt=createPalette(st),yt=createBreakpoints(tt),vt=createSpacing(ct),Rt=(0,nt.Z)({breakpoints:yt,direction:"ltr",mixins:createMixins(yt,vt,ot),overrides:{},palette:mt,props:{},shadows:vr,typography:createTypography(mt,ft),spacing:vt,shape:wr,transitions:Fn.ZP,zIndex:Bn},dt),Dt=arguments.length,Ot=new Array(Dt>1?Dt-1:0),Bt=1;Bt<Dt;Bt++)Ot[Bt-1]=arguments[Bt];return Rt=Ot.reduce((function(Ne,et){return(0,nt.Z)(Ne,et)}),Rt)};const Vn=Nn()},3291:(Ne,et,tt)=>{"use strict";tt.d(et,{x9:()=>it,ZP:()=>ot});var rt=tt(5987),nt={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},it={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(Ne){return"".concat(Math.round(Ne),"ms")}const ot={easing:nt,duration:it,create:function create(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tt=et.duration,ot=void 0===tt?it.standard:tt,at=et.easing,st=void 0===at?nt.easeInOut:at,ct=et.delay,pt=void 0===ct?0:ct;(0,rt.Z)(et,["duration","easing","delay"]);return(Array.isArray(Ne)?Ne:[Ne]).map((function(Ne){return"".concat(Ne," ").concat("string"==typeof ot?ot:formatMs(ot)," ").concat(st," ").concat("string"==typeof pt?pt:formatMs(pt))})).join(",")},getAutoHeightDuration:function getAutoHeightDuration(Ne){if(!Ne)return 0;var et=Ne/36;return Math.round(10*(4+15*Math.pow(et,.25)+et/5))}}},5551:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>Ip});var rt=tt(7462),nt=tt(5987),it=tt(7294),ot=(tt(5697),tt(8679)),at=tt.n(ot),st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ne){return typeof Ne}:function(Ne){return Ne&&"function"==typeof Symbol&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne};const ct="object"===("undefined"==typeof window?"undefined":st(window))&&"object"===("undefined"==typeof document?"undefined":st(document))&&9===document.nodeType;function _defineProperties(Ne,et){for(var tt=0;tt<et.length;tt++){var rt=et[tt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(Ne,rt.key,rt)}}function createClass_createClass(Ne,et,tt){return et&&_defineProperties(Ne.prototype,et),tt&&_defineProperties(Ne,tt),Ne}var pt=tt(1721),ft=tt(7326),dt=tt(5245),mt={}.constructor;function cloneStyle(Ne){if(null==Ne||"object"!=typeof Ne)return Ne;if(Array.isArray(Ne))return Ne.map(cloneStyle);if(Ne.constructor!==mt)return Ne;var et={};for(var tt in Ne)et[tt]=cloneStyle(Ne[tt]);return et}function createRule(Ne,et,tt){void 0===Ne&&(Ne="unnamed");var rt=tt.jss,nt=cloneStyle(et),it=rt.plugins.onCreateRule(Ne,nt,tt);return it||(Ne[0],null)}var yt=function join(Ne,et){for(var tt="",rt=0;rt<Ne.length&&"!important"!==Ne[rt];rt++)tt&&(tt+=et),tt+=Ne[rt];return tt},vt=function toCssValue(Ne,et){if(void 0===et&&(et=!1),!Array.isArray(Ne))return Ne;var tt="";if(Array.isArray(Ne[0]))for(var rt=0;rt<Ne.length&&"!important"!==Ne[rt];rt++)tt&&(tt+=", "),tt+=yt(Ne[rt]," ");else tt=yt(Ne,", ");return et||"!important"!==Ne[Ne.length-1]||(tt+=" !important"),tt};function getWhitespaceSymbols(Ne){return Ne&&!1===Ne.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function indentStr(Ne,et){for(var tt="",rt=0;rt<et;rt++)tt+="  ";return tt+Ne}function toCss(Ne,et,tt){void 0===tt&&(tt={});var rt="";if(!et)return rt;var nt=tt.indent,it=void 0===nt?0:nt,ot=et.fallbacks;!1===tt.format&&(it=-1/0);var at=getWhitespaceSymbols(tt),st=at.linebreak,ct=at.space;if(Ne&&it++,ot)if(Array.isArray(ot))for(var pt=0;pt<ot.length;pt++){var ft=ot[pt];for(var dt in ft){var mt=ft[dt];null!=mt&&(rt&&(rt+=st),rt+=indentStr(dt+":"+ct+vt(mt)+";",it))}}else for(var yt in ot){var Rt=ot[yt];null!=Rt&&(rt&&(rt+=st),rt+=indentStr(yt+":"+ct+vt(Rt)+";",it))}for(var Dt in et){var Ot=et[Dt];null!=Ot&&"fallbacks"!==Dt&&(rt&&(rt+=st),rt+=indentStr(Dt+":"+ct+vt(Ot)+";",it))}return(rt||tt.allowEmpty)&&Ne?(rt&&(rt=""+st+rt+st),indentStr(""+Ne+ct+"{"+rt,--it)+indentStr("}",it)):rt}var Rt=/([[\].#*$><+~=|^:(),"'`\s])/g,Dt="undefined"!=typeof CSS&&CSS.escape,jss_esm_escape=function(Ne){return Dt?Dt(Ne):Ne.replace(Rt,"\\$1")},Ot=function(){function BaseStyleRule(Ne,et,tt){this.type="style",this.isProcessed=!1;var rt=tt.sheet,nt=tt.Renderer;this.key=Ne,this.options=tt,this.style=et,rt?this.renderer=rt.renderer:nt&&(this.renderer=new nt)}return BaseStyleRule.prototype.prop=function prop(Ne,et,tt){if(void 0===et)return this.style[Ne];var rt=!!tt&&tt.force;if(!rt&&this.style[Ne]===et)return this;var nt=et;tt&&!1===tt.process||(nt=this.options.jss.plugins.onChangeValue(et,Ne,this));var it=null==nt||!1===nt,ot=Ne in this.style;if(it&&!ot&&!rt)return this;var at=it&&ot;if(at?delete this.style[Ne]:this.style[Ne]=nt,this.renderable&&this.renderer)return at?this.renderer.removeProperty(this.renderable,Ne):this.renderer.setProperty(this.renderable,Ne,nt),this;var st=this.options.sheet;return st&&st.attached,this},BaseStyleRule}(),Bt=function(Ne){function StyleRule(et,tt,rt){var nt;nt=Ne.call(this,et,tt,rt)||this;var it=rt.selector,ot=rt.scoped,at=rt.sheet,st=rt.generateId;return it?nt.selectorText=it:!1!==ot&&(nt.id=st((0,ft.Z)((0,ft.Z)(nt)),at),nt.selectorText="."+jss_esm_escape(nt.id)),nt}(0,pt.Z)(StyleRule,Ne);var et=StyleRule.prototype;return et.applyTo=function applyTo(Ne){var et=this.renderer;if(et){var tt=this.toJSON();for(var rt in tt)et.setProperty(Ne,rt,tt[rt])}return this},et.toJSON=function toJSON(){var Ne={};for(var et in this.style){var tt=this.style[et];"object"!=typeof tt?Ne[et]=tt:Array.isArray(tt)&&(Ne[et]=vt(tt))}return Ne},et.toString=function toString(Ne){var et=this.options.sheet,tt=!!et&&et.options.link?(0,rt.Z)({},Ne,{allowEmpty:!0}):Ne;return toCss(this.selectorText,this.style,tt)},createClass_createClass(StyleRule,[{key:"selector",set:function set(Ne){if(Ne!==this.selectorText){this.selectorText=Ne;var et=this.renderer,tt=this.renderable;if(tt&&et)et.setSelector(tt,Ne)||et.replaceRule(tt,this)}},get:function get(){return this.selectorText}}]),StyleRule}(Ot),er={onCreateRule:function onCreateRule(Ne,et,tt){return"@"===Ne[0]||tt.parent&&"keyframes"===tt.parent.type?null:new Bt(Ne,et,tt)}},rr={indent:1,children:!0},vr=/@([\w-]+)/,wr=function(){function ConditionalRule(Ne,et,tt){this.type="conditional",this.isProcessed=!1,this.key=Ne;var nt=Ne.match(vr);for(var it in this.at=nt?nt[1]:"unknown",this.query=tt.name||"@"+this.at,this.options=tt,this.rules=new ea((0,rt.Z)({},tt,{parent:this})),et)this.rules.add(it,et[it]);this.rules.process()}var Ne=ConditionalRule.prototype;return Ne.getRule=function getRule(Ne){return this.rules.get(Ne)},Ne.indexOf=function indexOf(Ne){return this.rules.indexOf(Ne)},Ne.addRule=function addRule(Ne,et,tt){var rt=this.rules.add(Ne,et,tt);return rt?(this.options.jss.plugins.onProcessRule(rt),rt):null},Ne.toString=function toString(Ne){void 0===Ne&&(Ne=rr);var et=getWhitespaceSymbols(Ne).linebreak;if(null==Ne.indent&&(Ne.indent=rr.indent),null==Ne.children&&(Ne.children=rr.children),!1===Ne.children)return this.query+" {}";var tt=this.rules.toString(Ne);return tt?this.query+" {"+et+tt+et+"}":""},ConditionalRule}(),Sr=/@media|@supports\s+/,rn={onCreateRule:function onCreateRule(Ne,et,tt){return Sr.test(Ne)?new wr(Ne,et,tt):null}},vn={indent:1,children:!0},bn=/@keyframes\s+([\w-]+)/,Tn=function(){function KeyframesRule(Ne,et,tt){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var nt=Ne.match(bn);nt&&nt[1]?this.name=nt[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=tt;var it=tt.scoped,ot=tt.sheet,at=tt.generateId;for(var st in this.id=!1===it?this.name:jss_esm_escape(at(this,ot)),this.rules=new ea((0,rt.Z)({},tt,{parent:this})),et)this.rules.add(st,et[st],(0,rt.Z)({},tt,{parent:this}));this.rules.process()}return KeyframesRule.prototype.toString=function toString(Ne){void 0===Ne&&(Ne=vn);var et=getWhitespaceSymbols(Ne).linebreak;if(null==Ne.indent&&(Ne.indent=vn.indent),null==Ne.children&&(Ne.children=vn.children),!1===Ne.children)return this.at+" "+this.id+" {}";var tt=this.rules.toString(Ne);return tt&&(tt=""+et+tt+et),this.at+" "+this.id+" {"+tt+"}"},KeyframesRule}(),Cn=/@keyframes\s+/,In=/\$([\w-]+)/g,Mn=function findReferencedKeyframe(Ne,et){return"string"==typeof Ne?Ne.replace(In,(function(Ne,tt){return tt in et?et[tt]:Ne})):Ne},zn=function replaceRef(Ne,et,tt){var rt=Ne[et],nt=Mn(rt,tt);nt!==rt&&(Ne[et]=nt)},Ln={onCreateRule:function onCreateRule(Ne,et,tt){return"string"==typeof Ne&&Cn.test(Ne)?new Tn(Ne,et,tt):null},onProcessStyle:function onProcessStyle(Ne,et,tt){return"style"===et.type&&tt?("animation-name"in Ne&&zn(Ne,"animation-name",tt.keyframes),"animation"in Ne&&zn(Ne,"animation",tt.keyframes),Ne):Ne},onChangeValue:function onChangeValue(Ne,et,tt){var rt=tt.options.sheet;if(!rt)return Ne;switch(et){case"animation":case"animation-name":return Mn(Ne,rt.keyframes);default:return Ne}}},Fn=function(Ne){function KeyframeRule(){return Ne.apply(this,arguments)||this}return(0,pt.Z)(KeyframeRule,Ne),KeyframeRule.prototype.toString=function toString(Ne){var et=this.options.sheet,tt=!!et&&et.options.link?(0,rt.Z)({},Ne,{allowEmpty:!0}):Ne;return toCss(this.key,this.style,tt)},KeyframeRule}(Ot),Bn={onCreateRule:function onCreateRule(Ne,et,tt){return tt.parent&&"keyframes"===tt.parent.type?new Fn(Ne,et,tt):null}},Nn=function(){function FontFaceRule(Ne,et,tt){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=Ne,this.style=et,this.options=tt}return FontFaceRule.prototype.toString=function toString(Ne){var et=getWhitespaceSymbols(Ne).linebreak;if(Array.isArray(this.style)){for(var tt="",rt=0;rt<this.style.length;rt++)tt+=toCss(this.at,this.style[rt]),this.style[rt+1]&&(tt+=et);return tt}return toCss(this.at,this.style,Ne)},FontFaceRule}(),Vn=/@font-face/,Wn={onCreateRule:function onCreateRule(Ne,et,tt){return Vn.test(Ne)?new Nn(Ne,et,tt):null}},$n=function(){function ViewportRule(Ne,et,tt){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=Ne,this.style=et,this.options=tt}return ViewportRule.prototype.toString=function toString(Ne){return toCss(this.key,this.style,Ne)},ViewportRule}(),Yn={onCreateRule:function onCreateRule(Ne,et,tt){return"@viewport"===Ne||"@-ms-viewport"===Ne?new $n(Ne,et,tt):null}},ii=function(){function SimpleRule(Ne,et,tt){this.type="simple",this.isProcessed=!1,this.key=Ne,this.value=et,this.options=tt}return SimpleRule.prototype.toString=function toString(Ne){if(Array.isArray(this.value)){for(var et="",tt=0;tt<this.value.length;tt++)et+=this.key+" "+this.value[tt]+";",this.value[tt+1]&&(et+="\n");return et}return this.key+" "+this.value+";"},SimpleRule}(),qi={"@charset":!0,"@import":!0,"@namespace":!0},uo={onCreateRule:function onCreateRule(Ne,et,tt){return Ne in qi?new ii(Ne,et,tt):null}},po=[er,rn,Ln,Bn,Wn,Yn,uo],vo={process:!0},So={force:!0,process:!0},ea=function(){function RuleList(Ne){this.map={},this.raw={},this.index=[],this.counter=0,this.options=Ne,this.classes=Ne.classes,this.keyframes=Ne.keyframes}var Ne=RuleList.prototype;return Ne.add=function add(Ne,et,tt){var nt=this.options,it=nt.parent,ot=nt.sheet,at=nt.jss,st=nt.Renderer,ct=nt.generateId,pt=nt.scoped,ft=(0,rt.Z)({classes:this.classes,parent:it,sheet:ot,jss:at,Renderer:st,generateId:ct,scoped:pt,name:Ne,keyframes:this.keyframes,selector:void 0},tt),dt=Ne;Ne in this.raw&&(dt=Ne+"-d"+this.counter++),this.raw[dt]=et,dt in this.classes&&(ft.selector="."+jss_esm_escape(this.classes[dt]));var mt=createRule(dt,et,ft);if(!mt)return null;this.register(mt);var yt=void 0===ft.index?this.index.length:ft.index;return this.index.splice(yt,0,mt),mt},Ne.get=function get(Ne){return this.map[Ne]},Ne.remove=function remove(Ne){this.unregister(Ne),delete this.raw[Ne.key],this.index.splice(this.index.indexOf(Ne),1)},Ne.indexOf=function indexOf(Ne){return this.index.indexOf(Ne)},Ne.process=function process(){var Ne=this.options.jss.plugins;this.index.slice(0).forEach(Ne.onProcessRule,Ne)},Ne.register=function register(Ne){this.map[Ne.key]=Ne,Ne instanceof Bt?(this.map[Ne.selector]=Ne,Ne.id&&(this.classes[Ne.key]=Ne.id)):Ne instanceof Tn&&this.keyframes&&(this.keyframes[Ne.name]=Ne.id)},Ne.unregister=function unregister(Ne){delete this.map[Ne.key],Ne instanceof Bt?(delete this.map[Ne.selector],delete this.classes[Ne.key]):Ne instanceof Tn&&delete this.keyframes[Ne.name]},Ne.update=function update(){var Ne,et,tt;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(Ne=arguments.length<=0?void 0:arguments[0],et=arguments.length<=1?void 0:arguments[1],tt=arguments.length<=2?void 0:arguments[2]):(et=arguments.length<=0?void 0:arguments[0],tt=arguments.length<=1?void 0:arguments[1],Ne=null),Ne)this.updateOne(this.map[Ne],et,tt);else for(var rt=0;rt<this.index.length;rt++)this.updateOne(this.index[rt],et,tt)},Ne.updateOne=function updateOne(Ne,et,tt){void 0===tt&&(tt=vo);var rt=this.options,nt=rt.jss.plugins,it=rt.sheet;if(Ne.rules instanceof RuleList)Ne.rules.update(et,tt);else{var ot=Ne.style;if(nt.onUpdate(et,Ne,it,tt),tt.process&&ot&&ot!==Ne.style){for(var at in nt.onProcessStyle(Ne.style,Ne,it),Ne.style){var st=Ne.style[at];st!==ot[at]&&Ne.prop(at,st,So)}for(var ct in ot){var pt=Ne.style[ct],ft=ot[ct];null==pt&&pt!==ft&&Ne.prop(ct,null,So)}}}},Ne.toString=function toString(Ne){for(var et="",tt=this.options.sheet,rt=!!tt&&tt.options.link,nt=getWhitespaceSymbols(Ne).linebreak,it=0;it<this.index.length;it++){var ot=this.index[it].toString(Ne);(ot||rt)&&(et&&(et+=nt),et+=ot)}return et},RuleList}(),ta=function(){function StyleSheet(Ne,et){for(var tt in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,rt.Z)({},et,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),et.Renderer&&(this.renderer=new et.Renderer(this)),this.rules=new ea(this.options),Ne)this.rules.add(tt,Ne[tt]);this.rules.process()}var Ne=StyleSheet.prototype;return Ne.attach=function attach(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},Ne.detach=function detach(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},Ne.addRule=function addRule(Ne,et,tt){var rt=this.queue;this.attached&&!rt&&(this.queue=[]);var nt=this.rules.add(Ne,et,tt);return nt?(this.options.jss.plugins.onProcessRule(nt),this.attached?this.deployed?(rt?rt.push(nt):(this.insertRule(nt),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),nt):nt:(this.deployed=!1,nt)):null},Ne.insertRule=function insertRule(Ne){this.renderer&&this.renderer.insertRule(Ne)},Ne.addRules=function addRules(Ne,et){var tt=[];for(var rt in Ne){var nt=this.addRule(rt,Ne[rt],et);nt&&tt.push(nt)}return tt},Ne.getRule=function getRule(Ne){return this.rules.get(Ne)},Ne.deleteRule=function deleteRule(Ne){var et="object"==typeof Ne?Ne:this.rules.get(Ne);return!(!et||this.attached&&!et.renderable)&&(this.rules.remove(et),!(this.attached&&et.renderable&&this.renderer)||this.renderer.deleteRule(et.renderable))},Ne.indexOf=function indexOf(Ne){return this.rules.indexOf(Ne)},Ne.deploy=function deploy(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},Ne.update=function update(){var Ne;return(Ne=this.rules).update.apply(Ne,arguments),this},Ne.updateOne=function updateOne(Ne,et,tt){return this.rules.updateOne(Ne,et,tt),this},Ne.toString=function toString(Ne){return this.rules.toString(Ne)},StyleSheet}(),ia=function(){function PluginsRegistry(){this.plugins={internal:[],external:[]},this.registry={}}var Ne=PluginsRegistry.prototype;return Ne.onCreateRule=function onCreateRule(Ne,et,tt){for(var rt=0;rt<this.registry.onCreateRule.length;rt++){var nt=this.registry.onCreateRule[rt](Ne,et,tt);if(nt)return nt}return null},Ne.onProcessRule=function onProcessRule(Ne){if(!Ne.isProcessed){for(var et=Ne.options.sheet,tt=0;tt<this.registry.onProcessRule.length;tt++)this.registry.onProcessRule[tt](Ne,et);Ne.style&&this.onProcessStyle(Ne.style,Ne,et),Ne.isProcessed=!0}},Ne.onProcessStyle=function onProcessStyle(Ne,et,tt){for(var rt=0;rt<this.registry.onProcessStyle.length;rt++)et.style=this.registry.onProcessStyle[rt](et.style,et,tt)},Ne.onProcessSheet=function onProcessSheet(Ne){for(var et=0;et<this.registry.onProcessSheet.length;et++)this.registry.onProcessSheet[et](Ne)},Ne.onUpdate=function onUpdate(Ne,et,tt,rt){for(var nt=0;nt<this.registry.onUpdate.length;nt++)this.registry.onUpdate[nt](Ne,et,tt,rt)},Ne.onChangeValue=function onChangeValue(Ne,et,tt){for(var rt=Ne,nt=0;nt<this.registry.onChangeValue.length;nt++)rt=this.registry.onChangeValue[nt](rt,et,tt);return rt},Ne.use=function use(Ne,et){void 0===et&&(et={queue:"external"});var tt=this.plugins[et.queue];-1===tt.indexOf(Ne)&&(tt.push(Ne),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(Ne,et){for(var tt in et)tt in Ne&&Ne[tt].push(et[tt]);return Ne}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},PluginsRegistry}(),sa=function(){function SheetsRegistry(){this.registry=[]}var Ne=SheetsRegistry.prototype;return Ne.add=function add(Ne){var et=this.registry,tt=Ne.options.index;if(-1===et.indexOf(Ne))if(0===et.length||tt>=this.index)et.push(Ne);else for(var rt=0;rt<et.length;rt++)if(et[rt].options.index>tt)return void et.splice(rt,0,Ne)},Ne.reset=function reset(){this.registry=[]},Ne.remove=function remove(Ne){var et=this.registry.indexOf(Ne);this.registry.splice(et,1)},Ne.toString=function toString(Ne){for(var et=void 0===Ne?{}:Ne,tt=et.attached,rt=(0,dt.Z)(et,["attached"]),nt=getWhitespaceSymbols(rt).linebreak,it="",ot=0;ot<this.registry.length;ot++){var at=this.registry[ot];null!=tt&&at.attached!==tt||(it&&(it+=nt),it+=at.toString(rt))}return it},createClass_createClass(SheetsRegistry,[{key:"index",get:function get(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),SheetsRegistry}(),la=new sa,fa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),ga="2f1acc6c3a606b082e5eef5e54414ffb";null==fa[ga]&&(fa[ga]=0);var _a=fa[ga]++,Aa=function createGenerateId(Ne){void 0===Ne&&(Ne={});var et=0;return function generateId(tt,rt){et+=1;var nt="",it="";return rt&&(rt.options.classNamePrefix&&(it=rt.options.classNamePrefix),null!=rt.options.jss.id&&(nt=String(rt.options.jss.id))),Ne.minify?""+(it||"c")+_a+nt+et:it+tt.key+"-"+_a+(nt?"-"+nt:"")+"-"+et}},os=function memoize(Ne){var et;return function(){return et||(et=Ne()),et}},as=function getPropertyValue(Ne,et){try{return Ne.attributeStyleMap?Ne.attributeStyleMap.get(et):Ne.style.getPropertyValue(et)}catch(Ne){return""}},ss=function setProperty(Ne,et,tt){try{var rt=tt;if(Array.isArray(tt)&&(rt=vt(tt,!0),"!important"===tt[tt.length-1]))return Ne.style.setProperty(et,rt,"important"),!0;Ne.attributeStyleMap?Ne.attributeStyleMap.set(et,rt):Ne.style.setProperty(et,rt)}catch(Ne){return!1}return!0},ls=function removeProperty(Ne,et){try{Ne.attributeStyleMap?Ne.attributeStyleMap.delete(et):Ne.style.removeProperty(et)}catch(Ne){}},us=function setSelector(Ne,et){return Ne.selectorText=et,Ne.selectorText===et},fs=os((function(){return document.querySelector("head")}));function findPrevNode(Ne){var et=la.registry;if(et.length>0){var tt=function findHigherSheet(Ne,et){for(var tt=0;tt<Ne.length;tt++){var rt=Ne[tt];if(rt.attached&&rt.options.index>et.index&&rt.options.insertionPoint===et.insertionPoint)return rt}return null}(et,Ne);if(tt&&tt.renderer)return{parent:tt.renderer.element.parentNode,node:tt.renderer.element};if(tt=function findHighestSheet(Ne,et){for(var tt=Ne.length-1;tt>=0;tt--){var rt=Ne[tt];if(rt.attached&&rt.options.insertionPoint===et.insertionPoint)return rt}return null}(et,Ne),tt&&tt.renderer)return{parent:tt.renderer.element.parentNode,node:tt.renderer.element.nextSibling}}var rt=Ne.insertionPoint;if(rt&&"string"==typeof rt){var nt=function findCommentNode(Ne){for(var et=fs(),tt=0;tt<et.childNodes.length;tt++){var rt=et.childNodes[tt];if(8===rt.nodeType&&rt.nodeValue.trim()===Ne)return rt}return null}(rt);if(nt)return{parent:nt.parentNode,node:nt.nextSibling}}return!1}var gs=os((function(){var Ne=document.querySelector('meta[property="csp-nonce"]');return Ne?Ne.getAttribute("content"):null})),vs=function insertRule(Ne,et,tt){try{"insertRule"in Ne?Ne.insertRule(et,tt):"appendRule"in Ne&&Ne.appendRule(et)}catch(Ne){return!1}return Ne.cssRules[tt]},xs=function getValidRuleInsertionIndex(Ne,et){var tt=Ne.cssRules.length;return void 0===et||et>tt?tt:et},Ss=function(){function DomRenderer(Ne){this.getPropertyValue=as,this.setProperty=ss,this.removeProperty=ls,this.setSelector=us,this.hasInsertedRules=!1,this.cssRules=[],Ne&&la.add(Ne),this.sheet=Ne;var et=this.sheet?this.sheet.options:{},tt=et.media,rt=et.meta,nt=et.element;this.element=nt||function createStyle(){var Ne=document.createElement("style");return Ne.textContent="\n",Ne}(),this.element.setAttribute("data-jss",""),tt&&this.element.setAttribute("media",tt),rt&&this.element.setAttribute("data-meta",rt);var it=gs();it&&this.element.setAttribute("nonce",it)}var Ne=DomRenderer.prototype;return Ne.attach=function attach(){if(!this.element.parentNode&&this.sheet){!function insertStyle(Ne,et){var tt=et.insertionPoint,rt=findPrevNode(et);if(!1!==rt&&rt.parent)rt.parent.insertBefore(Ne,rt.node);else if(tt&&"number"==typeof tt.nodeType){var nt=tt,it=nt.parentNode;it&&it.insertBefore(Ne,nt.nextSibling)}else fs().appendChild(Ne)}(this.element,this.sheet.options);var Ne=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&Ne&&(this.hasInsertedRules=!1,this.deploy())}},Ne.detach=function detach(){if(this.sheet){var Ne=this.element.parentNode;Ne&&Ne.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},Ne.deploy=function deploy(){var Ne=this.sheet;Ne&&(Ne.options.link?this.insertRules(Ne.rules):this.element.textContent="\n"+Ne.toString()+"\n")},Ne.insertRules=function insertRules(Ne,et){for(var tt=0;tt<Ne.index.length;tt++)this.insertRule(Ne.index[tt],tt,et)},Ne.insertRule=function insertRule(Ne,et,tt){if(void 0===tt&&(tt=this.element.sheet),Ne.rules){var rt=Ne,nt=tt;if("conditional"===Ne.type||"keyframes"===Ne.type){var it=xs(tt,et);if(!1===(nt=vs(tt,rt.toString({children:!1}),it)))return!1;this.refCssRule(Ne,it,nt)}return this.insertRules(rt.rules,nt),nt}var ot=Ne.toString();if(!ot)return!1;var at=xs(tt,et),st=vs(tt,ot,at);return!1!==st&&(this.hasInsertedRules=!0,this.refCssRule(Ne,at,st),st)},Ne.refCssRule=function refCssRule(Ne,et,tt){Ne.renderable=tt,Ne.options.parent instanceof ta&&(this.cssRules[et]=tt)},Ne.deleteRule=function deleteRule(Ne){var et=this.element.sheet,tt=this.indexOf(Ne);return-1!==tt&&(et.deleteRule(tt),this.cssRules.splice(tt,1),!0)},Ne.indexOf=function indexOf(Ne){return this.cssRules.indexOf(Ne)},Ne.replaceRule=function replaceRule(Ne,et){var tt=this.indexOf(Ne);return-1!==tt&&(this.element.sheet.deleteRule(tt),this.cssRules.splice(tt,1),this.insertRule(et,tt))},Ne.getRules=function getRules(){return this.element.sheet.cssRules},DomRenderer}(),Es=0,Cs=function(){function Jss(Ne){this.id=Es++,this.version="10.8.0",this.plugins=new ia,this.options={id:{minify:!1},createGenerateId:Aa,Renderer:ct?Ss:null,plugins:[]},this.generateId=Aa({minify:!1});for(var et=0;et<po.length;et++)this.plugins.use(po[et],{queue:"internal"});this.setup(Ne)}var Ne=Jss.prototype;return Ne.setup=function setup(Ne){return void 0===Ne&&(Ne={}),Ne.createGenerateId&&(this.options.createGenerateId=Ne.createGenerateId),Ne.id&&(this.options.id=(0,rt.Z)({},this.options.id,Ne.id)),(Ne.createGenerateId||Ne.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=Ne.insertionPoint&&(this.options.insertionPoint=Ne.insertionPoint),"Renderer"in Ne&&(this.options.Renderer=Ne.Renderer),Ne.plugins&&this.use.apply(this,Ne.plugins),this},Ne.createStyleSheet=function createStyleSheet(Ne,et){void 0===et&&(et={});var tt=et.index;"number"!=typeof tt&&(tt=0===la.index?0:la.index+1);var nt=new ta(Ne,(0,rt.Z)({},et,{jss:this,generateId:et.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:tt}));return this.plugins.onProcessSheet(nt),nt},Ne.removeStyleSheet=function removeStyleSheet(Ne){return Ne.detach(),la.remove(Ne),this},Ne.createRule=function createRule$1(Ne,et,tt){if(void 0===et&&(et={}),void 0===tt&&(tt={}),"object"==typeof Ne)return this.createRule(void 0,Ne,et);var nt=(0,rt.Z)({},tt,{name:Ne,jss:this,Renderer:this.options.Renderer});nt.generateId||(nt.generateId=this.generateId),nt.classes||(nt.classes={}),nt.keyframes||(nt.keyframes={});var it=createRule(Ne,et,nt);return it&&this.plugins.onProcessRule(it),it},Ne.use=function use(){for(var Ne=this,et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];return tt.forEach((function(et){Ne.plugins.use(et)})),this},Jss}(),Ps=function createJss(Ne){return new Cs(Ne)},As="object"==typeof CSS&&null!=CSS&&"number"in CSS;function getDynamicStyles(Ne){var et=null;for(var tt in Ne){var rt=Ne[tt],nt=typeof rt;if("function"===nt)et||(et={}),et[tt]=rt;else if("object"===nt&&null!==rt&&!Array.isArray(rt)){var it=getDynamicStyles(rt);it&&(et||(et={}),et[tt]=it)}}return et}Ps();function mergeClasses(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},et=Ne.baseClasses,tt=Ne.newClasses;Ne.Component;if(!tt)return et;var nt=(0,rt.Z)({},et);return Object.keys(tt).forEach((function(Ne){tt[Ne]&&(nt[Ne]="".concat(et[Ne]," ").concat(tt[Ne]))})),nt}var Rs={set:function set(Ne,et,tt,rt){var nt=Ne.get(et);nt||(nt=new Map,Ne.set(et,nt)),nt.set(tt,rt)},get:function get(Ne,et,tt){var rt=Ne.get(et);return rt?rt.get(tt):void 0},delete:function _delete(Ne,et,tt){Ne.get(et).delete(tt)}};const Ms=Rs;var zs=tt(5959);const Ls="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var Os=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Fs=Date.now(),Bs="fnValues"+Fs,Ns="fnStyle"+ ++Fs;const Vs=function functionPlugin(){return{onCreateRule:function onCreateRule(Ne,et,tt){if("function"!=typeof et)return null;var rt=createRule(Ne,{},tt);return rt[Ns]=et,rt},onProcessStyle:function onProcessStyle(Ne,et){if(Bs in et||Ns in et)return Ne;var tt={};for(var rt in Ne){var nt=Ne[rt];"function"==typeof nt&&(delete Ne[rt],tt[rt]=nt)}return et[Bs]=tt,Ne},onUpdate:function onUpdate(Ne,et,tt,rt){var nt=et,it=nt[Ns];it&&(nt.style=it(Ne)||{});var ot=nt[Bs];if(ot)for(var at in ot)nt.prop(at,ot[at](Ne),rt)}}};var Us="@global",js="@global ",Zs=function(){function GlobalContainerRule(Ne,et,tt){for(var nt in this.type="global",this.at=Us,this.isProcessed=!1,this.key=Ne,this.options=tt,this.rules=new ea((0,rt.Z)({},tt,{parent:this})),et)this.rules.add(nt,et[nt]);this.rules.process()}var Ne=GlobalContainerRule.prototype;return Ne.getRule=function getRule(Ne){return this.rules.get(Ne)},Ne.addRule=function addRule(Ne,et,tt){var rt=this.rules.add(Ne,et,tt);return rt&&this.options.jss.plugins.onProcessRule(rt),rt},Ne.indexOf=function indexOf(Ne){return this.rules.indexOf(Ne)},Ne.toString=function toString(){return this.rules.toString()},GlobalContainerRule}(),Js=function(){function GlobalPrefixedRule(Ne,et,tt){this.type="global",this.at=Us,this.isProcessed=!1,this.key=Ne,this.options=tt;var nt=Ne.substr(js.length);this.rule=tt.jss.createRule(nt,et,(0,rt.Z)({},tt,{parent:this}))}return GlobalPrefixedRule.prototype.toString=function toString(Ne){return this.rule?this.rule.toString(Ne):""},GlobalPrefixedRule}(),tl=/\s*,\s*/g;function addScope(Ne,et){for(var tt=Ne.split(tl),rt="",nt=0;nt<tt.length;nt++)rt+=et+" "+tt[nt].trim(),tt[nt+1]&&(rt+=", ");return rt}const ol=function jssGlobal(){return{onCreateRule:function onCreateRule(Ne,et,tt){if(!Ne)return null;if(Ne===Us)return new Zs(Ne,et,tt);if("@"===Ne[0]&&Ne.substr(0,js.length)===js)return new Js(Ne,et,tt);var rt=tt.parent;return rt&&("global"===rt.type||rt.options.parent&&"global"===rt.options.parent.type)&&(tt.scoped=!1),!1===tt.scoped&&(tt.selector=Ne),null},onProcessRule:function onProcessRule(Ne,et){"style"===Ne.type&&et&&(!function handleNestedGlobalContainerRule(Ne,et){var tt=Ne.options,nt=Ne.style,it=nt?nt[Us]:null;if(it){for(var ot in it)et.addRule(ot,it[ot],(0,rt.Z)({},tt,{selector:addScope(ot,Ne.selector)}));delete nt[Us]}}(Ne,et),function handlePrefixedGlobalRule(Ne,et){var tt=Ne.options,nt=Ne.style;for(var it in nt)if("@"===it[0]&&it.substr(0,Us.length)===Us){var ot=addScope(it.substr(Us.length),Ne.selector);et.addRule(ot,nt[it],(0,rt.Z)({},tt,{selector:ot})),delete nt[it]}}(Ne,et))}}};var sl=/\s*,\s*/g,dl=/&/g,gl=/\$([\w-]+)/g;const yl=function jssNested(){function getReplaceRef(Ne,et){return function(tt,rt){var nt=Ne.getRule(rt)||et&&et.getRule(rt);return nt?nt.selector:rt}}function replaceParentRefs(Ne,et){for(var tt=et.split(sl),rt=Ne.split(sl),nt="",it=0;it<tt.length;it++)for(var ot=tt[it],at=0;at<rt.length;at++){var st=rt[at];nt&&(nt+=", "),nt+=-1!==st.indexOf("&")?st.replace(dl,ot):ot+" "+st}return nt}function getOptions(Ne,et,tt){if(tt)return(0,rt.Z)({},tt,{index:tt.index+1});var nt=Ne.options.nestingLevel;nt=void 0===nt?1:nt+1;var it=(0,rt.Z)({},Ne.options,{nestingLevel:nt,index:et.indexOf(Ne)+1});return delete it.name,it}return{onProcessStyle:function onProcessStyle(Ne,et,tt){if("style"!==et.type)return Ne;var nt,it,ot=et,at=ot.options.parent;for(var st in Ne){var ct=-1!==st.indexOf("&"),pt="@"===st[0];if(ct||pt){if(nt=getOptions(ot,at,nt),ct){var ft=replaceParentRefs(st,ot.selector);it||(it=getReplaceRef(at,tt)),ft=ft.replace(gl,it),at.addRule(ft,Ne[st],(0,rt.Z)({},nt,{selector:ft}))}else pt&&at.addRule(st,{},nt).addRule(ot.key,Ne[st],{selector:ot.selector});delete Ne[st]}}return Ne}}};var vl=/[A-Z]/g,_l=/^ms-/,bl={};function toHyphenLower(Ne){return"-"+Ne.toLowerCase()}const xl=function hyphenateStyleName(Ne){if(bl.hasOwnProperty(Ne))return bl[Ne];var et=Ne.replace(vl,toHyphenLower);return bl[Ne]=_l.test(et)?"-"+et:et};function convertCase(Ne){var et={};for(var tt in Ne){et[0===tt.indexOf("--")?tt:xl(tt)]=Ne[tt]}return Ne.fallbacks&&(Array.isArray(Ne.fallbacks)?et.fallbacks=Ne.fallbacks.map(convertCase):et.fallbacks=convertCase(Ne.fallbacks)),et}const wl=function camelCase(){return{onProcessStyle:function onProcessStyle(Ne){if(Array.isArray(Ne)){for(var et=0;et<Ne.length;et++)Ne[et]=convertCase(Ne[et]);return Ne}return convertCase(Ne)},onChangeValue:function onChangeValue(Ne,et,tt){if(0===et.indexOf("--"))return Ne;var rt=xl(et);return et===rt?Ne:(tt.prop(rt,Ne),null)}}};var kl=As&&CSS?CSS.px:"px",Sl=As&&CSS?CSS.ms:"ms",Cl=As&&CSS?CSS.percent:"%";function addCamelCasedVersion(Ne){var et=/(-[a-z])/g,tt=function replace(Ne){return Ne[1].toUpperCase()},rt={};for(var nt in Ne)rt[nt]=Ne[nt],rt[nt.replace(et,tt)]=Ne[nt];return rt}var Il=addCamelCasedVersion({"animation-delay":Sl,"animation-duration":Sl,"background-position":kl,"background-position-x":kl,"background-position-y":kl,"background-size":kl,border:kl,"border-bottom":kl,"border-bottom-left-radius":kl,"border-bottom-right-radius":kl,"border-bottom-width":kl,"border-left":kl,"border-left-width":kl,"border-radius":kl,"border-right":kl,"border-right-width":kl,"border-top":kl,"border-top-left-radius":kl,"border-top-right-radius":kl,"border-top-width":kl,"border-width":kl,"border-block":kl,"border-block-end":kl,"border-block-end-width":kl,"border-block-start":kl,"border-block-start-width":kl,"border-block-width":kl,"border-inline":kl,"border-inline-end":kl,"border-inline-end-width":kl,"border-inline-start":kl,"border-inline-start-width":kl,"border-inline-width":kl,"border-start-start-radius":kl,"border-start-end-radius":kl,"border-end-start-radius":kl,"border-end-end-radius":kl,margin:kl,"margin-bottom":kl,"margin-left":kl,"margin-right":kl,"margin-top":kl,"margin-block":kl,"margin-block-end":kl,"margin-block-start":kl,"margin-inline":kl,"margin-inline-end":kl,"margin-inline-start":kl,padding:kl,"padding-bottom":kl,"padding-left":kl,"padding-right":kl,"padding-top":kl,"padding-block":kl,"padding-block-end":kl,"padding-block-start":kl,"padding-inline":kl,"padding-inline-end":kl,"padding-inline-start":kl,"mask-position-x":kl,"mask-position-y":kl,"mask-size":kl,height:kl,width:kl,"min-height":kl,"max-height":kl,"min-width":kl,"max-width":kl,bottom:kl,left:kl,top:kl,right:kl,inset:kl,"inset-block":kl,"inset-block-end":kl,"inset-block-start":kl,"inset-inline":kl,"inset-inline-end":kl,"inset-inline-start":kl,"box-shadow":kl,"text-shadow":kl,"column-gap":kl,"column-rule":kl,"column-rule-width":kl,"column-width":kl,"font-size":kl,"font-size-delta":kl,"letter-spacing":kl,"text-decoration-thickness":kl,"text-indent":kl,"text-stroke":kl,"text-stroke-width":kl,"word-spacing":kl,motion:kl,"motion-offset":kl,outline:kl,"outline-offset":kl,"outline-width":kl,perspective:kl,"perspective-origin-x":Cl,"perspective-origin-y":Cl,"transform-origin":Cl,"transform-origin-x":Cl,"transform-origin-y":Cl,"transform-origin-z":Cl,"transition-delay":Sl,"transition-duration":Sl,"vertical-align":kl,"flex-basis":kl,"shape-margin":kl,size:kl,gap:kl,grid:kl,"grid-gap":kl,"row-gap":kl,"grid-row-gap":kl,"grid-column-gap":kl,"grid-template-rows":kl,"grid-template-columns":kl,"grid-auto-rows":kl,"grid-auto-columns":kl,"box-shadow-x":kl,"box-shadow-y":kl,"box-shadow-blur":kl,"box-shadow-spread":kl,"font-line-height":kl,"text-shadow-x":kl,"text-shadow-y":kl,"text-shadow-blur":kl});function iterate(Ne,et,tt){if(null==et)return et;if(Array.isArray(et))for(var rt=0;rt<et.length;rt++)et[rt]=iterate(Ne,et[rt],tt);else if("object"==typeof et)if("fallbacks"===Ne)for(var nt in et)et[nt]=iterate(nt,et[nt],tt);else for(var it in et)et[it]=iterate(Ne+"-"+it,et[it],tt);else if("number"==typeof et&&!1===isNaN(et)){var ot=tt[Ne]||Il[Ne];return!ot||0===et&&ot===kl?et.toString():"function"==typeof ot?ot(et).toString():""+et+ot}return et}const Al=function defaultUnit(Ne){void 0===Ne&&(Ne={});var et=addCamelCasedVersion(Ne);return{onProcessStyle:function onProcessStyle(Ne,tt){if("style"!==tt.type)return Ne;for(var rt in Ne)Ne[rt]=iterate(rt,Ne[rt],et);return Ne},onChangeValue:function onChangeValue(Ne,tt){return iterate(tt,Ne,et)}}};var zl=tt(2982),Fl="",Hl="",du="",vu="",_u=ct&&"ontouchstart"in document.documentElement;if(ct){var wu={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Tu=document.createElement("p").style;for(var Fu in wu)if(Fu+"Transform"in Tu){Fl=Fu,Hl=wu[Fu];break}"Webkit"===Fl&&"msHyphens"in Tu&&(Fl="ms",Hl=wu.ms,vu="edge"),"Webkit"===Fl&&"-apple-trailing-word"in Tu&&(du="apple")}var ac=Fl,pc=Hl,yc=du,_c=vu,bc=_u;var xc={noPrefill:["appearance"],supportedProperty:function supportedProperty(Ne){return"appearance"===Ne&&("ms"===ac?"-webkit-"+Ne:pc+Ne)}},wc={noPrefill:["color-adjust"],supportedProperty:function supportedProperty(Ne){return"color-adjust"===Ne&&("Webkit"===ac?pc+"print-"+Ne:Ne)}},kc=/[-\s]+(.)?/g;function toUpper(Ne,et){return et?et.toUpperCase():""}function camelize(Ne){return Ne.replace(kc,toUpper)}function pascalize(Ne){return camelize("-"+Ne)}var Ec,Cc={noPrefill:["mask"],supportedProperty:function supportedProperty(Ne,et){if(!/^mask/.test(Ne))return!1;if("Webkit"===ac){var tt="mask-image";if(camelize(tt)in et)return Ne;if(ac+pascalize(tt)in et)return pc+Ne}return Ne}},Ic={noPrefill:["text-orientation"],supportedProperty:function supportedProperty(Ne){return"text-orientation"===Ne&&("apple"!==yc||bc?Ne:pc+Ne)}},Ac={noPrefill:["transform"],supportedProperty:function supportedProperty(Ne,et,tt){return"transform"===Ne&&(tt.transform?Ne:pc+Ne)}},zc={noPrefill:["transition"],supportedProperty:function supportedProperty(Ne,et,tt){return"transition"===Ne&&(tt.transition?Ne:pc+Ne)}},Dc={noPrefill:["writing-mode"],supportedProperty:function supportedProperty(Ne){return"writing-mode"===Ne&&("Webkit"===ac||"ms"===ac&&"edge"!==_c?pc+Ne:Ne)}},Fc={noPrefill:["user-select"],supportedProperty:function supportedProperty(Ne){return"user-select"===Ne&&("Moz"===ac||"ms"===ac||"apple"===yc?pc+Ne:Ne)}},Bc={supportedProperty:function supportedProperty(Ne,et){return!!/^break-/.test(Ne)&&("Webkit"===ac?"WebkitColumn"+pascalize(Ne)in et&&pc+"column-"+Ne:"Moz"===ac&&("page"+pascalize(Ne)in et&&"page-"+Ne))}},Zc={supportedProperty:function supportedProperty(Ne,et){if(!/^(border|margin|padding)-inline/.test(Ne))return!1;if("Moz"===ac)return Ne;var tt=Ne.replace("-inline","");return ac+pascalize(tt)in et&&pc+tt}},Wc={supportedProperty:function supportedProperty(Ne,et){return camelize(Ne)in et&&Ne}},Gc={supportedProperty:function supportedProperty(Ne,et){var tt=pascalize(Ne);return"-"===Ne[0]||"-"===Ne[0]&&"-"===Ne[1]?Ne:ac+tt in et?pc+Ne:"Webkit"!==ac&&"Webkit"+tt in et&&"-webkit-"+Ne}},$c={supportedProperty:function supportedProperty(Ne){return"scroll-snap"===Ne.substring(0,11)&&("ms"===ac?""+pc+Ne:Ne)}},Hc={supportedProperty:function supportedProperty(Ne){return"overscroll-behavior"===Ne&&("ms"===ac?pc+"scroll-chaining":Ne)}},Xc={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Yc={supportedProperty:function supportedProperty(Ne,et){var tt=Xc[Ne];return!!tt&&(ac+pascalize(tt)in et&&pc+tt)}},rp={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},ip=Object.keys(rp),op=function prefixCss(Ne){return pc+Ne},ap={supportedProperty:function supportedProperty(Ne,et,tt){var rt=tt.multiple;if(ip.indexOf(Ne)>-1){var nt=rp[Ne];if(!Array.isArray(nt))return ac+pascalize(nt)in et&&pc+nt;if(!rt)return!1;for(var it=0;it<nt.length;it++)if(!(ac+pascalize(nt[0])in et))return!1;return nt.map(op)}return!1}},sp=[xc,wc,Cc,Ic,Ac,zc,Dc,Fc,Bc,Zc,Wc,Gc,$c,Hc,Yc,ap],lp=sp.filter((function(Ne){return Ne.supportedProperty})).map((function(Ne){return Ne.supportedProperty})),cp=sp.filter((function(Ne){return Ne.noPrefill})).reduce((function(Ne,et){return Ne.push.apply(Ne,(0,zl.Z)(et.noPrefill)),Ne}),[]),pp={};if(ct){Ec=document.createElement("p");var hp=window.getComputedStyle(document.documentElement,"");for(var fp in hp)isNaN(fp)||(pp[hp[fp]]=hp[fp]);cp.forEach((function(Ne){return delete pp[Ne]}))}function supportedProperty(Ne,et){if(void 0===et&&(et={}),!Ec)return Ne;if(null!=pp[Ne])return pp[Ne];"transition"!==Ne&&"transform"!==Ne||(et[Ne]=Ne in Ec.style);for(var tt=0;tt<lp.length&&(pp[Ne]=lp[tt](Ne,Ec.style,et),!pp[Ne]);tt++);try{Ec.style[Ne]=""}catch(Ne){return!1}return pp[Ne]}var dp,mp={},gp={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},yp=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function prefixTransitionCallback(Ne,et,tt){if("var"===et)return"var";if("all"===et)return"all";if("all"===tt)return", all";var rt=et?supportedProperty(et):", "+supportedProperty(tt);return rt||(et||tt)}function supportedValue(Ne,et){var tt=et;if(!dp||"content"===Ne)return et;if("string"!=typeof tt||!isNaN(parseInt(tt,10)))return tt;var rt=Ne+tt;if(null!=mp[rt])return mp[rt];try{dp.style[Ne]=tt}catch(Ne){return mp[rt]=!1,!1}if(gp[Ne])tt=tt.replace(yp,prefixTransitionCallback);else if(""===dp.style[Ne]&&("-ms-flex"===(tt=pc+tt)&&(dp.style[Ne]="-ms-flexbox"),dp.style[Ne]=tt,""===dp.style[Ne]))return mp[rt]=!1,!1;return dp.style[Ne]="",mp[rt]=tt,mp[rt]}ct&&(dp=document.createElement("p"));const vp=function jssVendorPrefixer(){function prefixStyle(Ne){for(var et in Ne){var tt=Ne[et];if("fallbacks"===et&&Array.isArray(tt))Ne[et]=tt.map(prefixStyle);else{var rt=!1,nt=supportedProperty(et);nt&&nt!==et&&(rt=!0);var it=!1,ot=supportedValue(nt,vt(tt));ot&&ot!==tt&&(it=!0),(rt||it)&&(rt&&delete Ne[et],Ne[nt||et]=ot||tt)}}return Ne}return{onProcessRule:function onProcessRule(Ne){if("keyframes"===Ne.type){var et=Ne;et.at=function supportedKeyframes(Ne){return"-"===Ne[1]||"ms"===ac?Ne:"@"+pc+"keyframes"+Ne.substr(10)}(et.at)}},onProcessStyle:function onProcessStyle(Ne,et){return"style"!==et.type?Ne:prefixStyle(Ne)},onChangeValue:function onChangeValue(Ne,et){return supportedValue(et,vt(Ne))||Ne}}};const _p=function jssPropsSort(){var Ne=function sort(Ne,et){return Ne.length===et.length?Ne>et?1:-1:Ne.length-et.length};return{onProcessStyle:function onProcessStyle(et,tt){if("style"!==tt.type)return et;for(var rt={},nt=Object.keys(et).sort(Ne),it=0;it<nt.length;it++)rt[nt[it]]=et[nt[it]];return rt}}};var bp=Ps(function jssPreset_jssPreset(){return{plugins:[Vs(),ol(),yl(),wl(),Al(),"undefined"==typeof window?null:vp(),_p()]}}()),xp=function createGenerateClassName(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},et=Ne.disableGlobal,tt=void 0!==et&&et,rt=Ne.productionPrefix,nt=void 0===rt?"jss":rt,it=Ne.seed,ot=void 0===it?"":it,at=""===ot?"":"".concat(ot,"-"),st=0,ct=function getNextCounterId(){return st+=1};return function(Ne,et){var rt=et.options.name;if(rt&&0===rt.indexOf("Mui")&&!et.options.link&&!tt){if(-1!==Os.indexOf(Ne.key))return"Mui-".concat(Ne.key);var it="".concat(at).concat(rt,"-").concat(Ne.key);return et.options.theme[Ls]&&""===ot?"".concat(it,"-").concat(ct()):it}return"".concat(at).concat(nt).concat(ct())}}(),wp={disableGeneration:!1,generateClassName:xp,jss:bp,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},kp=it.createContext(wp);var Sp=-1e9;function increment(){return Sp+=1}var Ep=tt(5953);function getStylesCreator(Ne){var et="function"==typeof Ne;return{create:function create(tt,nt){var it;try{it=et?Ne(tt):Ne}catch(Ne){throw Ne}if(!nt||!tt.overrides||!tt.overrides[nt])return it;var ot=tt.overrides[nt],at=(0,rt.Z)({},it);return Object.keys(ot).forEach((function(Ne){at[Ne]=(0,Ep.Z)(at[Ne],ot[Ne])})),at},options:{}}}const Tp={};function getClasses(Ne,et,tt){var rt=Ne.state;if(Ne.stylesOptions.disableGeneration)return et||{};rt.cacheClasses||(rt.cacheClasses={value:null,lastProp:null,lastJSS:{}});var nt=!1;return rt.classes!==rt.cacheClasses.lastJSS&&(rt.cacheClasses.lastJSS=rt.classes,nt=!0),et!==rt.cacheClasses.lastProp&&(rt.cacheClasses.lastProp=et,nt=!0),nt&&(rt.cacheClasses.value=mergeClasses({baseClasses:rt.cacheClasses.lastJSS,newClasses:et,Component:tt})),rt.cacheClasses.value}function attach(Ne,et){var tt=Ne.state,nt=Ne.theme,it=Ne.stylesOptions,ot=Ne.stylesCreator,at=Ne.name;if(!it.disableGeneration){var st=Ms.get(it.sheetsManager,ot,nt);st||(st={refs:0,staticSheet:null,dynamicStyles:null},Ms.set(it.sheetsManager,ot,nt,st));var ct=(0,rt.Z)({},ot.options,it,{theme:nt,flip:"boolean"==typeof it.flip?it.flip:"rtl"===nt.direction});ct.generateId=ct.serverGenerateClassName||ct.generateClassName;var pt=it.sheetsRegistry;if(0===st.refs){var ft;it.sheetsCache&&(ft=Ms.get(it.sheetsCache,ot,nt));var dt=ot.create(nt,at);ft||((ft=it.jss.createStyleSheet(dt,(0,rt.Z)({link:!1},ct))).attach(),it.sheetsCache&&Ms.set(it.sheetsCache,ot,nt,ft)),pt&&pt.add(ft),st.staticSheet=ft,st.dynamicStyles=getDynamicStyles(dt)}if(st.dynamicStyles){var mt=it.jss.createStyleSheet(st.dynamicStyles,(0,rt.Z)({link:!0},ct));mt.update(et),mt.attach(),tt.dynamicSheet=mt,tt.classes=mergeClasses({baseClasses:st.staticSheet.classes,newClasses:mt.classes}),pt&&pt.add(mt)}else tt.classes=st.staticSheet.classes;st.refs+=1}}function update(Ne,et){var tt=Ne.state;tt.dynamicSheet&&tt.dynamicSheet.update(et)}function detach(Ne){var et=Ne.state,tt=Ne.theme,rt=Ne.stylesOptions,nt=Ne.stylesCreator;if(!rt.disableGeneration){var it=Ms.get(rt.sheetsManager,nt,tt);it.refs-=1;var ot=rt.sheetsRegistry;0===it.refs&&(Ms.delete(rt.sheetsManager,nt,tt),rt.jss.removeStyleSheet(it.staticSheet),ot&&ot.remove(it.staticSheet)),et.dynamicSheet&&(rt.jss.removeStyleSheet(et.dynamicSheet),ot&&ot.remove(et.dynamicSheet))}}function useSynchronousEffect(Ne,et){var tt,rt=it.useRef([]),nt=it.useMemo((function(){return{}}),et);rt.current!==nt&&(rt.current=nt,tt=Ne()),it.useEffect((function(){return function(){tt&&tt()}}),[nt])}function makeStyles(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tt=et.name,ot=et.classNamePrefix,at=et.Component,st=et.defaultTheme,ct=void 0===st?Tp:st,pt=(0,nt.Z)(et,["name","classNamePrefix","Component","defaultTheme"]),ft=getStylesCreator(Ne),dt=tt||ot||"makeStyles";ft.options={index:increment(),name:tt,meta:dt,classNamePrefix:dt};var mt=function useStyles(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},et=(0,zs.Z)()||ct,nt=(0,rt.Z)({},it.useContext(kp),pt),ot=it.useRef(),st=it.useRef();useSynchronousEffect((function(){var rt={name:tt,state:{},stylesCreator:ft,stylesOptions:nt,theme:et};return attach(rt,Ne),st.current=!1,ot.current=rt,function(){detach(rt)}}),[et,ft]),it.useEffect((function(){st.current&&update(ot.current,Ne),st.current=!0}));var dt=getClasses(ot.current,Ne.classes,at);return dt};return mt}function getThemeProps(Ne){var et=Ne.theme,tt=Ne.name,rt=Ne.props;if(!et||!et.props||!et.props[tt])return rt;var nt,it=et.props[tt];for(nt in it)void 0===rt[nt]&&(rt[nt]=it[nt]);return rt}const Cp=function withStyles(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(tt){var ot=et.defaultTheme,st=et.withTheme,ct=void 0!==st&&st,pt=et.name,ft=(0,nt.Z)(et,["defaultTheme","withTheme","name"]);var dt=pt,mt=makeStyles(Ne,(0,rt.Z)({defaultTheme:ot,Component:tt,name:pt||tt.displayName,classNamePrefix:dt},ft)),yt=it.forwardRef((function WithStyles(Ne,et){Ne.classes;var at,st=Ne.innerRef,ft=(0,nt.Z)(Ne,["classes","innerRef"]),dt=mt((0,rt.Z)({},tt.defaultProps,Ne)),yt=ft;return("string"==typeof pt||ct)&&(at=(0,zs.Z)()||ot,pt&&(yt=getThemeProps({theme:at,name:pt,props:ft})),ct&&!yt.theme&&(yt.theme=at)),it.createElement(tt,(0,rt.Z)({ref:st||et,classes:dt},yt))}));return at()(yt,tt),yt}};var Pp=tt(9741);const Ip=function styles_withStyles_withStyles(Ne,et){return Cp(Ne,(0,rt.Z)({defaultTheme:Pp.Z},et))}},3871:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>capitalize});var rt=tt(288);function capitalize(Ne){if("string"!=typeof Ne)throw new Error((0,rt.Z)(7));return Ne.charAt(0).toUpperCase()+Ne.slice(1)}},5025:(Ne,et,tt)=>{"use strict";var rt=tt(5318);et.Z=void 0;var nt=rt(tt(7294)),it=(0,rt(tt(2108)).default)(nt.default.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");et.Z=it},4566:(Ne,et,tt)=>{"use strict";var rt=tt(5318);et.Z=void 0;var nt=rt(tt(7294)),it=(0,rt(tt(2108)).default)(nt.default.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");et.Z=it},2108:(Ne,et,tt)=>{"use strict";var rt=tt(5318);Object.defineProperty(et,"__esModule",{value:!0}),et.default=function createSvgIcon(Ne,et){var tt=it.default.memo(it.default.forwardRef((function(et,tt){return it.default.createElement(ot.default,(0,nt.default)({ref:tt},et),Ne)})));0;return tt.muiName=ot.default.muiName,tt};var nt=rt(tt(7154)),it=rt(tt(7294)),ot=rt(tt(2015))},5959:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>useTheme});var rt=tt(7294);const nt=rt.createContext(null);function useTheme(){return rt.useContext(nt)}},5953:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>deepmerge});var rt=tt(7462),nt=tt(1002);function isPlainObject(Ne){return Ne&&"object"===(0,nt.Z)(Ne)&&Ne.constructor===Object}function deepmerge(Ne,et){var tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},nt=tt.clone?(0,rt.Z)({},Ne):Ne;return isPlainObject(Ne)&&isPlainObject(et)&&Object.keys(et).forEach((function(rt){"__proto__"!==rt&&(isPlainObject(et[rt])&&rt in Ne?nt[rt]=deepmerge(Ne[rt],et[rt],tt):nt[rt]=et[rt])})),nt}},288:(Ne,et,tt)=>{"use strict";function formatMuiErrorMessage(Ne){for(var et="https://material-ui.com/production-error/?code="+Ne,tt=1;tt<arguments.length;tt+=1)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified Material-UI error #"+Ne+"; visit "+et+" for the full message."}tt.d(et,{Z:()=>formatMuiErrorMessage})},5792:function(Ne){Ne.exports=function(){"use strict";for(var limit=function(Ne,et,tt){return void 0===et&&(et=0),void 0===tt&&(tt=1),Ne<et?et:Ne>tt?tt:Ne},clip_rgb=function(Ne){Ne._clipped=!1,Ne._unclipped=Ne.slice(0);for(var et=0;et<=3;et++)et<3?((Ne[et]<0||Ne[et]>255)&&(Ne._clipped=!0),Ne[et]=limit(Ne[et],0,255)):3===et&&(Ne[et]=limit(Ne[et],0,1));return Ne},Ne={},et=0,tt=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];et<tt.length;et+=1){var rt=tt[et];Ne["[object "+rt+"]"]=rt.toLowerCase()}var type=function(et){return Ne[Object.prototype.toString.call(et)]||"object"},unpack=function(Ne,et){return void 0===et&&(et=null),Ne.length>=3?Array.prototype.slice.call(Ne):"object"==type(Ne[0])&&et?et.split("").filter((function(et){return void 0!==Ne[0][et]})).map((function(et){return Ne[0][et]})):Ne[0]},last=function(Ne){if(Ne.length<2)return null;var et=Ne.length-1;return"string"==type(Ne[et])?Ne[et].toLowerCase():null},nt=Math.PI,it={clip_rgb,limit,type,unpack,last,PI:nt,TWOPI:2*nt,PITHIRD:nt/3,DEG2RAD:nt/180,RAD2DEG:180/nt},ot={format:{},autodetect:[]},at=it.last,st=it.clip_rgb,ct=it.type,pt=function Color(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=this;if("object"===ct(Ne[0])&&Ne[0].constructor&&Ne[0].constructor===this.constructor)return Ne[0];var rt=at(Ne),nt=!1;if(!rt){nt=!0,ot.sorted||(ot.autodetect=ot.autodetect.sort((function(Ne,et){return et.p-Ne.p})),ot.sorted=!0);for(var it=0,pt=ot.autodetect;it<pt.length;it+=1){var ft=pt[it];if(rt=ft.test.apply(ft,Ne))break}}if(!ot.format[rt])throw new Error("unknown format: "+Ne);var dt=ot.format[rt].apply(null,nt?Ne:Ne.slice(0,-1));tt._rgb=st(dt),3===tt._rgb.length&&tt._rgb.push(1)};pt.prototype.toString=function toString(){return"function"==ct(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var ft=pt,chroma=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(chroma.Color,[null].concat(Ne)))};chroma.Color=ft,chroma.version="2.1.0";var dt=chroma,mt=it.unpack,yt=Math.max,rgb2cmyk=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=mt(Ne,"rgb"),rt=tt[0],nt=tt[1],it=tt[2],ot=1-yt(rt/=255,yt(nt/=255,it/=255)),at=ot<1?1/(1-ot):0;return[(1-rt-ot)*at,(1-nt-ot)*at,(1-it-ot)*at,ot]},vt=rgb2cmyk,Rt=it.unpack,cmyk2rgb=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=(Ne=Rt(Ne,"cmyk"))[0],rt=Ne[1],nt=Ne[2],it=Ne[3],ot=Ne.length>4?Ne[4]:1;return 1===it?[0,0,0,ot]:[tt>=1?0:255*(1-tt)*(1-it),rt>=1?0:255*(1-rt)*(1-it),nt>=1?0:255*(1-nt)*(1-it),ot]},Dt=cmyk2rgb,Ot=it.unpack,Bt=it.type;ft.prototype.cmyk=function(){return vt(this._rgb)},dt.cmyk=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["cmyk"])))},ot.format.cmyk=Dt,ot.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=Ot(Ne,"cmyk"),"array"===Bt(Ne)&&4===Ne.length)return"cmyk"}});var er=it.unpack,rr=it.last,rnd=function(Ne){return Math.round(100*Ne)/100},hsl2css=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=er(Ne,"hsla"),rt=rr(Ne)||"lsa";return tt[0]=rnd(tt[0]||0),tt[1]=rnd(100*tt[1])+"%",tt[2]=rnd(100*tt[2])+"%","hsla"===rt||tt.length>3&&tt[3]<1?(tt[3]=tt.length>3?tt[3]:1,rt="hsla"):tt.length=3,rt+"("+tt.join(",")+")"},vr=hsl2css,wr=it.unpack,rgb2hsl=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=(Ne=wr(Ne,"rgba"))[0],rt=Ne[1],nt=Ne[2];tt/=255,rt/=255,nt/=255;var it,ot,at=Math.min(tt,rt,nt),st=Math.max(tt,rt,nt),ct=(st+at)/2;return st===at?(it=0,ot=Number.NaN):it=ct<.5?(st-at)/(st+at):(st-at)/(2-st-at),tt==st?ot=(rt-nt)/(st-at):rt==st?ot=2+(nt-tt)/(st-at):nt==st&&(ot=4+(tt-rt)/(st-at)),(ot*=60)<0&&(ot+=360),Ne.length>3&&void 0!==Ne[3]?[ot,it,ct,Ne[3]]:[ot,it,ct]},Sr=rgb2hsl,rn=it.unpack,vn=it.last,bn=Math.round,rgb2css=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=rn(Ne,"rgba"),rt=vn(Ne)||"rgb";return"hsl"==rt.substr(0,3)?vr(Sr(tt),rt):(tt[0]=bn(tt[0]),tt[1]=bn(tt[1]),tt[2]=bn(tt[2]),("rgba"===rt||tt.length>3&&tt[3]<1)&&(tt[3]=tt.length>3?tt[3]:1,rt="rgba"),rt+"("+tt.slice(0,"rgb"===rt?3:4).join(",")+")")},Tn=rgb2css,Cn=it.unpack,In=Math.round,hsl2rgb=function(){for(var Ne,et=[],tt=arguments.length;tt--;)et[tt]=arguments[tt];var rt,nt,it,ot=(et=Cn(et,"hsl"))[0],at=et[1],st=et[2];if(0===at)rt=nt=it=255*st;else{var ct=[0,0,0],pt=[0,0,0],ft=st<.5?st*(1+at):st+at-st*at,dt=2*st-ft,mt=ot/360;ct[0]=mt+1/3,ct[1]=mt,ct[2]=mt-1/3;for(var yt=0;yt<3;yt++)ct[yt]<0&&(ct[yt]+=1),ct[yt]>1&&(ct[yt]-=1),6*ct[yt]<1?pt[yt]=dt+6*(ft-dt)*ct[yt]:2*ct[yt]<1?pt[yt]=ft:3*ct[yt]<2?pt[yt]=dt+(ft-dt)*(2/3-ct[yt])*6:pt[yt]=dt;rt=(Ne=[In(255*pt[0]),In(255*pt[1]),In(255*pt[2])])[0],nt=Ne[1],it=Ne[2]}return et.length>3?[rt,nt,it,et[3]]:[rt,nt,it,1]},Mn=hsl2rgb,zn=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Ln=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Fn=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Bn=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Nn=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Vn=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Wn=Math.round,css2rgb=function(Ne){var et;if(Ne=Ne.toLowerCase().trim(),ot.format.named)try{return ot.format.named(Ne)}catch(Ne){}if(et=Ne.match(zn)){for(var tt=et.slice(1,4),rt=0;rt<3;rt++)tt[rt]=+tt[rt];return tt[3]=1,tt}if(et=Ne.match(Ln)){for(var nt=et.slice(1,5),it=0;it<4;it++)nt[it]=+nt[it];return nt}if(et=Ne.match(Fn)){for(var at=et.slice(1,4),st=0;st<3;st++)at[st]=Wn(2.55*at[st]);return at[3]=1,at}if(et=Ne.match(Bn)){for(var ct=et.slice(1,5),pt=0;pt<3;pt++)ct[pt]=Wn(2.55*ct[pt]);return ct[3]=+ct[3],ct}if(et=Ne.match(Nn)){var ft=et.slice(1,4);ft[1]*=.01,ft[2]*=.01;var dt=Mn(ft);return dt[3]=1,dt}if(et=Ne.match(Vn)){var mt=et.slice(1,4);mt[1]*=.01,mt[2]*=.01;var yt=Mn(mt);return yt[3]=+et[4],yt}};css2rgb.test=function(Ne){return zn.test(Ne)||Ln.test(Ne)||Fn.test(Ne)||Bn.test(Ne)||Nn.test(Ne)||Vn.test(Ne)};var $n=css2rgb,Yn=it.type;ft.prototype.css=function(Ne){return Tn(this._rgb,Ne)},dt.css=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["css"])))},ot.format.css=$n,ot.autodetect.push({p:5,test:function(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];if(!et.length&&"string"===Yn(Ne)&&$n.test(Ne))return"css"}});var ii=it.unpack;ot.format.gl=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=ii(Ne,"rgba");return tt[0]*=255,tt[1]*=255,tt[2]*=255,tt},dt.gl=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["gl"])))},ft.prototype.gl=function(){var Ne=this._rgb;return[Ne[0]/255,Ne[1]/255,Ne[2]/255,Ne[3]]};var qi=it.unpack,rgb2hcg=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,rt=qi(Ne,"rgb"),nt=rt[0],it=rt[1],ot=rt[2],at=Math.min(nt,it,ot),st=Math.max(nt,it,ot),ct=st-at,pt=100*ct/255,ft=at/(255-ct)*100;return 0===ct?tt=Number.NaN:(nt===st&&(tt=(it-ot)/ct),it===st&&(tt=2+(ot-nt)/ct),ot===st&&(tt=4+(nt-it)/ct),(tt*=60)<0&&(tt+=360)),[tt,pt,ft]},uo=rgb2hcg,po=it.unpack,vo=Math.floor,hcg2rgb=function(){for(var Ne,et,tt,rt,nt,it,ot=[],at=arguments.length;at--;)ot[at]=arguments[at];var st,ct,pt,ft=(ot=po(ot,"hcg"))[0],dt=ot[1],mt=ot[2];mt*=255;var yt=255*dt;if(0===dt)st=ct=pt=mt;else{360===ft&&(ft=0),ft>360&&(ft-=360),ft<0&&(ft+=360);var vt=vo(ft/=60),Rt=ft-vt,Dt=mt*(1-dt),Ot=Dt+yt*(1-Rt),Bt=Dt+yt*Rt,er=Dt+yt;switch(vt){case 0:st=(Ne=[er,Bt,Dt])[0],ct=Ne[1],pt=Ne[2];break;case 1:st=(et=[Ot,er,Dt])[0],ct=et[1],pt=et[2];break;case 2:st=(tt=[Dt,er,Bt])[0],ct=tt[1],pt=tt[2];break;case 3:st=(rt=[Dt,Ot,er])[0],ct=rt[1],pt=rt[2];break;case 4:st=(nt=[Bt,Dt,er])[0],ct=nt[1],pt=nt[2];break;case 5:st=(it=[er,Dt,Ot])[0],ct=it[1],pt=it[2]}}return[st,ct,pt,ot.length>3?ot[3]:1]},So=hcg2rgb,ea=it.unpack,ta=it.type;ft.prototype.hcg=function(){return uo(this._rgb)},dt.hcg=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["hcg"])))},ot.format.hcg=So,ot.autodetect.push({p:1,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=ea(Ne,"hcg"),"array"===ta(Ne)&&3===Ne.length)return"hcg"}});var ia=it.unpack,sa=it.last,la=Math.round,rgb2hex=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=ia(Ne,"rgba"),rt=tt[0],nt=tt[1],it=tt[2],ot=tt[3],at=sa(Ne)||"auto";void 0===ot&&(ot=1),"auto"===at&&(at=ot<1?"rgba":"rgb");var st="000000"+((rt=la(rt))<<16|(nt=la(nt))<<8|(it=la(it))).toString(16);st=st.substr(st.length-6);var ct="0"+la(255*ot).toString(16);switch(ct=ct.substr(ct.length-2),at.toLowerCase()){case"rgba":return"#"+st+ct;case"argb":return"#"+ct+st;default:return"#"+st}},fa=rgb2hex,ga=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,_a=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,hex2rgb_1=function(Ne){if(Ne.match(ga)){4!==Ne.length&&7!==Ne.length||(Ne=Ne.substr(1)),3===Ne.length&&(Ne=(Ne=Ne.split(""))[0]+Ne[0]+Ne[1]+Ne[1]+Ne[2]+Ne[2]);var et=parseInt(Ne,16);return[et>>16,et>>8&255,255&et,1]}if(Ne.match(_a)){5!==Ne.length&&9!==Ne.length||(Ne=Ne.substr(1)),4===Ne.length&&(Ne=(Ne=Ne.split(""))[0]+Ne[0]+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]);var tt=parseInt(Ne,16);return[tt>>24&255,tt>>16&255,tt>>8&255,Math.round((255&tt)/255*100)/100]}throw new Error("unknown hex color: "+Ne)},Aa=it.type;ft.prototype.hex=function(Ne){return fa(this._rgb,Ne)},dt.hex=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["hex"])))},ot.format.hex=hex2rgb_1,ot.autodetect.push({p:4,test:function(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];if(!et.length&&"string"===Aa(Ne)&&[3,4,5,6,7,8,9].indexOf(Ne.length)>=0)return"hex"}});var os=it.unpack,as=it.TWOPI,ss=Math.min,ls=Math.sqrt,us=Math.acos,rgb2hsi=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,rt=os(Ne,"rgb"),nt=rt[0],it=rt[1],ot=rt[2],at=ss(nt/=255,it/=255,ot/=255),st=(nt+it+ot)/3,ct=st>0?1-at/st:0;return 0===ct?tt=NaN:(tt=(nt-it+(nt-ot))/2,tt/=ls((nt-it)*(nt-it)+(nt-ot)*(it-ot)),tt=us(tt),ot>it&&(tt=as-tt),tt/=as),[360*tt,ct,st]},fs=rgb2hsi,gs=it.unpack,vs=it.limit,xs=it.TWOPI,Ss=it.PITHIRD,Es=Math.cos,hsi2rgb=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,rt,nt,it=(Ne=gs(Ne,"hsi"))[0],ot=Ne[1],at=Ne[2];return isNaN(it)&&(it=0),isNaN(ot)&&(ot=0),it>360&&(it-=360),it<0&&(it+=360),(it/=360)<1/3?rt=1-((nt=(1-ot)/3)+(tt=(1+ot*Es(xs*it)/Es(Ss-xs*it))/3)):it<2/3?nt=1-((tt=(1-ot)/3)+(rt=(1+ot*Es(xs*(it-=1/3))/Es(Ss-xs*it))/3)):tt=1-((rt=(1-ot)/3)+(nt=(1+ot*Es(xs*(it-=2/3))/Es(Ss-xs*it))/3)),[255*(tt=vs(at*tt*3)),255*(rt=vs(at*rt*3)),255*(nt=vs(at*nt*3)),Ne.length>3?Ne[3]:1]},Cs=hsi2rgb,Ps=it.unpack,As=it.type;ft.prototype.hsi=function(){return fs(this._rgb)},dt.hsi=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["hsi"])))},ot.format.hsi=Cs,ot.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=Ps(Ne,"hsi"),"array"===As(Ne)&&3===Ne.length)return"hsi"}});var Rs=it.unpack,Ms=it.type;ft.prototype.hsl=function(){return Sr(this._rgb)},dt.hsl=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["hsl"])))},ot.format.hsl=Mn,ot.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=Rs(Ne,"hsl"),"array"===Ms(Ne)&&3===Ne.length)return"hsl"}});var zs=it.unpack,Ls=Math.min,Os=Math.max,rgb2hsl$1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,rt,nt,it=(Ne=zs(Ne,"rgb"))[0],ot=Ne[1],at=Ne[2],st=Ls(it,ot,at),ct=Os(it,ot,at),pt=ct-st;return nt=ct/255,0===ct?(tt=Number.NaN,rt=0):(rt=pt/ct,it===ct&&(tt=(ot-at)/pt),ot===ct&&(tt=2+(at-it)/pt),at===ct&&(tt=4+(it-ot)/pt),(tt*=60)<0&&(tt+=360)),[tt,rt,nt]},Fs=rgb2hsl$1,Bs=it.unpack,Ns=Math.floor,hsv2rgb=function(){for(var Ne,et,tt,rt,nt,it,ot=[],at=arguments.length;at--;)ot[at]=arguments[at];var st,ct,pt,ft=(ot=Bs(ot,"hsv"))[0],dt=ot[1],mt=ot[2];if(mt*=255,0===dt)st=ct=pt=mt;else{360===ft&&(ft=0),ft>360&&(ft-=360),ft<0&&(ft+=360);var yt=Ns(ft/=60),vt=ft-yt,Rt=mt*(1-dt),Dt=mt*(1-dt*vt),Ot=mt*(1-dt*(1-vt));switch(yt){case 0:st=(Ne=[mt,Ot,Rt])[0],ct=Ne[1],pt=Ne[2];break;case 1:st=(et=[Dt,mt,Rt])[0],ct=et[1],pt=et[2];break;case 2:st=(tt=[Rt,mt,Ot])[0],ct=tt[1],pt=tt[2];break;case 3:st=(rt=[Rt,Dt,mt])[0],ct=rt[1],pt=rt[2];break;case 4:st=(nt=[Ot,Rt,mt])[0],ct=nt[1],pt=nt[2];break;case 5:st=(it=[mt,Rt,Dt])[0],ct=it[1],pt=it[2]}}return[st,ct,pt,ot.length>3?ot[3]:1]},Vs=hsv2rgb,Us=it.unpack,js=it.type;ft.prototype.hsv=function(){return Fs(this._rgb)},dt.hsv=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["hsv"])))},ot.format.hsv=Vs,ot.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=Us(Ne,"hsv"),"array"===js(Ne)&&3===Ne.length)return"hsv"}});var Zs={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Js=it.unpack,tl=Math.pow,rgb2lab=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=Js(Ne,"rgb"),rt=tt[0],nt=tt[1],it=tt[2],ot=rgb2xyz(rt,nt,it),at=ot[0],st=ot[1],ct=116*st-16;return[ct<0?0:ct,500*(at-st),200*(st-ot[2])]},rgb_xyz=function(Ne){return(Ne/=255)<=.04045?Ne/12.92:tl((Ne+.055)/1.055,2.4)},xyz_lab=function(Ne){return Ne>Zs.t3?tl(Ne,1/3):Ne/Zs.t2+Zs.t0},rgb2xyz=function(Ne,et,tt){return Ne=rgb_xyz(Ne),et=rgb_xyz(et),tt=rgb_xyz(tt),[xyz_lab((.4124564*Ne+.3575761*et+.1804375*tt)/Zs.Xn),xyz_lab((.2126729*Ne+.7151522*et+.072175*tt)/Zs.Yn),xyz_lab((.0193339*Ne+.119192*et+.9503041*tt)/Zs.Zn)]},ol=rgb2lab,sl=it.unpack,dl=Math.pow,lab2rgb=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,rt,nt,it=(Ne=sl(Ne,"lab"))[0],ot=Ne[1],at=Ne[2];return rt=(it+16)/116,tt=isNaN(ot)?rt:rt+ot/500,nt=isNaN(at)?rt:rt-at/200,rt=Zs.Yn*lab_xyz(rt),tt=Zs.Xn*lab_xyz(tt),nt=Zs.Zn*lab_xyz(nt),[xyz_rgb(3.2404542*tt-1.5371385*rt-.4985314*nt),xyz_rgb(-.969266*tt+1.8760108*rt+.041556*nt),xyz_rgb(.0556434*tt-.2040259*rt+1.0572252*nt),Ne.length>3?Ne[3]:1]},xyz_rgb=function(Ne){return 255*(Ne<=.00304?12.92*Ne:1.055*dl(Ne,1/2.4)-.055)},lab_xyz=function(Ne){return Ne>Zs.t1?Ne*Ne*Ne:Zs.t2*(Ne-Zs.t0)},gl=lab2rgb,yl=it.unpack,vl=it.type;ft.prototype.lab=function(){return ol(this._rgb)},dt.lab=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["lab"])))},ot.format.lab=gl,ot.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=yl(Ne,"lab"),"array"===vl(Ne)&&3===Ne.length)return"lab"}});var _l=it.unpack,bl=it.RAD2DEG,xl=Math.sqrt,wl=Math.atan2,kl=Math.round,lab2lch=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=_l(Ne,"lab"),rt=tt[0],nt=tt[1],it=tt[2],ot=xl(nt*nt+it*it),at=(wl(it,nt)*bl+360)%360;return 0===kl(1e4*ot)&&(at=Number.NaN),[rt,ot,at]},Sl=lab2lch,Cl=it.unpack,rgb2lch=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=Cl(Ne,"rgb"),rt=tt[0],nt=tt[1],it=tt[2],ot=ol(rt,nt,it),at=ot[0],st=ot[1],ct=ot[2];return Sl(at,st,ct)},Il=rgb2lch,Al=it.unpack,zl=it.DEG2RAD,Fl=Math.sin,Hl=Math.cos,lch2lab=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=Al(Ne,"lch"),rt=tt[0],nt=tt[1],it=tt[2];return isNaN(it)&&(it=0),[rt,Hl(it*=zl)*nt,Fl(it)*nt]},du=lch2lab,vu=it.unpack,lch2rgb=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=(Ne=vu(Ne,"lch"))[0],rt=Ne[1],nt=Ne[2],it=du(tt,rt,nt),ot=it[0],at=it[1],st=it[2],ct=gl(ot,at,st);return[ct[0],ct[1],ct[2],Ne.length>3?Ne[3]:1]},_u=lch2rgb,wu=it.unpack,hcl2rgb=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=wu(Ne,"hcl").reverse();return _u.apply(void 0,tt)},Tu=hcl2rgb,Fu=it.unpack,ac=it.type;ft.prototype.lch=function(){return Il(this._rgb)},ft.prototype.hcl=function(){return Il(this._rgb).reverse()},dt.lch=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["lch"])))},dt.hcl=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["hcl"])))},ot.format.lch=_u,ot.format.hcl=Tu,["lch","hcl"].forEach((function(Ne){return ot.autodetect.push({p:2,test:function(){for(var et=[],tt=arguments.length;tt--;)et[tt]=arguments[tt];if(et=Fu(et,Ne),"array"===ac(et)&&3===et.length)return Ne}})}));var pc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},yc=it.type;ft.prototype.name=function(){for(var Ne=fa(this._rgb,"rgb"),et=0,tt=Object.keys(pc);et<tt.length;et+=1){var rt=tt[et];if(pc[rt]===Ne)return rt.toLowerCase()}return Ne},ot.format.named=function(Ne){if(Ne=Ne.toLowerCase(),pc[Ne])return hex2rgb_1(pc[Ne]);throw new Error("unknown color name: "+Ne)},ot.autodetect.push({p:5,test:function(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];if(!et.length&&"string"===yc(Ne)&&pc[Ne.toLowerCase()])return"named"}});var _c=it.unpack,rgb2num=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=_c(Ne,"rgb");return(tt[0]<<16)+(tt[1]<<8)+tt[2]},bc=rgb2num,xc=it.type,num2rgb_1=function(Ne){if("number"==xc(Ne)&&Ne>=0&&Ne<=16777215)return[Ne>>16,Ne>>8&255,255&Ne,1];throw new Error("unknown num color: "+Ne)},wc=it.type;ft.prototype.num=function(){return bc(this._rgb)},dt.num=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["num"])))},ot.format.num=num2rgb_1,ot.autodetect.push({p:5,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(1===Ne.length&&"number"===wc(Ne[0])&&Ne[0]>=0&&Ne[0]<=16777215)return"num"}});var kc=it.unpack,Ec=it.type,Cc=Math.round;ft.prototype.rgb=function(Ne){return void 0===Ne&&(Ne=!0),!1===Ne?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Cc)},ft.prototype.rgba=function(Ne){return void 0===Ne&&(Ne=!0),this._rgb.slice(0,4).map((function(et,tt){return tt<3?!1===Ne?et:Cc(et):et}))},dt.rgb=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["rgb"])))},ot.format.rgb=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=kc(Ne,"rgba");return void 0===tt[3]&&(tt[3]=1),tt},ot.autodetect.push({p:3,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=kc(Ne,"rgba"),"array"===Ec(Ne)&&(3===Ne.length||4===Ne.length&&"number"==Ec(Ne[3])&&Ne[3]>=0&&Ne[3]<=1))return"rgb"}});var Ic=Math.log,temperature2rgb_1=function(Ne){var et,tt,rt,nt=Ne/100;return nt<66?(et=255,tt=-155.25485562709179-.44596950469579133*(tt=nt-2)+104.49216199393888*Ic(tt),rt=nt<20?0:.8274096064007395*(rt=nt-10)-254.76935184120902+115.67994401066147*Ic(rt)):(et=351.97690566805693+.114206453784165*(et=nt-55)-40.25366309332127*Ic(et),tt=325.4494125711974+.07943456536662342*(tt=nt-50)-28.0852963507957*Ic(tt),rt=255),[et,tt,rt,1]},Ac=it.unpack,zc=Math.round,rgb2temperature=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];for(var tt,rt=Ac(Ne,"rgb"),nt=rt[0],it=rt[2],ot=1e3,at=4e4,st=.4;at-ot>st;){var ct=temperature2rgb_1(tt=.5*(at+ot));ct[2]/ct[0]>=it/nt?at=tt:ot=tt}return zc(tt)},Dc=rgb2temperature;ft.prototype.temp=ft.prototype.kelvin=ft.prototype.temperature=function(){return Dc(this._rgb)},dt.temp=dt.kelvin=dt.temperature=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(ft,[null].concat(Ne,["temp"])))},ot.format.temp=ot.format.kelvin=ot.format.temperature=temperature2rgb_1;var Fc=it.type;ft.prototype.alpha=function(Ne,et){return void 0===et&&(et=!1),void 0!==Ne&&"number"===Fc(Ne)?et?(this._rgb[3]=Ne,this):new ft([this._rgb[0],this._rgb[1],this._rgb[2],Ne],"rgb"):this._rgb[3]},ft.prototype.clipped=function(){return this._rgb._clipped||!1},ft.prototype.darken=function(Ne){void 0===Ne&&(Ne=1);var et=this,tt=et.lab();return tt[0]-=Zs.Kn*Ne,new ft(tt,"lab").alpha(et.alpha(),!0)},ft.prototype.brighten=function(Ne){return void 0===Ne&&(Ne=1),this.darken(-Ne)},ft.prototype.darker=ft.prototype.darken,ft.prototype.brighter=ft.prototype.brighten,ft.prototype.get=function(Ne){var et=Ne.split("."),tt=et[0],rt=et[1],nt=this[tt]();if(rt){var it=tt.indexOf(rt);if(it>-1)return nt[it];throw new Error("unknown channel "+rt+" in mode "+tt)}return nt};var Bc=it.type,Zc=Math.pow,Wc=1e-7,Gc=20;ft.prototype.luminance=function(Ne){if(void 0!==Ne&&"number"===Bc(Ne)){if(0===Ne)return new ft([0,0,0,this._rgb[3]],"rgb");if(1===Ne)return new ft([255,255,255,this._rgb[3]],"rgb");var et=this.luminance(),tt="rgb",rt=Gc,test=function(et,nt){var it=et.interpolate(nt,.5,tt),ot=it.luminance();return Math.abs(Ne-ot)<Wc||!rt--?it:ot>Ne?test(et,it):test(it,nt)},nt=(et>Ne?test(new ft([0,0,0]),this):test(this,new ft([255,255,255]))).rgb();return new ft(nt.concat([this._rgb[3]]))}return rgb2luminance.apply(void 0,this._rgb.slice(0,3))};var rgb2luminance=function(Ne,et,tt){return.2126*(Ne=luminance_x(Ne))+.7152*(et=luminance_x(et))+.0722*(tt=luminance_x(tt))},luminance_x=function(Ne){return(Ne/=255)<=.03928?Ne/12.92:Zc((Ne+.055)/1.055,2.4)},$c={},Hc=it.type,mix=function(Ne,et,tt){void 0===tt&&(tt=.5);for(var rt=[],nt=arguments.length-3;nt-- >0;)rt[nt]=arguments[nt+3];var it=rt[0]||"lrgb";if($c[it]||rt.length||(it=Object.keys($c)[0]),!$c[it])throw new Error("interpolation mode "+it+" is not defined");return"object"!==Hc(Ne)&&(Ne=new ft(Ne)),"object"!==Hc(et)&&(et=new ft(et)),$c[it](Ne,et,tt).alpha(Ne.alpha()+tt*(et.alpha()-Ne.alpha()))};ft.prototype.mix=ft.prototype.interpolate=function(Ne,et){void 0===et&&(et=.5);for(var tt=[],rt=arguments.length-2;rt-- >0;)tt[rt]=arguments[rt+2];return mix.apply(void 0,[this,Ne,et].concat(tt))},ft.prototype.premultiply=function(Ne){void 0===Ne&&(Ne=!1);var et=this._rgb,tt=et[3];return Ne?(this._rgb=[et[0]*tt,et[1]*tt,et[2]*tt,tt],this):new ft([et[0]*tt,et[1]*tt,et[2]*tt,tt],"rgb")},ft.prototype.saturate=function(Ne){void 0===Ne&&(Ne=1);var et=this,tt=et.lch();return tt[1]+=Zs.Kn*Ne,tt[1]<0&&(tt[1]=0),new ft(tt,"lch").alpha(et.alpha(),!0)},ft.prototype.desaturate=function(Ne){return void 0===Ne&&(Ne=1),this.saturate(-Ne)};var Xc=it.type;ft.prototype.set=function(Ne,et,tt){void 0===tt&&(tt=!1);var rt=Ne.split("."),nt=rt[0],it=rt[1],ot=this[nt]();if(it){var at=nt.indexOf(it);if(at>-1){if("string"==Xc(et))switch(et.charAt(0)){case"+":case"-":ot[at]+=+et;break;case"*":ot[at]*=+et.substr(1);break;case"/":ot[at]/=+et.substr(1);break;default:ot[at]=+et}else{if("number"!==Xc(et))throw new Error("unsupported value for Color.set");ot[at]=et}var st=new ft(ot,nt);return tt?(this._rgb=st._rgb,this):st}throw new Error("unknown channel "+it+" in mode "+nt)}return ot};var rgb$1=function(Ne,et,tt){var rt=Ne._rgb,nt=et._rgb;return new ft(rt[0]+tt*(nt[0]-rt[0]),rt[1]+tt*(nt[1]-rt[1]),rt[2]+tt*(nt[2]-rt[2]),"rgb")};$c.rgb=rgb$1;var Yc=Math.sqrt,rp=Math.pow,lrgb=function(Ne,et,tt){var rt=Ne._rgb,nt=rt[0],it=rt[1],ot=rt[2],at=et._rgb,st=at[0],ct=at[1],pt=at[2];return new ft(Yc(rp(nt,2)*(1-tt)+rp(st,2)*tt),Yc(rp(it,2)*(1-tt)+rp(ct,2)*tt),Yc(rp(ot,2)*(1-tt)+rp(pt,2)*tt),"rgb")};$c.lrgb=lrgb;var lab$1=function(Ne,et,tt){var rt=Ne.lab(),nt=et.lab();return new ft(rt[0]+tt*(nt[0]-rt[0]),rt[1]+tt*(nt[1]-rt[1]),rt[2]+tt*(nt[2]-rt[2]),"lab")};$c.lab=lab$1;var _hsx=function(Ne,et,tt,rt){var nt,it,ot,at,st,ct,pt,dt,mt,yt,vt,Rt;return"hsl"===rt?(ot=Ne.hsl(),at=et.hsl()):"hsv"===rt?(ot=Ne.hsv(),at=et.hsv()):"hcg"===rt?(ot=Ne.hcg(),at=et.hcg()):"hsi"===rt?(ot=Ne.hsi(),at=et.hsi()):"lch"!==rt&&"hcl"!==rt||(rt="hcl",ot=Ne.hcl(),at=et.hcl()),"h"===rt.substr(0,1)&&(st=(nt=ot)[0],pt=nt[1],mt=nt[2],ct=(it=at)[0],dt=it[1],yt=it[2]),isNaN(st)||isNaN(ct)?isNaN(st)?isNaN(ct)?Rt=Number.NaN:(Rt=ct,1!=mt&&0!=mt||"hsv"==rt||(vt=dt)):(Rt=st,1!=yt&&0!=yt||"hsv"==rt||(vt=pt)):Rt=st+tt*(ct>st&&ct-st>180?ct-(st+360):ct<st&&st-ct>180?ct+360-st:ct-st),void 0===vt&&(vt=pt+tt*(dt-pt)),new ft([Rt,vt,mt+tt*(yt-mt)],rt)},lch$1=function(Ne,et,tt){return _hsx(Ne,et,tt,"lch")};$c.lch=lch$1,$c.hcl=lch$1;var num$1=function(Ne,et,tt){var rt=Ne.num(),nt=et.num();return new ft(rt+tt*(nt-rt),"num")};$c.num=num$1;var hcg$1=function(Ne,et,tt){return _hsx(Ne,et,tt,"hcg")};$c.hcg=hcg$1;var hsi$1=function(Ne,et,tt){return _hsx(Ne,et,tt,"hsi")};$c.hsi=hsi$1;var hsl$1=function(Ne,et,tt){return _hsx(Ne,et,tt,"hsl")};$c.hsl=hsl$1;var hsv$1=function(Ne,et,tt){return _hsx(Ne,et,tt,"hsv")};$c.hsv=hsv$1;var ip=it.clip_rgb,op=Math.pow,ap=Math.sqrt,sp=Math.PI,lp=Math.cos,cp=Math.sin,pp=Math.atan2,average=function(Ne,et,tt){void 0===et&&(et="lrgb"),void 0===tt&&(tt=null);var rt=Ne.length;tt||(tt=Array.from(new Array(rt)).map((function(){return 1})));var nt=rt/tt.reduce((function(Ne,et){return Ne+et}));if(tt.forEach((function(Ne,et){tt[et]*=nt})),Ne=Ne.map((function(Ne){return new ft(Ne)})),"lrgb"===et)return _average_lrgb(Ne,tt);for(var it=Ne.shift(),ot=it.get(et),at=[],st=0,ct=0,pt=0;pt<ot.length;pt++)if(ot[pt]=(ot[pt]||0)*tt[0],at.push(isNaN(ot[pt])?0:tt[0]),"h"===et.charAt(pt)&&!isNaN(ot[pt])){var dt=ot[pt]/180*sp;st+=lp(dt)*tt[0],ct+=cp(dt)*tt[0]}var mt=it.alpha()*tt[0];Ne.forEach((function(Ne,rt){var nt=Ne.get(et);mt+=Ne.alpha()*tt[rt+1];for(var it=0;it<ot.length;it++)if(!isNaN(nt[it]))if(at[it]+=tt[rt+1],"h"===et.charAt(it)){var pt=nt[it]/180*sp;st+=lp(pt)*tt[rt+1],ct+=cp(pt)*tt[rt+1]}else ot[it]+=nt[it]*tt[rt+1]}));for(var yt=0;yt<ot.length;yt++)if("h"===et.charAt(yt)){for(var vt=pp(ct/at[yt],st/at[yt])/sp*180;vt<0;)vt+=360;for(;vt>=360;)vt-=360;ot[yt]=vt}else ot[yt]=ot[yt]/at[yt];return mt/=rt,new ft(ot,et).alpha(mt>.99999?1:mt,!0)},_average_lrgb=function(Ne,et){for(var tt=Ne.length,rt=[0,0,0,0],nt=0;nt<Ne.length;nt++){var it=Ne[nt],ot=et[nt]/tt,at=it._rgb;rt[0]+=op(at[0],2)*ot,rt[1]+=op(at[1],2)*ot,rt[2]+=op(at[2],2)*ot,rt[3]+=at[3]*ot}return rt[0]=ap(rt[0]),rt[1]=ap(rt[1]),rt[2]=ap(rt[2]),rt[3]>.9999999&&(rt[3]=1),new ft(ip(rt))},hp=it.type,fp=Math.pow,scale=function(Ne){var et="rgb",tt=dt("#ccc"),rt=0,nt=[0,1],it=[],ot=[0,0],at=!1,st=[],ct=!1,pt=0,ft=1,mt=!1,yt={},vt=!0,Rt=1,setColors=function(Ne){if((Ne=Ne||["#fff","#000"])&&"string"===hp(Ne)&&dt.brewer&&dt.brewer[Ne.toLowerCase()]&&(Ne=dt.brewer[Ne.toLowerCase()]),"array"===hp(Ne)){1===Ne.length&&(Ne=[Ne[0],Ne[0]]),Ne=Ne.slice(0);for(var et=0;et<Ne.length;et++)Ne[et]=dt(Ne[et]);it.length=0;for(var tt=0;tt<Ne.length;tt++)it.push(tt/(Ne.length-1))}return resetCache(),st=Ne},getClass=function(Ne){if(null!=at){for(var et=at.length-1,tt=0;tt<et&&Ne>=at[tt];)tt++;return tt-1}return 0},tMapLightness=function(Ne){return Ne},tMapDomain=function(Ne){return Ne},getColor=function(Ne,rt){var nt,ct;if(null==rt&&(rt=!1),isNaN(Ne)||null===Ne)return tt;ct=rt?Ne:at&&at.length>2?getClass(Ne)/(at.length-2):ft!==pt?(Ne-pt)/(ft-pt):1,ct=tMapDomain(ct),rt||(ct=tMapLightness(ct)),1!==Rt&&(ct=fp(ct,Rt)),ct=ot[0]+ct*(1-ot[0]-ot[1]),ct=Math.min(1,Math.max(0,ct));var mt=Math.floor(1e4*ct);if(vt&&yt[mt])nt=yt[mt];else{if("array"===hp(st))for(var Dt=0;Dt<it.length;Dt++){var Ot=it[Dt];if(ct<=Ot){nt=st[Dt];break}if(ct>=Ot&&Dt===it.length-1){nt=st[Dt];break}if(ct>Ot&&ct<it[Dt+1]){ct=(ct-Ot)/(it[Dt+1]-Ot),nt=dt.interpolate(st[Dt],st[Dt+1],ct,et);break}}else"function"===hp(st)&&(nt=st(ct));vt&&(yt[mt]=nt)}return nt},resetCache=function(){return yt={}};setColors(Ne);var f=function(Ne){var et=dt(getColor(Ne));return ct&&et[ct]?et[ct]():et};return f.classes=function(Ne){if(null!=Ne){if("array"===hp(Ne))at=Ne,nt=[Ne[0],Ne[Ne.length-1]];else{var et=dt.analyze(nt);at=0===Ne?[et.min,et.max]:dt.limits(et,"e",Ne)}return f}return at},f.domain=function(Ne){if(!arguments.length)return nt;pt=Ne[0],ft=Ne[Ne.length-1],it=[];var et=st.length;if(Ne.length===et&&pt!==ft)for(var tt=0,rt=Array.from(Ne);tt<rt.length;tt+=1){var ot=rt[tt];it.push((ot-pt)/(ft-pt))}else{for(var at=0;at<et;at++)it.push(at/(et-1));if(Ne.length>2){var ct=Ne.map((function(et,tt){return tt/(Ne.length-1)})),dt=Ne.map((function(Ne){return(Ne-pt)/(ft-pt)}));dt.every((function(Ne,et){return ct[et]===Ne}))||(tMapDomain=function(Ne){if(Ne<=0||Ne>=1)return Ne;for(var et=0;Ne>=dt[et+1];)et++;var tt=(Ne-dt[et])/(dt[et+1]-dt[et]);return ct[et]+tt*(ct[et+1]-ct[et])})}}return nt=[pt,ft],f},f.mode=function(Ne){return arguments.length?(et=Ne,resetCache(),f):et},f.range=function(Ne,et){return setColors(Ne,et),f},f.out=function(Ne){return ct=Ne,f},f.spread=function(Ne){return arguments.length?(rt=Ne,f):rt},f.correctLightness=function(Ne){return null==Ne&&(Ne=!0),mt=Ne,resetCache(),tMapLightness=mt?function(Ne){for(var et=getColor(0,!0).lab()[0],tt=getColor(1,!0).lab()[0],rt=et>tt,nt=getColor(Ne,!0).lab()[0],it=et+(tt-et)*Ne,ot=nt-it,at=0,st=1,ct=20;Math.abs(ot)>.01&&ct-- >0;)rt&&(ot*=-1),ot<0?(at=Ne,Ne+=.5*(st-Ne)):(st=Ne,Ne+=.5*(at-Ne)),nt=getColor(Ne,!0).lab()[0],ot=nt-it;return Ne}:function(Ne){return Ne},f},f.padding=function(Ne){return null!=Ne?("number"===hp(Ne)&&(Ne=[Ne,Ne]),ot=Ne,f):ot},f.colors=function(et,tt){arguments.length<2&&(tt="hex");var rt=[];if(0===arguments.length)rt=st.slice(0);else if(1===et)rt=[f(.5)];else if(et>1){var it=nt[0],ot=nt[1]-it;rt=__range__(0,et,!1).map((function(Ne){return f(it+Ne/(et-1)*ot)}))}else{Ne=[];var ct=[];if(at&&at.length>2)for(var pt=1,ft=at.length,mt=1<=ft;mt?pt<ft:pt>ft;mt?pt++:pt--)ct.push(.5*(at[pt-1]+at[pt]));else ct=nt;rt=ct.map((function(Ne){return f(Ne)}))}return dt[tt]&&(rt=rt.map((function(Ne){return Ne[tt]()}))),rt},f.cache=function(Ne){return null!=Ne?(vt=Ne,f):vt},f.gamma=function(Ne){return null!=Ne?(Rt=Ne,f):Rt},f.nodata=function(Ne){return null!=Ne?(tt=dt(Ne),f):tt},f};function __range__(Ne,et,tt){for(var rt=[],nt=Ne<et,it=tt?nt?et+1:et-1:et,ot=Ne;nt?ot<it:ot>it;nt?ot++:ot--)rt.push(ot);return rt}var bezier=function(Ne){var et,tt,rt,nt,it,ot,at;if(2===(Ne=Ne.map((function(Ne){return new ft(Ne)}))).length)et=Ne.map((function(Ne){return Ne.lab()})),it=et[0],ot=et[1],nt=function(Ne){var et=[0,1,2].map((function(et){return it[et]+Ne*(ot[et]-it[et])}));return new ft(et,"lab")};else if(3===Ne.length)tt=Ne.map((function(Ne){return Ne.lab()})),it=tt[0],ot=tt[1],at=tt[2],nt=function(Ne){var et=[0,1,2].map((function(et){return(1-Ne)*(1-Ne)*it[et]+2*(1-Ne)*Ne*ot[et]+Ne*Ne*at[et]}));return new ft(et,"lab")};else if(4===Ne.length){var st;rt=Ne.map((function(Ne){return Ne.lab()})),it=rt[0],ot=rt[1],at=rt[2],st=rt[3],nt=function(Ne){var et=[0,1,2].map((function(et){return(1-Ne)*(1-Ne)*(1-Ne)*it[et]+3*(1-Ne)*(1-Ne)*Ne*ot[et]+3*(1-Ne)*Ne*Ne*at[et]+Ne*Ne*Ne*st[et]}));return new ft(et,"lab")}}else if(5===Ne.length){var ct=bezier(Ne.slice(0,3)),pt=bezier(Ne.slice(2,5));nt=function(Ne){return Ne<.5?ct(2*Ne):pt(2*(Ne-.5))}}return nt},bezier_1=function(Ne){var et=bezier(Ne);return et.scale=function(){return scale(et)},et},blend=function(Ne,et,tt){if(!blend[tt])throw new Error("unknown blend mode "+tt);return blend[tt](Ne,et)},blend_f=function(Ne){return function(et,tt){var rt=dt(tt).rgb(),nt=dt(et).rgb();return dt.rgb(Ne(rt,nt))}},each=function(Ne){return function(et,tt){var rt=[];return rt[0]=Ne(et[0],tt[0]),rt[1]=Ne(et[1],tt[1]),rt[2]=Ne(et[2],tt[2]),rt}},normal=function(Ne){return Ne},multiply=function(Ne,et){return Ne*et/255},darken$1=function(Ne,et){return Ne>et?et:Ne},lighten=function(Ne,et){return Ne>et?Ne:et},screen=function(Ne,et){return 255*(1-(1-Ne/255)*(1-et/255))},overlay=function(Ne,et){return et<128?2*Ne*et/255:255*(1-2*(1-Ne/255)*(1-et/255))},burn=function(Ne,et){return 255*(1-(1-et/255)/(Ne/255))},dodge=function(Ne,et){return 255===Ne||(Ne=et/255*255/(1-Ne/255))>255?255:Ne};blend.normal=blend_f(each(normal)),blend.multiply=blend_f(each(multiply)),blend.screen=blend_f(each(screen)),blend.overlay=blend_f(each(overlay)),blend.darken=blend_f(each(darken$1)),blend.lighten=blend_f(each(lighten)),blend.dodge=blend_f(each(dodge)),blend.burn=blend_f(each(burn));for(var dp=blend,mp=it.type,gp=it.clip_rgb,yp=it.TWOPI,vp=Math.pow,_p=Math.sin,bp=Math.cos,cubehelix=function(Ne,et,tt,rt,nt){void 0===Ne&&(Ne=300),void 0===et&&(et=-1.5),void 0===tt&&(tt=1),void 0===rt&&(rt=1),void 0===nt&&(nt=[0,1]);var it,ot=0;"array"===mp(nt)?it=nt[1]-nt[0]:(it=0,nt=[nt,nt]);var f=function(at){var st=yp*((Ne+120)/360+et*at),ct=vp(nt[0]+it*at,rt),pt=(0!==ot?tt[0]+at*ot:tt)*ct*(1-ct)/2,ft=bp(st),mt=_p(st);return dt(gp([255*(ct+pt*(-.14861*ft+1.78277*mt)),255*(ct+pt*(-.29227*ft-.90649*mt)),255*(ct+pt*(1.97294*ft)),1]))};return f.start=function(et){return null==et?Ne:(Ne=et,f)},f.rotations=function(Ne){return null==Ne?et:(et=Ne,f)},f.gamma=function(Ne){return null==Ne?rt:(rt=Ne,f)},f.hue=function(Ne){return null==Ne?tt:("array"===mp(tt=Ne)?0==(ot=tt[1]-tt[0])&&(tt=tt[1]):ot=0,f)},f.lightness=function(Ne){return null==Ne?nt:("array"===mp(Ne)?(nt=Ne,it=Ne[1]-Ne[0]):(nt=[Ne,Ne],it=0),f)},f.scale=function(){return dt.scale(f)},f.hue(tt),f},xp="0123456789abcdef",wp=Math.floor,kp=Math.random,random_1=function(){for(var Ne="#",et=0;et<6;et++)Ne+=xp.charAt(wp(16*kp()));return new ft(Ne,"hex")},Sp=Math.log,Ep=Math.pow,Tp=Math.floor,Cp=Math.abs,analyze=function(Ne,et){void 0===et&&(et=null);var tt={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===type(Ne)&&(Ne=Object.values(Ne)),Ne.forEach((function(Ne){et&&"object"===type(Ne)&&(Ne=Ne[et]),null==Ne||isNaN(Ne)||(tt.values.push(Ne),tt.sum+=Ne,Ne<tt.min&&(tt.min=Ne),Ne>tt.max&&(tt.max=Ne),tt.count+=1)})),tt.domain=[tt.min,tt.max],tt.limits=function(Ne,et){return limits(tt,Ne,et)},tt},limits=function(Ne,et,tt){void 0===et&&(et="equal"),void 0===tt&&(tt=7),"array"==type(Ne)&&(Ne=analyze(Ne));var rt=Ne.min,nt=Ne.max,it=Ne.values.sort((function(Ne,et){return Ne-et}));if(1===tt)return[rt,nt];var ot=[];if("c"===et.substr(0,1)&&(ot.push(rt),ot.push(nt)),"e"===et.substr(0,1)){ot.push(rt);for(var at=1;at<tt;at++)ot.push(rt+at/tt*(nt-rt));ot.push(nt)}else if("l"===et.substr(0,1)){if(rt<=0)throw new Error("Logarithmic scales are only possible for values > 0");var st=Math.LOG10E*Sp(rt),ct=Math.LOG10E*Sp(nt);ot.push(rt);for(var pt=1;pt<tt;pt++)ot.push(Ep(10,st+pt/tt*(ct-st)));ot.push(nt)}else if("q"===et.substr(0,1)){ot.push(rt);for(var ft=1;ft<tt;ft++){var dt=(it.length-1)*ft/tt,mt=Tp(dt);if(mt===dt)ot.push(it[mt]);else{var yt=dt-mt;ot.push(it[mt]*(1-yt)+it[mt+1]*yt)}}ot.push(nt)}else if("k"===et.substr(0,1)){var vt,Rt=it.length,Dt=new Array(Rt),Ot=new Array(tt),Bt=!0,er=0,rr=null;(rr=[]).push(rt);for(var vr=1;vr<tt;vr++)rr.push(rt+vr/tt*(nt-rt));for(rr.push(nt);Bt;){for(var wr=0;wr<tt;wr++)Ot[wr]=0;for(var Sr=0;Sr<Rt;Sr++)for(var rn=it[Sr],vn=Number.MAX_VALUE,bn=void 0,Tn=0;Tn<tt;Tn++){var Cn=Cp(rr[Tn]-rn);Cn<vn&&(vn=Cn,bn=Tn),Ot[bn]++,Dt[Sr]=bn}for(var In=new Array(tt),Mn=0;Mn<tt;Mn++)In[Mn]=null;for(var zn=0;zn<Rt;zn++)null===In[vt=Dt[zn]]?In[vt]=it[zn]:In[vt]+=it[zn];for(var Ln=0;Ln<tt;Ln++)In[Ln]*=1/Ot[Ln];Bt=!1;for(var Fn=0;Fn<tt;Fn++)if(In[Fn]!==rr[Fn]){Bt=!0;break}rr=In,++er>200&&(Bt=!1)}for(var Bn={},Nn=0;Nn<tt;Nn++)Bn[Nn]=[];for(var Vn=0;Vn<Rt;Vn++)Bn[vt=Dt[Vn]].push(it[Vn]);for(var Wn=[],$n=0;$n<tt;$n++)Wn.push(Bn[$n][0]),Wn.push(Bn[$n][Bn[$n].length-1]);Wn=Wn.sort((function(Ne,et){return Ne-et})),ot.push(Wn[0]);for(var Yn=1;Yn<Wn.length;Yn+=2){var ii=Wn[Yn];isNaN(ii)||-1!==ot.indexOf(ii)||ot.push(ii)}}return ot},Pp={analyze,limits},contrast=function(Ne,et){Ne=new ft(Ne),et=new ft(et);var tt=Ne.luminance(),rt=et.luminance();return tt>rt?(tt+.05)/(rt+.05):(rt+.05)/(tt+.05)},Ip=Math.sqrt,Ap=Math.atan2,Rp=Math.abs,Mp=Math.cos,zp=Math.PI,deltaE=function(Ne,et,tt,rt){void 0===tt&&(tt=1),void 0===rt&&(rt=1),Ne=new ft(Ne),et=new ft(et);for(var nt=Array.from(Ne.lab()),it=nt[0],ot=nt[1],at=nt[2],st=Array.from(et.lab()),ct=st[0],pt=st[1],dt=st[2],mt=Ip(ot*ot+at*at),yt=Ip(pt*pt+dt*dt),vt=it<16?.511:.040975*it/(1+.01765*it),Rt=.0638*mt/(1+.0131*mt)+.638,Dt=mt<1e-6?0:180*Ap(at,ot)/zp;Dt<0;)Dt+=360;for(;Dt>=360;)Dt-=360;var Ot=Dt>=164&&Dt<=345?.56+Rp(.2*Mp(zp*(Dt+168)/180)):.36+Rp(.4*Mp(zp*(Dt+35)/180)),Bt=mt*mt*mt*mt,er=Ip(Bt/(Bt+1900)),rr=Rt*(er*Ot+1-er),vr=mt-yt,wr=ot-pt,Sr=at-dt,rn=(it-ct)/(tt*vt),vn=vr/(rt*Rt);return Ip(rn*rn+vn*vn+(wr*wr+Sr*Sr-vr*vr)/(rr*rr))},distance=function(Ne,et,tt){void 0===tt&&(tt="lab"),Ne=new ft(Ne),et=new ft(et);var rt=Ne.get(tt),nt=et.get(tt),it=0;for(var ot in rt){var at=(rt[ot]||0)-(nt[ot]||0);it+=at*at}return Math.sqrt(it)},valid=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];try{return new(Function.prototype.bind.apply(ft,[null].concat(Ne))),!0}catch(Ne){return!1}},Lp={cool:function cool(){return scale([dt.hsl(180,1,.9),dt.hsl(250,.7,.4)])},hot:function hot(){return scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}},Dp={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Op=0,Fp=Object.keys(Dp);Op<Fp.length;Op+=1){var Bp=Fp[Op];Dp[Bp.toLowerCase()]=Dp[Bp]}var Np=Dp;return dt.average=average,dt.bezier=bezier_1,dt.blend=dp,dt.cubehelix=cubehelix,dt.mix=dt.interpolate=mix,dt.random=random_1,dt.scale=scale,dt.analyze=Pp.analyze,dt.contrast=contrast,dt.deltaE=deltaE,dt.distance=distance,dt.limits=Pp.limits,dt.valid=valid,dt.scales=Lp,dt.colors=pc,dt.brewer=Np,dt}()},6010:(Ne,et,tt)=>{"use strict";function toVal(Ne){var et,tt,rt="";if("string"==typeof Ne||"number"==typeof Ne)rt+=Ne;else if("object"==typeof Ne)if(Array.isArray(Ne))for(et=0;et<Ne.length;et++)Ne[et]&&(tt=toVal(Ne[et]))&&(rt&&(rt+=" "),rt+=tt);else for(et in Ne)Ne[et]&&(rt&&(rt+=" "),rt+=et);return rt}function __WEBPACK_DEFAULT_EXPORT__(){for(var Ne,et,tt=0,rt="";tt<arguments.length;)(Ne=arguments[tt++])&&(et=toVal(Ne))&&(rt&&(rt+=" "),rt+=et);return rt}tt.d(et,{Z:()=>__WEBPACK_DEFAULT_EXPORT__})},9662:(Ne,et,tt)=>{var rt=tt(614),nt=tt(6330);Ne.exports=function(Ne){if(rt(Ne))return Ne;throw TypeError(nt(Ne)+" is not a function")}},9483:(Ne,et,tt)=>{var rt=tt(4411),nt=tt(6330);Ne.exports=function(Ne){if(rt(Ne))return Ne;throw TypeError(nt(Ne)+" is not a constructor")}},6077:(Ne,et,tt)=>{var rt=tt(614);Ne.exports=function(Ne){if("object"==typeof Ne||rt(Ne))return Ne;throw TypeError("Can't set "+String(Ne)+" as a prototype")}},1223:(Ne,et,tt)=>{var rt=tt(5112),nt=tt(30),it=tt(3070),ot=rt("unscopables"),at=Array.prototype;null==at[ot]&&it.f(at,ot,{configurable:!0,value:nt(null)}),Ne.exports=function(Ne){at[ot][Ne]=!0}},1530:(Ne,et,tt)=>{"use strict";var rt=tt(8710).charAt;Ne.exports=function(Ne,et,tt){return et+(tt?rt(Ne,et).length:1)}},5787:Ne=>{Ne.exports=function(Ne,et,tt){if(Ne instanceof et)return Ne;throw TypeError("Incorrect "+(tt?tt+" ":"")+"invocation")}},9670:(Ne,et,tt)=>{var rt=tt(111);Ne.exports=function(Ne){if(rt(Ne))return Ne;throw TypeError(String(Ne)+" is not an object")}},4019:Ne=>{Ne.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:(Ne,et,tt)=>{"use strict";var rt,nt,it,ot=tt(4019),at=tt(9781),st=tt(7854),ct=tt(614),pt=tt(111),ft=tt(6656),dt=tt(648),mt=tt(6330),yt=tt(8880),vt=tt(1320),Rt=tt(3070).f,Dt=tt(9518),Ot=tt(7674),Bt=tt(5112),er=tt(9711),rr=st.Int8Array,vr=rr&&rr.prototype,wr=st.Uint8ClampedArray,Sr=wr&&wr.prototype,rn=rr&&Dt(rr),vn=vr&&Dt(vr),bn=Object.prototype,Tn=bn.isPrototypeOf,Cn=Bt("toStringTag"),In=er("TYPED_ARRAY_TAG"),Mn=er("TYPED_ARRAY_CONSTRUCTOR"),zn=ot&&!!Ot&&"Opera"!==dt(st.opera),Ln=!1,Fn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Bn={BigInt64Array:8,BigUint64Array:8},isTypedArray=function(Ne){if(!pt(Ne))return!1;var et=dt(Ne);return ft(Fn,et)||ft(Bn,et)};for(rt in Fn)(it=(nt=st[rt])&&nt.prototype)?yt(it,Mn,nt):zn=!1;for(rt in Bn)(it=(nt=st[rt])&&nt.prototype)&&yt(it,Mn,nt);if((!zn||!ct(rn)||rn===Function.prototype)&&(rn=function TypedArray(){throw TypeError("Incorrect invocation")},zn))for(rt in Fn)st[rt]&&Ot(st[rt],rn);if((!zn||!vn||vn===bn)&&(vn=rn.prototype,zn))for(rt in Fn)st[rt]&&Ot(st[rt].prototype,vn);if(zn&&Dt(Sr)!==vn&&Ot(Sr,vn),at&&!ft(vn,Cn))for(rt in Ln=!0,Rt(vn,Cn,{get:function(){return pt(this)?this[In]:void 0}}),Fn)st[rt]&&yt(st[rt],In,rt);Ne.exports={NATIVE_ARRAY_BUFFER_VIEWS:zn,TYPED_ARRAY_CONSTRUCTOR:Mn,TYPED_ARRAY_TAG:Ln&&In,aTypedArray:function(Ne){if(isTypedArray(Ne))return Ne;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(Ne){if(ct(Ne)&&(!Ot||Tn.call(rn,Ne)))return Ne;throw TypeError(mt(Ne)+" is not a typed array constructor")},exportTypedArrayMethod:function(Ne,et,tt){if(at){if(tt)for(var rt in Fn){var nt=st[rt];if(nt&&ft(nt.prototype,Ne))try{delete nt.prototype[Ne]}catch(Ne){}}vn[Ne]&&!tt||vt(vn,Ne,tt?et:zn&&vr[Ne]||et)}},exportTypedArrayStaticMethod:function(Ne,et,tt){var rt,nt;if(at){if(Ot){if(tt)for(rt in Fn)if((nt=st[rt])&&ft(nt,Ne))try{delete nt[Ne]}catch(Ne){}if(rn[Ne]&&!tt)return;try{return vt(rn,Ne,tt?et:zn&&rn[Ne]||et)}catch(Ne){}}for(rt in Fn)!(nt=st[rt])||nt[Ne]&&!tt||vt(nt,Ne,et)}},isView:function isView(Ne){if(!pt(Ne))return!1;var et=dt(Ne);return"DataView"===et||ft(Fn,et)||ft(Bn,et)},isTypedArray,TypedArray:rn,TypedArrayPrototype:vn}},3331:(Ne,et,tt)=>{"use strict";var rt=tt(7854),nt=tt(9781),it=tt(4019),ot=tt(6530),at=tt(8880),st=tt(2248),ct=tt(7293),pt=tt(5787),ft=tt(9958),dt=tt(7466),mt=tt(7067),yt=tt(1179),vt=tt(9518),Rt=tt(7674),Dt=tt(8006).f,Ot=tt(3070).f,Bt=tt(1285),er=tt(8003),rr=tt(9909),vr=ot.PROPER,wr=ot.CONFIGURABLE,Sr=rr.get,rn=rr.set,vn="ArrayBuffer",bn="DataView",Tn="Wrong index",Cn=rt.ArrayBuffer,In=Cn,Mn=rt.DataView,zn=Mn&&Mn.prototype,Ln=Object.prototype,Fn=rt.RangeError,Bn=yt.pack,Nn=yt.unpack,packInt8=function(Ne){return[255&Ne]},packInt16=function(Ne){return[255&Ne,Ne>>8&255]},packInt32=function(Ne){return[255&Ne,Ne>>8&255,Ne>>16&255,Ne>>24&255]},unpackInt32=function(Ne){return Ne[3]<<24|Ne[2]<<16|Ne[1]<<8|Ne[0]},packFloat32=function(Ne){return Bn(Ne,23,4)},packFloat64=function(Ne){return Bn(Ne,52,8)},addGetter=function(Ne,et){Ot(Ne.prototype,et,{get:function(){return Sr(this)[et]}})},get=function(Ne,et,tt,rt){var nt=mt(tt),it=Sr(Ne);if(nt+et>it.byteLength)throw Fn(Tn);var ot=Sr(it.buffer).bytes,at=nt+it.byteOffset,st=ot.slice(at,at+et);return rt?st:st.reverse()},set=function(Ne,et,tt,rt,nt,it){var ot=mt(tt),at=Sr(Ne);if(ot+et>at.byteLength)throw Fn(Tn);for(var st=Sr(at.buffer).bytes,ct=ot+at.byteOffset,pt=rt(+nt),ft=0;ft<et;ft++)st[ct+ft]=pt[it?ft:et-ft-1]};if(it){var Vn=vr&&Cn.name!==vn;if(ct((function(){Cn(1)}))&&ct((function(){new Cn(-1)}))&&!ct((function(){return new Cn,new Cn(1.5),new Cn(NaN),Vn&&!wr})))Vn&&wr&&at(Cn,"name",vn);else{for(var Wn,$n=(In=function ArrayBuffer(Ne){return pt(this,In),new Cn(mt(Ne))}).prototype=Cn.prototype,Yn=Dt(Cn),ii=0;Yn.length>ii;)(Wn=Yn[ii++])in In||at(In,Wn,Cn[Wn]);$n.constructor=In}Rt&&vt(zn)!==Ln&&Rt(zn,Ln);var qi=new Mn(new In(2)),uo=zn.setInt8;qi.setInt8(0,2147483648),qi.setInt8(1,2147483649),!qi.getInt8(0)&&qi.getInt8(1)||st(zn,{setInt8:function setInt8(Ne,et){uo.call(this,Ne,et<<24>>24)},setUint8:function setUint8(Ne,et){uo.call(this,Ne,et<<24>>24)}},{unsafe:!0})}else In=function ArrayBuffer(Ne){pt(this,In,vn);var et=mt(Ne);rn(this,{bytes:Bt.call(new Array(et),0),byteLength:et}),nt||(this.byteLength=et)},Mn=function DataView(Ne,et,tt){pt(this,Mn,bn),pt(Ne,In,bn);var rt=Sr(Ne).byteLength,it=ft(et);if(it<0||it>rt)throw Fn("Wrong offset");if(it+(tt=void 0===tt?rt-it:dt(tt))>rt)throw Fn("Wrong length");rn(this,{buffer:Ne,byteLength:tt,byteOffset:it}),nt||(this.buffer=Ne,this.byteLength=tt,this.byteOffset=it)},nt&&(addGetter(In,"byteLength"),addGetter(Mn,"buffer"),addGetter(Mn,"byteLength"),addGetter(Mn,"byteOffset")),st(Mn.prototype,{getInt8:function getInt8(Ne){return get(this,1,Ne)[0]<<24>>24},getUint8:function getUint8(Ne){return get(this,1,Ne)[0]},getInt16:function getInt16(Ne){var et=get(this,2,Ne,arguments.length>1?arguments[1]:void 0);return(et[1]<<8|et[0])<<16>>16},getUint16:function getUint16(Ne){var et=get(this,2,Ne,arguments.length>1?arguments[1]:void 0);return et[1]<<8|et[0]},getInt32:function getInt32(Ne){return unpackInt32(get(this,4,Ne,arguments.length>1?arguments[1]:void 0))},getUint32:function getUint32(Ne){return unpackInt32(get(this,4,Ne,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function getFloat32(Ne){return Nn(get(this,4,Ne,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function getFloat64(Ne){return Nn(get(this,8,Ne,arguments.length>1?arguments[1]:void 0),52)},setInt8:function setInt8(Ne,et){set(this,1,Ne,packInt8,et)},setUint8:function setUint8(Ne,et){set(this,1,Ne,packInt8,et)},setInt16:function setInt16(Ne,et){set(this,2,Ne,packInt16,et,arguments.length>2?arguments[2]:void 0)},setUint16:function setUint16(Ne,et){set(this,2,Ne,packInt16,et,arguments.length>2?arguments[2]:void 0)},setInt32:function setInt32(Ne,et){set(this,4,Ne,packInt32,et,arguments.length>2?arguments[2]:void 0)},setUint32:function setUint32(Ne,et){set(this,4,Ne,packInt32,et,arguments.length>2?arguments[2]:void 0)},setFloat32:function setFloat32(Ne,et){set(this,4,Ne,packFloat32,et,arguments.length>2?arguments[2]:void 0)},setFloat64:function setFloat64(Ne,et){set(this,8,Ne,packFloat64,et,arguments.length>2?arguments[2]:void 0)}});er(In,vn),er(Mn,bn),Ne.exports={ArrayBuffer:In,DataView:Mn}},1285:(Ne,et,tt)=>{"use strict";var rt=tt(7908),nt=tt(1400),it=tt(7466);Ne.exports=function fill(Ne){for(var et=rt(this),tt=it(et.length),ot=arguments.length,at=nt(ot>1?arguments[1]:void 0,tt),st=ot>2?arguments[2]:void 0,ct=void 0===st?tt:nt(st,tt);ct>at;)et[at++]=Ne;return et}},1318:(Ne,et,tt)=>{var rt=tt(5656),nt=tt(7466),it=tt(1400),createMethod=function(Ne){return function(et,tt,ot){var at,st=rt(et),ct=nt(st.length),pt=it(ot,ct);if(Ne&&tt!=tt){for(;ct>pt;)if((at=st[pt++])!=at)return!0}else for(;ct>pt;pt++)if((Ne||pt in st)&&st[pt]===tt)return Ne||pt||0;return!Ne&&-1}};Ne.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},2092:(Ne,et,tt)=>{var rt=tt(9974),nt=tt(8361),it=tt(7908),ot=tt(7466),at=tt(5417),st=[].push,createMethod=function(Ne){var et=1==Ne,tt=2==Ne,ct=3==Ne,pt=4==Ne,ft=6==Ne,dt=7==Ne,mt=5==Ne||ft;return function(yt,vt,Rt,Dt){for(var Ot,Bt,er=it(yt),rr=nt(er),vr=rt(vt,Rt,3),wr=ot(rr.length),Sr=0,rn=Dt||at,vn=et?rn(yt,wr):tt||dt?rn(yt,0):void 0;wr>Sr;Sr++)if((mt||Sr in rr)&&(Bt=vr(Ot=rr[Sr],Sr,er),Ne))if(et)vn[Sr]=Bt;else if(Bt)switch(Ne){case 3:return!0;case 5:return Ot;case 6:return Sr;case 2:st.call(vn,Ot)}else switch(Ne){case 4:return!1;case 7:st.call(vn,Ot)}return ft?-1:ct||pt?pt:vn}};Ne.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)}},9341:(Ne,et,tt)=>{"use strict";var rt=tt(7293);Ne.exports=function(Ne,et){var tt=[][Ne];return!!tt&&rt((function(){tt.call(null,et||function(){throw 1},1)}))}},3671:(Ne,et,tt)=>{var rt=tt(9662),nt=tt(7908),it=tt(8361),ot=tt(7466),createMethod=function(Ne){return function(et,tt,at,st){rt(tt);var ct=nt(et),pt=it(ct),ft=ot(ct.length),dt=Ne?ft-1:0,mt=Ne?-1:1;if(at<2)for(;;){if(dt in pt){st=pt[dt],dt+=mt;break}if(dt+=mt,Ne?dt<0:ft<=dt)throw TypeError("Reduce of empty array with no initial value")}for(;Ne?dt>=0:ft>dt;dt+=mt)dt in pt&&(st=tt(st,pt[dt],dt,ct));return st}};Ne.exports={left:createMethod(!1),right:createMethod(!0)}},2423:Ne=>{var et=Math.floor,mergeSort=function(Ne,tt){var rt=Ne.length,nt=et(rt/2);return rt<8?insertionSort(Ne,tt):merge(mergeSort(Ne.slice(0,nt),tt),mergeSort(Ne.slice(nt),tt),tt)},insertionSort=function(Ne,et){for(var tt,rt,nt=Ne.length,it=1;it<nt;){for(rt=it,tt=Ne[it];rt&&et(Ne[rt-1],tt)>0;)Ne[rt]=Ne[--rt];rt!==it++&&(Ne[rt]=tt)}return Ne},merge=function(Ne,et,tt){for(var rt=Ne.length,nt=et.length,it=0,ot=0,at=[];it<rt||ot<nt;)it<rt&&ot<nt?at.push(tt(Ne[it],et[ot])<=0?Ne[it++]:et[ot++]):at.push(it<rt?Ne[it++]:et[ot++]);return at};Ne.exports=mergeSort},7475:(Ne,et,tt)=>{var rt=tt(3157),nt=tt(4411),it=tt(111),ot=tt(5112)("species");Ne.exports=function(Ne){var et;return rt(Ne)&&(et=Ne.constructor,(nt(et)&&(et===Array||rt(et.prototype))||it(et)&&null===(et=et[ot]))&&(et=void 0)),void 0===et?Array:et}},5417:(Ne,et,tt)=>{var rt=tt(7475);Ne.exports=function(Ne,et){return new(rt(Ne))(0===et?0:et)}},7072:(Ne,et,tt)=>{var rt=tt(5112)("iterator"),nt=!1;try{var it=0,ot={next:function(){return{done:!!it++}},return:function(){nt=!0}};ot[rt]=function(){return this},Array.from(ot,(function(){throw 2}))}catch(Ne){}Ne.exports=function(Ne,et){if(!et&&!nt)return!1;var tt=!1;try{var it={};it[rt]=function(){return{next:function(){return{done:tt=!0}}}},Ne(it)}catch(Ne){}return tt}},4326:Ne=>{var et={}.toString;Ne.exports=function(Ne){return et.call(Ne).slice(8,-1)}},648:(Ne,et,tt)=>{var rt=tt(1694),nt=tt(614),it=tt(4326),ot=tt(5112)("toStringTag"),at="Arguments"==it(function(){return arguments}());Ne.exports=rt?it:function(Ne){var et,tt,rt;return void 0===Ne?"Undefined":null===Ne?"Null":"string"==typeof(tt=function(Ne,et){try{return Ne[et]}catch(Ne){}}(et=Object(Ne),ot))?tt:at?it(et):"Object"==(rt=it(et))&&nt(et.callee)?"Arguments":rt}},1501:(Ne,et,tt)=>{"use strict";var rt=tt(9662),nt=tt(9670);Ne.exports=function(){for(var Ne=nt(this),et=rt(Ne.add),tt=0,it=arguments.length;tt<it;tt++)et.call(Ne,arguments[tt]);return Ne}},4092:(Ne,et,tt)=>{"use strict";var rt=tt(9662),nt=tt(9670);Ne.exports=function(){for(var Ne,et=nt(this),tt=rt(et.delete),it=!0,ot=0,at=arguments.length;ot<at;ot++)Ne=tt.call(et,arguments[ot]),it=it&&Ne;return!!it}},9920:(Ne,et,tt)=>{var rt=tt(6656),nt=tt(3887),it=tt(1236),ot=tt(3070);Ne.exports=function(Ne,et){for(var tt=nt(et),at=ot.f,st=it.f,ct=0;ct<tt.length;ct++){var pt=tt[ct];rt(Ne,pt)||at(Ne,pt,st(et,pt))}}},8544:(Ne,et,tt)=>{var rt=tt(7293);Ne.exports=!rt((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},8880:(Ne,et,tt)=>{var rt=tt(9781),nt=tt(3070),it=tt(9114);Ne.exports=rt?function(Ne,et,tt){return nt.f(Ne,et,it(1,tt))}:function(Ne,et,tt){return Ne[et]=tt,Ne}},9114:Ne=>{Ne.exports=function(Ne,et){return{enumerable:!(1&Ne),configurable:!(2&Ne),writable:!(4&Ne),value:et}}},9781:(Ne,et,tt)=>{var rt=tt(7293);Ne.exports=!rt((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(Ne,et,tt)=>{var rt=tt(7854),nt=tt(111),it=rt.document,ot=nt(it)&&nt(it.createElement);Ne.exports=function(Ne){return ot?it.createElement(Ne):{}}},8886:(Ne,et,tt)=>{var rt=tt(8113).match(/firefox\/(\d+)/i);Ne.exports=!!rt&&+rt[1]},7871:Ne=>{Ne.exports="object"==typeof window},256:(Ne,et,tt)=>{var rt=tt(8113);Ne.exports=/MSIE|Trident/.test(rt)},1528:(Ne,et,tt)=>{var rt=tt(8113),nt=tt(7854);Ne.exports=/ipad|iphone|ipod/i.test(rt)&&void 0!==nt.Pebble},6833:(Ne,et,tt)=>{var rt=tt(8113);Ne.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(rt)},5268:(Ne,et,tt)=>{var rt=tt(4326),nt=tt(7854);Ne.exports="process"==rt(nt.process)},1036:(Ne,et,tt)=>{var rt=tt(8113);Ne.exports=/web0s(?!.*chrome)/i.test(rt)},8113:(Ne,et,tt)=>{var rt=tt(5005);Ne.exports=rt("navigator","userAgent")||""},7392:(Ne,et,tt)=>{var rt,nt,it=tt(7854),ot=tt(8113),at=it.process,st=it.Deno,ct=at&&at.versions||st&&st.version,pt=ct&&ct.v8;pt?nt=(rt=pt.split("."))[0]<4?1:rt[0]+rt[1]:ot&&(!(rt=ot.match(/Edge\/(\d+)/))||rt[1]>=74)&&(rt=ot.match(/Chrome\/(\d+)/))&&(nt=rt[1]),Ne.exports=nt&&+nt},8008:(Ne,et,tt)=>{var rt=tt(8113).match(/AppleWebKit\/(\d+)\./);Ne.exports=!!rt&&+rt[1]},748:Ne=>{Ne.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(Ne,et,tt)=>{var rt=tt(7854),nt=tt(1236).f,it=tt(8880),ot=tt(1320),at=tt(3505),st=tt(9920),ct=tt(4705);Ne.exports=function(Ne,et){var tt,pt,ft,dt,mt,yt=Ne.target,vt=Ne.global,Rt=Ne.stat;if(tt=vt?rt:Rt?rt[yt]||at(yt,{}):(rt[yt]||{}).prototype)for(pt in et){if(dt=et[pt],ft=Ne.noTargetGet?(mt=nt(tt,pt))&&mt.value:tt[pt],!ct(vt?pt:yt+(Rt?".":"#")+pt,Ne.forced)&&void 0!==ft){if(typeof dt==typeof ft)continue;st(dt,ft)}(Ne.sham||ft&&ft.sham)&&it(dt,"sham",!0),ot(tt,pt,dt,Ne)}}},7293:Ne=>{Ne.exports=function(Ne){try{return!!Ne()}catch(Ne){return!0}}},7007:(Ne,et,tt)=>{"use strict";tt(4916);var rt=tt(1320),nt=tt(2261),it=tt(7293),ot=tt(5112),at=tt(8880),st=ot("species"),ct=RegExp.prototype;Ne.exports=function(Ne,et,tt,pt){var ft=ot(Ne),dt=!it((function(){var et={};return et[ft]=function(){return 7},7!=""[Ne](et)})),mt=dt&&!it((function(){var et=!1,tt=/a/;return"split"===Ne&&((tt={}).constructor={},tt.constructor[st]=function(){return tt},tt.flags="",tt[ft]=/./[ft]),tt.exec=function(){return et=!0,null},tt[ft](""),!et}));if(!dt||!mt||tt){var yt=/./[ft],vt=et(ft,""[Ne],(function(Ne,et,tt,rt,it){var ot=et.exec;return ot===nt||ot===ct.exec?dt&&!it?{done:!0,value:yt.call(et,tt,rt)}:{done:!0,value:Ne.call(tt,et,rt)}:{done:!1}}));rt(String.prototype,Ne,vt[0]),rt(ct,ft,vt[1])}pt&&at(ct[ft],"sham",!0)}},9974:(Ne,et,tt)=>{var rt=tt(9662);Ne.exports=function(Ne,et,tt){if(rt(Ne),void 0===et)return Ne;switch(tt){case 0:return function(){return Ne.call(et)};case 1:return function(tt){return Ne.call(et,tt)};case 2:return function(tt,rt){return Ne.call(et,tt,rt)};case 3:return function(tt,rt,nt){return Ne.call(et,tt,rt,nt)}}return function(){return Ne.apply(et,arguments)}}},6530:(Ne,et,tt)=>{var rt=tt(9781),nt=tt(6656),it=Function.prototype,ot=rt&&Object.getOwnPropertyDescriptor,at=nt(it,"name"),st=at&&"something"===function something(){}.name,ct=at&&(!rt||rt&&ot(it,"name").configurable);Ne.exports={EXISTS:at,PROPER:st,CONFIGURABLE:ct}},5005:(Ne,et,tt)=>{var rt=tt(7854),nt=tt(614),aFunction=function(Ne){return nt(Ne)?Ne:void 0};Ne.exports=function(Ne,et){return arguments.length<2?aFunction(rt[Ne]):rt[Ne]&&rt[Ne][et]}},1246:(Ne,et,tt)=>{var rt=tt(648),nt=tt(8173),it=tt(7497),ot=tt(5112)("iterator");Ne.exports=function(Ne){if(null!=Ne)return nt(Ne,ot)||nt(Ne,"@@iterator")||it[rt(Ne)]}},8554:(Ne,et,tt)=>{var rt=tt(9662),nt=tt(9670),it=tt(1246);Ne.exports=function(Ne,et){var tt=arguments.length<2?it(Ne):et;if(rt(tt))return nt(tt.call(Ne));throw TypeError(String(Ne)+" is not iterable")}},4647:Ne=>{Ne.exports=function(Ne){return Map.prototype.entries.call(Ne)}},8173:(Ne,et,tt)=>{var rt=tt(9662);Ne.exports=function(Ne,et){var tt=Ne[et];return null==tt?void 0:rt(tt)}},6767:Ne=>{Ne.exports=function(Ne){return Set.prototype.values.call(Ne)}},647:(Ne,et,tt)=>{var rt=tt(7908),nt=Math.floor,it="".replace,ot=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,at=/\$([$&'`]|\d{1,2})/g;Ne.exports=function(Ne,et,tt,st,ct,pt){var ft=tt+Ne.length,dt=st.length,mt=at;return void 0!==ct&&(ct=rt(ct),mt=ot),it.call(pt,mt,(function(rt,it){var ot;switch(it.charAt(0)){case"$":return"$";case"&":return Ne;case"`":return et.slice(0,tt);case"'":return et.slice(ft);case"<":ot=ct[it.slice(1,-1)];break;default:var at=+it;if(0===at)return rt;if(at>dt){var pt=nt(at/10);return 0===pt?rt:pt<=dt?void 0===st[pt-1]?it.charAt(1):st[pt-1]+it.charAt(1):rt}ot=st[at-1]}return void 0===ot?"":ot}))}},7854:(Ne,et,tt)=>{var check=function(Ne){return Ne&&Ne.Math==Math&&Ne};Ne.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof tt.g&&tt.g)||function(){return this}()||Function("return this")()},6656:(Ne,et,tt)=>{var rt=tt(7908),nt={}.hasOwnProperty;Ne.exports=Object.hasOwn||function hasOwn(Ne,et){return nt.call(rt(Ne),et)}},3501:Ne=>{Ne.exports={}},842:(Ne,et,tt)=>{var rt=tt(7854);Ne.exports=function(Ne,et){var tt=rt.console;tt&&tt.error&&(1===arguments.length?tt.error(Ne):tt.error(Ne,et))}},490:(Ne,et,tt)=>{var rt=tt(5005);Ne.exports=rt("document","documentElement")},4664:(Ne,et,tt)=>{var rt=tt(9781),nt=tt(7293),it=tt(317);Ne.exports=!rt&&!nt((function(){return 7!=Object.defineProperty(it("div"),"a",{get:function(){return 7}}).a}))},1179:Ne=>{var et=Math.abs,tt=Math.pow,rt=Math.floor,nt=Math.log,it=Math.LN2;Ne.exports={pack:function(Ne,ot,at){var st,ct,pt,ft=new Array(at),dt=8*at-ot-1,mt=(1<<dt)-1,yt=mt>>1,vt=23===ot?tt(2,-24)-tt(2,-77):0,Rt=Ne<0||0===Ne&&1/Ne<0?1:0,Dt=0;for((Ne=et(Ne))!=Ne||Ne===1/0?(ct=Ne!=Ne?1:0,st=mt):(st=rt(nt(Ne)/it),Ne*(pt=tt(2,-st))<1&&(st--,pt*=2),(Ne+=st+yt>=1?vt/pt:vt*tt(2,1-yt))*pt>=2&&(st++,pt/=2),st+yt>=mt?(ct=0,st=mt):st+yt>=1?(ct=(Ne*pt-1)*tt(2,ot),st+=yt):(ct=Ne*tt(2,yt-1)*tt(2,ot),st=0));ot>=8;ft[Dt++]=255&ct,ct/=256,ot-=8);for(st=st<<ot|ct,dt+=ot;dt>0;ft[Dt++]=255&st,st/=256,dt-=8);return ft[--Dt]|=128*Rt,ft},unpack:function(Ne,et){var rt,nt=Ne.length,it=8*nt-et-1,ot=(1<<it)-1,at=ot>>1,st=it-7,ct=nt-1,pt=Ne[ct--],ft=127&pt;for(pt>>=7;st>0;ft=256*ft+Ne[ct],ct--,st-=8);for(rt=ft&(1<<-st)-1,ft>>=-st,st+=et;st>0;rt=256*rt+Ne[ct],ct--,st-=8);if(0===ft)ft=1-at;else{if(ft===ot)return rt?NaN:pt?-1/0:1/0;rt+=tt(2,et),ft-=at}return(pt?-1:1)*rt*tt(2,ft-et)}}},8361:(Ne,et,tt)=>{var rt=tt(7293),nt=tt(4326),it="".split;Ne.exports=rt((function(){return!Object("z").propertyIsEnumerable(0)}))?function(Ne){return"String"==nt(Ne)?it.call(Ne,""):Object(Ne)}:Object},9587:(Ne,et,tt)=>{var rt=tt(614),nt=tt(111),it=tt(7674);Ne.exports=function(Ne,et,tt){var ot,at;return it&&rt(ot=et.constructor)&&ot!==tt&&nt(at=ot.prototype)&&at!==tt.prototype&&it(Ne,at),Ne}},2788:(Ne,et,tt)=>{var rt=tt(614),nt=tt(5465),it=Function.toString;rt(nt.inspectSource)||(nt.inspectSource=function(Ne){return it.call(Ne)}),Ne.exports=nt.inspectSource},9909:(Ne,et,tt)=>{var rt,nt,it,ot=tt(8536),at=tt(7854),st=tt(111),ct=tt(8880),pt=tt(6656),ft=tt(5465),dt=tt(6200),mt=tt(3501),yt="Object already initialized",vt=at.WeakMap;if(ot||ft.state){var Rt=ft.state||(ft.state=new vt),Dt=Rt.get,Ot=Rt.has,Bt=Rt.set;rt=function(Ne,et){if(Ot.call(Rt,Ne))throw new TypeError(yt);return et.facade=Ne,Bt.call(Rt,Ne,et),et},nt=function(Ne){return Dt.call(Rt,Ne)||{}},it=function(Ne){return Ot.call(Rt,Ne)}}else{var er=dt("state");mt[er]=!0,rt=function(Ne,et){if(pt(Ne,er))throw new TypeError(yt);return et.facade=Ne,ct(Ne,er,et),et},nt=function(Ne){return pt(Ne,er)?Ne[er]:{}},it=function(Ne){return pt(Ne,er)}}Ne.exports={set:rt,get:nt,has:it,enforce:function(Ne){return it(Ne)?nt(Ne):rt(Ne,{})},getterFor:function(Ne){return function(et){var tt;if(!st(et)||(tt=nt(et)).type!==Ne)throw TypeError("Incompatible receiver, "+Ne+" required");return tt}}}},7659:(Ne,et,tt)=>{var rt=tt(5112),nt=tt(7497),it=rt("iterator"),ot=Array.prototype;Ne.exports=function(Ne){return void 0!==Ne&&(nt.Array===Ne||ot[it]===Ne)}},3157:(Ne,et,tt)=>{var rt=tt(4326);Ne.exports=Array.isArray||function isArray(Ne){return"Array"==rt(Ne)}},614:Ne=>{Ne.exports=function(Ne){return"function"==typeof Ne}},4411:(Ne,et,tt)=>{var rt=tt(7293),nt=tt(614),it=tt(648),ot=tt(5005),at=tt(2788),st=[],ct=ot("Reflect","construct"),pt=/^\s*(?:class|function)\b/,ft=pt.exec,dt=!pt.exec((function(){})),isConstructorModern=function(Ne){if(!nt(Ne))return!1;try{return ct(Object,st,Ne),!0}catch(Ne){return!1}};Ne.exports=!ct||rt((function(){var Ne;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern((function(){Ne=!0}))||Ne}))?function(Ne){if(!nt(Ne))return!1;switch(it(Ne)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return dt||!!ft.call(pt,at(Ne))}:isConstructorModern},4705:(Ne,et,tt)=>{var rt=tt(7293),nt=tt(614),it=/#|\.prototype\./,isForced=function(Ne,et){var tt=at[ot(Ne)];return tt==ct||tt!=st&&(nt(et)?rt(et):!!et)},ot=isForced.normalize=function(Ne){return String(Ne).replace(it,".").toLowerCase()},at=isForced.data={},st=isForced.NATIVE="N",ct=isForced.POLYFILL="P";Ne.exports=isForced},8730:(Ne,et,tt)=>{var rt=tt(111),nt=Math.floor;Ne.exports=function isInteger(Ne){return!rt(Ne)&&isFinite(Ne)&&nt(Ne)===Ne}},111:(Ne,et,tt)=>{var rt=tt(614);Ne.exports=function(Ne){return"object"==typeof Ne?null!==Ne:rt(Ne)}},1913:Ne=>{Ne.exports=!1},7850:(Ne,et,tt)=>{var rt=tt(111),nt=tt(4326),it=tt(5112)("match");Ne.exports=function(Ne){var et;return rt(Ne)&&(void 0!==(et=Ne[it])?!!et:"RegExp"==nt(Ne))}},2190:(Ne,et,tt)=>{var rt=tt(614),nt=tt(5005),it=tt(3307);Ne.exports=it?function(Ne){return"symbol"==typeof Ne}:function(Ne){var et=nt("Symbol");return rt(et)&&Object(Ne)instanceof et}},408:(Ne,et,tt)=>{var rt=tt(9670),nt=tt(7659),it=tt(7466),ot=tt(9974),at=tt(8554),st=tt(1246),ct=tt(9212),Result=function(Ne,et){this.stopped=Ne,this.result=et};Ne.exports=function(Ne,et,tt){var pt,ft,dt,mt,yt,vt,Rt,Dt=tt&&tt.that,Ot=!(!tt||!tt.AS_ENTRIES),Bt=!(!tt||!tt.IS_ITERATOR),er=!(!tt||!tt.INTERRUPTED),rr=ot(et,Dt,1+Ot+er),stop=function(Ne){return pt&&ct(pt,"normal",Ne),new Result(!0,Ne)},callFn=function(Ne){return Ot?(rt(Ne),er?rr(Ne[0],Ne[1],stop):rr(Ne[0],Ne[1])):er?rr(Ne,stop):rr(Ne)};if(Bt)pt=Ne;else{if(!(ft=st(Ne)))throw TypeError(String(Ne)+" is not iterable");if(nt(ft)){for(dt=0,mt=it(Ne.length);mt>dt;dt++)if((yt=callFn(Ne[dt]))&&yt instanceof Result)return yt;return new Result(!1)}pt=at(Ne,ft)}for(vt=pt.next;!(Rt=vt.call(pt)).done;){try{yt=callFn(Rt.value)}catch(Ne){ct(pt,"throw",Ne)}if("object"==typeof yt&&yt&&yt instanceof Result)return yt}return new Result(!1)}},9212:(Ne,et,tt)=>{var rt=tt(9670),nt=tt(8173);Ne.exports=function(Ne,et,tt){var it,ot;rt(Ne);try{if(!(it=nt(Ne,"return"))){if("throw"===et)throw tt;return tt}it=it.call(Ne)}catch(Ne){ot=!0,it=Ne}if("throw"===et)throw tt;if(ot)throw it;return rt(it),tt}},7497:Ne=>{Ne.exports={}},5948:(Ne,et,tt)=>{var rt,nt,it,ot,at,st,ct,pt,ft=tt(7854),dt=tt(1236).f,mt=tt(261).set,yt=tt(6833),vt=tt(1528),Rt=tt(1036),Dt=tt(5268),Ot=ft.MutationObserver||ft.WebKitMutationObserver,Bt=ft.document,er=ft.process,rr=ft.Promise,vr=dt(ft,"queueMicrotask"),wr=vr&&vr.value;wr||(rt=function(){var Ne,et;for(Dt&&(Ne=er.domain)&&Ne.exit();nt;){et=nt.fn,nt=nt.next;try{et()}catch(Ne){throw nt?ot():it=void 0,Ne}}it=void 0,Ne&&Ne.enter()},yt||Dt||Rt||!Ot||!Bt?!vt&&rr&&rr.resolve?((ct=rr.resolve(void 0)).constructor=rr,pt=ct.then,ot=function(){pt.call(ct,rt)}):ot=Dt?function(){er.nextTick(rt)}:function(){mt.call(ft,rt)}:(at=!0,st=Bt.createTextNode(""),new Ot(rt).observe(st,{characterData:!0}),ot=function(){st.data=at=!at})),Ne.exports=wr||function(Ne){var et={fn:Ne,next:void 0};it&&(it.next=et),nt||(nt=et,ot()),it=et}},3366:(Ne,et,tt)=>{var rt=tt(7854);Ne.exports=rt.Promise},133:(Ne,et,tt)=>{var rt=tt(7392),nt=tt(7293);Ne.exports=!!Object.getOwnPropertySymbols&&!nt((function(){var Ne=Symbol();return!String(Ne)||!(Object(Ne)instanceof Symbol)||!Symbol.sham&&rt&&rt<41}))},8536:(Ne,et,tt)=>{var rt=tt(7854),nt=tt(614),it=tt(2788),ot=rt.WeakMap;Ne.exports=nt(ot)&&/native code/.test(it(ot))},8523:(Ne,et,tt)=>{"use strict";var rt=tt(9662),PromiseCapability=function(Ne){var et,tt;this.promise=new Ne((function(Ne,rt){if(void 0!==et||void 0!==tt)throw TypeError("Bad Promise constructor");et=Ne,tt=rt})),this.resolve=rt(et),this.reject=rt(tt)};Ne.exports.f=function(Ne){return new PromiseCapability(Ne)}},30:(Ne,et,tt)=>{var rt,nt=tt(9670),it=tt(6048),ot=tt(748),at=tt(3501),st=tt(490),ct=tt(317),pt=tt(6200),ft=pt("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(Ne){return"<script>"+Ne+"</"+"script>"},NullProtoObjectViaActiveX=function(Ne){Ne.write(scriptTag("")),Ne.close();var et=Ne.parentWindow.Object;return Ne=null,et},NullProtoObject=function(){try{rt=new ActiveXObject("htmlfile")}catch(Ne){}var Ne,et;NullProtoObject="undefined"!=typeof document?document.domain&&rt?NullProtoObjectViaActiveX(rt):((et=ct("iframe")).style.display="none",st.appendChild(et),et.src=String("javascript:"),(Ne=et.contentWindow.document).open(),Ne.write(scriptTag("document.F=Object")),Ne.close(),Ne.F):NullProtoObjectViaActiveX(rt);for(var tt=ot.length;tt--;)delete NullProtoObject.prototype[ot[tt]];return NullProtoObject()};at[ft]=!0,Ne.exports=Object.create||function create(Ne,et){var tt;return null!==Ne?(EmptyConstructor.prototype=nt(Ne),tt=new EmptyConstructor,EmptyConstructor.prototype=null,tt[ft]=Ne):tt=NullProtoObject(),void 0===et?tt:it(tt,et)}},6048:(Ne,et,tt)=>{var rt=tt(9781),nt=tt(3070),it=tt(9670),ot=tt(1956);Ne.exports=rt?Object.defineProperties:function defineProperties(Ne,et){it(Ne);for(var tt,rt=ot(et),at=rt.length,st=0;at>st;)nt.f(Ne,tt=rt[st++],et[tt]);return Ne}},3070:(Ne,et,tt)=>{var rt=tt(9781),nt=tt(4664),it=tt(9670),ot=tt(4948),at=Object.defineProperty;et.f=rt?at:function defineProperty(Ne,et,tt){if(it(Ne),et=ot(et),it(tt),nt)try{return at(Ne,et,tt)}catch(Ne){}if("get"in tt||"set"in tt)throw TypeError("Accessors not supported");return"value"in tt&&(Ne[et]=tt.value),Ne}},1236:(Ne,et,tt)=>{var rt=tt(9781),nt=tt(5296),it=tt(9114),ot=tt(5656),at=tt(4948),st=tt(6656),ct=tt(4664),pt=Object.getOwnPropertyDescriptor;et.f=rt?pt:function getOwnPropertyDescriptor(Ne,et){if(Ne=ot(Ne),et=at(et),ct)try{return pt(Ne,et)}catch(Ne){}if(st(Ne,et))return it(!nt.f.call(Ne,et),Ne[et])}},8006:(Ne,et,tt)=>{var rt=tt(6324),nt=tt(748).concat("length","prototype");et.f=Object.getOwnPropertyNames||function getOwnPropertyNames(Ne){return rt(Ne,nt)}},5181:(Ne,et)=>{et.f=Object.getOwnPropertySymbols},9518:(Ne,et,tt)=>{var rt=tt(6656),nt=tt(614),it=tt(7908),ot=tt(6200),at=tt(8544),st=ot("IE_PROTO"),ct=Object.prototype;Ne.exports=at?Object.getPrototypeOf:function(Ne){var et=it(Ne);if(rt(et,st))return et[st];var tt=et.constructor;return nt(tt)&&et instanceof tt?tt.prototype:et instanceof Object?ct:null}},6324:(Ne,et,tt)=>{var rt=tt(6656),nt=tt(5656),it=tt(1318).indexOf,ot=tt(3501);Ne.exports=function(Ne,et){var tt,at=nt(Ne),st=0,ct=[];for(tt in at)!rt(ot,tt)&&rt(at,tt)&&ct.push(tt);for(;et.length>st;)rt(at,tt=et[st++])&&(~it(ct,tt)||ct.push(tt));return ct}},1956:(Ne,et,tt)=>{var rt=tt(6324),nt=tt(748);Ne.exports=Object.keys||function keys(Ne){return rt(Ne,nt)}},5296:(Ne,et)=>{"use strict";var tt={}.propertyIsEnumerable,rt=Object.getOwnPropertyDescriptor,nt=rt&&!tt.call({1:2},1);et.f=nt?function propertyIsEnumerable(Ne){var et=rt(this,Ne);return!!et&&et.enumerable}:tt},7674:(Ne,et,tt)=>{var rt=tt(9670),nt=tt(6077);Ne.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var Ne,et=!1,tt={};try{(Ne=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(tt,[]),et=tt instanceof Array}catch(Ne){}return function setPrototypeOf(tt,it){return rt(tt),nt(it),et?Ne.call(tt,it):tt.__proto__=it,tt}}():void 0)},2140:(Ne,et,tt)=>{var rt=tt(614),nt=tt(111);Ne.exports=function(Ne,et){var tt,it;if("string"===et&&rt(tt=Ne.toString)&&!nt(it=tt.call(Ne)))return it;if(rt(tt=Ne.valueOf)&&!nt(it=tt.call(Ne)))return it;if("string"!==et&&rt(tt=Ne.toString)&&!nt(it=tt.call(Ne)))return it;throw TypeError("Can't convert object to primitive value")}},3887:(Ne,et,tt)=>{var rt=tt(5005),nt=tt(8006),it=tt(5181),ot=tt(9670);Ne.exports=rt("Reflect","ownKeys")||function ownKeys(Ne){var et=nt.f(ot(Ne)),tt=it.f;return tt?et.concat(tt(Ne)):et}},2534:Ne=>{Ne.exports=function(Ne){try{return{error:!1,value:Ne()}}catch(Ne){return{error:!0,value:Ne}}}},9478:(Ne,et,tt)=>{var rt=tt(9670),nt=tt(111),it=tt(8523);Ne.exports=function(Ne,et){if(rt(Ne),nt(et)&&et.constructor===Ne)return et;var tt=it.f(Ne);return(0,tt.resolve)(et),tt.promise}},2248:(Ne,et,tt)=>{var rt=tt(1320);Ne.exports=function(Ne,et,tt){for(var nt in et)rt(Ne,nt,et[nt],tt);return Ne}},1320:(Ne,et,tt)=>{var rt=tt(7854),nt=tt(614),it=tt(6656),ot=tt(8880),at=tt(3505),st=tt(2788),ct=tt(9909),pt=tt(6530).CONFIGURABLE,ft=ct.get,dt=ct.enforce,mt=String(String).split("String");(Ne.exports=function(Ne,et,tt,st){var ct,ft=!!st&&!!st.unsafe,yt=!!st&&!!st.enumerable,vt=!!st&&!!st.noTargetGet,Rt=st&&void 0!==st.name?st.name:et;nt(tt)&&("Symbol("===String(Rt).slice(0,7)&&(Rt="["+String(Rt).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!it(tt,"name")||pt&&tt.name!==Rt)&&ot(tt,"name",Rt),(ct=dt(tt)).source||(ct.source=mt.join("string"==typeof Rt?Rt:""))),Ne!==rt?(ft?!vt&&Ne[et]&&(yt=!0):delete Ne[et],yt?Ne[et]=tt:ot(Ne,et,tt)):yt?Ne[et]=tt:at(et,tt)})(Function.prototype,"toString",(function toString(){return nt(this)&&ft(this).source||st(this)}))},7651:(Ne,et,tt)=>{var rt=tt(9670),nt=tt(614),it=tt(4326),ot=tt(2261);Ne.exports=function(Ne,et){var tt=Ne.exec;if(nt(tt)){var at=tt.call(Ne,et);return null!==at&&rt(at),at}if("RegExp"===it(Ne))return ot.call(Ne,et);throw TypeError("RegExp#exec called on incompatible receiver")}},2261:(Ne,et,tt)=>{"use strict";var rt,nt,it=tt(1340),ot=tt(7066),at=tt(2999),st=tt(2309),ct=tt(30),pt=tt(9909).get,ft=tt(9441),dt=tt(7168),mt=RegExp.prototype.exec,yt=st("native-string-replace",String.prototype.replace),vt=mt,Rt=(rt=/a/,nt=/b*/g,mt.call(rt,"a"),mt.call(nt,"a"),0!==rt.lastIndex||0!==nt.lastIndex),Dt=at.UNSUPPORTED_Y||at.BROKEN_CARET,Ot=void 0!==/()??/.exec("")[1];(Rt||Ot||Dt||ft||dt)&&(vt=function exec(Ne){var et,tt,rt,nt,at,st,ft,dt=this,Bt=pt(dt),er=it(Ne),rr=Bt.raw;if(rr)return rr.lastIndex=dt.lastIndex,et=vt.call(rr,er),dt.lastIndex=rr.lastIndex,et;var vr=Bt.groups,wr=Dt&&dt.sticky,Sr=ot.call(dt),rn=dt.source,vn=0,bn=er;if(wr&&(-1===(Sr=Sr.replace("y","")).indexOf("g")&&(Sr+="g"),bn=er.slice(dt.lastIndex),dt.lastIndex>0&&(!dt.multiline||dt.multiline&&"\n"!==er.charAt(dt.lastIndex-1))&&(rn="(?: "+rn+")",bn=" "+bn,vn++),tt=new RegExp("^(?:"+rn+")",Sr)),Ot&&(tt=new RegExp("^"+rn+"$(?!\\s)",Sr)),Rt&&(rt=dt.lastIndex),nt=mt.call(wr?tt:dt,bn),wr?nt?(nt.input=nt.input.slice(vn),nt[0]=nt[0].slice(vn),nt.index=dt.lastIndex,dt.lastIndex+=nt[0].length):dt.lastIndex=0:Rt&&nt&&(dt.lastIndex=dt.global?nt.index+nt[0].length:rt),Ot&&nt&&nt.length>1&&yt.call(nt[0],tt,(function(){for(at=1;at<arguments.length-2;at++)void 0===arguments[at]&&(nt[at]=void 0)})),nt&&vr)for(nt.groups=st=ct(null),at=0;at<vr.length;at++)st[(ft=vr[at])[0]]=nt[ft[1]];return nt}),Ne.exports=vt},7066:(Ne,et,tt)=>{"use strict";var rt=tt(9670);Ne.exports=function(){var Ne=rt(this),et="";return Ne.global&&(et+="g"),Ne.ignoreCase&&(et+="i"),Ne.multiline&&(et+="m"),Ne.dotAll&&(et+="s"),Ne.unicode&&(et+="u"),Ne.sticky&&(et+="y"),et}},2999:(Ne,et,tt)=>{var rt=tt(7293),nt=tt(7854).RegExp;et.UNSUPPORTED_Y=rt((function(){var Ne=nt("a","y");return Ne.lastIndex=2,null!=Ne.exec("abcd")})),et.BROKEN_CARET=rt((function(){var Ne=nt("^r","gy");return Ne.lastIndex=2,null!=Ne.exec("str")}))},9441:(Ne,et,tt)=>{var rt=tt(7293),nt=tt(7854).RegExp;Ne.exports=rt((function(){var Ne=nt(".","s");return!(Ne.dotAll&&Ne.exec("\n")&&"s"===Ne.flags)}))},7168:(Ne,et,tt)=>{var rt=tt(7293),nt=tt(7854).RegExp;Ne.exports=rt((function(){var Ne=nt("(?<a>b)","g");return"b"!==Ne.exec("b").groups.a||"bc"!=="b".replace(Ne,"$<a>c")}))},4488:Ne=>{Ne.exports=function(Ne){if(null==Ne)throw TypeError("Can't call method on "+Ne);return Ne}},6465:Ne=>{Ne.exports=function(Ne,et){return Ne===et||Ne!=Ne&&et!=et}},3505:(Ne,et,tt)=>{var rt=tt(7854);Ne.exports=function(Ne,et){try{Object.defineProperty(rt,Ne,{value:et,configurable:!0,writable:!0})}catch(tt){rt[Ne]=et}return et}},6340:(Ne,et,tt)=>{"use strict";var rt=tt(5005),nt=tt(3070),it=tt(5112),ot=tt(9781),at=it("species");Ne.exports=function(Ne){var et=rt(Ne),tt=nt.f;ot&&et&&!et[at]&&tt(et,at,{configurable:!0,get:function(){return this}})}},8003:(Ne,et,tt)=>{var rt=tt(3070).f,nt=tt(6656),it=tt(5112)("toStringTag");Ne.exports=function(Ne,et,tt){Ne&&!nt(Ne=tt?Ne:Ne.prototype,it)&&rt(Ne,it,{configurable:!0,value:et})}},6200:(Ne,et,tt)=>{var rt=tt(2309),nt=tt(9711),it=rt("keys");Ne.exports=function(Ne){return it[Ne]||(it[Ne]=nt(Ne))}},5465:(Ne,et,tt)=>{var rt=tt(7854),nt=tt(3505),it="__core-js_shared__",ot=rt[it]||nt(it,{});Ne.exports=ot},2309:(Ne,et,tt)=>{var rt=tt(1913),nt=tt(5465);(Ne.exports=function(Ne,et){return nt[Ne]||(nt[Ne]=void 0!==et?et:{})})("versions",[]).push({version:"3.18.1",mode:rt?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:(Ne,et,tt)=>{var rt=tt(9670),nt=tt(9483),it=tt(5112)("species");Ne.exports=function(Ne,et){var tt,ot=rt(Ne).constructor;return void 0===ot||null==(tt=rt(ot)[it])?et:nt(tt)}},8710:(Ne,et,tt)=>{var rt=tt(9958),nt=tt(1340),it=tt(4488),createMethod=function(Ne){return function(et,tt){var ot,at,st=nt(it(et)),ct=rt(tt),pt=st.length;return ct<0||ct>=pt?Ne?"":void 0:(ot=st.charCodeAt(ct))<55296||ot>56319||ct+1===pt||(at=st.charCodeAt(ct+1))<56320||at>57343?Ne?st.charAt(ct):ot:Ne?st.slice(ct,ct+2):at-56320+(ot-55296<<10)+65536}};Ne.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},261:(Ne,et,tt)=>{var rt,nt,it,ot,at=tt(7854),st=tt(614),ct=tt(7293),pt=tt(9974),ft=tt(490),dt=tt(317),mt=tt(6833),yt=tt(5268),vt=at.setImmediate,Rt=at.clearImmediate,Dt=at.process,Ot=at.MessageChannel,Bt=at.Dispatch,er=0,rr={},vr="onreadystatechange";try{rt=at.location}catch(Ne){}var run=function(Ne){if(rr.hasOwnProperty(Ne)){var et=rr[Ne];delete rr[Ne],et()}},runner=function(Ne){return function(){run(Ne)}},listener=function(Ne){run(Ne.data)},post=function(Ne){at.postMessage(String(Ne),rt.protocol+"//"+rt.host)};vt&&Rt||(vt=function setImmediate(Ne){for(var et=[],tt=arguments.length,rt=1;tt>rt;)et.push(arguments[rt++]);return rr[++er]=function(){(st(Ne)?Ne:Function(Ne)).apply(void 0,et)},nt(er),er},Rt=function clearImmediate(Ne){delete rr[Ne]},yt?nt=function(Ne){Dt.nextTick(runner(Ne))}:Bt&&Bt.now?nt=function(Ne){Bt.now(runner(Ne))}:Ot&&!mt?(ot=(it=new Ot).port2,it.port1.onmessage=listener,nt=pt(ot.postMessage,ot,1)):at.addEventListener&&st(at.postMessage)&&!at.importScripts&&rt&&"file:"!==rt.protocol&&!ct(post)?(nt=post,at.addEventListener("message",listener,!1)):nt=vr in dt("script")?function(Ne){ft.appendChild(dt("script")).onreadystatechange=function(){ft.removeChild(this),run(Ne)}}:function(Ne){setTimeout(runner(Ne),0)}),Ne.exports={set:vt,clear:Rt}},1400:(Ne,et,tt)=>{var rt=tt(9958),nt=Math.max,it=Math.min;Ne.exports=function(Ne,et){var tt=rt(Ne);return tt<0?nt(tt+et,0):it(tt,et)}},7067:(Ne,et,tt)=>{var rt=tt(9958),nt=tt(7466);Ne.exports=function(Ne){if(void 0===Ne)return 0;var et=rt(Ne),tt=nt(et);if(et!==tt)throw RangeError("Wrong length or index");return tt}},5656:(Ne,et,tt)=>{var rt=tt(8361),nt=tt(4488);Ne.exports=function(Ne){return rt(nt(Ne))}},9958:Ne=>{var et=Math.ceil,tt=Math.floor;Ne.exports=function(Ne){return isNaN(Ne=+Ne)?0:(Ne>0?tt:et)(Ne)}},7466:(Ne,et,tt)=>{var rt=tt(9958),nt=Math.min;Ne.exports=function(Ne){return Ne>0?nt(rt(Ne),9007199254740991):0}},7908:(Ne,et,tt)=>{var rt=tt(4488);Ne.exports=function(Ne){return Object(rt(Ne))}},4590:(Ne,et,tt)=>{var rt=tt(3002);Ne.exports=function(Ne,et){var tt=rt(Ne);if(tt%et)throw RangeError("Wrong offset");return tt}},3002:(Ne,et,tt)=>{var rt=tt(9958);Ne.exports=function(Ne){var et=rt(Ne);if(et<0)throw RangeError("The argument can't be less than 0");return et}},7593:(Ne,et,tt)=>{var rt=tt(111),nt=tt(2190),it=tt(8173),ot=tt(2140),at=tt(5112)("toPrimitive");Ne.exports=function(Ne,et){if(!rt(Ne)||nt(Ne))return Ne;var tt,st=it(Ne,at);if(st){if(void 0===et&&(et="default"),tt=st.call(Ne,et),!rt(tt)||nt(tt))return tt;throw TypeError("Can't convert object to primitive value")}return void 0===et&&(et="number"),ot(Ne,et)}},4948:(Ne,et,tt)=>{var rt=tt(7593),nt=tt(2190);Ne.exports=function(Ne){var et=rt(Ne,"string");return nt(et)?et:String(et)}},1694:(Ne,et,tt)=>{var rt={};rt[tt(5112)("toStringTag")]="z",Ne.exports="[object z]"===String(rt)},1340:(Ne,et,tt)=>{var rt=tt(648);Ne.exports=function(Ne){if("Symbol"===rt(Ne))throw TypeError("Cannot convert a Symbol value to a string");return String(Ne)}},6330:Ne=>{Ne.exports=function(Ne){try{return String(Ne)}catch(Ne){return"Object"}}},9843:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(7854),it=tt(9781),ot=tt(3832),at=tt(260),st=tt(3331),ct=tt(5787),pt=tt(9114),ft=tt(8880),dt=tt(8730),mt=tt(7466),yt=tt(7067),vt=tt(4590),Rt=tt(4948),Dt=tt(6656),Ot=tt(648),Bt=tt(111),er=tt(2190),rr=tt(30),vr=tt(7674),wr=tt(8006).f,Sr=tt(7321),rn=tt(2092).forEach,vn=tt(6340),bn=tt(3070),Tn=tt(1236),Cn=tt(9909),In=tt(9587),Mn=Cn.get,zn=Cn.set,Ln=bn.f,Fn=Tn.f,Bn=Math.round,Nn=nt.RangeError,Vn=st.ArrayBuffer,Wn=st.DataView,$n=at.NATIVE_ARRAY_BUFFER_VIEWS,Yn=at.TYPED_ARRAY_CONSTRUCTOR,ii=at.TYPED_ARRAY_TAG,qi=at.TypedArray,uo=at.TypedArrayPrototype,po=at.aTypedArrayConstructor,vo=at.isTypedArray,So="BYTES_PER_ELEMENT",ea="Wrong length",fromList=function(Ne,et){for(var tt=0,rt=et.length,nt=new(po(Ne))(rt);rt>tt;)nt[tt]=et[tt++];return nt},addGetter=function(Ne,et){Ln(Ne,et,{get:function(){return Mn(this)[et]}})},isArrayBuffer=function(Ne){var et;return Ne instanceof Vn||"ArrayBuffer"==(et=Ot(Ne))||"SharedArrayBuffer"==et},isTypedArrayIndex=function(Ne,et){return vo(Ne)&&!er(et)&&et in Ne&&dt(+et)&&et>=0},ta=function getOwnPropertyDescriptor(Ne,et){return et=Rt(et),isTypedArrayIndex(Ne,et)?pt(2,Ne[et]):Fn(Ne,et)},ia=function defineProperty(Ne,et,tt){return et=Rt(et),!(isTypedArrayIndex(Ne,et)&&Bt(tt)&&Dt(tt,"value"))||Dt(tt,"get")||Dt(tt,"set")||tt.configurable||Dt(tt,"writable")&&!tt.writable||Dt(tt,"enumerable")&&!tt.enumerable?Ln(Ne,et,tt):(Ne[et]=tt.value,Ne)};it?($n||(Tn.f=ta,bn.f=ia,addGetter(uo,"buffer"),addGetter(uo,"byteOffset"),addGetter(uo,"byteLength"),addGetter(uo,"length")),rt({target:"Object",stat:!0,forced:!$n},{getOwnPropertyDescriptor:ta,defineProperty:ia}),Ne.exports=function(Ne,et,tt){var it=Ne.match(/\d+$/)[0]/8,at=Ne+(tt?"Clamped":"")+"Array",st="get"+Ne,pt="set"+Ne,dt=nt[at],Rt=dt,Dt=Rt&&Rt.prototype,Ot={},addElement=function(Ne,et){Ln(Ne,et,{get:function(){return function(Ne,et){var tt=Mn(Ne);return tt.view[st](et*it+tt.byteOffset,!0)}(this,et)},set:function(Ne){return function(Ne,et,rt){var nt=Mn(Ne);tt&&(rt=(rt=Bn(rt))<0?0:rt>255?255:255&rt),nt.view[pt](et*it+nt.byteOffset,rt,!0)}(this,et,Ne)},enumerable:!0})};$n?ot&&(Rt=et((function(Ne,et,tt,rt){return ct(Ne,Rt,at),In(Bt(et)?isArrayBuffer(et)?void 0!==rt?new dt(et,vt(tt,it),rt):void 0!==tt?new dt(et,vt(tt,it)):new dt(et):vo(et)?fromList(Rt,et):Sr.call(Rt,et):new dt(yt(et)),Ne,Rt)})),vr&&vr(Rt,qi),rn(wr(dt),(function(Ne){Ne in Rt||ft(Rt,Ne,dt[Ne])})),Rt.prototype=Dt):(Rt=et((function(Ne,et,tt,rt){ct(Ne,Rt,at);var nt,ot,st,pt=0,ft=0;if(Bt(et)){if(!isArrayBuffer(et))return vo(et)?fromList(Rt,et):Sr.call(Rt,et);nt=et,ft=vt(tt,it);var dt=et.byteLength;if(void 0===rt){if(dt%it)throw Nn(ea);if((ot=dt-ft)<0)throw Nn(ea)}else if((ot=mt(rt)*it)+ft>dt)throw Nn(ea);st=ot/it}else st=yt(et),nt=new Vn(ot=st*it);for(zn(Ne,{buffer:nt,byteOffset:ft,byteLength:ot,length:st,view:new Wn(nt)});pt<st;)addElement(Ne,pt++)})),vr&&vr(Rt,qi),Dt=Rt.prototype=rr(uo)),Dt.constructor!==Rt&&ft(Dt,"constructor",Rt),ft(Dt,Yn,Rt),ii&&ft(Dt,ii,at),Ot[at]=Rt,rt({global:!0,forced:Rt!=dt,sham:!$n},Ot),So in Rt||ft(Rt,So,it),So in Dt||ft(Dt,So,it),vn(at)}):Ne.exports=function(){}},3832:(Ne,et,tt)=>{var rt=tt(7854),nt=tt(7293),it=tt(7072),ot=tt(260).NATIVE_ARRAY_BUFFER_VIEWS,at=rt.ArrayBuffer,st=rt.Int8Array;Ne.exports=!ot||!nt((function(){st(1)}))||!nt((function(){new st(-1)}))||!it((function(Ne){new st,new st(null),new st(1.5),new st(Ne)}),!0)||nt((function(){return 1!==new st(new at(2),1,void 0).length}))},7321:(Ne,et,tt)=>{var rt=tt(9483),nt=tt(7908),it=tt(7466),ot=tt(8554),at=tt(1246),st=tt(7659),ct=tt(9974),pt=tt(260).aTypedArrayConstructor;Ne.exports=function from(Ne){var et,tt,ft,dt,mt,yt,vt=rt(this),Rt=nt(Ne),Dt=arguments.length,Ot=Dt>1?arguments[1]:void 0,Bt=void 0!==Ot,er=at(Rt);if(er&&!st(er))for(yt=(mt=ot(Rt,er)).next,Rt=[];!(dt=yt.call(mt)).done;)Rt.push(dt.value);for(Bt&&Dt>2&&(Ot=ct(Ot,arguments[2],2)),tt=it(Rt.length),ft=new(pt(vt))(tt),et=0;tt>et;et++)ft[et]=Bt?Ot(Rt[et],et):Rt[et];return ft}},9711:Ne=>{var et=0,tt=Math.random();Ne.exports=function(Ne){return"Symbol("+String(void 0===Ne?"":Ne)+")_"+(++et+tt).toString(36)}},3307:(Ne,et,tt)=>{var rt=tt(133);Ne.exports=rt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(Ne,et,tt)=>{var rt=tt(7854),nt=tt(2309),it=tt(6656),ot=tt(9711),at=tt(133),st=tt(3307),ct=nt("wks"),pt=rt.Symbol,ft=st?pt:pt&&pt.withoutSetter||ot;Ne.exports=function(Ne){return it(ct,Ne)&&(at||"string"==typeof ct[Ne])||(at&&it(pt,Ne)?ct[Ne]=pt[Ne]:ct[Ne]=ft("Symbol."+Ne)),ct[Ne]}},5827:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(3671).left,it=tt(9341),ot=tt(7392),at=tt(5268);rt({target:"Array",proto:!0,forced:!it("reduce")||!at&&ot>79&&ot<83},{reduce:function reduce(Ne){return nt(this,Ne,arguments.length,arguments.length>1?arguments[1]:void 0)}})},8674:(Ne,et,tt)=>{"use strict";var rt,nt,it,ot,at=tt(2109),st=tt(1913),ct=tt(7854),pt=tt(5005),ft=tt(3366),dt=tt(1320),mt=tt(2248),yt=tt(7674),vt=tt(8003),Rt=tt(6340),Dt=tt(9662),Ot=tt(614),Bt=tt(111),er=tt(5787),rr=tt(2788),vr=tt(408),wr=tt(7072),Sr=tt(6707),rn=tt(261).set,vn=tt(5948),bn=tt(9478),Tn=tt(842),Cn=tt(8523),In=tt(2534),Mn=tt(9909),zn=tt(4705),Ln=tt(5112),Fn=tt(7871),Bn=tt(5268),Nn=tt(7392),Vn=Ln("species"),Wn="Promise",$n=Mn.get,Yn=Mn.set,ii=Mn.getterFor(Wn),qi=ft&&ft.prototype,uo=ft,po=qi,vo=ct.TypeError,So=ct.document,ea=ct.process,ta=Cn.f,ia=ta,sa=!!(So&&So.createEvent&&ct.dispatchEvent),la=Ot(ct.PromiseRejectionEvent),fa="unhandledrejection",ga=!1,_a=zn(Wn,(function(){var Ne=rr(uo),et=Ne!==String(uo);if(!et&&66===Nn)return!0;if(st&&!po.finally)return!0;if(Nn>=51&&/native code/.test(Ne))return!1;var tt=new uo((function(Ne){Ne(1)})),FakePromise=function(Ne){Ne((function(){}),(function(){}))};return(tt.constructor={})[Vn]=FakePromise,!(ga=tt.then((function(){}))instanceof FakePromise)||!et&&Fn&&!la})),Aa=_a||!wr((function(Ne){uo.all(Ne).catch((function(){}))})),isThenable=function(Ne){var et;return!(!Bt(Ne)||!Ot(et=Ne.then))&&et},notify=function(Ne,et){if(!Ne.notified){Ne.notified=!0;var tt=Ne.reactions;vn((function(){for(var rt=Ne.value,nt=1==Ne.state,it=0;tt.length>it;){var ot,at,st,ct=tt[it++],pt=nt?ct.ok:ct.fail,ft=ct.resolve,dt=ct.reject,mt=ct.domain;try{pt?(nt||(2===Ne.rejection&&onHandleUnhandled(Ne),Ne.rejection=1),!0===pt?ot=rt:(mt&&mt.enter(),ot=pt(rt),mt&&(mt.exit(),st=!0)),ot===ct.promise?dt(vo("Promise-chain cycle")):(at=isThenable(ot))?at.call(ot,ft,dt):ft(ot)):dt(rt)}catch(Ne){mt&&!st&&mt.exit(),dt(Ne)}}Ne.reactions=[],Ne.notified=!1,et&&!Ne.rejection&&onUnhandled(Ne)}))}},dispatchEvent=function(Ne,et,tt){var rt,nt;sa?((rt=So.createEvent("Event")).promise=et,rt.reason=tt,rt.initEvent(Ne,!1,!0),ct.dispatchEvent(rt)):rt={promise:et,reason:tt},!la&&(nt=ct["on"+Ne])?nt(rt):Ne===fa&&Tn("Unhandled promise rejection",tt)},onUnhandled=function(Ne){rn.call(ct,(function(){var et,tt=Ne.facade,rt=Ne.value;if(isUnhandled(Ne)&&(et=In((function(){Bn?ea.emit("unhandledRejection",rt,tt):dispatchEvent(fa,tt,rt)})),Ne.rejection=Bn||isUnhandled(Ne)?2:1,et.error))throw et.value}))},isUnhandled=function(Ne){return 1!==Ne.rejection&&!Ne.parent},onHandleUnhandled=function(Ne){rn.call(ct,(function(){var et=Ne.facade;Bn?ea.emit("rejectionHandled",et):dispatchEvent("rejectionhandled",et,Ne.value)}))},bind=function(Ne,et,tt){return function(rt){Ne(et,rt,tt)}},internalReject=function(Ne,et,tt){Ne.done||(Ne.done=!0,tt&&(Ne=tt),Ne.value=et,Ne.state=2,notify(Ne,!0))},internalResolve=function(Ne,et,tt){if(!Ne.done){Ne.done=!0,tt&&(Ne=tt);try{if(Ne.facade===et)throw vo("Promise can't be resolved itself");var rt=isThenable(et);rt?vn((function(){var tt={done:!1};try{rt.call(et,bind(internalResolve,tt,Ne),bind(internalReject,tt,Ne))}catch(et){internalReject(tt,et,Ne)}})):(Ne.value=et,Ne.state=1,notify(Ne,!1))}catch(et){internalReject({done:!1},et,Ne)}}};if(_a&&(po=(uo=function Promise(Ne){er(this,uo,Wn),Dt(Ne),rt.call(this);var et=$n(this);try{Ne(bind(internalResolve,et),bind(internalReject,et))}catch(Ne){internalReject(et,Ne)}}).prototype,(rt=function Promise(Ne){Yn(this,{type:Wn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=mt(po,{then:function then(Ne,et){var tt=ii(this),rt=ta(Sr(this,uo));return rt.ok=!Ot(Ne)||Ne,rt.fail=Ot(et)&&et,rt.domain=Bn?ea.domain:void 0,tt.parent=!0,tt.reactions.push(rt),0!=tt.state&&notify(tt,!1),rt.promise},catch:function(Ne){return this.then(void 0,Ne)}}),nt=function(){var Ne=new rt,et=$n(Ne);this.promise=Ne,this.resolve=bind(internalResolve,et),this.reject=bind(internalReject,et)},Cn.f=ta=function(Ne){return Ne===uo||Ne===it?new nt(Ne):ia(Ne)},!st&&Ot(ft)&&qi!==Object.prototype)){ot=qi.then,ga||(dt(qi,"then",(function then(Ne,et){var tt=this;return new uo((function(Ne,et){ot.call(tt,Ne,et)})).then(Ne,et)}),{unsafe:!0}),dt(qi,"catch",po.catch,{unsafe:!0}));try{delete qi.constructor}catch(Ne){}yt&&yt(qi,po)}at({global:!0,wrap:!0,forced:_a},{Promise:uo}),vt(uo,Wn,!1,!0),Rt(Wn),it=pt(Wn),at({target:Wn,stat:!0,forced:_a},{reject:function reject(Ne){var et=ta(this);return et.reject.call(void 0,Ne),et.promise}}),at({target:Wn,stat:!0,forced:st||_a},{resolve:function resolve(Ne){return bn(st&&this===it?uo:this,Ne)}}),at({target:Wn,stat:!0,forced:Aa},{all:function all(Ne){var et=this,tt=ta(et),rt=tt.resolve,nt=tt.reject,it=In((function(){var tt=Dt(et.resolve),it=[],ot=0,at=1;vr(Ne,(function(Ne){var st=ot++,ct=!1;it.push(void 0),at++,tt.call(et,Ne).then((function(Ne){ct||(ct=!0,it[st]=Ne,--at||rt(it))}),nt)})),--at||rt(it)}));return it.error&&nt(it.value),tt.promise},race:function race(Ne){var et=this,tt=ta(et),rt=tt.reject,nt=In((function(){var nt=Dt(et.resolve);vr(Ne,(function(Ne){nt.call(et,Ne).then(tt.resolve,rt)}))}));return nt.error&&rt(nt.value),tt.promise}})},4603:(Ne,et,tt)=>{var rt=tt(9781),nt=tt(7854),it=tt(4705),ot=tt(9587),at=tt(8880),st=tt(3070).f,ct=tt(8006).f,pt=tt(7850),ft=tt(1340),dt=tt(7066),mt=tt(2999),yt=tt(1320),vt=tt(7293),Rt=tt(6656),Dt=tt(9909).enforce,Ot=tt(6340),Bt=tt(5112),er=tt(9441),rr=tt(7168),vr=Bt("match"),wr=nt.RegExp,Sr=wr.prototype,rn=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,vn=/a/g,bn=/a/g,Tn=new wr(vn)!==vn,Cn=mt.UNSUPPORTED_Y,In=rt&&(!Tn||Cn||er||rr||vt((function(){return bn[vr]=!1,wr(vn)!=vn||wr(bn)==bn||"/a/i"!=wr(vn,"i")})));if(it("RegExp",In)){for(var Mn=function RegExp(Ne,et){var tt,rt,nt,it,st,ct,mt=this instanceof Mn,yt=pt(Ne),vt=void 0===et,Ot=[],Bt=Ne;if(!mt&&yt&&vt&&Ne.constructor===Mn)return Ne;if((yt||Ne instanceof Mn)&&(Ne=Ne.source,vt&&(et="flags"in Bt?Bt.flags:dt.call(Bt))),Ne=void 0===Ne?"":ft(Ne),et=void 0===et?"":ft(et),Bt=Ne,er&&"dotAll"in vn&&(rt=!!et&&et.indexOf("s")>-1)&&(et=et.replace(/s/g,"")),tt=et,Cn&&"sticky"in vn&&(nt=!!et&&et.indexOf("y")>-1)&&(et=et.replace(/y/g,"")),rr&&(it=function(Ne){for(var et,tt=Ne.length,rt=0,nt="",it=[],ot={},at=!1,st=!1,ct=0,pt="";rt<=tt;rt++){if("\\"===(et=Ne.charAt(rt)))et+=Ne.charAt(++rt);else if("]"===et)at=!1;else if(!at)switch(!0){case"["===et:at=!0;break;case"("===et:rn.test(Ne.slice(rt+1))&&(rt+=2,st=!0),nt+=et,ct++;continue;case">"===et&&st:if(""===pt||Rt(ot,pt))throw new SyntaxError("Invalid capture group name");ot[pt]=!0,it.push([pt,ct]),st=!1,pt="";continue}st?pt+=et:nt+=et}return[nt,it]}(Ne),Ne=it[0],Ot=it[1]),st=ot(wr(Ne,et),mt?this:Sr,Mn),(rt||nt||Ot.length)&&(ct=Dt(st),rt&&(ct.dotAll=!0,ct.raw=Mn(function(Ne){for(var et,tt=Ne.length,rt=0,nt="",it=!1;rt<=tt;rt++)"\\"!==(et=Ne.charAt(rt))?it||"."!==et?("["===et?it=!0:"]"===et&&(it=!1),nt+=et):nt+="[\\s\\S]":nt+=et+Ne.charAt(++rt);return nt}(Ne),tt)),nt&&(ct.sticky=!0),Ot.length&&(ct.groups=Ot)),Ne!==Bt)try{at(st,"source",""===Bt?"(?:)":Bt)}catch(Ne){}return st},proxy=function(Ne){Ne in Mn||st(Mn,Ne,{configurable:!0,get:function(){return wr[Ne]},set:function(et){wr[Ne]=et}})},zn=ct(wr),Ln=0;zn.length>Ln;)proxy(zn[Ln++]);Sr.constructor=Mn,Mn.prototype=Sr,yt(nt,"RegExp",Mn)}Ot("RegExp")},4916:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(2261);rt({target:"RegExp",proto:!0,forced:/./.exec!==nt},{exec:nt})},5306:(Ne,et,tt)=>{"use strict";var rt=tt(7007),nt=tt(7293),it=tt(9670),ot=tt(614),at=tt(9958),st=tt(7466),ct=tt(1340),pt=tt(4488),ft=tt(1530),dt=tt(8173),mt=tt(647),yt=tt(7651),vt=tt(5112)("replace"),Rt=Math.max,Dt=Math.min,Ot="$0"==="a".replace(/./,"$0"),Bt=!!/./[vt]&&""===/./[vt]("a","$0");rt("replace",(function(Ne,et,tt){var rt=Bt?"$":"$0";return[function replace(Ne,tt){var rt=pt(this),nt=null==Ne?void 0:dt(Ne,vt);return nt?nt.call(Ne,rt,tt):et.call(ct(rt),Ne,tt)},function(Ne,nt){var pt=it(this),dt=ct(Ne);if("string"==typeof nt&&-1===nt.indexOf(rt)&&-1===nt.indexOf("$<")){var vt=tt(et,pt,dt,nt);if(vt.done)return vt.value}var Ot=ot(nt);Ot||(nt=ct(nt));var Bt=pt.global;if(Bt){var er=pt.unicode;pt.lastIndex=0}for(var rr=[];;){var vr=yt(pt,dt);if(null===vr)break;if(rr.push(vr),!Bt)break;""===ct(vr[0])&&(pt.lastIndex=ft(dt,st(pt.lastIndex),er))}for(var wr,Sr="",rn=0,vn=0;vn<rr.length;vn++){vr=rr[vn];for(var bn=ct(vr[0]),Tn=Rt(Dt(at(vr.index),dt.length),0),Cn=[],In=1;In<vr.length;In++)Cn.push(void 0===(wr=vr[In])?wr:String(wr));var Mn=vr.groups;if(Ot){var zn=[bn].concat(Cn,Tn,dt);void 0!==Mn&&zn.push(Mn);var Ln=ct(nt.apply(void 0,zn))}else Ln=mt(bn,dt,Tn,Cn,Mn,nt);Tn>=rn&&(Sr+=dt.slice(rn,Tn)+Ln,rn=Tn+bn.length)}return Sr+dt.slice(rn)}]}),!!nt((function(){var Ne=/./;return Ne.exec=function(){var Ne=[];return Ne.groups={a:"7"},Ne},"7"!=="".replace(Ne,"$<a>")}))||!Ot||Bt)},3824:(Ne,et,tt)=>{"use strict";var rt=tt(260),nt=tt(7854),it=tt(7293),ot=tt(9662),at=tt(7466),st=tt(2423),ct=tt(8886),pt=tt(256),ft=tt(7392),dt=tt(8008),mt=rt.aTypedArray,yt=rt.exportTypedArrayMethod,vt=nt.Uint16Array,Rt=vt&&vt.prototype.sort,Dt=!!Rt&&!it((function(){var Ne=new vt(2);Ne.sort(null),Ne.sort({})})),Ot=!!Rt&&!it((function(){if(ft)return ft<74;if(ct)return ct<67;if(pt)return!0;if(dt)return dt<602;var Ne,et,tt=new vt(516),rt=Array(516);for(Ne=0;Ne<516;Ne++)et=Ne%4,tt[Ne]=515-Ne,rt[Ne]=Ne-2*et+3;for(tt.sort((function(Ne,et){return(Ne/4|0)-(et/4|0)})),Ne=0;Ne<516;Ne++)if(tt[Ne]!==rt[Ne])return!0}));yt("sort",(function sort(Ne){var et=this;if(void 0!==Ne&&ot(Ne),Ot)return Rt.call(et,Ne);mt(et);var tt,rt=at(et.length),nt=Array(rt);for(tt=0;tt<rt;tt++)nt[tt]=et[tt];for(nt=st(et,function(Ne){return function(et,tt){return void 0!==Ne?+Ne(et,tt)||0:tt!=tt?-1:et!=et?1:0===et&&0===tt?1/et>0&&1/tt<0?1:-1:et>tt}}(Ne)),tt=0;tt<rt;tt++)et[tt]=nt[tt];return et}),!Ot||Dt)},2472:(Ne,et,tt)=>{tt(9843)("Uint8",(function(Ne){return function Uint8Array(et,tt,rt){return Ne(this,et,tt,rt)}}))},3475:(Ne,et,tt)=>{"use strict";var rt=tt(9781),nt=tt(1223),it=tt(7908),ot=tt(7466),at=tt(3070).f;rt&&!("lastIndex"in[])&&(at(Array.prototype,"lastIndex",{configurable:!0,get:function lastIndex(){var Ne=it(this),et=ot(Ne.length);return 0==et?0:et-1}}),nt("lastIndex"))},72:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(4092);rt({target:"Map",proto:!0,real:!0,forced:nt},{deleteAll:function deleteAll(){return it.apply(this,arguments)}})},9137:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(9974),at=tt(4647),st=tt(408);rt({target:"Map",proto:!0,real:!0,forced:nt},{every:function every(Ne){var et=it(this),tt=at(et),rt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return!st(tt,(function(Ne,tt,nt){if(!rt(tt,Ne,et))return nt()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},1957:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(5005),ot=tt(9662),at=tt(9670),st=tt(9974),ct=tt(6707),pt=tt(4647),ft=tt(408);rt({target:"Map",proto:!0,real:!0,forced:nt},{filter:function filter(Ne){var et=at(this),tt=pt(et),rt=st(Ne,arguments.length>1?arguments[1]:void 0,3),nt=new(ct(et,it("Map"))),dt=ot(nt.set);return ft(tt,(function(Ne,tt){rt(tt,Ne,et)&&dt.call(nt,Ne,tt)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),nt}})},103:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(9974),at=tt(4647),st=tt(408);rt({target:"Map",proto:!0,real:!0,forced:nt},{findKey:function findKey(Ne){var et=it(this),tt=at(et),rt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return st(tt,(function(Ne,tt,nt){if(rt(tt,Ne,et))return nt(Ne)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},6306:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(9974),at=tt(4647),st=tt(408);rt({target:"Map",proto:!0,real:!0,forced:nt},{find:function find(Ne){var et=it(this),tt=at(et),rt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return st(tt,(function(Ne,tt,nt){if(rt(tt,Ne,et))return nt(tt)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},4592:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(4647),at=tt(6465),st=tt(408);rt({target:"Map",proto:!0,real:!0,forced:nt},{includes:function includes(Ne){return st(ot(it(this)),(function(et,tt,rt){if(at(tt,Ne))return rt()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},8276:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(4647),at=tt(408);rt({target:"Map",proto:!0,real:!0,forced:nt},{keyOf:function keyOf(Ne){return at(ot(it(this)),(function(et,tt,rt){if(tt===Ne)return rt(et)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},5082:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(5005),ot=tt(9662),at=tt(9670),st=tt(9974),ct=tt(6707),pt=tt(4647),ft=tt(408);rt({target:"Map",proto:!0,real:!0,forced:nt},{mapKeys:function mapKeys(Ne){var et=at(this),tt=pt(et),rt=st(Ne,arguments.length>1?arguments[1]:void 0,3),nt=new(ct(et,it("Map"))),dt=ot(nt.set);return ft(tt,(function(Ne,tt){dt.call(nt,rt(tt,Ne,et),tt)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),nt}})},2813:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(5005),ot=tt(9662),at=tt(9670),st=tt(9974),ct=tt(6707),pt=tt(4647),ft=tt(408);rt({target:"Map",proto:!0,real:!0,forced:nt},{mapValues:function mapValues(Ne){var et=at(this),tt=pt(et),rt=st(Ne,arguments.length>1?arguments[1]:void 0,3),nt=new(ct(et,it("Map"))),dt=ot(nt.set);return ft(tt,(function(Ne,tt){dt.call(nt,Ne,rt(tt,Ne,et))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),nt}})},8222:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9662),ot=tt(9670),at=tt(408);rt({target:"Map",proto:!0,real:!0,forced:nt},{merge:function merge(Ne){for(var et=ot(this),tt=it(et.set),rt=arguments.length,nt=0;nt<rt;)at(arguments[nt++],tt,{that:et,AS_ENTRIES:!0});return et}})},8563:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(9662),at=tt(4647),st=tt(408);rt({target:"Map",proto:!0,real:!0,forced:nt},{reduce:function reduce(Ne){var et=it(this),tt=at(et),rt=arguments.length<2,nt=rt?void 0:arguments[1];if(ot(Ne),st(tt,(function(tt,it){rt?(rt=!1,nt=it):nt=Ne(nt,it,tt,et)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),rt)throw TypeError("Reduce of empty map with no initial value");return nt}})},336:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(9974),at=tt(4647),st=tt(408);rt({target:"Map",proto:!0,real:!0,forced:nt},{some:function some(Ne){var et=it(this),tt=at(et),rt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return st(tt,(function(Ne,tt,nt){if(rt(tt,Ne,et))return nt()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},7512:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(9662);rt({target:"Map",proto:!0,real:!0,forced:nt},{update:function update(Ne,et){var tt=it(this),rt=arguments.length;ot(et);var nt=tt.has(Ne);if(!nt&&rt<3)throw TypeError("Updating absent value");var at=nt?tt.get(Ne):ot(rt>2?arguments[2]:void 0)(Ne,tt);return tt.set(Ne,et(at,Ne,tt)),tt}})},8921:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(1501);rt({target:"Set",proto:!0,real:!0,forced:nt},{addAll:function addAll(){return it.apply(this,arguments)}})},6248:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(4092);rt({target:"Set",proto:!0,real:!0,forced:nt},{deleteAll:function deleteAll(){return it.apply(this,arguments)}})},3599:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(5005),ot=tt(9662),at=tt(9670),st=tt(6707),ct=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{difference:function difference(Ne){var et=at(this),tt=new(st(et,it("Set")))(et),rt=ot(tt.delete);return ct(Ne,(function(Ne){rt.call(tt,Ne)})),tt}})},1477:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(9974),at=tt(6767),st=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{every:function every(Ne){var et=it(this),tt=at(et),rt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return!st(tt,(function(Ne,tt){if(!rt(Ne,Ne,et))return tt()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},4362:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(5005),ot=tt(9662),at=tt(9670),st=tt(9974),ct=tt(6707),pt=tt(6767),ft=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{filter:function filter(Ne){var et=at(this),tt=pt(et),rt=st(Ne,arguments.length>1?arguments[1]:void 0,3),nt=new(ct(et,it("Set"))),dt=ot(nt.add);return ft(tt,(function(Ne){rt(Ne,Ne,et)&&dt.call(nt,Ne)}),{IS_ITERATOR:!0}),nt}})},5389:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(9974),at=tt(6767),st=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{find:function find(Ne){var et=it(this),tt=at(et),rt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return st(tt,(function(Ne,tt){if(rt(Ne,Ne,et))return tt(Ne)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},401:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(5005),ot=tt(9662),at=tt(9670),st=tt(6707),ct=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{intersection:function intersection(Ne){var et=at(this),tt=new(st(et,it("Set"))),rt=ot(et.has),nt=ot(tt.add);return ct(Ne,(function(Ne){rt.call(et,Ne)&&nt.call(tt,Ne)})),tt}})},5164:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9662),ot=tt(9670),at=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{isDisjointFrom:function isDisjointFrom(Ne){var et=ot(this),tt=it(et.has);return!at(Ne,(function(Ne,rt){if(!0===tt.call(et,Ne))return rt()}),{INTERRUPTED:!0}).stopped}})},1238:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(5005),ot=tt(9662),at=tt(614),st=tt(9670),ct=tt(8554),pt=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{isSubsetOf:function isSubsetOf(Ne){var et=ct(this),tt=st(Ne),rt=tt.has;return at(rt)||(tt=new(it("Set"))(Ne),rt=ot(tt.has)),!pt(et,(function(Ne,et){if(!1===rt.call(tt,Ne))return et()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},4837:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9662),ot=tt(9670),at=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{isSupersetOf:function isSupersetOf(Ne){var et=ot(this),tt=it(et.has);return!at(Ne,(function(Ne,rt){if(!1===tt.call(et,Ne))return rt()}),{INTERRUPTED:!0}).stopped}})},7485:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(6767),at=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{join:function join(Ne){var et=it(this),tt=ot(et),rt=void 0===Ne?",":String(Ne),nt=[];return at(tt,nt.push,{that:nt,IS_ITERATOR:!0}),nt.join(rt)}})},465:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(5005),ot=tt(9662),at=tt(9670),st=tt(9974),ct=tt(6707),pt=tt(6767),ft=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{map:function map(Ne){var et=at(this),tt=pt(et),rt=st(Ne,arguments.length>1?arguments[1]:void 0,3),nt=new(ct(et,it("Set"))),dt=ot(nt.add);return ft(tt,(function(Ne){dt.call(nt,rt(Ne,Ne,et))}),{IS_ITERATOR:!0}),nt}})},6651:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9662),ot=tt(9670),at=tt(6767),st=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{reduce:function reduce(Ne){var et=ot(this),tt=at(et),rt=arguments.length<2,nt=rt?void 0:arguments[1];if(it(Ne),st(tt,(function(tt){rt?(rt=!1,nt=tt):nt=Ne(nt,tt,tt,et)}),{IS_ITERATOR:!0}),rt)throw TypeError("Reduce of empty set with no initial value");return nt}})},1437:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(9670),ot=tt(9974),at=tt(6767),st=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{some:function some(Ne){var et=it(this),tt=at(et),rt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return st(tt,(function(Ne,tt){if(rt(Ne,Ne,et))return tt()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},5285:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(5005),ot=tt(9662),at=tt(9670),st=tt(6707),ct=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{symmetricDifference:function symmetricDifference(Ne){var et=at(this),tt=new(st(et,it("Set")))(et),rt=ot(tt.delete),nt=ot(tt.add);return ct(Ne,(function(Ne){rt.call(tt,Ne)||nt.call(tt,Ne)})),tt}})},9865:(Ne,et,tt)=>{"use strict";var rt=tt(2109),nt=tt(1913),it=tt(5005),ot=tt(9662),at=tt(9670),st=tt(6707),ct=tt(408);rt({target:"Set",proto:!0,real:!0,forced:nt},{union:function union(Ne){var et=at(this),tt=new(st(et,it("Set")))(et);return ct(Ne,ot(tt.add),{that:tt}),tt}})},472:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>at});var rt=tt(8081),nt=tt.n(rt),it=tt(3645),ot=tt.n(it)()(nt());ot.push([Ne.id,".styles_aboutWrapper-PKw{\n    display: flex;\n    height: 100%;\n    padding: 1.875rem 0.8125rem;\n    margin: 0 25rem;\n}\n\n.styles_header-ZT_{\n    font-weight: bold;\n}\n\n\n\n",""]),ot.locals={aboutWrapper:"styles_aboutWrapper-PKw",header:"styles_header-ZT_"};const at=ot},9837:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>at});var rt=tt(8081),nt=tt.n(rt),it=tt(3645),ot=tt.n(it)()(nt());ot.push([Ne.id,".styles_appWrapper-bVy{\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n}\n\n.styles_headerWrapper-PHI{\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 5.625rem;\n}\n\n.styles_header-XiJ{\n    padding: 0.875rem;\n    margin-left: 25rem;\n}\n\n.styles_navigation-n4c{\n    padding-left: 25.25rem;\n    background: rgb(0, 152, 72);\n    color: white;\n}\n\n/*.link{*/\n/*    &:active{*/\n/*        background: rgb(55, 64,59);*/\n/*     }*/\n/*    &:hover{*/\n/*        background: rgb(55, 64,59);*/\n/*     }*/\n/*}*/\n\n.styles_link-TQs{\n    display: inline-block;\n    padding: 0.375rem 1.25rem;\n    text-decoration: none;\n}\n\n.styles_link-TQs.styles_active-udz{\n    background: rgb(55, 64, 59);\n}\n\n.styles_link-TQs:hover{\n    background: rgb(55, 64, 59);\n}\n\n.styles_link-TQs:hover,\n.styles_link-TQs:focus {\n    text-decoration: none;\n}\n\n.styles_bodyWrapper-WGJ{\n    position: relative;\n    height: calc(100% - 5.625rem);\n}\n\n\n",""]),ot.locals={appWrapper:"styles_appWrapper-bVy",headerWrapper:"styles_headerWrapper-PHI",header:"styles_header-XiJ",navigation:"styles_navigation-n4c",link:"styles_link-TQs",active:"styles_active-udz",bodyWrapper:"styles_bodyWrapper-WGJ"};const at=ot},2567:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>at});var rt=tt(8081),nt=tt.n(rt),it=tt(3645),ot=tt.n(it)()(nt());ot.push([Ne.id,".styles_exploreWrapper-_cI {\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 1.25rem 1.25rem 1.25rem 0.3125rem;\n\tmargin-left: 25rem;\n}\n\n.styles_loadingWrapper-bWM {\n\tmargin-left: 0.9375rem;\n}\n\n.styles_imageWrapper-_VZ {\n\tpadding-left: 1rem;\n\tcursor: pointer;\n}\n\n.styles_header-KPk {\n\tfont-weight: bold;\n\tmargin-bottom: 1.25rem;\n}\n\n.styles_regionWrapper-RU7 {\n\tpadding-right: 1.25rem;\n}\n",""]),ot.locals={exploreWrapper:"styles_exploreWrapper-_cI",loadingWrapper:"styles_loadingWrapper-bWM",imageWrapper:"styles_imageWrapper-_VZ",header:"styles_header-KPk",regionWrapper:"styles_regionWrapper-RU7"};const at=ot},5528:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>at});var rt=tt(8081),nt=tt.n(rt),it=tt(3645),ot=tt.n(it)()(nt());ot.push([Ne.id,".styles_sideBarWrapper-oXN{\n    overflow: auto;\n    padding: 1.25rem 1.875rem 1.875rem 1.875rem;\n    border-radius: 0 0.1875rem 0.1875rem 0;\n    min-height: 100%;\n}\n\n.styles_bodyWrapper-RGY{\n\n}\n\n.styles_vectorFiltersWrapper-kBh{\n    margin-top: 1.25rem;\n}\n\n.styles_sectionWrapper-SmR{\n    /*margin-bottom: 20px;*/\n}\n.styles_sectionWrapper-SmR:last-child{\n    margin-bottom: 0;\n}\n.styles_sectionHeader-KnC{\n    font-weight: bold;\n    margin-bottom: 0.625rem;\n}\n\n.styles_vectorName-T2z{\n    font-weight: bold;\n    margin-bottom: 0.625rem;\n}\n\n.styles_filterWrapper-ITO{\n    border: 0.0625rem solid hsl(0, 0%, 80%);\n    border-radius: 0.1875rem;\n    margin-top: 0.625rem;\n    padding: 1.25rem;\n}\n\n.styles_filter-lWr{\n    margin-top: 0.625rem;\n}\n\n.styles_filterName-w8h{\n    margin-bottom: 0.3125rem;\n    border-bottom: 0.0625rem solid hsl(0, 0%, 80%);\n}\n\n.styles_empty-LB2{\n    font-style: italic;\n    color: hsl(0, 0%, 60%);\n}\n\n.styles_groupWrapper-ZjN{\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.styles_groupBadge-EeK {\n    background-color: #EBECF0;\n    border-radius: 2em;\n    color: #172B4D;\n    display: inline-block;\n    font-size: 12;\n    font-weight: normal;\n    line-height: 1;\n    min-width: 1;\n    padding: 0.16666666666667em 0.5em;\n    text-align: center;\n}",""]),ot.locals={sideBarWrapper:"styles_sideBarWrapper-oXN",bodyWrapper:"styles_bodyWrapper-RGY",vectorFiltersWrapper:"styles_vectorFiltersWrapper-kBh",sectionWrapper:"styles_sectionWrapper-SmR",sectionHeader:"styles_sectionHeader-KnC",vectorName:"styles_vectorName-T2z",filterWrapper:"styles_filterWrapper-ITO",filter:"styles_filter-lWr",filterName:"styles_filterName-w8h",empty:"styles_empty-LB2",groupWrapper:"styles_groupWrapper-ZjN",groupBadge:"styles_groupBadge-EeK"};const at=ot},7489:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>at});var rt=tt(8081),nt=tt.n(rt),it=tt(3645),ot=tt.n(it)()(nt());ot.push([Ne.id,".styles_wrapper-Ik2{\n    width: 100%;\n    height: 100%;\n}",""]),ot.locals={wrapper:"styles_wrapper-Ik2"};const at=ot},8996:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>at});var rt=tt(8081),nt=tt.n(rt),it=tt(3645),ot=tt.n(it)()(nt());ot.push([Ne.id,".styles_mapWrapper-WvC {\n\theight: 100%;\n}\n\n.styles_filters-tMI {\n\tposition: absolute;\n\theight: 100%;\n\toverflow: auto;\n\tdisplay: inline-block;\n\tfloat: left;\n\twidth: 30rem;\n\tz-index: 1;\n\tborder-radius: 0 0.25rem 0.25rem 0;\n\tbackground-color: white;\n}\n\n.styles_map-wSc {\n\tposition: absolute;\n\theight: 100%;\n\tleft: 30rem;\n\tdisplay: inline-block;\n\tfloat: left;\n\twidth: calc(100% - 30rem);\n}\n\n.styles_regionTileWrapper-tEl {\n\tposition: absolute;\n\tright: 0;\n\tz-index: 1;\n}\n\n.styles_regionSection-vSW:not(:first-of-type){\n\tmargin-top: 0.75rem;\n}\n",""]),ot.locals={mapWrapper:"styles_mapWrapper-WvC",filters:"styles_filters-tMI",map:"styles_map-wSc",regionTileWrapper:"styles_regionTileWrapper-tEl",regionSection:"styles_regionSection-vSW"};const at=ot},6371:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>at});var rt=tt(8081),nt=tt.n(rt),it=tt(3645),ot=tt.n(it)()(nt());ot.push([Ne.id,"body {\n\tmargin: 0;\n\twidth: 100vw;\n}\n\n/* stylelint-disable */\n@media (--phablet) {\n\thtml {\n\t\tfont-size: 0.875rem;\n\t}\n}\n\nh1 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 2.125rem;\n\tline-height: 2.875rem;\n}\n\nh2 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1.625rem;\n\tline-height: 2.1875rem;\n}\n\nh3 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1.25rem;\n\tline-height: 1.6875rem;\n}\n\nh4 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 700;\n\tfont-size: 1rem;\n\tline-height: 1.375rem;\n}\n\nh5 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1rem;\n\tline-height: 1.375rem;\n}\n\nh6 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 0.75rem;\n\tline-height: 0.9rem;\n}\n\nsmall {\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 0.625rem;\n\tline-height: 0.875rem;\n}\n\np:not(:last-of-type) {\n\tmargin-bottom: 0.375rem;\n}\np {\n\tmargin-bottom: 0;\n\tmargin-top: 0;\n\t-webkit-margin-before: 0;\n\t-webkit-margin-after: 0;\n}\n\nstrong {\n\tfont-family: var(--font-extraBold);\n}\n\nhr {\n\tmargin: 0;\n\tborder: 0.03125rem solid var(--color-grey4);\n\tclear: both;\n}\n\n#styles_root-a5y {\n\twidth: 100%;\n\theight: 100%;\n}\n\nhtml {\n\tcolor: var(--color-base);\n\theight: 100%;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 400;\n}\nhtml,\nbody {\n\tposition: relative;\n\twidth: 100%;\n\tmargin: 0;\n\tpadding: 0;\n\tbackground-color: white;\n\tbox-sizing: border-box;\n\t-moz-osx-font-smoothing: grayscale; /* fixes bold fonts in firefox */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-font-smoothing: antialiased;\n\t-o-font-smoothing: antialiased;\n\tline-height: 1;\n}\n\nbody {\n\tmin-width: 64rem;\n\tmin-height: 100%;\n\theight: auto;\n\toverflow: auto;\n\tfont-size: 0.875rem;\n\tline-height: 1.1875rem;\n}\n\na {\n\ttext-decoration: none;\n\tcolor: var(--color-customDark);\n}\n\na:hover,\na:focus {\n\ttext-decoration: underline;\n\tcolor: var(--color-customDark);\n}\n\n*,\n*:before,\n*:after {\n\tbox-sizing: border-box;\n}\n\n*:focus {\n\toutline: 0;\n}\n\n::-moz-selection {\n\tbackground: var(--color-customBackground); /* WebKit/Blink Browsers */\n}\n\n::selection {\n\tbackground: var(--color-customBackground); /* WebKit/Blink Browsers */\n}\n\nimg {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n\ninput,\ntextarea,\nbody,\ntext {\n\tcolor: var(--color-base);\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-weight: inherit;\n\ttext-rendering: geometricPrecision;\n}\n\nbutton,\nselect,\ntextarea,\ninput,\ntext {\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tfont-weight: inherit;\n\tline-height: inherit;\n\ttext-rendering: geometricPrecision;\n}\n\npre {\n\tfont-family: inherit;\n}\n\n/* Typography resets */\ndiv,\ndl,\ndt,\ndd,\nul,\nol,\nli,\npre,\nform,\nth,\ntd {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n/* Unordered Lists */\nul li {\n\tlist-style: none;\n}\n\n",""]),ot.locals={root:"styles_root-a5y"};const at=ot},3645:Ne=>{"use strict";Ne.exports=function(Ne){var et=[];return et.toString=function toString(){return this.map((function(et){var tt="",rt=void 0!==et[5];return et[4]&&(tt+="@supports (".concat(et[4],") {")),et[2]&&(tt+="@media ".concat(et[2]," {")),rt&&(tt+="@layer".concat(et[5].length>0?" ".concat(et[5]):""," {")),tt+=Ne(et),rt&&(tt+="}"),et[2]&&(tt+="}"),et[4]&&(tt+="}"),tt})).join("")},et.i=function i(Ne,tt,rt,nt,it){"string"==typeof Ne&&(Ne=[[null,Ne,void 0]]);var ot={};if(rt)for(var at=0;at<this.length;at++){var st=this[at][0];null!=st&&(ot[st]=!0)}for(var ct=0;ct<Ne.length;ct++){var pt=[].concat(Ne[ct]);rt&&ot[pt[0]]||(void 0!==it&&(void 0===pt[5]||(pt[1]="@layer".concat(pt[5].length>0?" ".concat(pt[5]):""," {").concat(pt[1],"}")),pt[5]=it),tt&&(pt[2]?(pt[1]="@media ".concat(pt[2]," {").concat(pt[1],"}"),pt[2]=tt):pt[2]=tt),nt&&(pt[4]?(pt[1]="@supports (".concat(pt[4],") {").concat(pt[1],"}"),pt[4]=nt):pt[4]="".concat(nt)),et.push(pt))}},et}},8081:Ne=>{"use strict";Ne.exports=function(Ne){return Ne[1]}},1490:Ne=>{"use strict";var et,tt,rt,nt,it;Ne.exports=function decode(Ne){nt=2,it=Math.pow(10,6),rt=null,et=[],tt=[];var ot=Ne.readFields(readDataField,{});return et=null,ot};var ot=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];function readDataField(Ne,tt,rt){1===Ne?et.push(rt.readString()):2===Ne?nt=rt.readVarint():3===Ne?it=Math.pow(10,rt.readVarint()):4===Ne?function readFeatureCollection(Ne,et){return et.type="FeatureCollection",et.features=[],Ne.readMessage(readFeatureCollectionField,et)}(rt,tt):5===Ne?readFeature(rt,tt):6===Ne&&readGeometry(rt,tt)}function readFeature(Ne,et){et.type="Feature";var tt=Ne.readMessage(readFeatureField,et);return tt.hasOwnProperty("geometry")||(tt.geometry=null),tt}function readGeometry(Ne,et){return Ne.readMessage(readGeometryField,et)}function readFeatureCollectionField(Ne,et,rt){1===Ne?et.features.push(readFeature(rt,{})):13===Ne?tt.push(readValue(rt)):15===Ne&&readProps(rt,et)}function readFeatureField(Ne,et,rt){1===Ne?et.geometry=readGeometry(rt,{}):11===Ne?et.id=rt.readString():12===Ne?et.id=rt.readSVarint():13===Ne?tt.push(readValue(rt)):14===Ne?et.properties=readProps(rt,{}):15===Ne&&readProps(rt,et)}function readGeometryField(Ne,et,nt){1===Ne?et.type=ot[nt.readVarint()]:2===Ne?rt=nt.readPackedVarint():3===Ne?function readCoords(Ne,et,tt){"Point"===tt?Ne.coordinates=function readPoint(Ne){var et=Ne.readVarint()+Ne.pos,tt=[];for(;Ne.pos<et;)tt.push(Ne.readSVarint()/it);return tt}(et):"MultiPoint"===tt||"LineString"===tt?Ne.coordinates=readLine(et):"MultiLineString"===tt?Ne.coordinates=readMultiLine(et):"Polygon"===tt?Ne.coordinates=readMultiLine(et,!0):"MultiPolygon"===tt&&(Ne.coordinates=function readMultiPolygon(Ne){var et=Ne.readVarint()+Ne.pos;if(!rt)return[[readLinePart(Ne,et,null,!0)]];for(var tt=[],nt=1,it=0;it<rt[0];it++){for(var ot=[],at=0;at<rt[nt];at++)ot.push(readLinePart(Ne,et,rt[nt+1+at],!0));nt+=rt[nt]+1,tt.push(ot)}return rt=null,tt}(et))}(et,nt,et.type):4===Ne?(et.geometries=et.geometries||[],et.geometries.push(readGeometry(nt,{}))):13===Ne?tt.push(readValue(nt)):15===Ne&&readProps(nt,et)}function readValue(Ne){for(var et=Ne.readVarint()+Ne.pos,tt=null;Ne.pos<et;){var rt=Ne.readVarint()>>3;1===rt?tt=Ne.readString():2===rt?tt=Ne.readDouble():3===rt?tt=Ne.readVarint():4===rt?tt=-Ne.readVarint():5===rt?tt=Ne.readBoolean():6===rt&&(tt=JSON.parse(Ne.readString()))}return tt}function readProps(Ne,rt){for(var nt=Ne.readVarint()+Ne.pos;Ne.pos<nt;)rt[et[Ne.readVarint()]]=tt[Ne.readVarint()];return tt=[],rt}function readLinePart(Ne,et,tt,rt){var ot,at,st=0,ct=[],pt=[];for(at=0;at<nt;at++)pt[at]=0;for(;tt?st<tt:Ne.pos<et;){for(ot=[],at=0;at<nt;at++)pt[at]+=Ne.readSVarint(),ot[at]=pt[at]/it;ct.push(ot),st++}return rt&&ct.push(ct[0]),ct}function readLine(Ne){return readLinePart(Ne,Ne.readVarint()+Ne.pos)}function readMultiLine(Ne,et){var tt=Ne.readVarint()+Ne.pos;if(!rt)return[readLinePart(Ne,tt,null,et)];for(var nt=[],it=0;it<rt.length;it++)nt.push(readLinePart(Ne,tt,rt[it],et));return rt=null,nt}},2020:Ne=>{"use strict";Ne.exports=function encode(Ne,at){et={},rt=[],tt=0,nt=0,it=1,analyze(Ne),it=Math.min(it,ot);for(var st=Math.ceil(Math.log(it)/Math.LN10),ct=0;ct<rt.length;ct++)at.writeStringField(1,rt[ct]);2!==nt&&at.writeVarintField(2,nt);6!==st&&at.writeVarintField(3,st);"FeatureCollection"===Ne.type?at.writeMessage(4,writeFeatureCollection,Ne):"Feature"===Ne.type?at.writeMessage(5,writeFeature,Ne):at.writeMessage(6,writeGeometry,Ne);return et=null,at.finish()};var et,tt,rt,nt,it,ot=1e6,at={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6};function analyze(Ne){var et,tt;if("FeatureCollection"===Ne.type)for(et=0;et<Ne.features.length;et++)analyze(Ne.features[et]);else if("Feature"===Ne.type)for(tt in null!==Ne.geometry&&analyze(Ne.geometry),Ne.properties)saveKey(tt);else if("Point"===Ne.type)analyzePoint(Ne.coordinates);else if("MultiPoint"===Ne.type)analyzePoints(Ne.coordinates);else if("GeometryCollection"===Ne.type)for(et=0;et<Ne.geometries.length;et++)analyze(Ne.geometries[et]);else if("LineString"===Ne.type)analyzePoints(Ne.coordinates);else if("Polygon"===Ne.type||"MultiLineString"===Ne.type)analyzeMultiLine(Ne.coordinates);else if("MultiPolygon"===Ne.type)for(et=0;et<Ne.coordinates.length;et++)analyzeMultiLine(Ne.coordinates[et]);for(tt in Ne)isSpecialKey(tt,Ne.type)||saveKey(tt)}function analyzeMultiLine(Ne){for(var et=0;et<Ne.length;et++)analyzePoints(Ne[et])}function analyzePoints(Ne){for(var et=0;et<Ne.length;et++)analyzePoint(Ne[et])}function analyzePoint(Ne){nt=Math.max(nt,Ne.length);for(var et=0;et<Ne.length;et++)for(;Math.round(Ne[et]*it)/it!==Ne[et]&&it<ot;)it*=10}function saveKey(Ne){void 0===et[Ne]&&(rt.push(Ne),et[Ne]=tt++)}function writeFeatureCollection(Ne,et){for(var tt=0;tt<Ne.features.length;tt++)et.writeMessage(1,writeFeature,Ne.features[tt]);writeProps(Ne,et,!0)}function writeFeature(Ne,et){null!==Ne.geometry&&et.writeMessage(1,writeGeometry,Ne.geometry),void 0!==Ne.id&&("number"==typeof Ne.id&&Ne.id%1==0?et.writeSVarintField(12,Ne.id):et.writeStringField(11,Ne.id)),Ne.properties&&writeProps(Ne.properties,et),writeProps(Ne,et,!0)}function writeGeometry(Ne,et){et.writeVarintField(1,at[Ne.type]);var tt=Ne.coordinates;if("Point"===Ne.type)!function writePoint(Ne,et){for(var tt=[],rt=0;rt<nt;rt++)tt.push(Math.round(Ne[rt]*it));et.writePackedSVarint(3,tt)}(tt,et);else if("MultiPoint"===Ne.type)writeLine(tt,et);else if("LineString"===Ne.type)writeLine(tt,et);else if("MultiLineString"===Ne.type)writeMultiLine(tt,et);else if("Polygon"===Ne.type)writeMultiLine(tt,et,!0);else if("MultiPolygon"===Ne.type)!function writeMultiPolygon(Ne,et){var tt,rt,nt=Ne.length;if(1!==nt||1!==Ne[0].length){var it=[nt];for(tt=0;tt<nt;tt++)for(it.push(Ne[tt].length),rt=0;rt<Ne[tt].length;rt++)it.push(Ne[tt][rt].length-1);et.writePackedVarint(2,it)}var ot=[];for(tt=0;tt<nt;tt++)for(rt=0;rt<Ne[tt].length;rt++)populateLine(ot,Ne[tt][rt],!0);et.writePackedSVarint(3,ot)}(tt,et);else if("GeometryCollection"===Ne.type)for(var rt=0;rt<Ne.geometries.length;rt++)et.writeMessage(4,writeGeometry,Ne.geometries[rt]);writeProps(Ne,et,!0)}function writeProps(Ne,tt,rt){var nt=[],it=0;for(var ot in Ne)rt&&isSpecialKey(ot,Ne.type)||(tt.writeMessage(13,writeValue,Ne[ot]),nt.push(et[ot]),nt.push(it++));tt.writePackedVarint(rt?15:14,nt)}function writeValue(Ne,et){if(null!==Ne){var tt=typeof Ne;"string"===tt?et.writeStringField(1,Ne):"boolean"===tt?et.writeBooleanField(5,Ne):"object"===tt?et.writeStringField(6,JSON.stringify(Ne)):"number"===tt&&(Ne%1!=0?et.writeDoubleField(2,Ne):Ne>=0?et.writeVarintField(3,Ne):et.writeVarintField(4,-Ne))}}function writeLine(Ne,et){var tt=[];populateLine(tt,Ne),et.writePackedSVarint(3,tt)}function writeMultiLine(Ne,et,tt){var rt,nt=Ne.length;if(1!==nt){var it=[];for(rt=0;rt<nt;rt++)it.push(Ne[rt].length-(tt?1:0));et.writePackedVarint(2,it)}var ot=[];for(rt=0;rt<nt;rt++)populateLine(ot,Ne[rt],tt);et.writePackedSVarint(3,ot)}function populateLine(Ne,et,tt){var rt,ot,at=et.length-(tt?1:0),st=new Array(nt);for(ot=0;ot<nt;ot++)st[ot]=0;for(rt=0;rt<at;rt++)for(ot=0;ot<nt;ot++){var ct=Math.round(et[rt][ot]*it)-st[ot];Ne.push(ct),st[ot]+=ct}}function isSpecialKey(Ne,et){if("type"===Ne)return!0;if("FeatureCollection"===et){if("features"===Ne)return!0}else if("Feature"===et){if("id"===Ne||"properties"===Ne||"geometry"===Ne)return!0}else if("GeometryCollection"===et){if("geometries"===Ne)return!0}else if("coordinates"===Ne)return!0;return!1}},4951:(Ne,et,tt)=>{"use strict";tt(2020),et.decode=tt(1490)},8679:(Ne,et,tt)=>{"use strict";var rt=tt(9864),nt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},it={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ot={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},at={};function getStatics(Ne){return rt.isMemo(Ne)?ot:at[Ne.$$typeof]||nt}at[rt.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},at[rt.Memo]=ot;var st=Object.defineProperty,ct=Object.getOwnPropertyNames,pt=Object.getOwnPropertySymbols,ft=Object.getOwnPropertyDescriptor,dt=Object.getPrototypeOf,mt=Object.prototype;Ne.exports=function hoistNonReactStatics(Ne,et,tt){if("string"!=typeof et){if(mt){var rt=dt(et);rt&&rt!==mt&&hoistNonReactStatics(Ne,rt,tt)}var nt=ct(et);pt&&(nt=nt.concat(pt(et)));for(var ot=getStatics(Ne),at=getStatics(et),yt=0;yt<nt.length;++yt){var vt=nt[yt];if(!(it[vt]||tt&&tt[vt]||at&&at[vt]||ot&&ot[vt])){var Rt=ft(et,vt);try{st(Ne,vt,Rt)}catch(Ne){}}}}return Ne}},645:(Ne,et)=>{et.read=function(Ne,et,tt,rt,nt){var it,ot,at=8*nt-rt-1,st=(1<<at)-1,ct=st>>1,pt=-7,ft=tt?nt-1:0,dt=tt?-1:1,mt=Ne[et+ft];for(ft+=dt,it=mt&(1<<-pt)-1,mt>>=-pt,pt+=at;pt>0;it=256*it+Ne[et+ft],ft+=dt,pt-=8);for(ot=it&(1<<-pt)-1,it>>=-pt,pt+=rt;pt>0;ot=256*ot+Ne[et+ft],ft+=dt,pt-=8);if(0===it)it=1-ct;else{if(it===st)return ot?NaN:1/0*(mt?-1:1);ot+=Math.pow(2,rt),it-=ct}return(mt?-1:1)*ot*Math.pow(2,it-rt)},et.write=function(Ne,et,tt,rt,nt,it){var ot,at,st,ct=8*it-nt-1,pt=(1<<ct)-1,ft=pt>>1,dt=23===nt?Math.pow(2,-24)-Math.pow(2,-77):0,mt=rt?0:it-1,yt=rt?1:-1,vt=et<0||0===et&&1/et<0?1:0;for(et=Math.abs(et),isNaN(et)||et===1/0?(at=isNaN(et)?1:0,ot=pt):(ot=Math.floor(Math.log(et)/Math.LN2),et*(st=Math.pow(2,-ot))<1&&(ot--,st*=2),(et+=ot+ft>=1?dt/st:dt*Math.pow(2,1-ft))*st>=2&&(ot++,st/=2),ot+ft>=pt?(at=0,ot=pt):ot+ft>=1?(at=(et*st-1)*Math.pow(2,nt),ot+=ft):(at=et*Math.pow(2,ft-1)*Math.pow(2,nt),ot=0));nt>=8;Ne[tt+mt]=255&at,mt+=yt,at/=256,nt-=8);for(ot=ot<<nt|at,ct+=nt;ct>0;Ne[tt+mt]=255&ot,mt+=yt,ot/=256,ct-=8);Ne[tt+mt-yt]|=128*vt}},6158:function(Ne){Ne.exports=function(){"use strict";var Ne,et,tt;function define(rt,nt){if(Ne)if(et){var it="var sharedChunk = {}; ("+Ne+")(sharedChunk); ("+et+")(sharedChunk);",ot={};Ne(ot),tt=nt(ot),"undefined"!=typeof window&&(tt.workerUrl=window.URL.createObjectURL(new Blob([it],{type:"text/javascript"})))}else et=nt;else Ne=nt}return define(["exports"],(function(Ne){function e(Ne,et){return Ne(et={exports:{}},et.exports),et.exports}var et=n;function n(Ne,et,tt,rt){this.cx=3*Ne,this.bx=3*(tt-Ne)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*et,this.by=3*(rt-et)-this.cy,this.ay=1-this.cy-this.by,this.p1x=Ne,this.p1y=rt,this.p2x=tt,this.p2y=rt}n.prototype.sampleCurveX=function(Ne){return((this.ax*Ne+this.bx)*Ne+this.cx)*Ne},n.prototype.sampleCurveY=function(Ne){return((this.ay*Ne+this.by)*Ne+this.cy)*Ne},n.prototype.sampleCurveDerivativeX=function(Ne){return(3*this.ax*Ne+2*this.bx)*Ne+this.cx},n.prototype.solveCurveX=function(Ne,et){var tt,rt,nt,it,ot;for(void 0===et&&(et=1e-6),nt=Ne,ot=0;ot<8;ot++){if(it=this.sampleCurveX(nt)-Ne,Math.abs(it)<et)return nt;var at=this.sampleCurveDerivativeX(nt);if(Math.abs(at)<1e-6)break;nt-=it/at}if((nt=Ne)<(tt=0))return tt;if(nt>(rt=1))return rt;for(;tt<rt;){if(it=this.sampleCurveX(nt),Math.abs(it-Ne)<et)return nt;Ne>it?tt=nt:rt=nt,nt=.5*(rt-tt)+tt}return nt},n.prototype.solve=function(Ne,et){return this.sampleCurveY(this.solveCurveX(Ne,et))};var tt=a;function a(Ne,et){this.x=Ne,this.y=et}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(Ne){return this.clone()._add(Ne)},sub:function(Ne){return this.clone()._sub(Ne)},multByPoint:function(Ne){return this.clone()._multByPoint(Ne)},divByPoint:function(Ne){return this.clone()._divByPoint(Ne)},mult:function(Ne){return this.clone()._mult(Ne)},div:function(Ne){return this.clone()._div(Ne)},rotate:function(Ne){return this.clone()._rotate(Ne)},rotateAround:function(Ne,et){return this.clone()._rotateAround(Ne,et)},matMult:function(Ne){return this.clone()._matMult(Ne)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(Ne){return this.x===Ne.x&&this.y===Ne.y},dist:function(Ne){return Math.sqrt(this.distSqr(Ne))},distSqr:function(Ne){var et=Ne.x-this.x,tt=Ne.y-this.y;return et*et+tt*tt},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(Ne){return Math.atan2(this.y-Ne.y,this.x-Ne.x)},angleWith:function(Ne){return this.angleWithSep(Ne.x,Ne.y)},angleWithSep:function(Ne,et){return Math.atan2(this.x*et-this.y*Ne,this.x*Ne+this.y*et)},_matMult:function(Ne){var et=Ne[2]*this.x+Ne[3]*this.y;return this.x=Ne[0]*this.x+Ne[1]*this.y,this.y=et,this},_add:function(Ne){return this.x+=Ne.x,this.y+=Ne.y,this},_sub:function(Ne){return this.x-=Ne.x,this.y-=Ne.y,this},_mult:function(Ne){return this.x*=Ne,this.y*=Ne,this},_div:function(Ne){return this.x/=Ne,this.y/=Ne,this},_multByPoint:function(Ne){return this.x*=Ne.x,this.y*=Ne.y,this},_divByPoint:function(Ne){return this.x/=Ne.x,this.y/=Ne.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var Ne=this.y;return this.y=this.x,this.x=-Ne,this},_rotate:function(Ne){var et=Math.cos(Ne),tt=Math.sin(Ne),rt=tt*this.x+et*this.y;return this.x=et*this.x-tt*this.y,this.y=rt,this},_rotateAround:function(Ne,et){var tt=Math.cos(Ne),rt=Math.sin(Ne),nt=et.y+rt*(this.x-et.x)+tt*(this.y-et.y);return this.x=et.x+tt*(this.x-et.x)-rt*(this.y-et.y),this.y=nt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(Ne){return Ne instanceof a?Ne:Array.isArray(Ne)?new a(Ne[0],Ne[1]):Ne};var rt="undefined"!=typeof self?self:{};function s(Ne,tt,rt,nt){var it=new et(Ne,tt,rt,nt);return function(Ne){return it.solve(Ne)}}var nt=s(.25,.1,.25,1);function l(Ne,et,tt){return Math.min(tt,Math.max(et,Ne))}function p(Ne,et,tt){var rt=tt-et,nt=((Ne-et)%rt+rt)%rt+et;return nt===et?tt:nt}function c(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];for(var rt=0,nt=et;rt<nt.length;rt+=1){var it=nt[rt];for(var ot in it)Ne[ot]=it[ot]}return Ne}var it=1;function f(){return it++}function y(){return function t(Ne){return Ne?(Ne^16*Math.random()>>Ne/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function d(Ne){return!!Ne&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(Ne)}function m(Ne,et){Ne.forEach((function(Ne){et[Ne]&&(et[Ne]=et[Ne].bind(et))}))}function v(Ne,et){return-1!==Ne.indexOf(et,Ne.length-et.length)}function g(Ne,et,tt){var rt={};for(var nt in Ne)rt[nt]=et.call(tt||this,Ne[nt],nt,Ne);return rt}function x(Ne,et,tt){var rt={};for(var nt in Ne)et.call(tt||this,Ne[nt],nt,Ne)&&(rt[nt]=Ne[nt]);return rt}function b(Ne){return Array.isArray(Ne)?Ne.map(b):"object"==typeof Ne&&Ne?g(Ne,b):Ne}var ot={};function _(Ne){ot[Ne]||("undefined"!=typeof console&&console.warn(Ne),ot[Ne]=!0)}function A(Ne,et,tt){return(tt.y-Ne.y)*(et.x-Ne.x)>(et.y-Ne.y)*(tt.x-Ne.x)}function S(Ne){for(var et=0,tt=0,rt=Ne.length,nt=rt-1,it=void 0,ot=void 0;tt<rt;nt=tt++)et+=((ot=Ne[nt]).x-(it=Ne[tt]).x)*(it.y+ot.y);return et}function k(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function I(Ne){var et={};if(Ne.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(Ne,tt,rt,nt){var it=rt||nt;return et[tt]=!it||it.toLowerCase(),""})),et["max-age"]){var tt=parseInt(et["max-age"],10);isNaN(tt)?delete et["max-age"]:et["max-age"]=tt}return et}var at=null;function C(Ne){if(null==at){var et=Ne.navigator?Ne.navigator.userAgent:null;at=!!Ne.safari||!(!et||!(/\b(iPad|iPhone|iPod)\b/.test(et)||et.match("Safari")&&!et.match("Chrome")))}return at}function M(Ne){try{var et=rt[Ne];return et.setItem("_mapbox_test_",1),et.removeItem("_mapbox_test_"),!0}catch(Ne){return!1}}var st,ct,pt,ft,dt=rt.performance&&rt.performance.now?rt.performance.now.bind(rt.performance):Date.now.bind(Date),mt=rt.requestAnimationFrame||rt.mozRequestAnimationFrame||rt.webkitRequestAnimationFrame||rt.msRequestAnimationFrame,yt=rt.cancelAnimationFrame||rt.mozCancelAnimationFrame||rt.webkitCancelAnimationFrame||rt.msCancelAnimationFrame,vt={now:dt,frame:function(Ne){var et=mt(Ne);return{cancel:function(){return yt(et)}}},getImageData:function(Ne,et){void 0===et&&(et=0);var tt=rt.document.createElement("canvas"),nt=tt.getContext("2d");if(!nt)throw new Error("failed to create canvas 2d context");return tt.width=Ne.width,tt.height=Ne.height,nt.drawImage(Ne,0,0,Ne.width,Ne.height),nt.getImageData(-et,-et,Ne.width+2*et,Ne.height+2*et)},resolveURL:function(Ne){return st||(st=rt.document.createElement("a")),st.href=Ne,st.href},hardwareConcurrency:rt.navigator&&rt.navigator.hardwareConcurrency||4,get devicePixelRatio(){return rt.devicePixelRatio},get prefersReducedMotion(){return!!rt.matchMedia&&(null==ct&&(ct=rt.matchMedia("(prefers-reduced-motion: reduce)")),ct.matches)}},Rt={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Dt={supported:!1,testSupport:function(Ne){!Ot&&ft&&(Bt?q(Ne):pt=Ne)}},Ot=!1,Bt=!1;function q(Ne){var et=Ne.createTexture();Ne.bindTexture(Ne.TEXTURE_2D,et);try{if(Ne.texImage2D(Ne.TEXTURE_2D,0,Ne.RGBA,Ne.RGBA,Ne.UNSIGNED_BYTE,ft),Ne.isContextLost())return;Dt.supported=!0}catch(Ne){}Ne.deleteTexture(et),Ot=!0}rt.document&&((ft=rt.document.createElement("img")).onload=function(){pt&&q(pt),pt=null,Bt=!0},ft.onerror=function(){Ot=!0,pt=null},ft.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var er="01",K=function(Ne,et){this._transformRequestFn=Ne,this._customAccessToken=et,this._createSkuToken()};function G(Ne){return 0===Ne.indexOf("mapbox:")}K.prototype._createSkuToken=function(){var Ne=function(){for(var Ne="",et=0;et<10;et++)Ne+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",er,Ne].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=Ne.token,this._skuTokenExpiresAt=Ne.tokenExpiresAt},K.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},K.prototype.transformRequest=function(Ne,et){return this._transformRequestFn&&this._transformRequestFn(Ne,et)||{url:Ne}},K.prototype.normalizeStyleURL=function(Ne,et){if(!G(Ne))return Ne;var tt=H(Ne);return tt.path="/styles/v1"+tt.path,this._makeAPIURL(tt,this._customAccessToken||et)},K.prototype.normalizeGlyphsURL=function(Ne,et){if(!G(Ne))return Ne;var tt=H(Ne);return tt.path="/fonts/v1"+tt.path,this._makeAPIURL(tt,this._customAccessToken||et)},K.prototype.normalizeSourceURL=function(Ne,et){if(!G(Ne))return Ne;var tt=H(Ne);return tt.path="/v4/"+tt.authority+".json",tt.params.push("secure"),this._makeAPIURL(tt,this._customAccessToken||et)},K.prototype.normalizeSpriteURL=function(Ne,et,tt,rt){var nt=H(Ne);return G(Ne)?(nt.path="/styles/v1"+nt.path+"/sprite"+et+tt,this._makeAPIURL(nt,this._customAccessToken||rt)):(nt.path+=""+et+tt,Y(nt))},K.prototype.normalizeTileURL=function(Ne,et){if(this._isSkuTokenExpired()&&this._createSkuToken(),Ne&&!G(Ne))return Ne;var tt=H(Ne);tt.path=tt.path.replace(/(\.(png|jpg)\d*)(?=$)/,(vt.devicePixelRatio>=2||512===et?"@2x":"")+(Dt.supported?".webp":"$1")),tt.path=tt.path.replace(/^.+\/v4\//,"/"),tt.path="/v4"+tt.path;var rt=this._customAccessToken||function(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1){var rt=tt[et].match(/^access_token=(.*)$/);if(rt)return rt[1]}return null}(tt.params)||Rt.ACCESS_TOKEN;return Rt.REQUIRE_ACCESS_TOKEN&&rt&&this._skuToken&&tt.params.push("sku="+this._skuToken),this._makeAPIURL(tt,rt)},K.prototype.canonicalizeTileURL=function(Ne,et){var tt=H(Ne);if(!tt.path.match(/(^\/v4\/)/)||!tt.path.match(/\.[\w]+$/))return Ne;var rt="mapbox://tiles/";rt+=tt.path.replace("/v4/","");var nt=tt.params;return et&&(nt=nt.filter((function(Ne){return!Ne.match(/^access_token=/)}))),nt.length&&(rt+="?"+nt.join("&")),rt},K.prototype.canonicalizeTileset=function(Ne,et){for(var tt=!!et&&G(et),rt=[],nt=0,it=Ne.tiles||[];nt<it.length;nt+=1){var ot=it[nt];X(ot)?rt.push(this.canonicalizeTileURL(ot,tt)):rt.push(ot)}return rt},K.prototype._makeAPIURL=function(Ne,et){var tt="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",rt=H(Rt.API_URL);if(Ne.protocol=rt.protocol,Ne.authority=rt.authority,"/"!==rt.path&&(Ne.path=""+rt.path+Ne.path),!Rt.REQUIRE_ACCESS_TOKEN)return Y(Ne);if(!(et=et||Rt.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+tt);if("s"===et[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+tt);return Ne.params=Ne.params.filter((function(Ne){return-1===Ne.indexOf("access_token")})),Ne.params.push("access_token="+et),Y(Ne)};var rr=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function X(Ne){return rr.test(Ne)}var vr=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function H(Ne){var et=Ne.match(vr);if(!et)throw new Error("Unable to parse URL object");return{protocol:et[1],authority:et[2],path:et[3]||"/",params:et[4]?et[4].split("&"):[]}}function Y(Ne){var et=Ne.params.length?"?"+Ne.params.join("&"):"";return Ne.protocol+"://"+Ne.authority+Ne.path+et}function $(Ne){if(!Ne)return null;var et=Ne.split(".");if(!et||3!==et.length)return null;try{return JSON.parse(decodeURIComponent(rt.atob(et[1]).split("").map((function(Ne){return"%"+("00"+Ne.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(Ne){return null}}var W=function(Ne){this.type=Ne,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};W.prototype.getStorageKey=function(Ne){var et,tt=$(Rt.ACCESS_TOKEN);return et=tt&&tt.u?rt.btoa(encodeURIComponent(tt.u).replace(/%([0-9A-F]{2})/g,(function(Ne,et){return String.fromCharCode(Number("0x"+et))}))):Rt.ACCESS_TOKEN||"",Ne?"mapbox.eventData."+Ne+":"+et:"mapbox.eventData:"+et},W.prototype.fetchEventData=function(){var Ne=M("localStorage"),et=this.getStorageKey(),tt=this.getStorageKey("uuid");if(Ne)try{var nt=rt.localStorage.getItem(et);nt&&(this.eventData=JSON.parse(nt));var it=rt.localStorage.getItem(tt);it&&(this.anonId=it)}catch(Ne){_("Unable to read from LocalStorage")}},W.prototype.saveEventData=function(){var Ne=M("localStorage"),et=this.getStorageKey(),tt=this.getStorageKey("uuid");if(Ne)try{rt.localStorage.setItem(tt,this.anonId),Object.keys(this.eventData).length>=1&&rt.localStorage.setItem(et,JSON.stringify(this.eventData))}catch(Ne){_("Unable to write to LocalStorage")}},W.prototype.processRequests=function(Ne){},W.prototype.postEvent=function(Ne,et,tt,rt){var nt=this;if(Rt.EVENTS_URL){var it=H(Rt.EVENTS_URL);it.params.push("access_token="+(rt||Rt.ACCESS_TOKEN||""));var ot={event:this.type,created:new Date(Ne).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.11.0",skuId:er,userId:this.anonId},at=et?c(ot,et):ot,st={url:Y(it),headers:{"Content-Type":"text/plain"},body:JSON.stringify([at])};this.pendingRequest=bt(st,(function(Ne){nt.pendingRequest=null,tt(Ne),nt.saveEventData(),nt.processRequests(rt)}))}},W.prototype.queueRequest=function(Ne,et){this.queue.push(Ne),this.processRequests(et)};var wr,Sr,rn=function(Ne){function e(){Ne.call(this,"map.load"),this.success={},this.skuToken=""}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(Ne,et,tt,rt){this.skuToken=tt,(Rt.EVENTS_URL&&rt||Rt.ACCESS_TOKEN&&Array.isArray(Ne)&&Ne.some((function(Ne){return G(Ne)||X(Ne)})))&&this.queueRequest({id:et,timestamp:Date.now()},rt)},e.prototype.processRequests=function(Ne){var et=this;if(!this.pendingRequest&&0!==this.queue.length){var tt=this.queue.shift(),rt=tt.id,nt=tt.timestamp;rt&&this.success[rt]||(this.anonId||this.fetchEventData(),d(this.anonId)||(this.anonId=y()),this.postEvent(nt,{skuToken:this.skuToken},(function(Ne){Ne||rt&&(et.success[rt]=!0)}),Ne))}},e}(W),vn=new(function(Ne){function e(et){Ne.call(this,"appUserTurnstile"),this._customAccessToken=et}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(Ne,et){Rt.EVENTS_URL&&Rt.ACCESS_TOKEN&&Array.isArray(Ne)&&Ne.some((function(Ne){return G(Ne)||X(Ne)}))&&this.queueRequest(Date.now(),et)},e.prototype.processRequests=function(Ne){var et=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var tt=$(Rt.ACCESS_TOKEN),rt=tt?tt.u:Rt.ACCESS_TOKEN,nt=rt!==this.eventData.tokenU;d(this.anonId)||(this.anonId=y(),nt=!0);var it=this.queue.shift();if(this.eventData.lastSuccess){var ot=new Date(this.eventData.lastSuccess),at=new Date(it),st=(it-this.eventData.lastSuccess)/864e5;nt=nt||st>=1||st<-1||ot.getDate()!==at.getDate()}else nt=!0;if(!nt)return this.processRequests();this.postEvent(it,{"enabled.telemetry":!1},(function(Ne){Ne||(et.eventData.lastSuccess=it,et.eventData.tokenU=rt)}),Ne)}},e}(W)),bn=vn.postTurnstileEvent.bind(vn),Tn=new rn,Cn=Tn.postMapLoadEvent.bind(Tn),In=500,Mn=50;function ut(){rt.caches&&!wr&&(wr=rt.caches.open("mapbox-tiles"))}function lt(Ne){var et=Ne.indexOf("?");return et<0?Ne:Ne.slice(0,et)}var zn,Ln=1/0;function ht(){return null==zn&&(zn=rt.OffscreenCanvas&&new rt.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof rt.createImageBitmap),zn}var Fn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Fn);var Bn,Nn,Vn=function(Ne){function e(et,tt,rt){401===tt&&X(rt)&&(et+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),Ne.call(this,et),this.status=tt,this.url=rt,this.name=this.constructor.name,this.message=et}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),Wn=k()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===rt.location.protocol?rt.parent:rt).location.href},gt=function(Ne,et){if(!(/^file:/.test(tt=Ne.url)||/^file:/.test(Wn())&&!/^\w+:/.test(tt))){if(rt.fetch&&rt.Request&&rt.AbortController&&rt.Request.prototype.hasOwnProperty("signal"))return function(Ne,et){var tt,nt=new rt.AbortController,it=new rt.Request(Ne.url,{method:Ne.method||"GET",body:Ne.body,credentials:Ne.credentials,headers:Ne.headers,referrer:Wn(),signal:nt.signal}),ot=!1,at=!1,st=(tt=it.url).indexOf("sku=")>0&&X(tt);"json"===Ne.type&&it.headers.set("Accept","application/json");var l=function(tt,nt,ot){if(!at){if(tt&&"SecurityError"!==tt.message&&_(tt),nt&&ot)return p(nt);var ct=Date.now();rt.fetch(it).then((function(tt){if(tt.ok){var rt=st?tt.clone():null;return p(tt,rt,ct)}return et(new Vn(tt.statusText,tt.status,Ne.url))})).catch((function(Ne){20!==Ne.code&&et(new Error(Ne.message))}))}},p=function(tt,nt,st){("arrayBuffer"===Ne.type?tt.arrayBuffer():"json"===Ne.type?tt.json():tt.text()).then((function(Ne){at||(nt&&st&&function(Ne,et,tt){if(ut(),wr){var nt={status:et.status,statusText:et.statusText,headers:new rt.Headers};et.headers.forEach((function(Ne,et){return nt.headers.set(et,Ne)}));var it=I(et.headers.get("Cache-Control")||"");it["no-store"]||(it["max-age"]&&nt.headers.set("Expires",new Date(tt+1e3*it["max-age"]).toUTCString()),new Date(nt.headers.get("Expires")).getTime()-tt<42e4||function(Ne,et){if(void 0===Sr)try{new Response(new ReadableStream),Sr=!0}catch(Ne){Sr=!1}Sr?et(Ne.body):Ne.blob().then(et)}(et,(function(et){var tt=new rt.Response(et,nt);ut(),wr&&wr.then((function(et){return et.put(lt(Ne.url),tt)})).catch((function(Ne){return _(Ne.message)}))})))}}(it,nt,st),ot=!0,et(null,Ne,tt.headers.get("Cache-Control"),tt.headers.get("Expires")))})).catch((function(Ne){at||et(new Error(Ne.message))}))};return st?function(Ne,et){if(ut(),!wr)return et(null);var tt=lt(Ne.url);wr.then((function(Ne){Ne.match(tt).then((function(rt){var nt=function(Ne){if(!Ne)return!1;var et=new Date(Ne.headers.get("Expires")||0),tt=I(Ne.headers.get("Cache-Control")||"");return et>Date.now()&&!tt["no-cache"]}(rt);Ne.delete(tt),nt&&Ne.put(tt,rt.clone()),et(null,rt,nt)})).catch(et)})).catch(et)}(it,l):l(null,null),{cancel:function(){at=!0,ot||nt.abort()}}}(Ne,et);if(k()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",Ne,et,void 0,!0)}var tt;return function(Ne,et){var tt=new rt.XMLHttpRequest;for(var nt in tt.open(Ne.method||"GET",Ne.url,!0),"arrayBuffer"===Ne.type&&(tt.responseType="arraybuffer"),Ne.headers)tt.setRequestHeader(nt,Ne.headers[nt]);return"json"===Ne.type&&(tt.responseType="text",tt.setRequestHeader("Accept","application/json")),tt.withCredentials="include"===Ne.credentials,tt.onerror=function(){et(new Error(tt.statusText))},tt.onload=function(){if((tt.status>=200&&tt.status<300||0===tt.status)&&null!==tt.response){var rt=tt.response;if("json"===Ne.type)try{rt=JSON.parse(tt.response)}catch(Ne){return et(Ne)}et(null,rt,tt.getResponseHeader("Cache-Control"),tt.getResponseHeader("Expires"))}else et(new Vn(tt.statusText,tt.status,Ne.url))},tt.send(Ne.body),{cancel:function(){return tt.abort()}}}(Ne,et)},xt=function(Ne,et){return gt(c(Ne,{type:"arrayBuffer"}),et)},bt=function(Ne,et){return gt(c(Ne,{method:"POST"}),et)};Bn=[],Nn=0;var wt=function(Ne,et){if(Dt.supported&&(Ne.headers||(Ne.headers={}),Ne.headers.accept="image/webp,*/*"),Nn>=Rt.MAX_PARALLEL_IMAGE_REQUESTS){var tt={requestParameters:Ne,callback:et,cancelled:!1,cancel:function(){this.cancelled=!0}};return Bn.push(tt),tt}Nn++;var nt=!1,i=function(){if(!nt)for(nt=!0,Nn--;Bn.length&&Nn<Rt.MAX_PARALLEL_IMAGE_REQUESTS;){var Ne=Bn.shift();Ne.cancelled||(Ne.cancel=wt(Ne.requestParameters,Ne.callback).cancel)}},it=xt(Ne,(function(Ne,tt,nt,it){i(),Ne?et(Ne):tt&&(ht()?function(Ne,et){var tt=new rt.Blob([new Uint8Array(Ne)],{type:"image/png"});rt.createImageBitmap(tt).then((function(Ne){et(null,Ne)})).catch((function(Ne){et(new Error("Could not load image because of "+Ne.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(tt,et):function(Ne,et,tt,nt){var it=new rt.Image,ot=rt.URL;it.onload=function(){et(null,it),ot.revokeObjectURL(it.src)},it.onerror=function(){return et(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var at=new rt.Blob([new Uint8Array(Ne)],{type:"image/png"});it.cacheControl=tt,it.expires=nt,it.src=Ne.byteLength?ot.createObjectURL(at):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(tt,et,nt,it))}));return{cancel:function(){it.cancel(),i()}}};function _t(Ne,et,tt){tt[Ne]&&-1!==tt[Ne].indexOf(et)||(tt[Ne]=tt[Ne]||[],tt[Ne].push(et))}function At(Ne,et,tt){if(tt&&tt[Ne]){var rt=tt[Ne].indexOf(et);-1!==rt&&tt[Ne].splice(rt,1)}}var St=function(Ne,et){void 0===et&&(et={}),c(this,et),this.type=Ne},$n=function(Ne){function e(et,tt){void 0===tt&&(tt={}),Ne.call(this,"error",c({error:et},tt))}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(St),It=function(){};It.prototype.on=function(Ne,et){return this._listeners=this._listeners||{},_t(Ne,et,this._listeners),this},It.prototype.off=function(Ne,et){return At(Ne,et,this._listeners),At(Ne,et,this._oneTimeListeners),this},It.prototype.once=function(Ne,et){return this._oneTimeListeners=this._oneTimeListeners||{},_t(Ne,et,this._oneTimeListeners),this},It.prototype.fire=function(Ne,et){"string"==typeof Ne&&(Ne=new St(Ne,et||{}));var tt=Ne.type;if(this.listens(tt)){Ne.target=this;for(var rt=0,nt=this._listeners&&this._listeners[tt]?this._listeners[tt].slice():[];rt<nt.length;rt+=1)nt[rt].call(this,Ne);for(var it=0,ot=this._oneTimeListeners&&this._oneTimeListeners[tt]?this._oneTimeListeners[tt].slice():[];it<ot.length;it+=1){var at=ot[it];At(tt,at,this._oneTimeListeners),at.call(this,Ne)}var st=this._eventedParent;st&&(c(Ne,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),st.fire(Ne))}else Ne instanceof $n&&console.error(Ne.error);return this},It.prototype.listens=function(Ne){return this._listeners&&this._listeners[Ne]&&this._listeners[Ne].length>0||this._oneTimeListeners&&this._oneTimeListeners[Ne]&&this._oneTimeListeners[Ne].length>0||this._eventedParent&&this._eventedParent.listens(Ne)},It.prototype.setEventedParent=function(Ne,et){return this._eventedParent=Ne,this._eventedParentData=et,this};var Yn={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ct=function(Ne,et,tt,rt){this.message=(Ne?Ne+": ":"")+tt,rt&&(this.identifier=rt),null!=et&&et.__line__&&(this.line=et.__line__)};function Mt(Ne){var et=Ne.value;return et?[new Ct(Ne.key,et,"constants have been deprecated as of v8")]:[]}function Et(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];for(var rt=0,nt=et;rt<nt.length;rt+=1){var it=nt[rt];for(var ot in it)Ne[ot]=it[ot]}return Ne}function Tt(Ne){return Ne instanceof Number||Ne instanceof String||Ne instanceof Boolean?Ne.valueOf():Ne}function Pt(Ne){if(Array.isArray(Ne))return Ne.map(Pt);if(Ne instanceof Object&&!(Ne instanceof Number||Ne instanceof String||Ne instanceof Boolean)){var et={};for(var tt in Ne)et[tt]=Pt(Ne[tt]);return et}return Tt(Ne)}var ii=function(Ne){function e(et,tt){Ne.call(this,tt),this.message=tt,this.key=et}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(Error),Vt=function(Ne,et){void 0===et&&(et=[]),this.parent=Ne,this.bindings={};for(var tt=0,rt=et;tt<rt.length;tt+=1){var nt=rt[tt];this.bindings[nt[0]]=nt[1]}};Vt.prototype.concat=function(Ne){return new Vt(this,Ne)},Vt.prototype.get=function(Ne){if(this.bindings[Ne])return this.bindings[Ne];if(this.parent)return this.parent.get(Ne);throw new Error(Ne+" not found in scope.")},Vt.prototype.has=function(Ne){return!!this.bindings[Ne]||!!this.parent&&this.parent.has(Ne)};var qi={kind:"null"},uo={kind:"number"},po={kind:"string"},vo={kind:"boolean"},So={kind:"color"},ea={kind:"object"},ta={kind:"value"},ia={kind:"collator"},sa={kind:"formatted"},la={kind:"resolvedImage"};function Gt(Ne,et){return{kind:"array",itemType:Ne,N:et}}function Zt(Ne){if("array"===Ne.kind){var et=Zt(Ne.itemType);return"number"==typeof Ne.N?"array<"+et+", "+Ne.N+">":"value"===Ne.itemType.kind?"array":"array<"+et+">"}return Ne.kind}var fa=[qi,uo,po,vo,So,sa,ea,Gt(ta),la];function Jt(Ne,et){if("error"===et.kind)return null;if("array"===Ne.kind){if("array"===et.kind&&(0===et.N&&"value"===et.itemType.kind||!Jt(Ne.itemType,et.itemType))&&("number"!=typeof Ne.N||Ne.N===et.N))return null}else{if(Ne.kind===et.kind)return null;if("value"===Ne.kind)for(var tt=0,rt=fa;tt<rt.length;tt+=1)if(!Jt(rt[tt],et))return null}return"Expected "+Zt(Ne)+" but found "+Zt(et)+" instead."}function Ht(Ne,et){return et.some((function(et){return et.kind===Ne.kind}))}function Yt(Ne,et){return et.some((function(et){return"null"===et?null===Ne:"array"===et?Array.isArray(Ne):"object"===et?Ne&&!Array.isArray(Ne)&&"object"==typeof Ne:et===typeof Ne}))}var ga=e((function(Ne,et){var tt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(Ne){return(Ne=Math.round(Ne))<0?0:Ne>255?255:Ne}function i(Ne){return n("%"===Ne[Ne.length-1]?parseFloat(Ne)/100*255:parseInt(Ne))}function a(Ne){return(et="%"===Ne[Ne.length-1]?parseFloat(Ne)/100:parseFloat(Ne))<0?0:et>1?1:et;var et}function o(Ne,et,tt){return tt<0?tt+=1:tt>1&&(tt-=1),6*tt<1?Ne+(et-Ne)*tt*6:2*tt<1?et:3*tt<2?Ne+(et-Ne)*(2/3-tt)*6:Ne}try{et.parseCSSColor=function(Ne){var et,rt=Ne.replace(/ /g,"").toLowerCase();if(rt in tt)return tt[rt].slice();if("#"===rt[0])return 4===rt.length?(et=parseInt(rt.substr(1),16))>=0&&et<=4095?[(3840&et)>>4|(3840&et)>>8,240&et|(240&et)>>4,15&et|(15&et)<<4,1]:null:7===rt.length&&(et=parseInt(rt.substr(1),16))>=0&&et<=16777215?[(16711680&et)>>16,(65280&et)>>8,255&et,1]:null;var nt=rt.indexOf("("),it=rt.indexOf(")");if(-1!==nt&&it+1===rt.length){var ot=rt.substr(0,nt),at=rt.substr(nt+1,it-(nt+1)).split(","),st=1;switch(ot){case"rgba":if(4!==at.length)return null;st=a(at.pop());case"rgb":return 3!==at.length?null:[i(at[0]),i(at[1]),i(at[2]),st];case"hsla":if(4!==at.length)return null;st=a(at.pop());case"hsl":if(3!==at.length)return null;var ct=(parseFloat(at[0])%360+360)%360/360,pt=a(at[1]),ft=a(at[2]),dt=ft<=.5?ft*(pt+1):ft+pt-ft*pt,mt=2*ft-dt;return[n(255*o(mt,dt,ct+1/3)),n(255*o(mt,dt,ct)),n(255*o(mt,dt,ct-1/3)),st];default:return null}}return null}}catch(Ne){}})).parseCSSColor,Wt=function(Ne,et,tt,rt){void 0===rt&&(rt=1),this.r=Ne,this.g=et,this.b=tt,this.a=rt};Wt.parse=function(Ne){if(Ne){if(Ne instanceof Wt)return Ne;if("string"==typeof Ne){var et=ga(Ne);if(et)return new Wt(et[0]/255*et[3],et[1]/255*et[3],et[2]/255*et[3],et[3])}}},Wt.prototype.toString=function(){var Ne=this.toArray(),et=Ne[1],tt=Ne[2],rt=Ne[3];return"rgba("+Math.round(Ne[0])+","+Math.round(et)+","+Math.round(tt)+","+rt+")"},Wt.prototype.toArray=function(){var Ne=this.a;return 0===Ne?[0,0,0,0]:[255*this.r/Ne,255*this.g/Ne,255*this.b/Ne,Ne]},Wt.black=new Wt(0,0,0,1),Wt.white=new Wt(1,1,1,1),Wt.transparent=new Wt(0,0,0,0),Wt.red=new Wt(1,0,0,1);var Qt=function(Ne,et,tt){this.sensitivity=Ne?et?"variant":"case":et?"accent":"base",this.locale=tt,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Qt.prototype.compare=function(Ne,et){return this.collator.compare(Ne,et)},Qt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var te=function(Ne,et,tt,rt,nt){this.text=Ne,this.image=et,this.scale=tt,this.fontStack=rt,this.textColor=nt},ee=function(Ne){this.sections=Ne};ee.fromString=function(Ne){return new ee([new te(Ne,null,null,null,null)])},ee.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(Ne){return 0!==Ne.text.length||Ne.image&&0!==Ne.image.name.length}))},ee.factory=function(Ne){return Ne instanceof ee?Ne:ee.fromString(Ne)},ee.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(Ne){return Ne.text})).join("")},ee.prototype.serialize=function(){for(var Ne=["format"],et=0,tt=this.sections;et<tt.length;et+=1){var rt=tt[et];if(rt.image)Ne.push(["image",rt.image.name]);else{Ne.push(rt.text);var nt={};rt.fontStack&&(nt["text-font"]=["literal",rt.fontStack.split(",")]),rt.scale&&(nt["font-scale"]=rt.scale),rt.textColor&&(nt["text-color"]=["rgba"].concat(rt.textColor.toArray())),Ne.push(nt)}}return Ne};var re=function(Ne){this.name=Ne.name,this.available=Ne.available};function ne(Ne,et,tt,rt){return"number"==typeof Ne&&Ne>=0&&Ne<=255&&"number"==typeof et&&et>=0&&et<=255&&"number"==typeof tt&&tt>=0&&tt<=255?void 0===rt||"number"==typeof rt&&rt>=0&&rt<=1?null:"Invalid rgba value ["+[Ne,et,tt,rt].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof rt?[Ne,et,tt,rt]:[Ne,et,tt]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ie(Ne){if(null===Ne)return!0;if("string"==typeof Ne)return!0;if("boolean"==typeof Ne)return!0;if("number"==typeof Ne)return!0;if(Ne instanceof Wt)return!0;if(Ne instanceof Qt)return!0;if(Ne instanceof ee)return!0;if(Ne instanceof re)return!0;if(Array.isArray(Ne)){for(var et=0,tt=Ne;et<tt.length;et+=1)if(!ie(tt[et]))return!1;return!0}if("object"==typeof Ne){for(var rt in Ne)if(!ie(Ne[rt]))return!1;return!0}return!1}function ae(Ne){if(null===Ne)return qi;if("string"==typeof Ne)return po;if("boolean"==typeof Ne)return vo;if("number"==typeof Ne)return uo;if(Ne instanceof Wt)return So;if(Ne instanceof Qt)return ia;if(Ne instanceof ee)return sa;if(Ne instanceof re)return la;if(Array.isArray(Ne)){for(var et,tt=Ne.length,rt=0,nt=Ne;rt<nt.length;rt+=1){var it=ae(nt[rt]);if(et){if(et===it)continue;et=ta;break}et=it}return Gt(et||ta,tt)}return ea}function oe(Ne){var et=typeof Ne;return null===Ne?"":"string"===et||"number"===et||"boolean"===et?String(Ne):Ne instanceof Wt||Ne instanceof ee||Ne instanceof re?Ne.toString():JSON.stringify(Ne)}re.prototype.toString=function(){return this.name},re.fromString=function(Ne){return Ne?new re({name:Ne,available:!1}):null},re.prototype.serialize=function(){return["image",this.name]};var se=function(Ne,et){this.type=Ne,this.value=et};se.parse=function(Ne,et){if(2!==Ne.length)return et.error("'literal' expression requires exactly one argument, but found "+(Ne.length-1)+" instead.");if(!ie(Ne[1]))return et.error("invalid value");var tt=Ne[1],rt=ae(tt),nt=et.expectedType;return"array"!==rt.kind||0!==rt.N||!nt||"array"!==nt.kind||"number"==typeof nt.N&&0!==nt.N||(rt=nt),new se(rt,tt)},se.prototype.evaluate=function(){return this.value},se.prototype.eachChild=function(){},se.prototype.outputDefined=function(){return!0},se.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Wt?["rgba"].concat(this.value.toArray()):this.value instanceof ee?this.value.serialize():this.value};var ue=function(Ne){this.name="ExpressionEvaluationError",this.message=Ne};ue.prototype.toJSON=function(){return this.message};var _a={string:po,number:uo,boolean:vo,object:ea},pe=function(Ne,et){this.type=Ne,this.args=et};pe.parse=function(Ne,et){if(Ne.length<2)return et.error("Expected at least one argument.");var tt,rt=1,nt=Ne[0];if("array"===nt){var it,ot;if(Ne.length>2){var at=Ne[1];if("string"!=typeof at||!(at in _a)||"object"===at)return et.error('The item type argument of "array" must be one of string, number, boolean',1);it=_a[at],rt++}else it=ta;if(Ne.length>3){if(null!==Ne[2]&&("number"!=typeof Ne[2]||Ne[2]<0||Ne[2]!==Math.floor(Ne[2])))return et.error('The length argument to "array" must be a positive integer literal',2);ot=Ne[2],rt++}tt=Gt(it,ot)}else tt=_a[nt];for(var st=[];rt<Ne.length;rt++){var ct=et.parse(Ne[rt],rt,ta);if(!ct)return null;st.push(ct)}return new pe(tt,st)},pe.prototype.evaluate=function(Ne){for(var et=0;et<this.args.length;et++){var tt=this.args[et].evaluate(Ne);if(!Jt(this.type,ae(tt)))return tt;if(et===this.args.length-1)throw new ue("Expected value to be of type "+Zt(this.type)+", but found "+Zt(ae(tt))+" instead.")}return null},pe.prototype.eachChild=function(Ne){this.args.forEach(Ne)},pe.prototype.outputDefined=function(){return this.args.every((function(Ne){return Ne.outputDefined()}))},pe.prototype.serialize=function(){var Ne=this.type,et=[Ne.kind];if("array"===Ne.kind){var tt=Ne.itemType;if("string"===tt.kind||"number"===tt.kind||"boolean"===tt.kind){et.push(tt.kind);var rt=Ne.N;("number"==typeof rt||this.args.length>1)&&et.push(rt)}}return et.concat(this.args.map((function(Ne){return Ne.serialize()})))};var ce=function(Ne){this.type=sa,this.sections=Ne};ce.parse=function(Ne,et){if(Ne.length<2)return et.error("Expected at least one argument.");var tt=Ne[1];if(!Array.isArray(tt)&&"object"==typeof tt)return et.error("First argument must be an image or text section.");for(var rt=[],nt=!1,it=1;it<=Ne.length-1;++it){var ot=Ne[it];if(nt&&"object"==typeof ot&&!Array.isArray(ot)){nt=!1;var at=null;if(ot["font-scale"]&&!(at=et.parse(ot["font-scale"],1,uo)))return null;var st=null;if(ot["text-font"]&&!(st=et.parse(ot["text-font"],1,Gt(po))))return null;var ct=null;if(ot["text-color"]&&!(ct=et.parse(ot["text-color"],1,So)))return null;var pt=rt[rt.length-1];pt.scale=at,pt.font=st,pt.textColor=ct}else{var ft=et.parse(Ne[it],1,ta);if(!ft)return null;var dt=ft.type.kind;if("string"!==dt&&"value"!==dt&&"null"!==dt&&"resolvedImage"!==dt)return et.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");nt=!0,rt.push({content:ft,scale:null,font:null,textColor:null})}}return new ce(rt)},ce.prototype.evaluate=function(Ne){return new ee(this.sections.map((function(et){var tt=et.content.evaluate(Ne);return ae(tt)===la?new te("",tt,null,null,null):new te(oe(tt),null,et.scale?et.scale.evaluate(Ne):null,et.font?et.font.evaluate(Ne).join(","):null,et.textColor?et.textColor.evaluate(Ne):null)})))},ce.prototype.eachChild=function(Ne){for(var et=0,tt=this.sections;et<tt.length;et+=1){var rt=tt[et];Ne(rt.content),rt.scale&&Ne(rt.scale),rt.font&&Ne(rt.font),rt.textColor&&Ne(rt.textColor)}},ce.prototype.outputDefined=function(){return!1},ce.prototype.serialize=function(){for(var Ne=["format"],et=0,tt=this.sections;et<tt.length;et+=1){var rt=tt[et];Ne.push(rt.content.serialize());var nt={};rt.scale&&(nt["font-scale"]=rt.scale.serialize()),rt.font&&(nt["text-font"]=rt.font.serialize()),rt.textColor&&(nt["text-color"]=rt.textColor.serialize()),Ne.push(nt)}return Ne};var he=function(Ne){this.type=la,this.input=Ne};he.parse=function(Ne,et){if(2!==Ne.length)return et.error("Expected two arguments.");var tt=et.parse(Ne[1],1,po);return tt?new he(tt):et.error("No image name provided.")},he.prototype.evaluate=function(Ne){var et=this.input.evaluate(Ne),tt=re.fromString(et);return tt&&Ne.availableImages&&(tt.available=Ne.availableImages.indexOf(et)>-1),tt},he.prototype.eachChild=function(Ne){Ne(this.input)},he.prototype.outputDefined=function(){return!1},he.prototype.serialize=function(){return["image",this.input.serialize()]};var Aa={"to-boolean":vo,"to-color":So,"to-number":uo,"to-string":po},ye=function(Ne,et){this.type=Ne,this.args=et};ye.parse=function(Ne,et){if(Ne.length<2)return et.error("Expected at least one argument.");var tt=Ne[0];if(("to-boolean"===tt||"to-string"===tt)&&2!==Ne.length)return et.error("Expected one argument.");for(var rt=Aa[tt],nt=[],it=1;it<Ne.length;it++){var ot=et.parse(Ne[it],it,ta);if(!ot)return null;nt.push(ot)}return new ye(rt,nt)},ye.prototype.evaluate=function(Ne){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(Ne));if("color"===this.type.kind){for(var et,tt,rt=0,nt=this.args;rt<nt.length;rt+=1){if(tt=null,(et=nt[rt].evaluate(Ne))instanceof Wt)return et;if("string"==typeof et){var it=Ne.parseColor(et);if(it)return it}else if(Array.isArray(et)&&!(tt=et.length<3||et.length>4?"Invalid rbga value "+JSON.stringify(et)+": expected an array containing either three or four numeric values.":ne(et[0],et[1],et[2],et[3])))return new Wt(et[0]/255,et[1]/255,et[2]/255,et[3])}throw new ue(tt||"Could not parse color from value '"+("string"==typeof et?et:String(JSON.stringify(et)))+"'")}if("number"===this.type.kind){for(var ot=null,at=0,st=this.args;at<st.length;at+=1){if(null===(ot=st[at].evaluate(Ne)))return 0;var ct=Number(ot);if(!isNaN(ct))return ct}throw new ue("Could not convert "+JSON.stringify(ot)+" to number.")}return"formatted"===this.type.kind?ee.fromString(oe(this.args[0].evaluate(Ne))):"resolvedImage"===this.type.kind?re.fromString(oe(this.args[0].evaluate(Ne))):oe(this.args[0].evaluate(Ne))},ye.prototype.eachChild=function(Ne){this.args.forEach(Ne)},ye.prototype.outputDefined=function(){return this.args.every((function(Ne){return Ne.outputDefined()}))},ye.prototype.serialize=function(){if("formatted"===this.type.kind)return new ce([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new he(this.args[0]).serialize();var Ne=["to-"+this.type.kind];return this.eachChild((function(et){Ne.push(et.serialize())})),Ne};var os=["Unknown","Point","LineString","Polygon"],me=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};me.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},me.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?os[this.feature.type]:this.feature.type:null},me.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},me.prototype.canonicalID=function(){return this.canonical},me.prototype.properties=function(){return this.feature&&this.feature.properties||{}},me.prototype.parseColor=function(Ne){var et=this._parseColorCache[Ne];return et||(et=this._parseColorCache[Ne]=Wt.parse(Ne)),et};var ve=function(Ne,et,tt,rt){this.name=Ne,this.type=et,this._evaluate=tt,this.args=rt};ve.prototype.evaluate=function(Ne){return this._evaluate(Ne,this.args)},ve.prototype.eachChild=function(Ne){this.args.forEach(Ne)},ve.prototype.outputDefined=function(){return!1},ve.prototype.serialize=function(){return[this.name].concat(this.args.map((function(Ne){return Ne.serialize()})))},ve.parse=function(Ne,et){var tt,rt=Ne[0],nt=ve.definitions[rt];if(!nt)return et.error('Unknown expression "'+rt+'". If you wanted a literal array, use ["literal", [...]].',0);for(var it=Array.isArray(nt)?nt[0]:nt.type,ot=Array.isArray(nt)?[[nt[1],nt[2]]]:nt.overloads,at=ot.filter((function(et){var tt=et[0];return!Array.isArray(tt)||tt.length===Ne.length-1})),st=null,ct=0,pt=at;ct<pt.length;ct+=1){var ft=pt[ct],dt=ft[0],mt=ft[1];st=new Oe(et.registry,et.path,null,et.scope);for(var yt=[],vt=!1,Rt=1;Rt<Ne.length;Rt++){var Dt=Ne[Rt],Ot=Array.isArray(dt)?dt[Rt-1]:dt.type,Bt=st.parse(Dt,1+yt.length,Ot);if(!Bt){vt=!0;break}yt.push(Bt)}if(!vt)if(Array.isArray(dt)&&dt.length!==yt.length)st.error("Expected "+dt.length+" arguments, but found "+yt.length+" instead.");else{for(var er=0;er<yt.length;er++){var rr=Array.isArray(dt)?dt[er]:dt.type,vr=yt[er];st.concat(er+1).checkSubtype(rr,vr.type)}if(0===st.errors.length)return new ve(rt,it,mt,yt)}}if(1===at.length)(tt=et.errors).push.apply(tt,st.errors);else{for(var wr=(at.length?at:ot).map((function(Ne){var et;return et=Ne[0],Array.isArray(et)?"("+et.map(Zt).join(", ")+")":"("+Zt(et.type)+"...)"})).join(" | "),Sr=[],rn=1;rn<Ne.length;rn++){var vn=et.parse(Ne[rn],1+Sr.length);if(!vn)return null;Sr.push(Zt(vn.type))}et.error("Expected arguments of type "+wr+", but found ("+Sr.join(", ")+") instead.")}return null},ve.register=function(Ne,et){for(var tt in ve.definitions=et,et)Ne[tt]=ve};var ge=function(Ne,et,tt){this.type=ia,this.locale=tt,this.caseSensitive=Ne,this.diacriticSensitive=et};function xe(Ne,et){Ne[0]=Math.min(Ne[0],et[0]),Ne[1]=Math.min(Ne[1],et[1]),Ne[2]=Math.max(Ne[2],et[0]),Ne[3]=Math.max(Ne[3],et[1])}function be(Ne,et){return!(Ne[0]<=et[0]||Ne[2]>=et[2]||Ne[1]<=et[1]||Ne[3]>=et[3])}function we(Ne,et){var tt=(180+Ne[0])/360,rt=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Ne[1]*Math.PI/360)))/360,nt=Math.pow(2,et.z);return[Math.round(tt*nt*8192),Math.round(rt*nt*8192)]}function _e(Ne,et,tt){return et[1]>Ne[1]!=tt[1]>Ne[1]&&Ne[0]<(tt[0]-et[0])*(Ne[1]-et[1])/(tt[1]-et[1])+et[0]}function Ae(Ne,et){for(var tt,rt,nt,it,ot,at,st,ct=!1,pt=0,ft=et.length;pt<ft;pt++)for(var dt=et[pt],mt=0,yt=dt.length;mt<yt-1;mt++){if((it=(tt=Ne)[0]-(rt=dt[mt])[0])*(st=tt[1]-(nt=dt[mt+1])[1])-(at=tt[0]-nt[0])*(ot=tt[1]-rt[1])==0&&it*at<=0&&ot*st<=0)return!1;_e(Ne,dt[mt],dt[mt+1])&&(ct=!ct)}return ct}function Se(Ne,et){for(var tt=0;tt<et.length;tt++)if(Ae(Ne,et[tt]))return!0;return!1}function ke(Ne,et,tt,rt){var nt=rt[0]-tt[0],it=rt[1]-tt[1],ot=(Ne[0]-tt[0])*it-nt*(Ne[1]-tt[1]),at=(et[0]-tt[0])*it-nt*(et[1]-tt[1]);return ot>0&&at<0||ot<0&&at>0}function Ie(Ne,et,tt){for(var rt=0,nt=tt;rt<nt.length;rt+=1)for(var it=nt[rt],ot=0;ot<it.length-1;++ot)if(0!=(ft=[(pt=it[ot+1])[0]-(ct=it[ot])[0],pt[1]-ct[1]])[0]*(dt=[(st=et)[0]-(at=Ne)[0],st[1]-at[1]])[1]-ft[1]*dt[0]&&ke(at,st,ct,pt)&&ke(ct,pt,at,st))return!0;var at,st,ct,pt,ft,dt;return!1}function ze(Ne,et){for(var tt=0;tt<Ne.length;++tt)if(!Ae(Ne[tt],et))return!1;for(var rt=0;rt<Ne.length-1;++rt)if(Ie(Ne[rt],Ne[rt+1],et))return!1;return!0}function Ce(Ne,et){for(var tt=0;tt<et.length;tt++)if(ze(Ne,et[tt]))return!0;return!1}function Me(Ne,et,tt){for(var rt=[],nt=0;nt<Ne.length;nt++){for(var it=[],ot=0;ot<Ne[nt].length;ot++){var at=we(Ne[nt][ot],tt);xe(et,at),it.push(at)}rt.push(it)}return rt}function Ee(Ne,et,tt){for(var rt=[],nt=0;nt<Ne.length;nt++){var it=Me(Ne[nt],et,tt);rt.push(it)}return rt}function Te(Ne,et,tt,rt){if(Ne[0]<tt[0]||Ne[0]>tt[2]){var nt=.5*rt,it=Ne[0]-tt[0]>nt?-rt:tt[0]-Ne[0]>nt?rt:0;0===it&&(it=Ne[0]-tt[2]>nt?-rt:tt[2]-Ne[0]>nt?rt:0),Ne[0]+=it}xe(et,Ne)}function Pe(Ne,et,tt,rt){for(var nt=8192*Math.pow(2,rt.z),it=[8192*rt.x,8192*rt.y],ot=[],at=0,st=Ne;at<st.length;at+=1)for(var ct=0,pt=st[at];ct<pt.length;ct+=1){var ft=pt[ct],dt=[ft.x+it[0],ft.y+it[1]];Te(dt,et,tt,nt),ot.push(dt)}return ot}function Be(Ne,et,tt,rt){for(var nt,it=8192*Math.pow(2,rt.z),ot=[8192*rt.x,8192*rt.y],at=[],st=0,ct=Ne;st<ct.length;st+=1){for(var pt=[],ft=0,dt=ct[st];ft<dt.length;ft+=1){var mt=dt[ft],yt=[mt.x+ot[0],mt.y+ot[1]];xe(et,yt),pt.push(yt)}at.push(pt)}if(et[2]-et[0]<=it/2){(nt=et)[0]=nt[1]=1/0,nt[2]=nt[3]=-1/0;for(var vt=0,Rt=at;vt<Rt.length;vt+=1)for(var Dt=0,Ot=Rt[vt];Dt<Ot.length;Dt+=1)Te(Ot[Dt],et,tt,it)}return at}ge.parse=function(Ne,et){if(2!==Ne.length)return et.error("Expected one argument.");var tt=Ne[1];if("object"!=typeof tt||Array.isArray(tt))return et.error("Collator options argument must be an object.");var rt=et.parse(void 0!==tt["case-sensitive"]&&tt["case-sensitive"],1,vo);if(!rt)return null;var nt=et.parse(void 0!==tt["diacritic-sensitive"]&&tt["diacritic-sensitive"],1,vo);if(!nt)return null;var it=null;return tt.locale&&!(it=et.parse(tt.locale,1,po))?null:new ge(rt,nt,it)},ge.prototype.evaluate=function(Ne){return new Qt(this.caseSensitive.evaluate(Ne),this.diacriticSensitive.evaluate(Ne),this.locale?this.locale.evaluate(Ne):null)},ge.prototype.eachChild=function(Ne){Ne(this.caseSensitive),Ne(this.diacriticSensitive),this.locale&&Ne(this.locale)},ge.prototype.outputDefined=function(){return!1},ge.prototype.serialize=function(){var Ne={};return Ne["case-sensitive"]=this.caseSensitive.serialize(),Ne["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(Ne.locale=this.locale.serialize()),["collator",Ne]};var Ve=function(Ne,et){this.type=vo,this.geojson=Ne,this.geometries=et};function Fe(Ne){if(Ne instanceof ve){if("get"===Ne.name&&1===Ne.args.length)return!1;if("feature-state"===Ne.name)return!1;if("has"===Ne.name&&1===Ne.args.length)return!1;if("properties"===Ne.name||"geometry-type"===Ne.name||"id"===Ne.name)return!1;if(/^filter-/.test(Ne.name))return!1}if(Ne instanceof Ve)return!1;var et=!0;return Ne.eachChild((function(Ne){et&&!Fe(Ne)&&(et=!1)})),et}function De(Ne){if(Ne instanceof ve&&"feature-state"===Ne.name)return!1;var et=!0;return Ne.eachChild((function(Ne){et&&!De(Ne)&&(et=!1)})),et}function Le(Ne,et){if(Ne instanceof ve&&et.indexOf(Ne.name)>=0)return!1;var tt=!0;return Ne.eachChild((function(Ne){tt&&!Le(Ne,et)&&(tt=!1)})),tt}Ve.parse=function(Ne,et){if(2!==Ne.length)return et.error("'within' expression requires exactly one argument, but found "+(Ne.length-1)+" instead.");if(ie(Ne[1])){var tt=Ne[1];if("FeatureCollection"===tt.type)for(var rt=0;rt<tt.features.length;++rt){var nt=tt.features[rt].geometry.type;if("Polygon"===nt||"MultiPolygon"===nt)return new Ve(tt,tt.features[rt].geometry)}else if("Feature"===tt.type){var it=tt.geometry.type;if("Polygon"===it||"MultiPolygon"===it)return new Ve(tt,tt.geometry)}else if("Polygon"===tt.type||"MultiPolygon"===tt.type)return new Ve(tt,tt)}return et.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ve.prototype.evaluate=function(Ne){if(null!=Ne.geometry()&&null!=Ne.canonicalID()){if("Point"===Ne.geometryType())return function(Ne,et){var tt=[1/0,1/0,-1/0,-1/0],rt=[1/0,1/0,-1/0,-1/0],nt=Ne.canonicalID();if("Polygon"===et.type){var it=Me(et.coordinates,rt,nt),ot=Pe(Ne.geometry(),tt,rt,nt);if(!be(tt,rt))return!1;for(var at=0,st=ot;at<st.length;at+=1)if(!Ae(st[at],it))return!1}if("MultiPolygon"===et.type){var ct=Ee(et.coordinates,rt,nt),pt=Pe(Ne.geometry(),tt,rt,nt);if(!be(tt,rt))return!1;for(var ft=0,dt=pt;ft<dt.length;ft+=1)if(!Se(dt[ft],ct))return!1}return!0}(Ne,this.geometries);if("LineString"===Ne.geometryType())return function(Ne,et){var tt=[1/0,1/0,-1/0,-1/0],rt=[1/0,1/0,-1/0,-1/0],nt=Ne.canonicalID();if("Polygon"===et.type){var it=Me(et.coordinates,rt,nt),ot=Be(Ne.geometry(),tt,rt,nt);if(!be(tt,rt))return!1;for(var at=0,st=ot;at<st.length;at+=1)if(!ze(st[at],it))return!1}if("MultiPolygon"===et.type){var ct=Ee(et.coordinates,rt,nt),pt=Be(Ne.geometry(),tt,rt,nt);if(!be(tt,rt))return!1;for(var ft=0,dt=pt;ft<dt.length;ft+=1)if(!Ce(dt[ft],ct))return!1}return!0}(Ne,this.geometries)}return!1},Ve.prototype.eachChild=function(){},Ve.prototype.outputDefined=function(){return!0},Ve.prototype.serialize=function(){return["within",this.geojson]};var Re=function(Ne,et){this.type=et.type,this.name=Ne,this.boundExpression=et};Re.parse=function(Ne,et){if(2!==Ne.length||"string"!=typeof Ne[1])return et.error("'var' expression requires exactly one string literal argument.");var tt=Ne[1];return et.scope.has(tt)?new Re(tt,et.scope.get(tt)):et.error('Unknown variable "'+tt+'". Make sure "'+tt+'" has been bound in an enclosing "let" expression before using it.',1)},Re.prototype.evaluate=function(Ne){return this.boundExpression.evaluate(Ne)},Re.prototype.eachChild=function(){},Re.prototype.outputDefined=function(){return!1},Re.prototype.serialize=function(){return["var",this.name]};var Oe=function(Ne,et,tt,rt,nt){void 0===et&&(et=[]),void 0===rt&&(rt=new Vt),void 0===nt&&(nt=[]),this.registry=Ne,this.path=et,this.key=et.map((function(Ne){return"["+Ne+"]"})).join(""),this.scope=rt,this.errors=nt,this.expectedType=tt};function Ue(Ne,et){for(var tt,rt=Ne.length-1,nt=0,it=rt,ot=0;nt<=it;)if((tt=Ne[ot=Math.floor((nt+it)/2)])<=et){if(ot===rt||et<Ne[ot+1])return ot;nt=ot+1}else{if(!(tt>et))throw new ue("Input is not a number.");it=ot-1}return 0}Oe.prototype.parse=function(Ne,et,tt,rt,nt){return void 0===nt&&(nt={}),et?this.concat(et,tt,rt)._parse(Ne,nt):this._parse(Ne,nt)},Oe.prototype._parse=function(Ne,et){function r(Ne,et,tt){return"assert"===tt?new pe(et,[Ne]):"coerce"===tt?new ye(et,[Ne]):Ne}if(null!==Ne&&"string"!=typeof Ne&&"boolean"!=typeof Ne&&"number"!=typeof Ne||(Ne=["literal",Ne]),Array.isArray(Ne)){if(0===Ne.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var tt=Ne[0];if("string"!=typeof tt)return this.error("Expression name must be a string, but found "+typeof tt+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var rt=this.registry[tt];if(rt){var nt=rt.parse(Ne,this);if(!nt)return null;if(this.expectedType){var it=this.expectedType,ot=nt.type;if("string"!==it.kind&&"number"!==it.kind&&"boolean"!==it.kind&&"object"!==it.kind&&"array"!==it.kind||"value"!==ot.kind)if("color"!==it.kind&&"formatted"!==it.kind&&"resolvedImage"!==it.kind||"value"!==ot.kind&&"string"!==ot.kind){if(this.checkSubtype(it,ot))return null}else nt=r(nt,it,et.typeAnnotation||"coerce");else nt=r(nt,it,et.typeAnnotation||"assert")}if(!(nt instanceof se)&&"resolvedImage"!==nt.type.kind&&function t(Ne){if(Ne instanceof Re)return t(Ne.boundExpression);if(Ne instanceof ve&&"error"===Ne.name)return!1;if(Ne instanceof ge)return!1;if(Ne instanceof Ve)return!1;var et=Ne instanceof ye||Ne instanceof pe,tt=!0;return Ne.eachChild((function(Ne){tt=et?tt&&t(Ne):tt&&Ne instanceof se})),!!tt&&Fe(Ne)&&Le(Ne,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(nt)){var at=new me;try{nt=new se(nt.type,nt.evaluate(at))}catch(Ne){return this.error(Ne.message),null}}return nt}return this.error('Unknown expression "'+tt+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===Ne?"'undefined' value invalid. Use null instead.":"object"==typeof Ne?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof Ne+" instead.")},Oe.prototype.concat=function(Ne,et,tt){var rt="number"==typeof Ne?this.path.concat(Ne):this.path,nt=tt?this.scope.concat(tt):this.scope;return new Oe(this.registry,rt,et||null,nt,this.errors)},Oe.prototype.error=function(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];var rt=""+this.key+et.map((function(Ne){return"["+Ne+"]"})).join("");this.errors.push(new ii(rt,Ne))},Oe.prototype.checkSubtype=function(Ne,et){var tt=Jt(Ne,et);return tt&&this.error(tt),tt};var je=function(Ne,et,tt){this.type=Ne,this.input=et,this.labels=[],this.outputs=[];for(var rt=0,nt=tt;rt<nt.length;rt+=1){var it=nt[rt],ot=it[1];this.labels.push(it[0]),this.outputs.push(ot)}};function qe(Ne,et,tt){return Ne*(1-tt)+et*tt}je.parse=function(Ne,et){if(Ne.length-1<4)return et.error("Expected at least 4 arguments, but found only "+(Ne.length-1)+".");if((Ne.length-1)%2!=0)return et.error("Expected an even number of arguments.");var tt=et.parse(Ne[1],1,uo);if(!tt)return null;var rt=[],nt=null;et.expectedType&&"value"!==et.expectedType.kind&&(nt=et.expectedType);for(var it=1;it<Ne.length;it+=2){var ot=1===it?-1/0:Ne[it],at=Ne[it+1],st=it,ct=it+1;if("number"!=typeof ot)return et.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',st);if(rt.length&&rt[rt.length-1][0]>=ot)return et.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',st);var pt=et.parse(at,ct,nt);if(!pt)return null;nt=nt||pt.type,rt.push([ot,pt])}return new je(nt,tt,rt)},je.prototype.evaluate=function(Ne){var et=this.labels,tt=this.outputs;if(1===et.length)return tt[0].evaluate(Ne);var rt=this.input.evaluate(Ne);if(rt<=et[0])return tt[0].evaluate(Ne);var nt=et.length;return rt>=et[nt-1]?tt[nt-1].evaluate(Ne):tt[Ue(et,rt)].evaluate(Ne)},je.prototype.eachChild=function(Ne){Ne(this.input);for(var et=0,tt=this.outputs;et<tt.length;et+=1)Ne(tt[et])},je.prototype.outputDefined=function(){return this.outputs.every((function(Ne){return Ne.outputDefined()}))},je.prototype.serialize=function(){for(var Ne=["step",this.input.serialize()],et=0;et<this.labels.length;et++)et>0&&Ne.push(this.labels[et]),Ne.push(this.outputs[et].serialize());return Ne};var as=Object.freeze({__proto__:null,number:qe,color:function(Ne,et,tt){return new Wt(qe(Ne.r,et.r,tt),qe(Ne.g,et.g,tt),qe(Ne.b,et.b,tt),qe(Ne.a,et.a,tt))},array:function(Ne,et,tt){return Ne.map((function(Ne,rt){return qe(Ne,et[rt],tt)}))}}),ss=6/29*3*(6/29),ls=Math.PI/180,us=180/Math.PI;function Xe(Ne){return Ne>.008856451679035631?Math.pow(Ne,1/3):Ne/ss+4/29}function Je(Ne){return Ne>6/29?Ne*Ne*Ne:ss*(Ne-4/29)}function He(Ne){return 255*(Ne<=.0031308?12.92*Ne:1.055*Math.pow(Ne,1/2.4)-.055)}function Ye(Ne){return(Ne/=255)<=.04045?Ne/12.92:Math.pow((Ne+.055)/1.055,2.4)}function $e(Ne){var et=Ye(Ne.r),tt=Ye(Ne.g),rt=Ye(Ne.b),nt=Xe((.4124564*et+.3575761*tt+.1804375*rt)/.95047),it=Xe((.2126729*et+.7151522*tt+.072175*rt)/1);return{l:116*it-16,a:500*(nt-it),b:200*(it-Xe((.0193339*et+.119192*tt+.9503041*rt)/1.08883)),alpha:Ne.a}}function We(Ne){var et=(Ne.l+16)/116,tt=isNaN(Ne.a)?et:et+Ne.a/500,rt=isNaN(Ne.b)?et:et-Ne.b/200;return et=1*Je(et),tt=.95047*Je(tt),rt=1.08883*Je(rt),new Wt(He(3.2404542*tt-1.5371385*et-.4985314*rt),He(-.969266*tt+1.8760108*et+.041556*rt),He(.0556434*tt-.2040259*et+1.0572252*rt),Ne.alpha)}function Qe(Ne,et,tt){var rt=et-Ne;return Ne+tt*(rt>180||rt<-180?rt-360*Math.round(rt/360):rt)}var fs={forward:$e,reverse:We,interpolate:function(Ne,et,tt){return{l:qe(Ne.l,et.l,tt),a:qe(Ne.a,et.a,tt),b:qe(Ne.b,et.b,tt),alpha:qe(Ne.alpha,et.alpha,tt)}}},gs={forward:function(Ne){var et=$e(Ne),tt=et.l,rt=et.a,nt=et.b,it=Math.atan2(nt,rt)*us;return{h:it<0?it+360:it,c:Math.sqrt(rt*rt+nt*nt),l:tt,alpha:Ne.a}},reverse:function(Ne){var et=Ne.h*ls,tt=Ne.c;return We({l:Ne.l,a:Math.cos(et)*tt,b:Math.sin(et)*tt,alpha:Ne.alpha})},interpolate:function(Ne,et,tt){return{h:Qe(Ne.h,et.h,tt),c:qe(Ne.c,et.c,tt),l:qe(Ne.l,et.l,tt),alpha:qe(Ne.alpha,et.alpha,tt)}}},vs=Object.freeze({__proto__:null,lab:fs,hcl:gs}),nr=function(Ne,et,tt,rt,nt){this.type=Ne,this.operator=et,this.interpolation=tt,this.input=rt,this.labels=[],this.outputs=[];for(var it=0,ot=nt;it<ot.length;it+=1){var at=ot[it],st=at[1];this.labels.push(at[0]),this.outputs.push(st)}};function ir(Ne,et,tt,rt){var nt=rt-tt,it=Ne-tt;return 0===nt?0:1===et?it/nt:(Math.pow(et,it)-1)/(Math.pow(et,nt)-1)}nr.interpolationFactor=function(Ne,tt,rt,nt){var it=0;if("exponential"===Ne.name)it=ir(tt,Ne.base,rt,nt);else if("linear"===Ne.name)it=ir(tt,1,rt,nt);else if("cubic-bezier"===Ne.name){var ot=Ne.controlPoints;it=new et(ot[0],ot[1],ot[2],ot[3]).solve(ir(tt,1,rt,nt))}return it},nr.parse=function(Ne,et){var tt=Ne[0],rt=Ne[1],nt=Ne[2],it=Ne.slice(3);if(!Array.isArray(rt)||0===rt.length)return et.error("Expected an interpolation type expression.",1);if("linear"===rt[0])rt={name:"linear"};else if("exponential"===rt[0]){var ot=rt[1];if("number"!=typeof ot)return et.error("Exponential interpolation requires a numeric base.",1,1);rt={name:"exponential",base:ot}}else{if("cubic-bezier"!==rt[0])return et.error("Unknown interpolation type "+String(rt[0]),1,0);var at=rt.slice(1);if(4!==at.length||at.some((function(Ne){return"number"!=typeof Ne||Ne<0||Ne>1})))return et.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);rt={name:"cubic-bezier",controlPoints:at}}if(Ne.length-1<4)return et.error("Expected at least 4 arguments, but found only "+(Ne.length-1)+".");if((Ne.length-1)%2!=0)return et.error("Expected an even number of arguments.");if(!(nt=et.parse(nt,2,uo)))return null;var st=[],ct=null;"interpolate-hcl"===tt||"interpolate-lab"===tt?ct=So:et.expectedType&&"value"!==et.expectedType.kind&&(ct=et.expectedType);for(var pt=0;pt<it.length;pt+=2){var ft=it[pt],dt=it[pt+1],mt=pt+3,yt=pt+4;if("number"!=typeof ft)return et.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',mt);if(st.length&&st[st.length-1][0]>=ft)return et.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',mt);var vt=et.parse(dt,yt,ct);if(!vt)return null;ct=ct||vt.type,st.push([ft,vt])}return"number"===ct.kind||"color"===ct.kind||"array"===ct.kind&&"number"===ct.itemType.kind&&"number"==typeof ct.N?new nr(ct,tt,rt,nt,st):et.error("Type "+Zt(ct)+" is not interpolatable.")},nr.prototype.evaluate=function(Ne){var et=this.labels,tt=this.outputs;if(1===et.length)return tt[0].evaluate(Ne);var rt=this.input.evaluate(Ne);if(rt<=et[0])return tt[0].evaluate(Ne);var nt=et.length;if(rt>=et[nt-1])return tt[nt-1].evaluate(Ne);var it=Ue(et,rt),ot=nr.interpolationFactor(this.interpolation,rt,et[it],et[it+1]),at=tt[it].evaluate(Ne),st=tt[it+1].evaluate(Ne);return"interpolate"===this.operator?as[this.type.kind.toLowerCase()](at,st,ot):"interpolate-hcl"===this.operator?gs.reverse(gs.interpolate(gs.forward(at),gs.forward(st),ot)):fs.reverse(fs.interpolate(fs.forward(at),fs.forward(st),ot))},nr.prototype.eachChild=function(Ne){Ne(this.input);for(var et=0,tt=this.outputs;et<tt.length;et+=1)Ne(tt[et])},nr.prototype.outputDefined=function(){return this.outputs.every((function(Ne){return Ne.outputDefined()}))},nr.prototype.serialize=function(){var Ne;Ne="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var et=[this.operator,Ne,this.input.serialize()],tt=0;tt<this.labels.length;tt++)et.push(this.labels[tt],this.outputs[tt].serialize());return et};var ar=function(Ne,et){this.type=Ne,this.args=et};ar.parse=function(Ne,et){if(Ne.length<2)return et.error("Expectected at least one argument.");var tt=null,rt=et.expectedType;rt&&"value"!==rt.kind&&(tt=rt);for(var nt=[],it=0,ot=Ne.slice(1);it<ot.length;it+=1){var at=et.parse(ot[it],1+nt.length,tt,void 0,{typeAnnotation:"omit"});if(!at)return null;tt=tt||at.type,nt.push(at)}var st=rt&&nt.some((function(Ne){return Jt(rt,Ne.type)}));return new ar(st?ta:tt,nt)},ar.prototype.evaluate=function(Ne){for(var et,tt=null,rt=0,nt=0,it=this.args;nt<it.length&&(rt++,(tt=it[nt].evaluate(Ne))&&tt instanceof re&&!tt.available&&(et||(et=tt.name),tt=null,rt===this.args.length&&(tt=et)),null===tt);nt+=1);return tt},ar.prototype.eachChild=function(Ne){this.args.forEach(Ne)},ar.prototype.outputDefined=function(){return this.args.every((function(Ne){return Ne.outputDefined()}))},ar.prototype.serialize=function(){var Ne=["coalesce"];return this.eachChild((function(et){Ne.push(et.serialize())})),Ne};var or=function(Ne,et){this.type=et.type,this.bindings=[].concat(Ne),this.result=et};or.prototype.evaluate=function(Ne){return this.result.evaluate(Ne)},or.prototype.eachChild=function(Ne){for(var et=0,tt=this.bindings;et<tt.length;et+=1)Ne(tt[et][1]);Ne(this.result)},or.parse=function(Ne,et){if(Ne.length<4)return et.error("Expected at least 3 arguments, but found "+(Ne.length-1)+" instead.");for(var tt=[],rt=1;rt<Ne.length-1;rt+=2){var nt=Ne[rt];if("string"!=typeof nt)return et.error("Expected string, but found "+typeof nt+" instead.",rt);if(/[^a-zA-Z0-9_]/.test(nt))return et.error("Variable names must contain only alphanumeric characters or '_'.",rt);var it=et.parse(Ne[rt+1],rt+1);if(!it)return null;tt.push([nt,it])}var ot=et.parse(Ne[Ne.length-1],Ne.length-1,et.expectedType,tt);return ot?new or(tt,ot):null},or.prototype.outputDefined=function(){return this.result.outputDefined()},or.prototype.serialize=function(){for(var Ne=["let"],et=0,tt=this.bindings;et<tt.length;et+=1){var rt=tt[et];Ne.push(rt[0],rt[1].serialize())}return Ne.push(this.result.serialize()),Ne};var sr=function(Ne,et,tt){this.type=Ne,this.index=et,this.input=tt};sr.parse=function(Ne,et){if(3!==Ne.length)return et.error("Expected 2 arguments, but found "+(Ne.length-1)+" instead.");var tt=et.parse(Ne[1],1,uo),rt=et.parse(Ne[2],2,Gt(et.expectedType||ta));return tt&&rt?new sr(rt.type.itemType,tt,rt):null},sr.prototype.evaluate=function(Ne){var et=this.index.evaluate(Ne),tt=this.input.evaluate(Ne);if(et<0)throw new ue("Array index out of bounds: "+et+" < 0.");if(et>=tt.length)throw new ue("Array index out of bounds: "+et+" > "+(tt.length-1)+".");if(et!==Math.floor(et))throw new ue("Array index must be an integer, but found "+et+" instead.");return tt[et]},sr.prototype.eachChild=function(Ne){Ne(this.index),Ne(this.input)},sr.prototype.outputDefined=function(){return!1},sr.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ur=function(Ne,et){this.type=vo,this.needle=Ne,this.haystack=et};ur.parse=function(Ne,et){if(3!==Ne.length)return et.error("Expected 2 arguments, but found "+(Ne.length-1)+" instead.");var tt=et.parse(Ne[1],1,ta),rt=et.parse(Ne[2],2,ta);return tt&&rt?Ht(tt.type,[vo,po,uo,qi,ta])?new ur(tt,rt):et.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(tt.type)+" instead"):null},ur.prototype.evaluate=function(Ne){var et=this.needle.evaluate(Ne),tt=this.haystack.evaluate(Ne);if(!tt)return!1;if(!Yt(et,["boolean","string","number","null"]))throw new ue("Expected first argument to be of type boolean, string, number or null, but found "+Zt(ae(et))+" instead.");if(!Yt(tt,["string","array"]))throw new ue("Expected second argument to be of type array or string, but found "+Zt(ae(tt))+" instead.");return tt.indexOf(et)>=0},ur.prototype.eachChild=function(Ne){Ne(this.needle),Ne(this.haystack)},ur.prototype.outputDefined=function(){return!0},ur.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var lr=function(Ne,et,tt){this.type=uo,this.needle=Ne,this.haystack=et,this.fromIndex=tt};lr.parse=function(Ne,et){if(Ne.length<=2||Ne.length>=5)return et.error("Expected 3 or 4 arguments, but found "+(Ne.length-1)+" instead.");var tt=et.parse(Ne[1],1,ta),rt=et.parse(Ne[2],2,ta);if(!tt||!rt)return null;if(!Ht(tt.type,[vo,po,uo,qi,ta]))return et.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(tt.type)+" instead");if(4===Ne.length){var nt=et.parse(Ne[3],3,uo);return nt?new lr(tt,rt,nt):null}return new lr(tt,rt)},lr.prototype.evaluate=function(Ne){var et=this.needle.evaluate(Ne),tt=this.haystack.evaluate(Ne);if(!Yt(et,["boolean","string","number","null"]))throw new ue("Expected first argument to be of type boolean, string, number or null, but found "+Zt(ae(et))+" instead.");if(!Yt(tt,["string","array"]))throw new ue("Expected second argument to be of type array or string, but found "+Zt(ae(tt))+" instead.");if(this.fromIndex){var rt=this.fromIndex.evaluate(Ne);return tt.indexOf(et,rt)}return tt.indexOf(et)},lr.prototype.eachChild=function(Ne){Ne(this.needle),Ne(this.haystack),this.fromIndex&&Ne(this.fromIndex)},lr.prototype.outputDefined=function(){return!1},lr.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var Ne=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),Ne]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var pr=function(Ne,et,tt,rt,nt,it){this.inputType=Ne,this.type=et,this.input=tt,this.cases=rt,this.outputs=nt,this.otherwise=it};pr.parse=function(Ne,et){if(Ne.length<5)return et.error("Expected at least 4 arguments, but found only "+(Ne.length-1)+".");if(Ne.length%2!=1)return et.error("Expected an even number of arguments.");var tt,rt;et.expectedType&&"value"!==et.expectedType.kind&&(rt=et.expectedType);for(var nt={},it=[],ot=2;ot<Ne.length-1;ot+=2){var at=Ne[ot],st=Ne[ot+1];Array.isArray(at)||(at=[at]);var ct=et.concat(ot);if(0===at.length)return ct.error("Expected at least one branch label.");for(var pt=0,ft=at;pt<ft.length;pt+=1){var dt=ft[pt];if("number"!=typeof dt&&"string"!=typeof dt)return ct.error("Branch labels must be numbers or strings.");if("number"==typeof dt&&Math.abs(dt)>Number.MAX_SAFE_INTEGER)return ct.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof dt&&Math.floor(dt)!==dt)return ct.error("Numeric branch labels must be integer values.");if(tt){if(ct.checkSubtype(tt,ae(dt)))return null}else tt=ae(dt);if(void 0!==nt[String(dt)])return ct.error("Branch labels must be unique.");nt[String(dt)]=it.length}var mt=et.parse(st,ot,rt);if(!mt)return null;rt=rt||mt.type,it.push(mt)}var yt=et.parse(Ne[1],1,ta);if(!yt)return null;var vt=et.parse(Ne[Ne.length-1],Ne.length-1,rt);return vt?"value"!==yt.type.kind&&et.concat(1).checkSubtype(tt,yt.type)?null:new pr(tt,rt,yt,nt,it,vt):null},pr.prototype.evaluate=function(Ne){var et=this.input.evaluate(Ne);return(ae(et)===this.inputType&&this.outputs[this.cases[et]]||this.otherwise).evaluate(Ne)},pr.prototype.eachChild=function(Ne){Ne(this.input),this.outputs.forEach(Ne),Ne(this.otherwise)},pr.prototype.outputDefined=function(){return this.outputs.every((function(Ne){return Ne.outputDefined()}))&&this.otherwise.outputDefined()},pr.prototype.serialize=function(){for(var Ne=this,et=["match",this.input.serialize()],tt=[],rt={},nt=0,it=Object.keys(this.cases).sort();nt<it.length;nt+=1){var ot=it[nt];void 0===(pt=rt[this.cases[ot]])?(rt[this.cases[ot]]=tt.length,tt.push([this.cases[ot],[ot]])):tt[pt][1].push(ot)}for(var s=function(et){return"number"===Ne.inputType.kind?Number(et):et},at=0,st=tt;at<st.length;at+=1){var ct=st[at],pt=ct[0],ft=ct[1];et.push(1===ft.length?s(ft[0]):ft.map(s)),et.push(this.outputs[outputIndex$1].serialize())}return et.push(this.otherwise.serialize()),et};var cr=function(Ne,et,tt){this.type=Ne,this.branches=et,this.otherwise=tt};cr.parse=function(Ne,et){if(Ne.length<4)return et.error("Expected at least 3 arguments, but found only "+(Ne.length-1)+".");if(Ne.length%2!=0)return et.error("Expected an odd number of arguments.");var tt;et.expectedType&&"value"!==et.expectedType.kind&&(tt=et.expectedType);for(var rt=[],nt=1;nt<Ne.length-1;nt+=2){var it=et.parse(Ne[nt],nt,vo);if(!it)return null;var ot=et.parse(Ne[nt+1],nt+1,tt);if(!ot)return null;rt.push([it,ot]),tt=tt||ot.type}var at=et.parse(Ne[Ne.length-1],Ne.length-1,tt);return at?new cr(tt,rt,at):null},cr.prototype.evaluate=function(Ne){for(var et=0,tt=this.branches;et<tt.length;et+=1){var rt=tt[et],nt=rt[1];if(rt[0].evaluate(Ne))return nt.evaluate(Ne)}return this.otherwise.evaluate(Ne)},cr.prototype.eachChild=function(Ne){for(var et=0,tt=this.branches;et<tt.length;et+=1){var rt=tt[et],nt=rt[1];Ne(rt[0]),Ne(nt)}Ne(this.otherwise)},cr.prototype.outputDefined=function(){return this.branches.every((function(Ne){return Ne[1].outputDefined()}))&&this.otherwise.outputDefined()},cr.prototype.serialize=function(){var Ne=["case"];return this.eachChild((function(et){Ne.push(et.serialize())})),Ne};var hr=function(Ne,et,tt,rt){this.type=Ne,this.input=et,this.beginIndex=tt,this.endIndex=rt};function fr(Ne,et){return"=="===Ne||"!="===Ne?"boolean"===et.kind||"string"===et.kind||"number"===et.kind||"null"===et.kind||"value"===et.kind:"string"===et.kind||"number"===et.kind||"value"===et.kind}function yr(Ne,et,tt,rt){return 0===rt.compare(et,tt)}function dr(Ne,et,tt){var rt="=="!==Ne&&"!="!==Ne;return function(){function i(Ne,et,tt){this.type=vo,this.lhs=Ne,this.rhs=et,this.collator=tt,this.hasUntypedArgument="value"===Ne.type.kind||"value"===et.type.kind}return i.parse=function(Ne,et){if(3!==Ne.length&&4!==Ne.length)return et.error("Expected two or three arguments.");var tt=Ne[0],nt=et.parse(Ne[1],1,ta);if(!nt)return null;if(!fr(tt,nt.type))return et.concat(1).error('"'+tt+"\" comparisons are not supported for type '"+Zt(nt.type)+"'.");var it=et.parse(Ne[2],2,ta);if(!it)return null;if(!fr(tt,it.type))return et.concat(2).error('"'+tt+"\" comparisons are not supported for type '"+Zt(it.type)+"'.");if(nt.type.kind!==it.type.kind&&"value"!==nt.type.kind&&"value"!==it.type.kind)return et.error("Cannot compare types '"+Zt(nt.type)+"' and '"+Zt(it.type)+"'.");rt&&("value"===nt.type.kind&&"value"!==it.type.kind?nt=new pe(it.type,[nt]):"value"!==nt.type.kind&&"value"===it.type.kind&&(it=new pe(nt.type,[it])));var ot=null;if(4===Ne.length){if("string"!==nt.type.kind&&"string"!==it.type.kind&&"value"!==nt.type.kind&&"value"!==it.type.kind)return et.error("Cannot use collator to compare non-string types.");if(!(ot=et.parse(Ne[3],3,ia)))return null}return new i(nt,it,ot)},i.prototype.evaluate=function(nt){var it=this.lhs.evaluate(nt),ot=this.rhs.evaluate(nt);if(rt&&this.hasUntypedArgument){var at=ae(it),st=ae(ot);if(at.kind!==st.kind||"string"!==at.kind&&"number"!==at.kind)throw new ue('Expected arguments for "'+Ne+'" to be (string, string) or (number, number), but found ('+at.kind+", "+st.kind+") instead.")}if(this.collator&&!rt&&this.hasUntypedArgument){var ct=ae(it),pt=ae(ot);if("string"!==ct.kind||"string"!==pt.kind)return et(nt,it,ot)}return this.collator?tt(nt,it,ot,this.collator.evaluate(nt)):et(nt,it,ot)},i.prototype.eachChild=function(Ne){Ne(this.lhs),Ne(this.rhs),this.collator&&Ne(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var et=[Ne];return this.eachChild((function(Ne){et.push(Ne.serialize())})),et},i}()}hr.parse=function(Ne,et){if(Ne.length<=2||Ne.length>=5)return et.error("Expected 3 or 4 arguments, but found "+(Ne.length-1)+" instead.");var tt=et.parse(Ne[1],1,ta),rt=et.parse(Ne[2],2,uo);if(!tt||!rt)return null;if(!Ht(tt.type,[Gt(ta),po,ta]))return et.error("Expected first argument to be of type array or string, but found "+Zt(tt.type)+" instead");if(4===Ne.length){var nt=et.parse(Ne[3],3,uo);return nt?new hr(tt.type,tt,rt,nt):null}return new hr(tt.type,tt,rt)},hr.prototype.evaluate=function(Ne){var et=this.input.evaluate(Ne),tt=this.beginIndex.evaluate(Ne);if(!Yt(et,["string","array"]))throw new ue("Expected first argument to be of type array or string, but found "+Zt(ae(et))+" instead.");if(this.endIndex){var rt=this.endIndex.evaluate(Ne);return et.slice(tt,rt)}return et.slice(tt)},hr.prototype.eachChild=function(Ne){Ne(this.input),Ne(this.beginIndex),this.endIndex&&Ne(this.endIndex)},hr.prototype.outputDefined=function(){return!1},hr.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var Ne=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),Ne]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var xs=dr("==",(function(Ne,et,tt){return et===tt}),yr),Ss=dr("!=",(function(Ne,et,tt){return et!==tt}),(function(Ne,et,tt,rt){return!yr(0,et,tt,rt)})),Es=dr("<",(function(Ne,et,tt){return et<tt}),(function(Ne,et,tt,rt){return rt.compare(et,tt)<0})),Cs=dr(">",(function(Ne,et,tt){return et>tt}),(function(Ne,et,tt,rt){return rt.compare(et,tt)>0})),Ps=dr("<=",(function(Ne,et,tt){return et<=tt}),(function(Ne,et,tt,rt){return rt.compare(et,tt)<=0})),As=dr(">=",(function(Ne,et,tt){return et>=tt}),(function(Ne,et,tt,rt){return rt.compare(et,tt)>=0})),_r=function(Ne,et,tt,rt,nt){this.type=po,this.number=Ne,this.locale=et,this.currency=tt,this.minFractionDigits=rt,this.maxFractionDigits=nt};_r.parse=function(Ne,et){if(3!==Ne.length)return et.error("Expected two arguments.");var tt=et.parse(Ne[1],1,uo);if(!tt)return null;var rt=Ne[2];if("object"!=typeof rt||Array.isArray(rt))return et.error("NumberFormat options argument must be an object.");var nt=null;if(rt.locale&&!(nt=et.parse(rt.locale,1,po)))return null;var it=null;if(rt.currency&&!(it=et.parse(rt.currency,1,po)))return null;var ot=null;if(rt["min-fraction-digits"]&&!(ot=et.parse(rt["min-fraction-digits"],1,uo)))return null;var at=null;return rt["max-fraction-digits"]&&!(at=et.parse(rt["max-fraction-digits"],1,uo))?null:new _r(tt,nt,it,ot,at)},_r.prototype.evaluate=function(Ne){return new Intl.NumberFormat(this.locale?this.locale.evaluate(Ne):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(Ne):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(Ne):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(Ne):void 0}).format(this.number.evaluate(Ne))},_r.prototype.eachChild=function(Ne){Ne(this.number),this.locale&&Ne(this.locale),this.currency&&Ne(this.currency),this.minFractionDigits&&Ne(this.minFractionDigits),this.maxFractionDigits&&Ne(this.maxFractionDigits)},_r.prototype.outputDefined=function(){return!1},_r.prototype.serialize=function(){var Ne={};return this.locale&&(Ne.locale=this.locale.serialize()),this.currency&&(Ne.currency=this.currency.serialize()),this.minFractionDigits&&(Ne["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(Ne["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),Ne]};var Ar=function(Ne){this.type=uo,this.input=Ne};Ar.parse=function(Ne,et){if(2!==Ne.length)return et.error("Expected 1 argument, but found "+(Ne.length-1)+" instead.");var tt=et.parse(Ne[1],1);return tt?"array"!==tt.type.kind&&"string"!==tt.type.kind&&"value"!==tt.type.kind?et.error("Expected argument of type string or array, but found "+Zt(tt.type)+" instead."):new Ar(tt):null},Ar.prototype.evaluate=function(Ne){var et=this.input.evaluate(Ne);if("string"==typeof et)return et.length;if(Array.isArray(et))return et.length;throw new ue("Expected value to be of type string or array, but found "+Zt(ae(et))+" instead.")},Ar.prototype.eachChild=function(Ne){Ne(this.input)},Ar.prototype.outputDefined=function(){return!1},Ar.prototype.serialize=function(){var Ne=["length"];return this.eachChild((function(et){Ne.push(et.serialize())})),Ne};var Rs={"==":xs,"!=":Ss,">":Cs,"<":Es,">=":As,"<=":Ps,array:pe,at:sr,boolean:pe,case:cr,coalesce:ar,collator:ge,format:ce,image:he,in:ur,"index-of":lr,interpolate:nr,"interpolate-hcl":nr,"interpolate-lab":nr,length:Ar,let:or,literal:se,match:pr,number:pe,"number-format":_r,object:pe,slice:hr,step:je,string:pe,"to-boolean":ye,"to-color":ye,"to-number":ye,"to-string":ye,var:Re,within:Ve};function kr(Ne,et){var tt=et[0],rt=et[1],nt=et[2],it=et[3];tt=tt.evaluate(Ne),rt=rt.evaluate(Ne),nt=nt.evaluate(Ne);var ot=it?it.evaluate(Ne):1,at=ne(tt,rt,nt,ot);if(at)throw new ue(at);return new Wt(tt/255*ot,rt/255*ot,nt/255*ot,ot)}function Ir(Ne,et){return Ne in et}function zr(Ne,et){var tt=et[Ne];return void 0===tt?null:tt}function Cr(Ne){return{type:Ne}}function Mr(Ne){return{result:"success",value:Ne}}function Er(Ne){return{result:"error",value:Ne}}function Tr(Ne){return"data-driven"===Ne["property-type"]||"cross-faded-data-driven"===Ne["property-type"]}function Pr(Ne){return!!Ne.expression&&Ne.expression.parameters.indexOf("zoom")>-1}function Br(Ne){return!!Ne.expression&&Ne.expression.interpolated}function Vr(Ne){return Ne instanceof Number?"number":Ne instanceof String?"string":Ne instanceof Boolean?"boolean":Array.isArray(Ne)?"array":null===Ne?"null":typeof Ne}function Fr(Ne){return"object"==typeof Ne&&null!==Ne&&!Array.isArray(Ne)}function Dr(Ne){return Ne}function Lr(Ne,et,tt){return void 0!==Ne?Ne:void 0!==et?et:void 0!==tt?tt:void 0}function Rr(Ne,et,tt,rt,nt){return Lr(typeof tt===nt?rt[tt]:void 0,Ne.default,et.default)}function Or(Ne,et,tt){if("number"!==Vr(tt))return Lr(Ne.default,et.default);var rt=Ne.stops.length;if(1===rt)return Ne.stops[0][1];if(tt<=Ne.stops[0][0])return Ne.stops[0][1];if(tt>=Ne.stops[rt-1][0])return Ne.stops[rt-1][1];var nt=Ue(Ne.stops.map((function(Ne){return Ne[0]})),tt);return Ne.stops[nt][1]}function Ur(Ne,et,tt){var rt=void 0!==Ne.base?Ne.base:1;if("number"!==Vr(tt))return Lr(Ne.default,et.default);var nt=Ne.stops.length;if(1===nt)return Ne.stops[0][1];if(tt<=Ne.stops[0][0])return Ne.stops[0][1];if(tt>=Ne.stops[nt-1][0])return Ne.stops[nt-1][1];var it=Ue(Ne.stops.map((function(Ne){return Ne[0]})),tt),ot=function(Ne,et,tt,rt){var nt=rt-tt,it=Ne-tt;return 0===nt?0:1===et?it/nt:(Math.pow(et,it)-1)/(Math.pow(et,nt)-1)}(tt,rt,Ne.stops[it][0],Ne.stops[it+1][0]),at=Ne.stops[it][1],st=Ne.stops[it+1][1],ct=as[et.type]||Dr;if(Ne.colorSpace&&"rgb"!==Ne.colorSpace){var pt=vs[Ne.colorSpace];ct=function(Ne,et){return pt.reverse(pt.interpolate(pt.forward(Ne),pt.forward(et),ot))}}return"function"==typeof at.evaluate?{evaluate:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=at.evaluate.apply(void 0,Ne),rt=st.evaluate.apply(void 0,Ne);if(void 0!==tt&&void 0!==rt)return ct(tt,rt,ot)}}:ct(at,st,ot)}function jr(Ne,et,tt){return"color"===et.type?tt=Wt.parse(tt):"formatted"===et.type?tt=ee.fromString(tt.toString()):"resolvedImage"===et.type?tt=re.fromString(tt.toString()):Vr(tt)===et.type||"enum"===et.type&&et.values[tt]||(tt=void 0),Lr(tt,Ne.default,et.default)}ve.register(Rs,{error:[{kind:"error"},[po],function(Ne,et){throw new ue(et[0].evaluate(Ne))}],typeof:[po,[ta],function(Ne,et){return Zt(ae(et[0].evaluate(Ne)))}],"to-rgba":[Gt(uo,4),[So],function(Ne,et){return et[0].evaluate(Ne).toArray()}],rgb:[So,[uo,uo,uo],kr],rgba:[So,[uo,uo,uo,uo],kr],has:{type:vo,overloads:[[[po],function(Ne,et){return Ir(et[0].evaluate(Ne),Ne.properties())}],[[po,ea],function(Ne,et){var tt=et[1];return Ir(et[0].evaluate(Ne),tt.evaluate(Ne))}]]},get:{type:ta,overloads:[[[po],function(Ne,et){return zr(et[0].evaluate(Ne),Ne.properties())}],[[po,ea],function(Ne,et){var tt=et[1];return zr(et[0].evaluate(Ne),tt.evaluate(Ne))}]]},"feature-state":[ta,[po],function(Ne,et){return zr(et[0].evaluate(Ne),Ne.featureState||{})}],properties:[ea,[],function(Ne){return Ne.properties()}],"geometry-type":[po,[],function(Ne){return Ne.geometryType()}],id:[ta,[],function(Ne){return Ne.id()}],zoom:[uo,[],function(Ne){return Ne.globals.zoom}],"heatmap-density":[uo,[],function(Ne){return Ne.globals.heatmapDensity||0}],"line-progress":[uo,[],function(Ne){return Ne.globals.lineProgress||0}],accumulated:[ta,[],function(Ne){return void 0===Ne.globals.accumulated?null:Ne.globals.accumulated}],"+":[uo,Cr(uo),function(Ne,et){for(var tt=0,rt=0,nt=et;rt<nt.length;rt+=1)tt+=nt[rt].evaluate(Ne);return tt}],"*":[uo,Cr(uo),function(Ne,et){for(var tt=1,rt=0,nt=et;rt<nt.length;rt+=1)tt*=nt[rt].evaluate(Ne);return tt}],"-":{type:uo,overloads:[[[uo,uo],function(Ne,et){var tt=et[1];return et[0].evaluate(Ne)-tt.evaluate(Ne)}],[[uo],function(Ne,et){return-et[0].evaluate(Ne)}]]},"/":[uo,[uo,uo],function(Ne,et){var tt=et[1];return et[0].evaluate(Ne)/tt.evaluate(Ne)}],"%":[uo,[uo,uo],function(Ne,et){var tt=et[1];return et[0].evaluate(Ne)%tt.evaluate(Ne)}],ln2:[uo,[],function(){return Math.LN2}],pi:[uo,[],function(){return Math.PI}],e:[uo,[],function(){return Math.E}],"^":[uo,[uo,uo],function(Ne,et){var tt=et[1];return Math.pow(et[0].evaluate(Ne),tt.evaluate(Ne))}],sqrt:[uo,[uo],function(Ne,et){return Math.sqrt(et[0].evaluate(Ne))}],log10:[uo,[uo],function(Ne,et){return Math.log(et[0].evaluate(Ne))/Math.LN10}],ln:[uo,[uo],function(Ne,et){return Math.log(et[0].evaluate(Ne))}],log2:[uo,[uo],function(Ne,et){return Math.log(et[0].evaluate(Ne))/Math.LN2}],sin:[uo,[uo],function(Ne,et){return Math.sin(et[0].evaluate(Ne))}],cos:[uo,[uo],function(Ne,et){return Math.cos(et[0].evaluate(Ne))}],tan:[uo,[uo],function(Ne,et){return Math.tan(et[0].evaluate(Ne))}],asin:[uo,[uo],function(Ne,et){return Math.asin(et[0].evaluate(Ne))}],acos:[uo,[uo],function(Ne,et){return Math.acos(et[0].evaluate(Ne))}],atan:[uo,[uo],function(Ne,et){return Math.atan(et[0].evaluate(Ne))}],min:[uo,Cr(uo),function(Ne,et){return Math.min.apply(Math,et.map((function(et){return et.evaluate(Ne)})))}],max:[uo,Cr(uo),function(Ne,et){return Math.max.apply(Math,et.map((function(et){return et.evaluate(Ne)})))}],abs:[uo,[uo],function(Ne,et){return Math.abs(et[0].evaluate(Ne))}],round:[uo,[uo],function(Ne,et){var tt=et[0].evaluate(Ne);return tt<0?-Math.round(-tt):Math.round(tt)}],floor:[uo,[uo],function(Ne,et){return Math.floor(et[0].evaluate(Ne))}],ceil:[uo,[uo],function(Ne,et){return Math.ceil(et[0].evaluate(Ne))}],"filter-==":[vo,[po,ta],function(Ne,et){var tt=et[0],rt=et[1];return Ne.properties()[tt.value]===rt.value}],"filter-id-==":[vo,[ta],function(Ne,et){var tt=et[0];return Ne.id()===tt.value}],"filter-type-==":[vo,[po],function(Ne,et){var tt=et[0];return Ne.geometryType()===tt.value}],"filter-<":[vo,[po,ta],function(Ne,et){var tt=et[0],rt=et[1],nt=Ne.properties()[tt.value],it=rt.value;return typeof nt==typeof it&&nt<it}],"filter-id-<":[vo,[ta],function(Ne,et){var tt=et[0],rt=Ne.id(),nt=tt.value;return typeof rt==typeof nt&&rt<nt}],"filter->":[vo,[po,ta],function(Ne,et){var tt=et[0],rt=et[1],nt=Ne.properties()[tt.value],it=rt.value;return typeof nt==typeof it&&nt>it}],"filter-id->":[vo,[ta],function(Ne,et){var tt=et[0],rt=Ne.id(),nt=tt.value;return typeof rt==typeof nt&&rt>nt}],"filter-<=":[vo,[po,ta],function(Ne,et){var tt=et[0],rt=et[1],nt=Ne.properties()[tt.value],it=rt.value;return typeof nt==typeof it&&nt<=it}],"filter-id-<=":[vo,[ta],function(Ne,et){var tt=et[0],rt=Ne.id(),nt=tt.value;return typeof rt==typeof nt&&rt<=nt}],"filter->=":[vo,[po,ta],function(Ne,et){var tt=et[0],rt=et[1],nt=Ne.properties()[tt.value],it=rt.value;return typeof nt==typeof it&&nt>=it}],"filter-id->=":[vo,[ta],function(Ne,et){var tt=et[0],rt=Ne.id(),nt=tt.value;return typeof rt==typeof nt&&rt>=nt}],"filter-has":[vo,[ta],function(Ne,et){return et[0].value in Ne.properties()}],"filter-has-id":[vo,[],function(Ne){return null!==Ne.id()&&void 0!==Ne.id()}],"filter-type-in":[vo,[Gt(po)],function(Ne,et){return et[0].value.indexOf(Ne.geometryType())>=0}],"filter-id-in":[vo,[Gt(ta)],function(Ne,et){return et[0].value.indexOf(Ne.id())>=0}],"filter-in-small":[vo,[po,Gt(ta)],function(Ne,et){var tt=et[0];return et[1].value.indexOf(Ne.properties()[tt.value])>=0}],"filter-in-large":[vo,[po,Gt(ta)],function(Ne,et){var tt=et[0],rt=et[1];return function(Ne,et,tt,rt){for(;tt<=rt;){var nt=tt+rt>>1;if(et[nt]===Ne)return!0;et[nt]>Ne?rt=nt-1:tt=nt+1}return!1}(Ne.properties()[tt.value],rt.value,0,rt.value.length-1)}],all:{type:vo,overloads:[[[vo,vo],function(Ne,et){var tt=et[1];return et[0].evaluate(Ne)&&tt.evaluate(Ne)}],[Cr(vo),function(Ne,et){for(var tt=0,rt=et;tt<rt.length;tt+=1)if(!rt[tt].evaluate(Ne))return!1;return!0}]]},any:{type:vo,overloads:[[[vo,vo],function(Ne,et){var tt=et[1];return et[0].evaluate(Ne)||tt.evaluate(Ne)}],[Cr(vo),function(Ne,et){for(var tt=0,rt=et;tt<rt.length;tt+=1)if(rt[tt].evaluate(Ne))return!0;return!1}]]},"!":[vo,[vo],function(Ne,et){return!et[0].evaluate(Ne)}],"is-supported-script":[vo,[po],function(Ne,et){var tt=Ne.globals&&Ne.globals.isSupportedScript;return!tt||tt(et[0].evaluate(Ne))}],upcase:[po,[po],function(Ne,et){return et[0].evaluate(Ne).toUpperCase()}],downcase:[po,[po],function(Ne,et){return et[0].evaluate(Ne).toLowerCase()}],concat:[po,Cr(ta),function(Ne,et){return et.map((function(et){return oe(et.evaluate(Ne))})).join("")}],"resolved-locale":[po,[ia],function(Ne,et){return et[0].evaluate(Ne).resolvedLocale()}]});var qr=function(Ne,et){this.expression=Ne,this._warningHistory={},this._evaluator=new me,this._defaultValue=et?function(Ne){return"color"===Ne.type&&Fr(Ne.default)?new Wt(0,0,0,0):"color"===Ne.type?Wt.parse(Ne.default)||null:void 0===Ne.default?null:Ne.default}(et):null,this._enumValues=et&&"enum"===et.type?et.values:null};function Nr(Ne){return Array.isArray(Ne)&&Ne.length>0&&"string"==typeof Ne[0]&&Ne[0]in Rs}function Kr(Ne,et){var tt=new Oe(Rs,[],et?function(Ne){var et={color:So,string:po,number:uo,enum:po,boolean:vo,formatted:sa,resolvedImage:la};return"array"===Ne.type?Gt(et[Ne.value]||ta,Ne.length):et[Ne.type]}(et):void 0),rt=tt.parse(Ne,void 0,void 0,void 0,et&&"string"===et.type?{typeAnnotation:"coerce"}:void 0);return rt?Mr(new qr(rt,et)):Er(tt.errors)}qr.prototype.evaluateWithoutErrorHandling=function(Ne,et,tt,rt,nt,it){return this._evaluator.globals=Ne,this._evaluator.feature=et,this._evaluator.featureState=tt,this._evaluator.canonical=rt,this._evaluator.availableImages=nt||null,this._evaluator.formattedSection=it,this.expression.evaluate(this._evaluator)},qr.prototype.evaluate=function(Ne,et,tt,rt,nt,it){this._evaluator.globals=Ne,this._evaluator.feature=et||null,this._evaluator.featureState=tt||null,this._evaluator.canonical=rt,this._evaluator.availableImages=nt||null,this._evaluator.formattedSection=it||null;try{var ot=this.expression.evaluate(this._evaluator);if(null==ot||"number"==typeof ot&&ot!=ot)return this._defaultValue;if(this._enumValues&&!(ot in this._enumValues))throw new ue("Expected value to be one of "+Object.keys(this._enumValues).map((function(Ne){return JSON.stringify(Ne)})).join(", ")+", but found "+JSON.stringify(ot)+" instead.");return ot}catch(Ne){return this._warningHistory[Ne.message]||(this._warningHistory[Ne.message]=!0,"undefined"!=typeof console&&console.warn(Ne.message)),this._defaultValue}};var Gr=function(Ne,et){this.kind=Ne,this._styleExpression=et,this.isStateDependent="constant"!==Ne&&!De(et.expression)};Gr.prototype.evaluateWithoutErrorHandling=function(Ne,et,tt,rt,nt,it){return this._styleExpression.evaluateWithoutErrorHandling(Ne,et,tt,rt,nt,it)},Gr.prototype.evaluate=function(Ne,et,tt,rt,nt,it){return this._styleExpression.evaluate(Ne,et,tt,rt,nt,it)};var Zr=function(Ne,et,tt,rt){this.kind=Ne,this.zoomStops=tt,this._styleExpression=et,this.isStateDependent="camera"!==Ne&&!De(et.expression),this.interpolationType=rt};function Xr(Ne,et){if("error"===(Ne=Kr(Ne,et)).result)return Ne;var tt=Ne.value.expression,rt=Fe(tt);if(!rt&&!Tr(et))return Er([new ii("","data expressions not supported")]);var nt=Le(tt,["zoom"]);if(!nt&&!Pr(et))return Er([new ii("","zoom expressions not supported")]);var it=function t(Ne){var et=null;if(Ne instanceof or)et=t(Ne.result);else if(Ne instanceof ar)for(var tt=0,rt=Ne.args;tt<rt.length&&!(et=t(rt[tt]));tt+=1);else(Ne instanceof je||Ne instanceof nr)&&Ne.input instanceof ve&&"zoom"===Ne.input.name&&(et=Ne);return et instanceof ii||Ne.eachChild((function(Ne){var tt=t(Ne);tt instanceof ii?et=tt:!et&&tt?et=new ii("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):et&&tt&&et!==tt&&(et=new ii("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),et}(tt);return it||nt?it instanceof ii?Er([it]):it instanceof nr&&!Br(et)?Er([new ii("",'"interpolate" expressions cannot be used with this property')]):Mr(it?new Zr(rt?"camera":"composite",Ne.value,it.labels,it instanceof nr?it.interpolation:void 0):new Gr(rt?"constant":"source",Ne.value)):Er([new ii("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Zr.prototype.evaluateWithoutErrorHandling=function(Ne,et,tt,rt,nt,it){return this._styleExpression.evaluateWithoutErrorHandling(Ne,et,tt,rt,nt,it)},Zr.prototype.evaluate=function(Ne,et,tt,rt,nt,it){return this._styleExpression.evaluate(Ne,et,tt,rt,nt,it)},Zr.prototype.interpolationFactor=function(Ne,et,tt){return this.interpolationType?nr.interpolationFactor(this.interpolationType,Ne,et,tt):0};var Jr=function(Ne,et){this._parameters=Ne,this._specification=et,Et(this,function t(Ne,et){var tt,rt,nt,it="color"===et.type,ot=Ne.stops&&"object"==typeof Ne.stops[0][0],at=ot||!(ot||void 0!==Ne.property),st=Ne.type||(Br(et)?"exponential":"interval");if(it&&((Ne=Et({},Ne)).stops&&(Ne.stops=Ne.stops.map((function(Ne){return[Ne[0],Wt.parse(Ne[1])]}))),Ne.default=Wt.parse(Ne.default?Ne.default:et.default)),Ne.colorSpace&&"rgb"!==Ne.colorSpace&&!vs[Ne.colorSpace])throw new Error("Unknown color space: "+Ne.colorSpace);if("exponential"===st)tt=Ur;else if("interval"===st)tt=Or;else if("categorical"===st){tt=Rr,rt=Object.create(null);for(var ct=0,pt=Ne.stops;ct<pt.length;ct+=1){var ft=pt[ct];rt[ft[0]]=ft[1]}nt=typeof Ne.stops[0][0]}else{if("identity"!==st)throw new Error('Unknown function type "'+st+'"');tt=jr}if(ot){for(var dt={},mt=[],yt=0;yt<Ne.stops.length;yt++){var vt=Ne.stops[yt],Rt=vt[0].zoom;void 0===dt[Rt]&&(dt[Rt]={zoom:Rt,type:Ne.type,property:Ne.property,default:Ne.default,stops:[]},mt.push(Rt)),dt[Rt].stops.push([vt[0].value,vt[1]])}for(var Dt=[],Ot=0,Bt=mt;Ot<Bt.length;Ot+=1){var er=Bt[Ot];Dt.push([dt[er].zoom,t(dt[er],et)])}var rr={name:"linear"};return{kind:"composite",interpolationType:rr,interpolationFactor:nr.interpolationFactor.bind(void 0,rr),zoomStops:Dt.map((function(Ne){return Ne[0]})),evaluate:function(tt,rt){var nt=tt.zoom;return Ur({stops:Dt,base:Ne.base},et,nt).evaluate(nt,rt)}}}if(at){var vr="exponential"===st?{name:"exponential",base:void 0!==Ne.base?Ne.base:1}:null;return{kind:"camera",interpolationType:vr,interpolationFactor:nr.interpolationFactor.bind(void 0,vr),zoomStops:Ne.stops.map((function(Ne){return Ne[0]})),evaluate:function(it){return tt(Ne,et,it.zoom,rt,nt)}}}return{kind:"source",evaluate:function(it,ot){var at=ot&&ot.properties?ot.properties[Ne.property]:void 0;return void 0===at?Lr(Ne.default,et.default):tt(Ne,et,at,rt,nt)}}}(this._parameters,this._specification))};function Hr(Ne){var et=Ne.key,tt=Ne.value,rt=Ne.valueSpec||{},nt=Ne.objectElementValidators||{},it=Ne.style,ot=Ne.styleSpec,at=[],st=Vr(tt);if("object"!==st)return[new Ct(et,tt,"object expected, "+st+" found")];for(var ct in tt){var pt=ct.split(".")[0],ft=rt[pt]||rt["*"],dt=void 0;if(nt[pt])dt=nt[pt];else if(rt[pt])dt=wn;else if(nt["*"])dt=nt["*"];else{if(!rt["*"]){at.push(new Ct(et,tt[ct],'unknown property "'+ct+'"'));continue}dt=wn}at=at.concat(dt({key:(et?et+".":et)+ct,value:tt[ct],valueSpec:ft,style:it,styleSpec:ot,object:tt,objectKey:ct},tt))}for(var mt in rt)nt[mt]||rt[mt].required&&void 0===rt[mt].default&&void 0===tt[mt]&&at.push(new Ct(et,tt,'missing required property "'+mt+'"'));return at}function Yr(Ne){var et=Ne.value,tt=Ne.valueSpec,rt=Ne.style,nt=Ne.styleSpec,it=Ne.key,ot=Ne.arrayElementValidator||wn;if("array"!==Vr(et))return[new Ct(it,et,"array expected, "+Vr(et)+" found")];if(tt.length&&et.length!==tt.length)return[new Ct(it,et,"array length "+tt.length+" expected, length "+et.length+" found")];if(tt["min-length"]&&et.length<tt["min-length"])return[new Ct(it,et,"array length at least "+tt["min-length"]+" expected, length "+et.length+" found")];var at={type:tt.value,values:tt.values};nt.$version<7&&(at.function=tt.function),"object"===Vr(tt.value)&&(at=tt.value);for(var st=[],ct=0;ct<et.length;ct++)st=st.concat(ot({array:et,arrayIndex:ct,value:et[ct],valueSpec:at,style:rt,styleSpec:nt,key:it+"["+ct+"]"}));return st}function $r(Ne){var et=Ne.key,tt=Ne.value,rt=Ne.valueSpec,nt=Vr(tt);return"number"===nt&&tt!=tt&&(nt="NaN"),"number"!==nt?[new Ct(et,tt,"number expected, "+nt+" found")]:"minimum"in rt&&tt<rt.minimum?[new Ct(et,tt,tt+" is less than the minimum value "+rt.minimum)]:"maximum"in rt&&tt>rt.maximum?[new Ct(et,tt,tt+" is greater than the maximum value "+rt.maximum)]:[]}function Wr(Ne){var et,tt,rt,nt=Ne.valueSpec,it=Tt(Ne.value.type),ot={},at="categorical"!==it&&void 0===Ne.value.property,st=!at,ct="array"===Vr(Ne.value.stops)&&"array"===Vr(Ne.value.stops[0])&&"object"===Vr(Ne.value.stops[0][0]),pt=Hr({key:Ne.key,value:Ne.value,valueSpec:Ne.styleSpec.function,style:Ne.style,styleSpec:Ne.styleSpec,objectElementValidators:{stops:function(Ne){if("identity"===it)return[new Ct(Ne.key,Ne.value,'identity function may not have a "stops" property')];var et=[],tt=Ne.value;return et=et.concat(Yr({key:Ne.key,value:tt,valueSpec:Ne.valueSpec,style:Ne.style,styleSpec:Ne.styleSpec,arrayElementValidator:c})),"array"===Vr(tt)&&0===tt.length&&et.push(new Ct(Ne.key,tt,"array must have at least one stop")),et},default:function(Ne){return wn({key:Ne.key,value:Ne.value,valueSpec:nt,style:Ne.style,styleSpec:Ne.styleSpec})}}});return"identity"===it&&at&&pt.push(new Ct(Ne.key,Ne.value,'missing required property "property"')),"identity"===it||Ne.value.stops||pt.push(new Ct(Ne.key,Ne.value,'missing required property "stops"')),"exponential"===it&&Ne.valueSpec.expression&&!Br(Ne.valueSpec)&&pt.push(new Ct(Ne.key,Ne.value,"exponential functions not supported")),Ne.styleSpec.$version>=8&&(st&&!Tr(Ne.valueSpec)?pt.push(new Ct(Ne.key,Ne.value,"property functions not supported")):at&&!Pr(Ne.valueSpec)&&pt.push(new Ct(Ne.key,Ne.value,"zoom functions not supported"))),"categorical"!==it&&!ct||void 0!==Ne.value.property||pt.push(new Ct(Ne.key,Ne.value,'"property" property is required')),pt;function c(Ne){var et=[],it=Ne.value,at=Ne.key;if("array"!==Vr(it))return[new Ct(at,it,"array expected, "+Vr(it)+" found")];if(2!==it.length)return[new Ct(at,it,"array length 2 expected, length "+it.length+" found")];if(ct){if("object"!==Vr(it[0]))return[new Ct(at,it,"object expected, "+Vr(it[0])+" found")];if(void 0===it[0].zoom)return[new Ct(at,it,"object stop key must have zoom")];if(void 0===it[0].value)return[new Ct(at,it,"object stop key must have value")];if(rt&&rt>Tt(it[0].zoom))return[new Ct(at,it[0].zoom,"stop zoom values must appear in ascending order")];Tt(it[0].zoom)!==rt&&(rt=Tt(it[0].zoom),tt=void 0,ot={}),et=et.concat(Hr({key:at+"[0]",value:it[0],valueSpec:{zoom:{}},style:Ne.style,styleSpec:Ne.styleSpec,objectElementValidators:{zoom:$r,value:h}}))}else et=et.concat(h({key:at+"[0]",value:it[0],valueSpec:{},style:Ne.style,styleSpec:Ne.styleSpec},it));return Nr(Pt(it[1]))?et.concat([new Ct(at+"[1]",it[1],"expressions are not allowed in function stops.")]):et.concat(wn({key:at+"[1]",value:it[1],valueSpec:nt,style:Ne.style,styleSpec:Ne.styleSpec}))}function h(Ne,rt){var at=Vr(Ne.value),st=Tt(Ne.value),ct=null!==Ne.value?Ne.value:rt;if(et){if(at!==et)return[new Ct(Ne.key,ct,at+" stop domain type must match previous stop domain type "+et)]}else et=at;if("number"!==at&&"string"!==at&&"boolean"!==at)return[new Ct(Ne.key,ct,"stop domain value must be a number, string, or boolean")];if("number"!==at&&"categorical"!==it){var pt="number expected, "+at+" found";return Tr(nt)&&void 0===it&&(pt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ct(Ne.key,ct,pt)]}return"categorical"!==it||"number"!==at||isFinite(st)&&Math.floor(st)===st?"categorical"!==it&&"number"===at&&void 0!==tt&&st<tt?[new Ct(Ne.key,ct,"stop domain values must appear in ascending order")]:(tt=st,"categorical"===it&&st in ot?[new Ct(Ne.key,ct,"stop domain values must be unique")]:(ot[st]=!0,[])):[new Ct(Ne.key,ct,"integer expected, found "+st)]}}function Qr(Ne){var et=("property"===Ne.expressionContext?Xr:Kr)(Pt(Ne.value),Ne.valueSpec);if("error"===et.result)return et.value.map((function(et){return new Ct(""+Ne.key+et.key,Ne.value,et.message)}));var tt=et.value.expression||et.value._styleExpression.expression;if("property"===Ne.expressionContext&&"text-font"===Ne.propertyKey&&!tt.outputDefined())return[new Ct(Ne.key,Ne.value,'Invalid data expression for "'+Ne.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===Ne.expressionContext&&"layout"===Ne.propertyType&&!De(tt))return[new Ct(Ne.key,Ne.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===Ne.expressionContext&&!De(tt))return[new Ct(Ne.key,Ne.value,'"feature-state" data expressions are not supported with filters.')];if(Ne.expressionContext&&0===Ne.expressionContext.indexOf("cluster")){if(!Le(tt,["zoom","feature-state"]))return[new Ct(Ne.key,Ne.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===Ne.expressionContext&&!Fe(tt))return[new Ct(Ne.key,Ne.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function tn(Ne){var et=Ne.key,tt=Ne.value,rt=Ne.valueSpec,nt=[];return Array.isArray(rt.values)?-1===rt.values.indexOf(Tt(tt))&&nt.push(new Ct(et,tt,"expected one of ["+rt.values.join(", ")+"], "+JSON.stringify(tt)+" found")):-1===Object.keys(rt.values).indexOf(Tt(tt))&&nt.push(new Ct(et,tt,"expected one of ["+Object.keys(rt.values).join(", ")+"], "+JSON.stringify(tt)+" found")),nt}function en(Ne){if(!0===Ne||!1===Ne)return!0;if(!Array.isArray(Ne)||0===Ne.length)return!1;switch(Ne[0]){case"has":return Ne.length>=2&&"$id"!==Ne[1]&&"$type"!==Ne[1];case"in":return Ne.length>=3&&("string"!=typeof Ne[1]||Array.isArray(Ne[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==Ne.length||Array.isArray(Ne[1])||Array.isArray(Ne[2]);case"any":case"all":for(var et=0,tt=Ne.slice(1);et<tt.length;et+=1){var rt=tt[et];if(!en(rt)&&"boolean"!=typeof rt)return!1}return!0;default:return!0}}Jr.deserialize=function(Ne){return new Jr(Ne._parameters,Ne._specification)},Jr.serialize=function(Ne){return{_parameters:Ne._parameters,_specification:Ne._specification}};var Ms={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function nn(Ne){if(null==Ne)return{filter:function(){return!0},needGeometry:!1};en(Ne)||(Ne=on(Ne));var et=Kr(Ne,Ms);if("error"===et.result)throw new Error(et.value.map((function(Ne){return Ne.key+": "+Ne.message})).join(", "));return{filter:function(Ne,tt,rt){return et.value.evaluate(Ne,tt,{},rt)},needGeometry:function t(Ne){if(!Array.isArray(Ne))return!1;if("within"===Ne[0])return!0;for(var et=1;et<Ne.length;et++)if(t(Ne[et]))return!0;return!1}(Ne)}}function an(Ne,et){return Ne<et?-1:Ne>et?1:0}function on(Ne){if(!Ne)return!0;var et,tt=Ne[0];return Ne.length<=1?"any"!==tt:"=="===tt?sn(Ne[1],Ne[2],"=="):"!="===tt?pn(sn(Ne[1],Ne[2],"==")):"<"===tt||">"===tt||"<="===tt||">="===tt?sn(Ne[1],Ne[2],tt):"any"===tt?(et=Ne.slice(1),["any"].concat(et.map(on))):"all"===tt?["all"].concat(Ne.slice(1).map(on)):"none"===tt?["all"].concat(Ne.slice(1).map(on).map(pn)):"in"===tt?un(Ne[1],Ne.slice(2)):"!in"===tt?pn(un(Ne[1],Ne.slice(2))):"has"===tt?ln(Ne[1]):"!has"===tt?pn(ln(Ne[1])):"within"!==tt||Ne}function sn(Ne,et,tt){switch(Ne){case"$type":return["filter-type-"+tt,et];case"$id":return["filter-id-"+tt,et];default:return["filter-"+tt,Ne,et]}}function un(Ne,et){if(0===et.length)return!1;switch(Ne){case"$type":return["filter-type-in",["literal",et]];case"$id":return["filter-id-in",["literal",et]];default:return et.length>200&&!et.some((function(Ne){return typeof Ne!=typeof et[0]}))?["filter-in-large",Ne,["literal",et.sort(an)]]:["filter-in-small",Ne,["literal",et]]}}function ln(Ne){switch(Ne){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",Ne]}}function pn(Ne){return["!",Ne]}function cn(Ne){return en(Pt(Ne.value))?Qr(Et({},Ne,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(Ne){var et=Ne.value,tt=Ne.key;if("array"!==Vr(et))return[new Ct(tt,et,"array expected, "+Vr(et)+" found")];var rt,nt=Ne.styleSpec,it=[];if(et.length<1)return[new Ct(tt,et,"filter array must have at least 1 element")];switch(it=it.concat(tn({key:tt+"[0]",value:et[0],valueSpec:nt.filter_operator,style:Ne.style,styleSpec:Ne.styleSpec})),Tt(et[0])){case"<":case"<=":case">":case">=":et.length>=2&&"$type"===Tt(et[1])&&it.push(new Ct(tt,et,'"$type" cannot be use with operator "'+et[0]+'"'));case"==":case"!=":3!==et.length&&it.push(new Ct(tt,et,'filter array for operator "'+et[0]+'" must have 3 elements'));case"in":case"!in":et.length>=2&&"string"!==(rt=Vr(et[1]))&&it.push(new Ct(tt+"[1]",et[1],"string expected, "+rt+" found"));for(var ot=2;ot<et.length;ot++)rt=Vr(et[ot]),"$type"===Tt(et[1])?it=it.concat(tn({key:tt+"["+ot+"]",value:et[ot],valueSpec:nt.geometry_type,style:Ne.style,styleSpec:Ne.styleSpec})):"string"!==rt&&"number"!==rt&&"boolean"!==rt&&it.push(new Ct(tt+"["+ot+"]",et[ot],"string, number, or boolean expected, "+rt+" found"));break;case"any":case"all":case"none":for(var at=1;at<et.length;at++)it=it.concat(t({key:tt+"["+at+"]",value:et[at],style:Ne.style,styleSpec:Ne.styleSpec}));break;case"has":case"!has":rt=Vr(et[1]),2!==et.length?it.push(new Ct(tt,et,'filter array for "'+et[0]+'" operator must have 2 elements')):"string"!==rt&&it.push(new Ct(tt+"[1]",et[1],"string expected, "+rt+" found"));break;case"within":rt=Vr(et[1]),2!==et.length?it.push(new Ct(tt,et,'filter array for "'+et[0]+'" operator must have 2 elements')):"object"!==rt&&it.push(new Ct(tt+"[1]",et[1],"object expected, "+rt+" found"))}return it}(Ne)}function hn(Ne,et){var tt=Ne.key,rt=Ne.style,nt=Ne.styleSpec,it=Ne.value,ot=Ne.objectKey,at=nt[et+"_"+Ne.layerType];if(!at)return[];var st=ot.match(/^(.*)-transition$/);if("paint"===et&&st&&at[st[1]]&&at[st[1]].transition)return wn({key:tt,value:it,valueSpec:nt.transition,style:rt,styleSpec:nt});var ct,pt=Ne.valueSpec||at[ot];if(!pt)return[new Ct(tt,it,'unknown property "'+ot+'"')];if("string"===Vr(it)&&Tr(pt)&&!pt.tokens&&(ct=/^{([^}]+)}$/.exec(it)))return[new Ct(tt,it,'"'+ot+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(ct[1])+" }`.")];var ft=[];return"symbol"===Ne.layerType&&("text-field"===ot&&rt&&!rt.glyphs&&ft.push(new Ct(tt,it,'use of "text-field" requires a style "glyphs" property')),"text-font"===ot&&Fr(Pt(it))&&"identity"===Tt(it.type)&&ft.push(new Ct(tt,it,'"text-font" does not support identity functions'))),ft.concat(wn({key:Ne.key,value:it,valueSpec:pt,style:rt,styleSpec:nt,expressionContext:"property",propertyType:et,propertyKey:ot}))}function fn(Ne){return hn(Ne,"paint")}function yn(Ne){return hn(Ne,"layout")}function dn(Ne){var et=[],tt=Ne.value,rt=Ne.key,nt=Ne.style,it=Ne.styleSpec;tt.type||tt.ref||et.push(new Ct(rt,tt,'either "type" or "ref" is required'));var ot,at=Tt(tt.type),st=Tt(tt.ref);if(tt.id)for(var ct=Tt(tt.id),pt=0;pt<Ne.arrayIndex;pt++){var ft=nt.layers[pt];Tt(ft.id)===ct&&et.push(new Ct(rt,tt.id,'duplicate layer id "'+tt.id+'", previously used at line '+ft.id.__line__))}if("ref"in tt)["type","source","source-layer","filter","layout"].forEach((function(Ne){Ne in tt&&et.push(new Ct(rt,tt[Ne],'"'+Ne+'" is prohibited for ref layers'))})),nt.layers.forEach((function(Ne){Tt(Ne.id)===st&&(ot=Ne)})),ot?ot.ref?et.push(new Ct(rt,tt.ref,"ref cannot reference another ref layer")):at=Tt(ot.type):et.push(new Ct(rt,tt.ref,'ref layer "'+st+'" not found'));else if("background"!==at)if(tt.source){var dt=nt.sources&&nt.sources[tt.source],mt=dt&&Tt(dt.type);dt?"vector"===mt&&"raster"===at?et.push(new Ct(rt,tt.source,'layer "'+tt.id+'" requires a raster source')):"raster"===mt&&"raster"!==at?et.push(new Ct(rt,tt.source,'layer "'+tt.id+'" requires a vector source')):"vector"!==mt||tt["source-layer"]?"raster-dem"===mt&&"hillshade"!==at?et.push(new Ct(rt,tt.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==at||!tt.paint||!tt.paint["line-gradient"]||"geojson"===mt&&dt.lineMetrics||et.push(new Ct(rt,tt,'layer "'+tt.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):et.push(new Ct(rt,tt,'layer "'+tt.id+'" must specify a "source-layer"')):et.push(new Ct(rt,tt.source,'source "'+tt.source+'" not found'))}else et.push(new Ct(rt,tt,'missing required property "source"'));return et=et.concat(Hr({key:rt,value:tt,valueSpec:it.layer,style:Ne.style,styleSpec:Ne.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return wn({key:rt+".type",value:tt.type,valueSpec:it.layer.type,style:Ne.style,styleSpec:Ne.styleSpec,object:tt,objectKey:"type"})},filter:cn,layout:function(Ne){return Hr({layer:tt,key:Ne.key,value:Ne.value,style:Ne.style,styleSpec:Ne.styleSpec,objectElementValidators:{"*":function(Ne){return yn(Et({layerType:at},Ne))}}})},paint:function(Ne){return Hr({layer:tt,key:Ne.key,value:Ne.value,style:Ne.style,styleSpec:Ne.styleSpec,objectElementValidators:{"*":function(Ne){return fn(Et({layerType:at},Ne))}}})}}}))}function mn(Ne){var et=Ne.value,tt=Ne.key,rt=Vr(et);return"string"!==rt?[new Ct(tt,et,"string expected, "+rt+" found")]:[]}var zs={promoteId:function(Ne){var et=Ne.key,tt=Ne.value;if("string"===Vr(tt))return mn({key:et,value:tt});var rt=[];for(var nt in tt)rt.push.apply(rt,mn({key:et+"."+nt,value:tt[nt]}));return rt}};function gn(Ne){var et=Ne.value,tt=Ne.key,rt=Ne.styleSpec,nt=Ne.style;if(!et.type)return[new Ct(tt,et,'"type" is required')];var it,ot=Tt(et.type);switch(ot){case"vector":case"raster":case"raster-dem":return Hr({key:tt,value:et,valueSpec:rt["source_"+ot.replace("-","_")],style:Ne.style,styleSpec:rt,objectElementValidators:zs});case"geojson":if(it=Hr({key:tt,value:et,valueSpec:rt.source_geojson,style:nt,styleSpec:rt,objectElementValidators:zs}),et.cluster)for(var at in et.clusterProperties){var st=et.clusterProperties[at],ct=st[0],pt="string"==typeof ct?[ct,["accumulated"],["get",at]]:ct;it.push.apply(it,Qr({key:tt+"."+at+".map",value:st[1],expressionContext:"cluster-map"})),it.push.apply(it,Qr({key:tt+"."+at+".reduce",value:pt,expressionContext:"cluster-reduce"}))}return it;case"video":return Hr({key:tt,value:et,valueSpec:rt.source_video,style:nt,styleSpec:rt});case"image":return Hr({key:tt,value:et,valueSpec:rt.source_image,style:nt,styleSpec:rt});case"canvas":return[new Ct(tt,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return tn({key:tt+".type",value:et.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:nt,styleSpec:rt})}}function xn(Ne){var et=Ne.value,tt=Ne.styleSpec,rt=tt.light,nt=Ne.style,it=[],ot=Vr(et);if(void 0===et)return it;if("object"!==ot)return it.concat([new Ct("light",et,"object expected, "+ot+" found")]);for(var at in et){var st=at.match(/^(.*)-transition$/);it=it.concat(st&&rt[st[1]]&&rt[st[1]].transition?wn({key:at,value:et[at],valueSpec:tt.transition,style:nt,styleSpec:tt}):rt[at]?wn({key:at,value:et[at],valueSpec:rt[at],style:nt,styleSpec:tt}):[new Ct(at,et[at],'unknown property "'+at+'"')])}return it}var Ls={"*":function(){return[]},array:Yr,boolean:function(Ne){var et=Ne.value,tt=Ne.key,rt=Vr(et);return"boolean"!==rt?[new Ct(tt,et,"boolean expected, "+rt+" found")]:[]},number:$r,color:function(Ne){var et=Ne.key,tt=Ne.value,rt=Vr(tt);return"string"!==rt?[new Ct(et,tt,"color expected, "+rt+" found")]:null===ga(tt)?[new Ct(et,tt,'color expected, "'+tt+'" found')]:[]},constants:Mt,enum:tn,filter:cn,function:Wr,layer:dn,object:Hr,source:gn,light:xn,string:mn,formatted:function(Ne){return 0===mn(Ne).length?[]:Qr(Ne)},resolvedImage:function(Ne){return 0===mn(Ne).length?[]:Qr(Ne)}};function wn(Ne){var et=Ne.value,tt=Ne.valueSpec,rt=Ne.styleSpec;return tt.expression&&Fr(Tt(et))?Wr(Ne):tt.expression&&Nr(Pt(et))?Qr(Ne):tt.type&&Ls[tt.type]?Ls[tt.type](Ne):Hr(Et({},Ne,{valueSpec:tt.type?rt[tt.type]:tt}))}function _n(Ne){var et=Ne.value,tt=Ne.key,rt=mn(Ne);return rt.length||(-1===et.indexOf("{fontstack}")&&rt.push(new Ct(tt,et,'"glyphs" url must include a "{fontstack}" token')),-1===et.indexOf("{range}")&&rt.push(new Ct(tt,et,'"glyphs" url must include a "{range}" token'))),rt}function An(Ne,et){void 0===et&&(et=Yn);var tt=[];return tt=tt.concat(wn({key:"",value:Ne,valueSpec:et.$root,styleSpec:et,style:Ne,objectElementValidators:{glyphs:_n,"*":function(){return[]}}})),Ne.constants&&(tt=tt.concat(Mt({key:"constants",value:Ne.constants,style:Ne,styleSpec:et}))),Sn(tt)}function Sn(Ne){return[].concat(Ne).sort((function(Ne,et){return Ne.line-et.line}))}function kn(Ne){return function(){for(var et=[],tt=arguments.length;tt--;)et[tt]=arguments[tt];return Sn(Ne.apply(this,et))}}An.source=kn(gn),An.light=kn(xn),An.layer=kn(dn),An.filter=kn(cn),An.paintProperty=kn(fn),An.layoutProperty=kn(yn);var Os=An,Fs=Os.light,Bs=Os.paintProperty,Ns=Os.layoutProperty;function En(Ne,et){var tt=!1;if(et&&et.length)for(var rt=0,nt=et;rt<nt.length;rt+=1)Ne.fire(new $n(new Error(nt[rt].message))),tt=!0;return tt}var Vs=Pn;function Pn(Ne,et,tt){var rt=this.cells=[];if(Ne instanceof ArrayBuffer){this.arrayBuffer=Ne;var nt=new Int32Array(this.arrayBuffer);Ne=nt[0],this.d=(et=nt[1])+2*(tt=nt[2]);for(var it=0;it<this.d*this.d;it++){var ot=nt[3+it],at=nt[3+it+1];rt.push(ot===at?null:nt.subarray(ot,at))}var st=nt[3+rt.length+1];this.keys=nt.subarray(nt[3+rt.length],st),this.bboxes=nt.subarray(st),this.insert=this._insertReadonly}else{this.d=et+2*tt;for(var ct=0;ct<this.d*this.d;ct++)rt.push([]);this.keys=[],this.bboxes=[]}this.n=et,this.extent=Ne,this.padding=tt,this.scale=et/Ne,this.uid=0;var pt=tt/et*Ne;this.min=-pt,this.max=Ne+pt}Pn.prototype.insert=function(Ne,et,tt,rt,nt){this._forEachCell(et,tt,rt,nt,this._insertCell,this.uid++),this.keys.push(Ne),this.bboxes.push(et),this.bboxes.push(tt),this.bboxes.push(rt),this.bboxes.push(nt)},Pn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Pn.prototype._insertCell=function(Ne,et,tt,rt,nt,it){this.cells[nt].push(it)},Pn.prototype.query=function(Ne,et,tt,rt,nt){var it=this.min,ot=this.max;if(Ne<=it&&et<=it&&ot<=tt&&ot<=rt&&!nt)return Array.prototype.slice.call(this.keys);var at=[];return this._forEachCell(Ne,et,tt,rt,this._queryCell,at,{},nt),at},Pn.prototype._queryCell=function(Ne,et,tt,rt,nt,it,ot,at){var st=this.cells[nt];if(null!==st)for(var ct=this.keys,pt=this.bboxes,ft=0;ft<st.length;ft++){var dt=st[ft];if(void 0===ot[dt]){var mt=4*dt;(at?at(pt[mt+0],pt[mt+1],pt[mt+2],pt[mt+3]):Ne<=pt[mt+2]&&et<=pt[mt+3]&&tt>=pt[mt+0]&&rt>=pt[mt+1])?(ot[dt]=!0,it.push(ct[dt])):ot[dt]=!1}}},Pn.prototype._forEachCell=function(Ne,et,tt,rt,nt,it,ot,at){for(var st=this._convertToCellCoord(Ne),ct=this._convertToCellCoord(et),pt=this._convertToCellCoord(tt),ft=this._convertToCellCoord(rt),dt=st;dt<=pt;dt++)for(var mt=ct;mt<=ft;mt++){var yt=this.d*mt+dt;if((!at||at(this._convertFromCellCoord(dt),this._convertFromCellCoord(mt),this._convertFromCellCoord(dt+1),this._convertFromCellCoord(mt+1)))&&nt.call(this,Ne,et,tt,rt,yt,it,ot,at))return}},Pn.prototype._convertFromCellCoord=function(Ne){return(Ne-this.padding)/this.scale},Pn.prototype._convertToCellCoord=function(Ne){return Math.max(0,Math.min(this.d-1,Math.floor(Ne*this.scale)+this.padding))},Pn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var Ne=this.cells,et=3+this.cells.length+1+1,tt=0,rt=0;rt<this.cells.length;rt++)tt+=this.cells[rt].length;var nt=new Int32Array(et+tt+this.keys.length+this.bboxes.length);nt[0]=this.extent,nt[1]=this.n,nt[2]=this.padding;for(var it=et,ot=0;ot<Ne.length;ot++){var at=Ne[ot];nt[3+ot]=it,nt.set(at,it),it+=at.length}return nt[3+Ne.length]=it,nt.set(this.keys,it),nt[3+Ne.length+1]=it+=this.keys.length,nt.set(this.bboxes,it),it+=this.bboxes.length,nt.buffer};var Us=rt.ImageData,js=rt.ImageBitmap,Zs={};function Dn(Ne,et,tt){void 0===tt&&(tt={}),Object.defineProperty(et,"_classRegistryKey",{value:Ne,writeable:!1}),Zs[Ne]={klass:et,omit:tt.omit||[],shallow:tt.shallow||[]}}for(var Js in Dn("Object",Object),Vs.serialize=function(Ne,et){var tt=Ne.toArrayBuffer();return et&&et.push(tt),{buffer:tt}},Vs.deserialize=function(Ne){return new Vs(Ne.buffer)},Dn("Grid",Vs),Dn("Color",Wt),Dn("Error",Error),Dn("ResolvedImage",re),Dn("StylePropertyFunction",Jr),Dn("StyleExpression",qr,{omit:["_evaluator"]}),Dn("ZoomDependentExpression",Zr),Dn("ZoomConstantExpression",Gr),Dn("CompoundExpression",ve,{omit:["_evaluate"]}),Rs)Rs[Js]._classRegistryKey||Dn("Expression_"+Js,Rs[Js]);function Rn(Ne){return Ne&&"undefined"!=typeof ArrayBuffer&&(Ne instanceof ArrayBuffer||Ne.constructor&&"ArrayBuffer"===Ne.constructor.name)}function On(Ne){return js&&Ne instanceof js}function Un(Ne,et){if(null==Ne||"boolean"==typeof Ne||"number"==typeof Ne||"string"==typeof Ne||Ne instanceof Boolean||Ne instanceof Number||Ne instanceof String||Ne instanceof Date||Ne instanceof RegExp)return Ne;if(Rn(Ne)||On(Ne))return et&&et.push(Ne),Ne;if(ArrayBuffer.isView(Ne)){var tt=Ne;return et&&et.push(tt.buffer),tt}if(Ne instanceof Us)return et&&et.push(Ne.data.buffer),Ne;if(Array.isArray(Ne)){for(var rt=[],nt=0,it=Ne;nt<it.length;nt+=1)rt.push(Un(it[nt],et));return rt}if("object"==typeof Ne){var ot=Ne.constructor,at=ot._classRegistryKey;if(!at)throw new Error("can't serialize object of unregistered class");var st=ot.serialize?ot.serialize(Ne,et):{};if(!ot.serialize){for(var ct in Ne)if(Ne.hasOwnProperty(ct)&&!(Zs[at].omit.indexOf(ct)>=0)){var pt=Ne[ct];st[ct]=Zs[at].shallow.indexOf(ct)>=0?pt:Un(pt,et)}Ne instanceof Error&&(st.message=Ne.message)}if(st.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==at&&(st.$name=at),st}throw new Error("can't serialize object of type "+typeof Ne)}function jn(Ne){if(null==Ne||"boolean"==typeof Ne||"number"==typeof Ne||"string"==typeof Ne||Ne instanceof Boolean||Ne instanceof Number||Ne instanceof String||Ne instanceof Date||Ne instanceof RegExp||Rn(Ne)||On(Ne)||ArrayBuffer.isView(Ne)||Ne instanceof Us)return Ne;if(Array.isArray(Ne))return Ne.map(jn);if("object"==typeof Ne){var et=Ne.$name||"Object",tt=Zs[et].klass;if(!tt)throw new Error("can't deserialize unregistered class "+et);if(tt.deserialize)return tt.deserialize(Ne);for(var rt=Object.create(tt.prototype),nt=0,it=Object.keys(Ne);nt<it.length;nt+=1){var ot=it[nt];if("$name"!==ot){var at=Ne[ot];rt[ot]=Zs[et].shallow.indexOf(ot)>=0?at:jn(at)}}return rt}throw new Error("can't deserialize object of type "+typeof Ne)}var qn=function(){this.first=!0};qn.prototype.update=function(Ne,et){var tt=Math.floor(Ne);return this.first?(this.first=!1,this.lastIntegerZoom=tt,this.lastIntegerZoomTime=0,this.lastZoom=Ne,this.lastFloorZoom=tt,!0):(this.lastFloorZoom>tt?(this.lastIntegerZoom=tt+1,this.lastIntegerZoomTime=et):this.lastFloorZoom<tt&&(this.lastIntegerZoom=tt,this.lastIntegerZoomTime=et),Ne!==this.lastZoom&&(this.lastZoom=Ne,this.lastFloorZoom=tt,!0))};var tl={"Latin-1 Supplement":function(Ne){return Ne>=128&&Ne<=255},Arabic:function(Ne){return Ne>=1536&&Ne<=1791},"Arabic Supplement":function(Ne){return Ne>=1872&&Ne<=1919},"Arabic Extended-A":function(Ne){return Ne>=2208&&Ne<=2303},"Hangul Jamo":function(Ne){return Ne>=4352&&Ne<=4607},"Unified Canadian Aboriginal Syllabics":function(Ne){return Ne>=5120&&Ne<=5759},Khmer:function(Ne){return Ne>=6016&&Ne<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(Ne){return Ne>=6320&&Ne<=6399},"General Punctuation":function(Ne){return Ne>=8192&&Ne<=8303},"Letterlike Symbols":function(Ne){return Ne>=8448&&Ne<=8527},"Number Forms":function(Ne){return Ne>=8528&&Ne<=8591},"Miscellaneous Technical":function(Ne){return Ne>=8960&&Ne<=9215},"Control Pictures":function(Ne){return Ne>=9216&&Ne<=9279},"Optical Character Recognition":function(Ne){return Ne>=9280&&Ne<=9311},"Enclosed Alphanumerics":function(Ne){return Ne>=9312&&Ne<=9471},"Geometric Shapes":function(Ne){return Ne>=9632&&Ne<=9727},"Miscellaneous Symbols":function(Ne){return Ne>=9728&&Ne<=9983},"Miscellaneous Symbols and Arrows":function(Ne){return Ne>=11008&&Ne<=11263},"CJK Radicals Supplement":function(Ne){return Ne>=11904&&Ne<=12031},"Kangxi Radicals":function(Ne){return Ne>=12032&&Ne<=12255},"Ideographic Description Characters":function(Ne){return Ne>=12272&&Ne<=12287},"CJK Symbols and Punctuation":function(Ne){return Ne>=12288&&Ne<=12351},Hiragana:function(Ne){return Ne>=12352&&Ne<=12447},Katakana:function(Ne){return Ne>=12448&&Ne<=12543},Bopomofo:function(Ne){return Ne>=12544&&Ne<=12591},"Hangul Compatibility Jamo":function(Ne){return Ne>=12592&&Ne<=12687},Kanbun:function(Ne){return Ne>=12688&&Ne<=12703},"Bopomofo Extended":function(Ne){return Ne>=12704&&Ne<=12735},"CJK Strokes":function(Ne){return Ne>=12736&&Ne<=12783},"Katakana Phonetic Extensions":function(Ne){return Ne>=12784&&Ne<=12799},"Enclosed CJK Letters and Months":function(Ne){return Ne>=12800&&Ne<=13055},"CJK Compatibility":function(Ne){return Ne>=13056&&Ne<=13311},"CJK Unified Ideographs Extension A":function(Ne){return Ne>=13312&&Ne<=19903},"Yijing Hexagram Symbols":function(Ne){return Ne>=19904&&Ne<=19967},"CJK Unified Ideographs":function(Ne){return Ne>=19968&&Ne<=40959},"Yi Syllables":function(Ne){return Ne>=40960&&Ne<=42127},"Yi Radicals":function(Ne){return Ne>=42128&&Ne<=42191},"Hangul Jamo Extended-A":function(Ne){return Ne>=43360&&Ne<=43391},"Hangul Syllables":function(Ne){return Ne>=44032&&Ne<=55215},"Hangul Jamo Extended-B":function(Ne){return Ne>=55216&&Ne<=55295},"Private Use Area":function(Ne){return Ne>=57344&&Ne<=63743},"CJK Compatibility Ideographs":function(Ne){return Ne>=63744&&Ne<=64255},"Arabic Presentation Forms-A":function(Ne){return Ne>=64336&&Ne<=65023},"Vertical Forms":function(Ne){return Ne>=65040&&Ne<=65055},"CJK Compatibility Forms":function(Ne){return Ne>=65072&&Ne<=65103},"Small Form Variants":function(Ne){return Ne>=65104&&Ne<=65135},"Arabic Presentation Forms-B":function(Ne){return Ne>=65136&&Ne<=65279},"Halfwidth and Fullwidth Forms":function(Ne){return Ne>=65280&&Ne<=65519}};function Kn(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(Gn(tt[et].charCodeAt(0)))return!0;return!1}function Gn(Ne){return!(746!==Ne&&747!==Ne&&(Ne<4352||!(tl["Bopomofo Extended"](Ne)||tl.Bopomofo(Ne)||tl["CJK Compatibility Forms"](Ne)&&!(Ne>=65097&&Ne<=65103)||tl["CJK Compatibility Ideographs"](Ne)||tl["CJK Compatibility"](Ne)||tl["CJK Radicals Supplement"](Ne)||tl["CJK Strokes"](Ne)||!(!tl["CJK Symbols and Punctuation"](Ne)||Ne>=12296&&Ne<=12305||Ne>=12308&&Ne<=12319||12336===Ne)||tl["CJK Unified Ideographs Extension A"](Ne)||tl["CJK Unified Ideographs"](Ne)||tl["Enclosed CJK Letters and Months"](Ne)||tl["Hangul Compatibility Jamo"](Ne)||tl["Hangul Jamo Extended-A"](Ne)||tl["Hangul Jamo Extended-B"](Ne)||tl["Hangul Jamo"](Ne)||tl["Hangul Syllables"](Ne)||tl.Hiragana(Ne)||tl["Ideographic Description Characters"](Ne)||tl.Kanbun(Ne)||tl["Kangxi Radicals"](Ne)||tl["Katakana Phonetic Extensions"](Ne)||tl.Katakana(Ne)&&12540!==Ne||!(!tl["Halfwidth and Fullwidth Forms"](Ne)||65288===Ne||65289===Ne||65293===Ne||Ne>=65306&&Ne<=65310||65339===Ne||65341===Ne||65343===Ne||Ne>=65371&&Ne<=65503||65507===Ne||Ne>=65512&&Ne<=65519)||!(!tl["Small Form Variants"](Ne)||Ne>=65112&&Ne<=65118||Ne>=65123&&Ne<=65126)||tl["Unified Canadian Aboriginal Syllabics"](Ne)||tl["Unified Canadian Aboriginal Syllabics Extended"](Ne)||tl["Vertical Forms"](Ne)||tl["Yijing Hexagram Symbols"](Ne)||tl["Yi Syllables"](Ne)||tl["Yi Radicals"](Ne))))}function Zn(Ne){return!(Gn(Ne)||function(Ne){return!!(tl["Latin-1 Supplement"](Ne)&&(167===Ne||169===Ne||174===Ne||177===Ne||188===Ne||189===Ne||190===Ne||215===Ne||247===Ne)||tl["General Punctuation"](Ne)&&(8214===Ne||8224===Ne||8225===Ne||8240===Ne||8241===Ne||8251===Ne||8252===Ne||8258===Ne||8263===Ne||8264===Ne||8265===Ne||8273===Ne)||tl["Letterlike Symbols"](Ne)||tl["Number Forms"](Ne)||tl["Miscellaneous Technical"](Ne)&&(Ne>=8960&&Ne<=8967||Ne>=8972&&Ne<=8991||Ne>=8996&&Ne<=9e3||9003===Ne||Ne>=9085&&Ne<=9114||Ne>=9150&&Ne<=9165||9167===Ne||Ne>=9169&&Ne<=9179||Ne>=9186&&Ne<=9215)||tl["Control Pictures"](Ne)&&9251!==Ne||tl["Optical Character Recognition"](Ne)||tl["Enclosed Alphanumerics"](Ne)||tl["Geometric Shapes"](Ne)||tl["Miscellaneous Symbols"](Ne)&&!(Ne>=9754&&Ne<=9759)||tl["Miscellaneous Symbols and Arrows"](Ne)&&(Ne>=11026&&Ne<=11055||Ne>=11088&&Ne<=11097||Ne>=11192&&Ne<=11243)||tl["CJK Symbols and Punctuation"](Ne)||tl.Katakana(Ne)||tl["Private Use Area"](Ne)||tl["CJK Compatibility Forms"](Ne)||tl["Small Form Variants"](Ne)||tl["Halfwidth and Fullwidth Forms"](Ne)||8734===Ne||8756===Ne||8757===Ne||Ne>=9984&&Ne<=10087||Ne>=10102&&Ne<=10131||65532===Ne||65533===Ne)}(Ne))}function Xn(Ne){return Ne>=1424&&Ne<=2303||tl["Arabic Presentation Forms-A"](Ne)||tl["Arabic Presentation Forms-B"](Ne)}function Jn(Ne,et){return!(!et&&Xn(Ne)||Ne>=2304&&Ne<=3583||Ne>=3840&&Ne<=4255||tl.Khmer(Ne))}function Hn(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(Xn(tt[et].charCodeAt(0)))return!0;return!1}var ol=null,sl="unavailable",dl=null,Qn=function(Ne){Ne&&"string"==typeof Ne&&Ne.indexOf("NetworkError")>-1&&(sl="error"),ol&&ol(Ne)};function ti(){gl.fire(new St("pluginStateChange",{pluginStatus:sl,pluginURL:dl}))}var gl=new It,ri=function(){return sl},ni=function(){if("deferred"!==sl||!dl)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");sl="loading",ti(),dl&&xt({url:dl},(function(Ne){Ne?Qn(Ne):(sl="loaded",ti())}))},yl={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===sl||null!=yl.applyArabicShaping},isLoading:function(){return"loading"===sl},setState:function(Ne){sl=Ne.pluginStatus,dl=Ne.pluginURL},isParsed:function(){return null!=yl.applyArabicShaping&&null!=yl.processBidirectionalText&&null!=yl.processStyledBidirectionalText},getPluginURL:function(){return dl}},ai=function(Ne,et){this.zoom=Ne,et?(this.now=et.now,this.fadeDuration=et.fadeDuration,this.zoomHistory=et.zoomHistory,this.transition=et.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qn,this.transition={})};ai.prototype.isSupportedScript=function(Ne){return function(Ne,et){for(var tt=0,rt=Ne;tt<rt.length;tt+=1)if(!Jn(rt[tt].charCodeAt(0),et))return!1;return!0}(Ne,yl.isLoaded())},ai.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ai.prototype.getCrossfadeParameters=function(){var Ne=this.zoom,et=Ne-Math.floor(Ne),tt=this.crossFadingFactor();return Ne>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:et+(1-et)*tt}:{fromScale:.5,toScale:1,t:1-(1-tt)*et}};var oi=function(Ne,et){this.property=Ne,this.value=et,this.expression=function(Ne,et){if(Fr(Ne))return new Jr(Ne,et);if(Nr(Ne)){var tt=Xr(Ne,et);if("error"===tt.result)throw new Error(tt.value.map((function(Ne){return Ne.key+": "+Ne.message})).join(", "));return tt.value}var rt=Ne;return"string"==typeof Ne&&"color"===et.type&&(rt=Wt.parse(Ne)),{kind:"constant",evaluate:function(){return rt}}}(void 0===et?Ne.specification.default:et,Ne.specification)};oi.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},oi.prototype.possiblyEvaluate=function(Ne,et,tt){return this.property.possiblyEvaluate(this,Ne,et,tt)};var si=function(Ne){this.property=Ne,this.value=new oi(Ne,void 0)};si.prototype.transitioned=function(Ne,et){return new li(this.property,this.value,et,c({},Ne.transition,this.transition),Ne.now)},si.prototype.untransitioned=function(){return new li(this.property,this.value,null,{},0)};var ui=function(Ne){this._properties=Ne,this._values=Object.create(Ne.defaultTransitionablePropertyValues)};ui.prototype.getValue=function(Ne){return b(this._values[Ne].value.value)},ui.prototype.setValue=function(Ne,et){this._values.hasOwnProperty(Ne)||(this._values[Ne]=new si(this._values[Ne].property)),this._values[Ne].value=new oi(this._values[Ne].property,null===et?void 0:b(et))},ui.prototype.getTransition=function(Ne){return b(this._values[Ne].transition)},ui.prototype.setTransition=function(Ne,et){this._values.hasOwnProperty(Ne)||(this._values[Ne]=new si(this._values[Ne].property)),this._values[Ne].transition=b(et)||void 0},ui.prototype.serialize=function(){for(var Ne={},et=0,tt=Object.keys(this._values);et<tt.length;et+=1){var rt=tt[et],nt=this.getValue(rt);void 0!==nt&&(Ne[rt]=nt);var it=this.getTransition(rt);void 0!==it&&(Ne[rt+"-transition"]=it)}return Ne},ui.prototype.transitioned=function(Ne,et){for(var tt=new pi(this._properties),rt=0,nt=Object.keys(this._values);rt<nt.length;rt+=1){var it=nt[rt];tt._values[it]=this._values[it].transitioned(Ne,et._values[it])}return tt},ui.prototype.untransitioned=function(){for(var Ne=new pi(this._properties),et=0,tt=Object.keys(this._values);et<tt.length;et+=1){var rt=tt[et];Ne._values[rt]=this._values[rt].untransitioned()}return Ne};var li=function(Ne,et,tt,rt,nt){this.property=Ne,this.value=et,this.begin=nt+rt.delay||0,this.end=this.begin+rt.duration||0,Ne.specification.transition&&(rt.delay||rt.duration)&&(this.prior=tt)};li.prototype.possiblyEvaluate=function(Ne,et,tt){var rt=Ne.now||0,nt=this.value.possiblyEvaluate(Ne,et,tt),it=this.prior;if(it){if(rt>this.end)return this.prior=null,nt;if(this.value.isDataDriven())return this.prior=null,nt;if(rt<this.begin)return it.possiblyEvaluate(Ne,et,tt);var ot=(rt-this.begin)/(this.end-this.begin);return this.property.interpolate(it.possiblyEvaluate(Ne,et,tt),nt,function(Ne){if(Ne<=0)return 0;if(Ne>=1)return 1;var et=Ne*Ne,tt=et*Ne;return 4*(Ne<.5?tt:3*(Ne-et)+tt-.75)}(ot))}return nt};var pi=function(Ne){this._properties=Ne,this._values=Object.create(Ne.defaultTransitioningPropertyValues)};pi.prototype.possiblyEvaluate=function(Ne,et,tt){for(var rt=new fi(this._properties),nt=0,it=Object.keys(this._values);nt<it.length;nt+=1){var ot=it[nt];rt._values[ot]=this._values[ot].possiblyEvaluate(Ne,et,tt)}return rt},pi.prototype.hasTransition=function(){for(var Ne=0,et=Object.keys(this._values);Ne<et.length;Ne+=1)if(this._values[et[Ne]].prior)return!0;return!1};var ci=function(Ne){this._properties=Ne,this._values=Object.create(Ne.defaultPropertyValues)};ci.prototype.getValue=function(Ne){return b(this._values[Ne].value)},ci.prototype.setValue=function(Ne,et){this._values[Ne]=new oi(this._values[Ne].property,null===et?void 0:b(et))},ci.prototype.serialize=function(){for(var Ne={},et=0,tt=Object.keys(this._values);et<tt.length;et+=1){var rt=tt[et],nt=this.getValue(rt);void 0!==nt&&(Ne[rt]=nt)}return Ne},ci.prototype.possiblyEvaluate=function(Ne,et,tt){for(var rt=new fi(this._properties),nt=0,it=Object.keys(this._values);nt<it.length;nt+=1){var ot=it[nt];rt._values[ot]=this._values[ot].possiblyEvaluate(Ne,et,tt)}return rt};var hi=function(Ne,et,tt){this.property=Ne,this.value=et,this.parameters=tt};hi.prototype.isConstant=function(){return"constant"===this.value.kind},hi.prototype.constantOr=function(Ne){return"constant"===this.value.kind?this.value.value:Ne},hi.prototype.evaluate=function(Ne,et,tt,rt){return this.property.evaluate(this.value,this.parameters,Ne,et,tt,rt)};var fi=function(Ne){this._properties=Ne,this._values=Object.create(Ne.defaultPossiblyEvaluatedValues)};fi.prototype.get=function(Ne){return this._values[Ne]};var yi=function(Ne){this.specification=Ne};yi.prototype.possiblyEvaluate=function(Ne,et){return Ne.expression.evaluate(et)},yi.prototype.interpolate=function(Ne,et,tt){var rt=as[this.specification.type];return rt?rt(Ne,et,tt):Ne};var di=function(Ne,et){this.specification=Ne,this.overrides=et};di.prototype.possiblyEvaluate=function(Ne,et,tt,rt){return new hi(this,"constant"===Ne.expression.kind||"camera"===Ne.expression.kind?{kind:"constant",value:Ne.expression.evaluate(et,null,{},tt,rt)}:Ne.expression,et)},di.prototype.interpolate=function(Ne,et,tt){if("constant"!==Ne.value.kind||"constant"!==et.value.kind)return Ne;if(void 0===Ne.value.value||void 0===et.value.value)return new hi(this,{kind:"constant",value:void 0},Ne.parameters);var rt=as[this.specification.type];return rt?new hi(this,{kind:"constant",value:rt(Ne.value.value,et.value.value,tt)},Ne.parameters):Ne},di.prototype.evaluate=function(Ne,et,tt,rt,nt,it){return"constant"===Ne.kind?Ne.value:Ne.evaluate(et,tt,rt,nt,it)};var vl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(Ne,et,tt,rt){if(void 0===Ne.value)return new hi(this,{kind:"constant",value:void 0},et);if("constant"===Ne.expression.kind){var nt=Ne.expression.evaluate(et,null,{},tt,rt),it="resolvedImage"===Ne.property.specification.type&&"string"!=typeof nt?nt.name:nt,ot=this._calculate(it,it,it,et);return new hi(this,{kind:"constant",value:ot},et)}if("camera"===Ne.expression.kind){var at=this._calculate(Ne.expression.evaluate({zoom:et.zoom-1}),Ne.expression.evaluate({zoom:et.zoom}),Ne.expression.evaluate({zoom:et.zoom+1}),et);return new hi(this,{kind:"constant",value:at},et)}return new hi(this,Ne.expression,et)},e.prototype.evaluate=function(Ne,et,tt,rt,nt,it){if("source"===Ne.kind){var ot=Ne.evaluate(et,tt,rt,nt,it);return this._calculate(ot,ot,ot,et)}return"composite"===Ne.kind?this._calculate(Ne.evaluate({zoom:Math.floor(et.zoom)-1},tt,rt),Ne.evaluate({zoom:Math.floor(et.zoom)},tt,rt),Ne.evaluate({zoom:Math.floor(et.zoom)+1},tt,rt),et):Ne.value},e.prototype._calculate=function(Ne,et,tt,rt){return rt.zoom>rt.zoomHistory.lastIntegerZoom?{from:Ne,to:et}:{from:tt,to:et}},e.prototype.interpolate=function(Ne){return Ne},e}(di),vi=function(Ne){this.specification=Ne};vi.prototype.possiblyEvaluate=function(Ne,et,tt,rt){if(void 0!==Ne.value){if("constant"===Ne.expression.kind){var nt=Ne.expression.evaluate(et,null,{},tt,rt);return this._calculate(nt,nt,nt,et)}return this._calculate(Ne.expression.evaluate(new ai(Math.floor(et.zoom-1),et)),Ne.expression.evaluate(new ai(Math.floor(et.zoom),et)),Ne.expression.evaluate(new ai(Math.floor(et.zoom+1),et)),et)}},vi.prototype._calculate=function(Ne,et,tt,rt){return rt.zoom>rt.zoomHistory.lastIntegerZoom?{from:Ne,to:et}:{from:tt,to:et}},vi.prototype.interpolate=function(Ne){return Ne};var gi=function(Ne){this.specification=Ne};gi.prototype.possiblyEvaluate=function(Ne,et,tt,rt){return!!Ne.expression.evaluate(et,null,{},tt,rt)},gi.prototype.interpolate=function(){return!1};var xi=function(Ne){for(var et in this.properties=Ne,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],Ne){var tt=Ne[et];tt.specification.overridable&&this.overridableProperties.push(et);var rt=this.defaultPropertyValues[et]=new oi(tt,void 0),nt=this.defaultTransitionablePropertyValues[et]=new si(tt);this.defaultTransitioningPropertyValues[et]=nt.untransitioned(),this.defaultPossiblyEvaluatedValues[et]=rt.possiblyEvaluate({})}};Dn("DataDrivenProperty",di),Dn("DataConstantProperty",yi),Dn("CrossFadedDataDrivenProperty",vl),Dn("CrossFadedProperty",vi),Dn("ColorRampProperty",gi);var _l=function(Ne){function e(et,tt){if(Ne.call(this),this.id=et.id,this.type=et.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==et.type&&(this.metadata=(et=et).metadata,this.minzoom=et.minzoom,this.maxzoom=et.maxzoom,"background"!==et.type&&(this.source=et.source,this.sourceLayer=et["source-layer"],this.filter=et.filter),tt.layout&&(this._unevaluatedLayout=new ci(tt.layout)),tt.paint)){for(var rt in this._transitionablePaint=new ui(tt.paint),et.paint)this.setPaintProperty(rt,et.paint[rt],{validate:!1});for(var nt in et.layout)this.setLayoutProperty(nt,et.layout[nt],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new fi(tt.paint)}}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(Ne){return"visibility"===Ne?this.visibility:this._unevaluatedLayout.getValue(Ne)},e.prototype.setLayoutProperty=function(Ne,et,tt){void 0===tt&&(tt={}),null!=et&&this._validate(Ns,"layers."+this.id+".layout."+Ne,Ne,et,tt)||("visibility"!==Ne?this._unevaluatedLayout.setValue(Ne,et):this.visibility=et)},e.prototype.getPaintProperty=function(Ne){return v(Ne,"-transition")?this._transitionablePaint.getTransition(Ne.slice(0,-"-transition".length)):this._transitionablePaint.getValue(Ne)},e.prototype.setPaintProperty=function(Ne,et,tt){if(void 0===tt&&(tt={}),null!=et&&this._validate(Bs,"layers."+this.id+".paint."+Ne,Ne,et,tt))return!1;if(v(Ne,"-transition"))return this._transitionablePaint.setTransition(Ne.slice(0,-"-transition".length),et||void 0),!1;var rt=this._transitionablePaint._values[Ne],nt="cross-faded-data-driven"===rt.property.specification["property-type"],it=rt.value.isDataDriven(),ot=rt.value;this._transitionablePaint.setValue(Ne,et),this._handleSpecialPaintPropertyUpdate(Ne);var at=this._transitionablePaint._values[Ne].value;return at.isDataDriven()||it||nt||this._handleOverridablePaintPropertyUpdate(Ne,ot,at)},e.prototype._handleSpecialPaintPropertyUpdate=function(Ne){},e.prototype._handleOverridablePaintPropertyUpdate=function(Ne,et,tt){return!1},e.prototype.isHidden=function(Ne){return!!(this.minzoom&&Ne<this.minzoom)||!!(this.maxzoom&&Ne>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(Ne){this._transitioningPaint=this._transitionablePaint.transitioned(Ne,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(Ne,et){Ne.getCrossfadeParameters&&(this._crossfadeParameters=Ne.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(Ne,void 0,et)),this.paint=this._transitioningPaint.possiblyEvaluate(Ne,void 0,et)},e.prototype.serialize=function(){var Ne={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(Ne.layout=Ne.layout||{},Ne.layout.visibility=this.visibility),x(Ne,(function(Ne,et){return!(void 0===Ne||"layout"===et&&!Object.keys(Ne).length||"paint"===et&&!Object.keys(Ne).length)}))},e.prototype._validate=function(Ne,et,tt,rt,nt){return void 0===nt&&(nt={}),(!nt||!1!==nt.validate)&&En(this,Ne.call(Os,{key:et,layerType:this.type,objectKey:tt,value:rt,styleSpec:Yn,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var Ne in this.paint._values){var et=this.paint.get(Ne);if(et instanceof hi&&Tr(et.property.specification)&&("source"===et.value.kind||"composite"===et.value.kind)&&et.value.isStateDependent)return!0}return!1},e}(It),bl={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},_i=function(Ne,et){this._structArray=Ne,this._pos1=et*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ai=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Si(Ne,et){void 0===et&&(et=1);var tt=0,rt=0;return{members:Ne.map((function(Ne){var nt=bl[Ne.type].BYTES_PER_ELEMENT,it=tt=ki(tt,Math.max(et,nt)),ot=Ne.components||1;return rt=Math.max(rt,nt),tt+=nt*ot,{name:Ne.name,type:Ne.type,components:ot,offset:it}})),size:ki(tt,Math.max(rt,et)),alignment:et}}function ki(Ne,et){return Math.ceil(Ne/et)*et}Ai.serialize=function(Ne,et){return Ne._trim(),et&&(Ne.isTransferred=!0,et.push(Ne.arrayBuffer)),{length:Ne.length,arrayBuffer:Ne.arrayBuffer}},Ai.deserialize=function(Ne){var et=Object.create(this.prototype);return et.arrayBuffer=Ne.arrayBuffer,et.length=Ne.length,et.capacity=Ne.arrayBuffer.byteLength/et.bytesPerElement,et._refreshViews(),et},Ai.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ai.prototype.clear=function(){this.length=0},Ai.prototype.resize=function(Ne){this.reserve(Ne),this.length=Ne},Ai.prototype.reserve=function(Ne){if(Ne>this.capacity){this.capacity=Math.max(Ne,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var et=this.uint8;this._refreshViews(),et&&this.uint8.set(et)}},Ai.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var xl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,Ne,et)},e.prototype.emplace=function(Ne,et,tt){var rt=2*Ne;return this.int16[rt+0]=et,this.int16[rt+1]=tt,Ne},e}(Ai);xl.prototype.bytesPerElement=4,Dn("StructArrayLayout2i4",xl);var wl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt){var nt=this.length;return this.resize(nt+1),this.emplace(nt,Ne,et,tt,rt)},e.prototype.emplace=function(Ne,et,tt,rt,nt){var it=4*Ne;return this.int16[it+0]=et,this.int16[it+1]=tt,this.int16[it+2]=rt,this.int16[it+3]=nt,Ne},e}(Ai);wl.prototype.bytesPerElement=8,Dn("StructArrayLayout4i8",wl);var kl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt,nt,it){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Ne,et,tt,rt,nt,it)},e.prototype.emplace=function(Ne,et,tt,rt,nt,it,ot){var at=6*Ne;return this.int16[at+0]=et,this.int16[at+1]=tt,this.int16[at+2]=rt,this.int16[at+3]=nt,this.int16[at+4]=it,this.int16[at+5]=ot,Ne},e}(Ai);kl.prototype.bytesPerElement=12,Dn("StructArrayLayout2i4i12",kl);var Sl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt,nt,it){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Ne,et,tt,rt,nt,it)},e.prototype.emplace=function(Ne,et,tt,rt,nt,it,ot){var at=4*Ne,st=8*Ne;return this.int16[at+0]=et,this.int16[at+1]=tt,this.uint8[st+4]=rt,this.uint8[st+5]=nt,this.uint8[st+6]=it,this.uint8[st+7]=ot,Ne},e}(Ai);Sl.prototype.bytesPerElement=8,Dn("StructArrayLayout2i4ub8",Sl);var Cl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt,nt,it,ot,at,st,ct){var pt=this.length;return this.resize(pt+1),this.emplace(pt,Ne,et,tt,rt,nt,it,ot,at,st,ct)},e.prototype.emplace=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt){var ft=10*Ne;return this.uint16[ft+0]=et,this.uint16[ft+1]=tt,this.uint16[ft+2]=rt,this.uint16[ft+3]=nt,this.uint16[ft+4]=it,this.uint16[ft+5]=ot,this.uint16[ft+6]=at,this.uint16[ft+7]=st,this.uint16[ft+8]=ct,this.uint16[ft+9]=pt,Ne},e}(Ai);Cl.prototype.bytesPerElement=20,Dn("StructArrayLayout10ui20",Cl);var Il=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft){var dt=this.length;return this.resize(dt+1),this.emplace(dt,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft)},e.prototype.emplace=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt){var mt=12*Ne;return this.int16[mt+0]=et,this.int16[mt+1]=tt,this.int16[mt+2]=rt,this.int16[mt+3]=nt,this.uint16[mt+4]=it,this.uint16[mt+5]=ot,this.uint16[mt+6]=at,this.uint16[mt+7]=st,this.int16[mt+8]=ct,this.int16[mt+9]=pt,this.int16[mt+10]=ft,this.int16[mt+11]=dt,Ne},e}(Ai);Il.prototype.bytesPerElement=24,Dn("StructArrayLayout4i4ui4i24",Il);var Al=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,Ne,et,tt)},e.prototype.emplace=function(Ne,et,tt,rt){var nt=3*Ne;return this.float32[nt+0]=et,this.float32[nt+1]=tt,this.float32[nt+2]=rt,Ne},e}(Ai);Al.prototype.bytesPerElement=12,Dn("StructArrayLayout3f12",Al);var zl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne){var et=this.length;return this.resize(et+1),this.emplace(et,Ne)},e.prototype.emplace=function(Ne,et){return this.uint32[1*Ne+0]=et,Ne},e}(Ai);zl.prototype.bytesPerElement=4,Dn("StructArrayLayout1ul4",zl);var Fl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt,nt,it,ot,at,st){var ct=this.length;return this.resize(ct+1),this.emplace(ct,Ne,et,tt,rt,nt,it,ot,at,st)},e.prototype.emplace=function(Ne,et,tt,rt,nt,it,ot,at,st,ct){var pt=10*Ne,ft=5*Ne;return this.int16[pt+0]=et,this.int16[pt+1]=tt,this.int16[pt+2]=rt,this.int16[pt+3]=nt,this.int16[pt+4]=it,this.int16[pt+5]=ot,this.uint32[ft+3]=at,this.uint16[pt+8]=st,this.uint16[pt+9]=ct,Ne},e}(Ai);Fl.prototype.bytesPerElement=20,Dn("StructArrayLayout6i1ul2ui20",Fl);var Hl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt,nt,it){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Ne,et,tt,rt,nt,it)},e.prototype.emplace=function(Ne,et,tt,rt,nt,it,ot){var at=6*Ne;return this.int16[at+0]=et,this.int16[at+1]=tt,this.int16[at+2]=rt,this.int16[at+3]=nt,this.int16[at+4]=it,this.int16[at+5]=ot,Ne},e}(Ai);Hl.prototype.bytesPerElement=12,Dn("StructArrayLayout2i2i2i12",Hl);var du=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt,nt){var it=this.length;return this.resize(it+1),this.emplace(it,Ne,et,tt,rt,nt)},e.prototype.emplace=function(Ne,et,tt,rt,nt,it){var ot=4*Ne,at=8*Ne;return this.float32[ot+0]=et,this.float32[ot+1]=tt,this.float32[ot+2]=rt,this.int16[at+6]=nt,this.int16[at+7]=it,Ne},e}(Ai);du.prototype.bytesPerElement=16,Dn("StructArrayLayout2f1f2i16",du);var vu=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt){var nt=this.length;return this.resize(nt+1),this.emplace(nt,Ne,et,tt,rt)},e.prototype.emplace=function(Ne,et,tt,rt,nt){var it=12*Ne,ot=3*Ne;return this.uint8[it+0]=et,this.uint8[it+1]=tt,this.float32[ot+1]=rt,this.float32[ot+2]=nt,Ne},e}(Ai);vu.prototype.bytesPerElement=12,Dn("StructArrayLayout2ub2f12",vu);var _u=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,Ne,et,tt)},e.prototype.emplace=function(Ne,et,tt,rt){var nt=3*Ne;return this.uint16[nt+0]=et,this.uint16[nt+1]=tt,this.uint16[nt+2]=rt,Ne},e}(Ai);_u.prototype.bytesPerElement=6,Dn("StructArrayLayout3ui6",_u);var wu=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt){var Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt)},e.prototype.emplace=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Dt){var Ot=24*Ne,Bt=12*Ne,er=48*Ne;return this.int16[Ot+0]=et,this.int16[Ot+1]=tt,this.uint16[Ot+2]=rt,this.uint16[Ot+3]=nt,this.uint32[Bt+2]=it,this.uint32[Bt+3]=ot,this.uint32[Bt+4]=at,this.uint16[Ot+10]=st,this.uint16[Ot+11]=ct,this.uint16[Ot+12]=pt,this.float32[Bt+7]=ft,this.float32[Bt+8]=dt,this.uint8[er+36]=mt,this.uint8[er+37]=yt,this.uint8[er+38]=vt,this.uint32[Bt+10]=Rt,this.int16[Ot+22]=Dt,Ne},e}(Ai);wu.prototype.bytesPerElement=48,Dn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",wu);var Tu=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Dt,Ot,Bt,er,rr,vr,wr,Sr,rn,vn,bn){var Tn=this.length;return this.resize(Tn+1),this.emplace(Tn,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Dt,Ot,Bt,er,rr,vr,wr,Sr,rn,vn,bn)},e.prototype.emplace=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Dt,Ot,Bt,er,rr,vr,wr,Sr,rn,vn,bn,Tn){var Cn=34*Ne,In=17*Ne;return this.int16[Cn+0]=et,this.int16[Cn+1]=tt,this.int16[Cn+2]=rt,this.int16[Cn+3]=nt,this.int16[Cn+4]=it,this.int16[Cn+5]=ot,this.int16[Cn+6]=at,this.int16[Cn+7]=st,this.uint16[Cn+8]=ct,this.uint16[Cn+9]=pt,this.uint16[Cn+10]=ft,this.uint16[Cn+11]=dt,this.uint16[Cn+12]=mt,this.uint16[Cn+13]=yt,this.uint16[Cn+14]=vt,this.uint16[Cn+15]=Rt,this.uint16[Cn+16]=Dt,this.uint16[Cn+17]=Ot,this.uint16[Cn+18]=Bt,this.uint16[Cn+19]=er,this.uint16[Cn+20]=rr,this.uint16[Cn+21]=vr,this.uint16[Cn+22]=wr,this.uint32[In+12]=Sr,this.float32[In+13]=rn,this.float32[In+14]=vn,this.float32[In+15]=bn,this.float32[In+16]=Tn,Ne},e}(Ai);Tu.prototype.bytesPerElement=68,Dn("StructArrayLayout8i15ui1ul4f68",Tu);var Fu=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne){var et=this.length;return this.resize(et+1),this.emplace(et,Ne)},e.prototype.emplace=function(Ne,et){return this.float32[1*Ne+0]=et,Ne},e}(Ai);Fu.prototype.bytesPerElement=4,Dn("StructArrayLayout1f4",Fu);var ac=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,Ne,et,tt)},e.prototype.emplace=function(Ne,et,tt,rt){var nt=3*Ne;return this.int16[nt+0]=et,this.int16[nt+1]=tt,this.int16[nt+2]=rt,Ne},e}(Ai);ac.prototype.bytesPerElement=6,Dn("StructArrayLayout3i6",ac);var pc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,Ne,et,tt)},e.prototype.emplace=function(Ne,et,tt,rt){var nt=4*Ne;return this.uint32[2*Ne+0]=et,this.uint16[nt+2]=tt,this.uint16[nt+3]=rt,Ne},e}(Ai);pc.prototype.bytesPerElement=8,Dn("StructArrayLayout1ul2ui8",pc);var yc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,Ne,et)},e.prototype.emplace=function(Ne,et,tt){var rt=2*Ne;return this.uint16[rt+0]=et,this.uint16[rt+1]=tt,Ne},e}(Ai);yc.prototype.bytesPerElement=4,Dn("StructArrayLayout2ui4",yc);var _c=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne){var et=this.length;return this.resize(et+1),this.emplace(et,Ne)},e.prototype.emplace=function(Ne,et){return this.uint16[1*Ne+0]=et,Ne},e}(Ai);_c.prototype.bytesPerElement=2,Dn("StructArrayLayout1ui2",_c);var bc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,Ne,et)},e.prototype.emplace=function(Ne,et,tt){var rt=2*Ne;return this.float32[rt+0]=et,this.float32[rt+1]=tt,Ne},e}(Ai);bc.prototype.bytesPerElement=8,Dn("StructArrayLayout2f8",bc);var xc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,rt){var nt=this.length;return this.resize(nt+1),this.emplace(nt,Ne,et,tt,rt)},e.prototype.emplace=function(Ne,et,tt,rt,nt){var it=4*Ne;return this.float32[it+0]=et,this.float32[it+1]=tt,this.float32[it+2]=rt,this.float32[it+3]=nt,Ne},e}(Ai);xc.prototype.bytesPerElement=16,Dn("StructArrayLayout4f16",xc);var wc=function(Ne){function e(){Ne.apply(this,arguments)}Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e;var et={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return et.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},et.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},et.x1.get=function(){return this._structArray.int16[this._pos2+2]},et.y1.get=function(){return this._structArray.int16[this._pos2+3]},et.x2.get=function(){return this._structArray.int16[this._pos2+4]},et.y2.get=function(){return this._structArray.int16[this._pos2+5]},et.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},et.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},et.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},et.anchorPoint.get=function(){return new tt(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,et),e}(_i);wc.prototype.size=20;var kc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.get=function(Ne){return new wc(this,Ne)},e}(Fl);Dn("CollisionBoxArray",kc);var Ec=function(Ne){function e(){Ne.apply(this,arguments)}Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e;var et={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return et.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},et.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},et.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},et.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},et.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},et.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},et.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},et.segment.get=function(){return this._structArray.uint16[this._pos2+10]},et.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},et.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},et.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},et.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},et.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},et.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},et.placedOrientation.set=function(Ne){this._structArray.uint8[this._pos1+37]=Ne},et.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},et.hidden.set=function(Ne){this._structArray.uint8[this._pos1+38]=Ne},et.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},et.crossTileID.set=function(Ne){this._structArray.uint32[this._pos4+10]=Ne},et.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,et),e}(_i);Ec.prototype.size=48;var Cc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.get=function(Ne){return new Ec(this,Ne)},e}(wu);Dn("PlacedSymbolArray",Cc);var Ic=function(Ne){function e(){Ne.apply(this,arguments)}Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e;var et={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return et.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},et.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},et.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},et.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},et.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},et.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},et.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},et.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},et.key.get=function(){return this._structArray.uint16[this._pos2+8]},et.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},et.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},et.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},et.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},et.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},et.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},et.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},et.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},et.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},et.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},et.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},et.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},et.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},et.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},et.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},et.crossTileID.set=function(Ne){this._structArray.uint32[this._pos4+12]=Ne},et.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},et.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},et.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},et.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,et),e}(_i);Ic.prototype.size=68;var Ac=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.get=function(Ne){return new Ic(this,Ne)},e}(Tu);Dn("SymbolInstanceArray",Ac);var zc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getoffsetX=function(Ne){return this.float32[1*Ne+0]},e}(Fu);Dn("GlyphOffsetArray",zc);var Dc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getx=function(Ne){return this.int16[3*Ne+0]},e.prototype.gety=function(Ne){return this.int16[3*Ne+1]},e.prototype.gettileUnitDistanceFromAnchor=function(Ne){return this.int16[3*Ne+2]},e}(ac);Dn("SymbolLineVertexArray",Dc);var Fc=function(Ne){function e(){Ne.apply(this,arguments)}Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e;var et={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return et.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},et.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},et.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,et),e}(_i);Fc.prototype.size=8;var Bc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.get=function(Ne){return new Fc(this,Ne)},e}(pc);Dn("FeatureIndexArray",Bc);var Zc=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,aa=function(Ne){void 0===Ne&&(Ne=[]),this.segments=Ne};function oa(Ne,et){return 256*(Ne=l(Math.floor(Ne),0,255))+l(Math.floor(et),0,255)}aa.prototype.prepareSegment=function(Ne,et,tt,rt){var nt=this.segments[this.segments.length-1];return Ne>aa.MAX_VERTEX_ARRAY_LENGTH&&_("Max vertices per segment is "+aa.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+Ne),(!nt||nt.vertexLength+Ne>aa.MAX_VERTEX_ARRAY_LENGTH||nt.sortKey!==rt)&&(nt={vertexOffset:et.length,primitiveOffset:tt.length,vertexLength:0,primitiveLength:0},void 0!==rt&&(nt.sortKey=rt),this.segments.push(nt)),nt},aa.prototype.get=function(){return this.segments},aa.prototype.destroy=function(){for(var Ne=0,et=this.segments;Ne<et.length;Ne+=1){var tt=et[Ne];for(var rt in tt.vaos)tt.vaos[rt].destroy()}},aa.simpleSegment=function(Ne,et,tt,rt){return new aa([{vertexOffset:Ne,primitiveOffset:et,vertexLength:tt,primitiveLength:rt,vaos:{},sortKey:0}])},aa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Dn("SegmentVector",aa);var Wc=Si([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Gc=e((function(Ne){Ne.exports=function(Ne,et){var tt,rt,nt,it,ot,at,st,ct;for(rt=Ne.length-(tt=3&Ne.length),nt=et,ot=3432918353,at=461845907,ct=0;ct<rt;)st=255&Ne.charCodeAt(ct)|(255&Ne.charCodeAt(++ct))<<8|(255&Ne.charCodeAt(++ct))<<16|(255&Ne.charCodeAt(++ct))<<24,++ct,nt=27492+(65535&(it=5*(65535&(nt=(nt^=st=(65535&(st=(st=(65535&st)*ot+(((st>>>16)*ot&65535)<<16)&4294967295)<<15|st>>>17))*at+(((st>>>16)*at&65535)<<16)&4294967295)<<13|nt>>>19))+((5*(nt>>>16)&65535)<<16)&4294967295))+((58964+(it>>>16)&65535)<<16);switch(st=0,tt){case 3:st^=(255&Ne.charCodeAt(ct+2))<<16;case 2:st^=(255&Ne.charCodeAt(ct+1))<<8;case 1:nt^=st=(65535&(st=(st=(65535&(st^=255&Ne.charCodeAt(ct)))*ot+(((st>>>16)*ot&65535)<<16)&4294967295)<<15|st>>>17))*at+(((st>>>16)*at&65535)<<16)&4294967295}return nt^=Ne.length,nt=2246822507*(65535&(nt^=nt>>>16))+((2246822507*(nt>>>16)&65535)<<16)&4294967295,nt=3266489909*(65535&(nt^=nt>>>13))+((3266489909*(nt>>>16)&65535)<<16)&4294967295,(nt^=nt>>>16)>>>0}})),$c=e((function(Ne){Ne.exports=function(Ne,et){for(var tt,rt=Ne.length,nt=et^rt,it=0;rt>=4;)tt=1540483477*(65535&(tt=255&Ne.charCodeAt(it)|(255&Ne.charCodeAt(++it))<<8|(255&Ne.charCodeAt(++it))<<16|(255&Ne.charCodeAt(++it))<<24))+((1540483477*(tt>>>16)&65535)<<16),nt=1540483477*(65535&nt)+((1540483477*(nt>>>16)&65535)<<16)^(tt=1540483477*(65535&(tt^=tt>>>24))+((1540483477*(tt>>>16)&65535)<<16)),rt-=4,++it;switch(rt){case 3:nt^=(255&Ne.charCodeAt(it+2))<<16;case 2:nt^=(255&Ne.charCodeAt(it+1))<<8;case 1:nt=1540483477*(65535&(nt^=255&Ne.charCodeAt(it)))+((1540483477*(nt>>>16)&65535)<<16)}return nt=1540483477*(65535&(nt^=nt>>>13))+((1540483477*(nt>>>16)&65535)<<16),(nt^=nt>>>15)>>>0}})),Hc=Gc,Xc=$c;Hc.murmur3=Gc,Hc.murmur2=Xc;var ha=function(){this.ids=[],this.positions=[],this.indexed=!1};ha.prototype.add=function(Ne,et,tt,rt){this.ids.push(ya(Ne)),this.positions.push(et,tt,rt)},ha.prototype.getPositions=function(Ne){for(var et=ya(Ne),tt=0,rt=this.ids.length-1;tt<rt;){var nt=tt+rt>>1;this.ids[nt]>=et?rt=nt:tt=nt+1}for(var it=[];this.ids[tt]===et;)it.push({index:this.positions[3*tt],start:this.positions[3*tt+1],end:this.positions[3*tt+2]}),tt++;return it},ha.serialize=function(Ne,et){var tt=new Float64Array(Ne.ids),rt=new Uint32Array(Ne.positions);return function t(Ne,et,tt,rt){for(;tt<rt;){for(var nt=Ne[tt+rt>>1],it=tt-1,ot=rt+1;;){do{it++}while(Ne[it]<nt);do{ot--}while(Ne[ot]>nt);if(it>=ot)break;da(Ne,it,ot),da(et,3*it,3*ot),da(et,3*it+1,3*ot+1),da(et,3*it+2,3*ot+2)}ot-tt<rt-ot?(t(Ne,et,tt,ot),tt=ot+1):(t(Ne,et,ot+1,rt),rt=ot)}}(tt,rt,0,tt.length-1),et&&et.push(tt.buffer,rt.buffer),{ids:tt,positions:rt}},ha.deserialize=function(Ne){var et=new ha;return et.ids=Ne.ids,et.positions=Ne.positions,et.indexed=!0,et};var Yc=Math.pow(2,53)-1;function ya(Ne){var et=+Ne;return!isNaN(et)&&et<=Yc?et:Hc(String(Ne))}function da(Ne,et,tt){var rt=Ne[et];Ne[et]=Ne[tt],Ne[tt]=rt}Dn("FeaturePositionMap",ha);var ma=function(Ne,et){this.gl=Ne.gl,this.location=et},rp=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=0}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){this.current!==Ne&&(this.current=Ne,this.gl.uniform1i(this.location,Ne))},e}(ma),ip=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=0}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){this.current!==Ne&&(this.current=Ne,this.gl.uniform1f(this.location,Ne))},e}(ma),op=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=[0,0]}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){Ne[0]===this.current[0]&&Ne[1]===this.current[1]||(this.current=Ne,this.gl.uniform2f(this.location,Ne[0],Ne[1]))},e}(ma),ap=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=[0,0,0]}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){Ne[0]===this.current[0]&&Ne[1]===this.current[1]&&Ne[2]===this.current[2]||(this.current=Ne,this.gl.uniform3f(this.location,Ne[0],Ne[1],Ne[2]))},e}(ma),sp=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=[0,0,0,0]}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){Ne[0]===this.current[0]&&Ne[1]===this.current[1]&&Ne[2]===this.current[2]&&Ne[3]===this.current[3]||(this.current=Ne,this.gl.uniform4f(this.location,Ne[0],Ne[1],Ne[2],Ne[3]))},e}(ma),lp=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=Wt.transparent}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){Ne.r===this.current.r&&Ne.g===this.current.g&&Ne.b===this.current.b&&Ne.a===this.current.a||(this.current=Ne,this.gl.uniform4f(this.location,Ne.r,Ne.g,Ne.b,Ne.a))},e}(ma),cp=new Float32Array(16),pp=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=cp}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){if(Ne[12]!==this.current[12]||Ne[0]!==this.current[0])return this.current=Ne,void this.gl.uniformMatrix4fv(this.location,!1,Ne);for(var et=1;et<16;et++)if(Ne[et]!==this.current[et]){this.current=Ne,this.gl.uniformMatrix4fv(this.location,!1,Ne);break}},e}(ma);function ka(Ne){return[oa(255*Ne.r,255*Ne.g),oa(255*Ne.b,255*Ne.a)]}var Ia=function(Ne,et,tt){this.value=Ne,this.uniformNames=et.map((function(Ne){return"u_"+Ne})),this.type=tt};Ia.prototype.setUniform=function(Ne,et,tt){Ne.set(tt.constantOr(this.value))},Ia.prototype.getBinding=function(Ne,et,tt){return"color"===this.type?new lp(Ne,et):new ip(Ne,et)};var za=function(Ne,et){this.uniformNames=et.map((function(Ne){return"u_"+Ne})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};za.prototype.setConstantPatternPositions=function(Ne,et){this.pixelRatioFrom=et.pixelRatio,this.pixelRatioTo=Ne.pixelRatio,this.patternFrom=et.tlbr,this.patternTo=Ne.tlbr},za.prototype.setUniform=function(Ne,et,tt,rt){var nt="u_pattern_to"===rt?this.patternTo:"u_pattern_from"===rt?this.patternFrom:"u_pixel_ratio_to"===rt?this.pixelRatioTo:"u_pixel_ratio_from"===rt?this.pixelRatioFrom:null;nt&&Ne.set(nt)},za.prototype.getBinding=function(Ne,et,tt){return"u_pattern"===tt.substr(0,9)?new sp(Ne,et):new ip(Ne,et)};var Ca=function(Ne,et,tt,rt){this.expression=Ne,this.type=tt,this.maxValue=0,this.paintVertexAttributes=et.map((function(Ne){return{name:"a_"+Ne,type:"Float32",components:"color"===tt?2:1,offset:0}})),this.paintVertexArray=new rt};Ca.prototype.populatePaintArray=function(Ne,et,tt,rt,nt){var it=this.paintVertexArray.length,ot=this.expression.evaluate(new ai(0),et,{},rt,[],nt);this.paintVertexArray.resize(Ne),this._setPaintValue(it,Ne,ot)},Ca.prototype.updatePaintArray=function(Ne,et,tt,rt){var nt=this.expression.evaluate({zoom:0},tt,rt);this._setPaintValue(Ne,et,nt)},Ca.prototype._setPaintValue=function(Ne,et,tt){if("color"===this.type)for(var rt=ka(tt),nt=Ne;nt<et;nt++)this.paintVertexArray.emplace(nt,rt[0],rt[1]);else{for(var it=Ne;it<et;it++)this.paintVertexArray.emplace(it,tt);this.maxValue=Math.max(this.maxValue,Math.abs(tt))}},Ca.prototype.upload=function(Ne){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=Ne.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ca.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ma=function(Ne,et,tt,rt,nt,it){this.expression=Ne,this.uniformNames=et.map((function(Ne){return"u_"+Ne+"_t"})),this.type=tt,this.useIntegerZoom=rt,this.zoom=nt,this.maxValue=0,this.paintVertexAttributes=et.map((function(Ne){return{name:"a_"+Ne,type:"Float32",components:"color"===tt?4:2,offset:0}})),this.paintVertexArray=new it};Ma.prototype.populatePaintArray=function(Ne,et,tt,rt,nt){var it=this.expression.evaluate(new ai(this.zoom),et,{},rt,[],nt),ot=this.expression.evaluate(new ai(this.zoom+1),et,{},rt,[],nt),at=this.paintVertexArray.length;this.paintVertexArray.resize(Ne),this._setPaintValue(at,Ne,it,ot)},Ma.prototype.updatePaintArray=function(Ne,et,tt,rt){var nt=this.expression.evaluate({zoom:this.zoom},tt,rt),it=this.expression.evaluate({zoom:this.zoom+1},tt,rt);this._setPaintValue(Ne,et,nt,it)},Ma.prototype._setPaintValue=function(Ne,et,tt,rt){if("color"===this.type)for(var nt=ka(tt),it=ka(rt),ot=Ne;ot<et;ot++)this.paintVertexArray.emplace(ot,nt[0],nt[1],it[0],it[1]);else{for(var at=Ne;at<et;at++)this.paintVertexArray.emplace(at,tt,rt);this.maxValue=Math.max(this.maxValue,Math.abs(tt),Math.abs(rt))}},Ma.prototype.upload=function(Ne){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=Ne.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ma.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ma.prototype.setUniform=function(Ne,et){var tt=this.useIntegerZoom?Math.floor(et.zoom):et.zoom,rt=l(this.expression.interpolationFactor(tt,this.zoom,this.zoom+1),0,1);Ne.set(rt)},Ma.prototype.getBinding=function(Ne,et,tt){return new ip(Ne,et)};var Ea=function(Ne,et,tt,rt,nt,it){this.expression=Ne,this.type=et,this.useIntegerZoom=tt,this.zoom=rt,this.layerId=it,this.zoomInPaintVertexArray=new nt,this.zoomOutPaintVertexArray=new nt};Ea.prototype.populatePaintArray=function(Ne,et,tt){var rt=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(Ne),this.zoomOutPaintVertexArray.resize(Ne),this._setPaintValues(rt,Ne,et.patterns&&et.patterns[this.layerId],tt)},Ea.prototype.updatePaintArray=function(Ne,et,tt,rt,nt){this._setPaintValues(Ne,et,tt.patterns&&tt.patterns[this.layerId],nt)},Ea.prototype._setPaintValues=function(Ne,et,tt,rt){if(rt&&tt){var nt=rt[tt.min],it=rt[tt.mid],ot=rt[tt.max];if(nt&&it&&ot)for(var at=Ne;at<et;at++)this.zoomInPaintVertexArray.emplace(at,it.tl[0],it.tl[1],it.br[0],it.br[1],nt.tl[0],nt.tl[1],nt.br[0],nt.br[1],it.pixelRatio,nt.pixelRatio),this.zoomOutPaintVertexArray.emplace(at,it.tl[0],it.tl[1],it.br[0],it.br[1],ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],it.pixelRatio,ot.pixelRatio)}},Ea.prototype.upload=function(Ne){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=Ne.createVertexBuffer(this.zoomInPaintVertexArray,Wc.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=Ne.createVertexBuffer(this.zoomOutPaintVertexArray,Wc.members,this.expression.isStateDependent))},Ea.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ta=function(Ne,et,tt){this.binders={},this._buffers=[];var rt=[];for(var nt in Ne.paint._values)if(tt(nt)){var it=Ne.paint.get(nt);if(it instanceof hi&&Tr(it.property.specification)){var ot=Ba(nt,Ne.type),at=it.value,st=it.property.specification.type,ct=it.property.useIntegerZoom,pt=it.property.specification["property-type"],ft="cross-faded"===pt||"cross-faded-data-driven"===pt;if("constant"===at.kind)this.binders[nt]=ft?new za(at.value,ot):new Ia(at.value,ot,st),rt.push("/u_"+nt);else if("source"===at.kind||ft){var dt=Va(nt,st,"source");this.binders[nt]=ft?new Ea(at,st,ct,et,dt,Ne.id):new Ca(at,ot,st,dt),rt.push("/a_"+nt)}else{var mt=Va(nt,st,"composite");this.binders[nt]=new Ma(at,ot,st,ct,et,mt),rt.push("/z_"+nt)}}}this.cacheKey=rt.sort().join("")};Ta.prototype.getMaxValue=function(Ne){var et=this.binders[Ne];return et instanceof Ca||et instanceof Ma?et.maxValue:0},Ta.prototype.populatePaintArrays=function(Ne,et,tt,rt,nt){for(var it in this.binders){var ot=this.binders[it];(ot instanceof Ca||ot instanceof Ma||ot instanceof Ea)&&ot.populatePaintArray(Ne,et,tt,rt,nt)}},Ta.prototype.setConstantPatternPositions=function(Ne,et){for(var tt in this.binders){var rt=this.binders[tt];rt instanceof za&&rt.setConstantPatternPositions(Ne,et)}},Ta.prototype.updatePaintArrays=function(Ne,et,tt,rt,nt){var it=!1;for(var ot in Ne)for(var at=0,st=et.getPositions(ot);at<st.length;at+=1){var ct=st[at],pt=tt.feature(ct.index);for(var ft in this.binders){var dt=this.binders[ft];if((dt instanceof Ca||dt instanceof Ma||dt instanceof Ea)&&!0===dt.expression.isStateDependent){var mt=rt.paint.get(ft);dt.expression=mt.value,dt.updatePaintArray(ct.start,ct.end,pt,Ne[ot],nt),it=!0}}}return it},Ta.prototype.defines=function(){var Ne=[];for(var et in this.binders){var tt=this.binders[et];(tt instanceof Ia||tt instanceof za)&&Ne.push.apply(Ne,tt.uniformNames.map((function(Ne){return"#define HAS_UNIFORM_"+Ne})))}return Ne},Ta.prototype.getBinderAttributes=function(){var Ne=[];for(var et in this.binders){var tt=this.binders[et];if(tt instanceof Ca||tt instanceof Ma)for(var rt=0;rt<tt.paintVertexAttributes.length;rt++)Ne.push(tt.paintVertexAttributes[rt].name);else if(tt instanceof Ea)for(var nt=0;nt<Wc.members.length;nt++)Ne.push(Wc.members[nt].name)}return Ne},Ta.prototype.getBinderUniforms=function(){var Ne=[];for(var et in this.binders){var tt=this.binders[et];if(tt instanceof Ia||tt instanceof za||tt instanceof Ma)for(var rt=0,nt=tt.uniformNames;rt<nt.length;rt+=1)Ne.push(nt[rt])}return Ne},Ta.prototype.getPaintVertexBuffers=function(){return this._buffers},Ta.prototype.getUniforms=function(Ne,et){var tt=[];for(var rt in this.binders){var nt=this.binders[rt];if(nt instanceof Ia||nt instanceof za||nt instanceof Ma)for(var it=0,ot=nt.uniformNames;it<ot.length;it+=1){var at=ot[it];if(et[at]){var st=nt.getBinding(Ne,et[at],at);tt.push({name:at,property:rt,binding:st})}}}return tt},Ta.prototype.setUniforms=function(Ne,et,tt,rt){for(var nt=0,it=et;nt<it.length;nt+=1){var ot=it[nt],at=ot.name,st=ot.property;this.binders[st].setUniform(ot.binding,rt,tt.get(st),at)}},Ta.prototype.updatePaintBuffers=function(Ne){for(var et in this._buffers=[],this.binders){var tt=this.binders[et];if(Ne&&tt instanceof Ea){var rt=2===Ne.fromScale?tt.zoomInPaintVertexBuffer:tt.zoomOutPaintVertexBuffer;rt&&this._buffers.push(rt)}else(tt instanceof Ca||tt instanceof Ma)&&tt.paintVertexBuffer&&this._buffers.push(tt.paintVertexBuffer)}},Ta.prototype.upload=function(Ne){for(var et in this.binders){var tt=this.binders[et];(tt instanceof Ca||tt instanceof Ma||tt instanceof Ea)&&tt.upload(Ne)}this.updatePaintBuffers()},Ta.prototype.destroy=function(){for(var Ne in this.binders){var et=this.binders[Ne];(et instanceof Ca||et instanceof Ma||et instanceof Ea)&&et.destroy()}};var Pa=function(Ne,et,tt){void 0===tt&&(tt=function(){return!0}),this.programConfigurations={};for(var rt=0,nt=Ne;rt<nt.length;rt+=1){var it=nt[rt];this.programConfigurations[it.id]=new Ta(it,et,tt)}this.needsUpload=!1,this._featureMap=new ha,this._bufferOffset=0};function Ba(Ne,et){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[Ne]||[Ne.replace(et+"-","").replace(/-/g,"_")]}function Va(Ne,et,tt){var rt={color:{source:bc,composite:xc},number:{source:Fu,composite:bc}},nt=function(Ne){return{"line-pattern":{source:Cl,composite:Cl},"fill-pattern":{source:Cl,composite:Cl},"fill-extrusion-pattern":{source:Cl,composite:Cl}}[Ne]}(Ne);return nt&&nt[tt]||rt[et][tt]}Pa.prototype.populatePaintArrays=function(Ne,et,tt,rt,nt,it){for(var ot in this.programConfigurations)this.programConfigurations[ot].populatePaintArrays(Ne,et,rt,nt,it);void 0!==et.id&&this._featureMap.add(et.id,tt,this._bufferOffset,Ne),this._bufferOffset=Ne,this.needsUpload=!0},Pa.prototype.updatePaintArrays=function(Ne,et,tt,rt){for(var nt=0,it=tt;nt<it.length;nt+=1){var ot=it[nt];this.needsUpload=this.programConfigurations[ot.id].updatePaintArrays(Ne,this._featureMap,et,ot,rt)||this.needsUpload}},Pa.prototype.get=function(Ne){return this.programConfigurations[Ne]},Pa.prototype.upload=function(Ne){if(this.needsUpload){for(var et in this.programConfigurations)this.programConfigurations[et].upload(Ne);this.needsUpload=!1}},Pa.prototype.destroy=function(){for(var Ne in this.programConfigurations)this.programConfigurations[Ne].destroy()},Dn("ConstantBinder",Ia),Dn("CrossFadedConstantBinder",za),Dn("SourceExpressionBinder",Ca),Dn("CrossFadedCompositeBinder",Ea),Dn("CompositeExpressionBinder",Ma),Dn("ProgramConfiguration",Ta,{omit:["_buffers"]}),Dn("ProgramConfigurationSet",Pa);var hp=Math.pow(2,14)-1,fp=-hp-1;function La(Ne){for(var et=8192/Ne.extent,tt=Ne.loadGeometry(),rt=0;rt<tt.length;rt++)for(var nt=tt[rt],it=0;it<nt.length;it++){var ot=nt[it],at=Math.round(ot.x*et),st=Math.round(ot.y*et);ot.x=l(at,fp,hp),ot.y=l(st,fp,hp),(at<ot.x||at>ot.x+1||st<ot.y||st>ot.y+1)&&_("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return tt}function Ra(Ne,et,tt,rt,nt){Ne.emplaceBack(2*et+(rt+1)/2,2*tt+(nt+1)/2)}var Oa=function(Ne){this.zoom=Ne.zoom,this.overscaling=Ne.overscaling,this.layers=Ne.layers,this.layerIds=this.layers.map((function(Ne){return Ne.id})),this.index=Ne.index,this.hasPattern=!1,this.layoutVertexArray=new xl,this.indexArray=new _u,this.segments=new aa,this.programConfigurations=new Pa(Ne.layers,Ne.zoom),this.stateDependentLayerIds=this.layers.filter((function(Ne){return Ne.isStateDependent()})).map((function(Ne){return Ne.id}))};function Ua(Ne,et){for(var tt=0;tt<Ne.length;tt++)if(Ha(et,Ne[tt]))return!0;for(var rt=0;rt<et.length;rt++)if(Ha(Ne,et[rt]))return!0;return!!Ka(Ne,et)}function ja(Ne,et,tt){return!!Ha(Ne,et)||!!Za(et,Ne,tt)}function qa(Ne,et){if(1===Ne.length)return Ja(et,Ne[0]);for(var tt=0;tt<et.length;tt++)for(var rt=et[tt],nt=0;nt<rt.length;nt++)if(Ha(Ne,rt[nt]))return!0;for(var it=0;it<Ne.length;it++)if(Ja(et,Ne[it]))return!0;for(var ot=0;ot<et.length;ot++)if(Ka(Ne,et[ot]))return!0;return!1}function Na(Ne,et,tt){if(Ne.length>1){if(Ka(Ne,et))return!0;for(var rt=0;rt<et.length;rt++)if(Za(et[rt],Ne,tt))return!0}for(var nt=0;nt<Ne.length;nt++)if(Za(Ne[nt],et,tt))return!0;return!1}function Ka(Ne,et){if(0===Ne.length||0===et.length)return!1;for(var tt=0;tt<Ne.length-1;tt++)for(var rt=Ne[tt],nt=Ne[tt+1],it=0;it<et.length-1;it++)if(Ga(rt,nt,et[it],et[it+1]))return!0;return!1}function Ga(Ne,et,tt,rt){return A(Ne,tt,rt)!==A(et,tt,rt)&&A(Ne,et,tt)!==A(Ne,et,rt)}function Za(Ne,et,tt){var rt=tt*tt;if(1===et.length)return Ne.distSqr(et[0])<rt;for(var nt=1;nt<et.length;nt++)if(Xa(Ne,et[nt-1],et[nt])<rt)return!0;return!1}function Xa(Ne,et,tt){var rt=et.distSqr(tt);if(0===rt)return Ne.distSqr(et);var nt=((Ne.x-et.x)*(tt.x-et.x)+(Ne.y-et.y)*(tt.y-et.y))/rt;return Ne.distSqr(nt<0?et:nt>1?tt:tt.sub(et)._mult(nt)._add(et))}function Ja(Ne,et){for(var tt,rt,nt,it=!1,ot=0;ot<Ne.length;ot++)for(var at=0,st=(tt=Ne[ot]).length-1;at<tt.length;st=at++)(rt=tt[at]).y>et.y!=(nt=tt[st]).y>et.y&&et.x<(nt.x-rt.x)*(et.y-rt.y)/(nt.y-rt.y)+rt.x&&(it=!it);return it}function Ha(Ne,et){for(var tt=!1,rt=0,nt=Ne.length-1;rt<Ne.length;nt=rt++){var it=Ne[rt],ot=Ne[nt];it.y>et.y!=ot.y>et.y&&et.x<(ot.x-it.x)*(et.y-it.y)/(ot.y-it.y)+it.x&&(tt=!tt)}return tt}function Ya(Ne,et,tt){var rt=tt[0],nt=tt[2];if(Ne.x<rt.x&&et.x<rt.x||Ne.x>nt.x&&et.x>nt.x||Ne.y<rt.y&&et.y<rt.y||Ne.y>nt.y&&et.y>nt.y)return!1;var it=A(Ne,et,tt[0]);return it!==A(Ne,et,tt[1])||it!==A(Ne,et,tt[2])||it!==A(Ne,et,tt[3])}function $a(Ne,et,tt){var rt=et.paint.get(Ne).value;return"constant"===rt.kind?rt.value:tt.programConfigurations.get(et.id).getMaxValue(Ne)}function Wa(Ne){return Math.sqrt(Ne[0]*Ne[0]+Ne[1]*Ne[1])}function Qa(Ne,et,rt,nt,it){if(!et[0]&&!et[1])return Ne;var ot=tt.convert(et)._mult(it);"viewport"===rt&&ot._rotate(-nt);for(var at=[],st=0;st<Ne.length;st++)at.push(Ne[st].sub(ot));return at}Oa.prototype.populate=function(Ne,et,tt){var rt=this.layers[0],nt=[],it=null;"circle"===rt.type&&(it=rt.layout.get("circle-sort-key"));for(var ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot],ct=st.feature,pt=st.id,ft=st.index,dt=st.sourceLayerIndex,mt=this.layers[0]._featureFilter.needGeometry,yt={type:ct.type,id:pt,properties:ct.properties,geometry:mt?La(ct):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),yt,tt)){mt||(yt.geometry=La(ct));var vt=it?it.evaluate(yt,{},tt):void 0;nt.push({id:pt,properties:ct.properties,type:ct.type,sourceLayerIndex:dt,index:ft,geometry:yt.geometry,patterns:{},sortKey:vt})}}it&&nt.sort((function(Ne,et){return Ne.sortKey-et.sortKey}));for(var Rt=0,Dt=nt;Rt<Dt.length;Rt+=1){var Ot=Dt[Rt],Bt=Ot.geometry,er=Ot.index,rr=Ot.sourceLayerIndex,vr=Ne[er].feature;this.addFeature(Ot,Bt,er,tt),et.featureIndex.insert(vr,Bt,er,rr,this.index)}},Oa.prototype.update=function(Ne,et,tt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ne,et,this.stateDependentLayers,tt)},Oa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Oa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Oa.prototype.upload=function(Ne){this.uploaded||(this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,Zc),this.indexBuffer=Ne.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(Ne),this.uploaded=!0},Oa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Oa.prototype.addFeature=function(Ne,et,tt,rt){for(var nt=0,it=et;nt<it.length;nt+=1)for(var ot=0,at=it[nt];ot<at.length;ot+=1){var st=at[ot],ct=st.x,pt=st.y;if(!(ct<0||ct>=8192||pt<0||pt>=8192)){var ft=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,Ne.sortKey),dt=ft.vertexLength;Ra(this.layoutVertexArray,ct,pt,-1,-1),Ra(this.layoutVertexArray,ct,pt,1,-1),Ra(this.layoutVertexArray,ct,pt,1,1),Ra(this.layoutVertexArray,ct,pt,-1,1),this.indexArray.emplaceBack(dt,dt+1,dt+2),this.indexArray.emplaceBack(dt,dt+3,dt+2),ft.vertexLength+=4,ft.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,Ne,tt,{},rt)},Dn("CircleBucket",Oa,{omit:["layers"]});var dp=new xi({"circle-sort-key":new di(Yn.layout_circle["circle-sort-key"])}),mp={paint:new xi({"circle-radius":new di(Yn.paint_circle["circle-radius"]),"circle-color":new di(Yn.paint_circle["circle-color"]),"circle-blur":new di(Yn.paint_circle["circle-blur"]),"circle-opacity":new di(Yn.paint_circle["circle-opacity"]),"circle-translate":new yi(Yn.paint_circle["circle-translate"]),"circle-translate-anchor":new yi(Yn.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new yi(Yn.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new yi(Yn.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new di(Yn.paint_circle["circle-stroke-width"]),"circle-stroke-color":new di(Yn.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new di(Yn.paint_circle["circle-stroke-opacity"])}),layout:dp},gp="undefined"!=typeof Float32Array?Float32Array:Array;function no(Ne){return Ne[0]=1,Ne[1]=0,Ne[2]=0,Ne[3]=0,Ne[4]=0,Ne[5]=1,Ne[6]=0,Ne[7]=0,Ne[8]=0,Ne[9]=0,Ne[10]=1,Ne[11]=0,Ne[12]=0,Ne[13]=0,Ne[14]=0,Ne[15]=1,Ne}function io(Ne,et,tt){var rt=et[0],nt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],ct=et[6],pt=et[7],ft=et[8],dt=et[9],mt=et[10],yt=et[11],vt=et[12],Rt=et[13],Dt=et[14],Ot=et[15],Bt=tt[0],er=tt[1],rr=tt[2],vr=tt[3];return Ne[0]=Bt*rt+er*at+rr*ft+vr*vt,Ne[1]=Bt*nt+er*st+rr*dt+vr*Rt,Ne[2]=Bt*it+er*ct+rr*mt+vr*Dt,Ne[3]=Bt*ot+er*pt+rr*yt+vr*Ot,Ne[4]=(Bt=tt[4])*rt+(er=tt[5])*at+(rr=tt[6])*ft+(vr=tt[7])*vt,Ne[5]=Bt*nt+er*st+rr*dt+vr*Rt,Ne[6]=Bt*it+er*ct+rr*mt+vr*Dt,Ne[7]=Bt*ot+er*pt+rr*yt+vr*Ot,Ne[8]=(Bt=tt[8])*rt+(er=tt[9])*at+(rr=tt[10])*ft+(vr=tt[11])*vt,Ne[9]=Bt*nt+er*st+rr*dt+vr*Rt,Ne[10]=Bt*it+er*ct+rr*mt+vr*Dt,Ne[11]=Bt*ot+er*pt+rr*yt+vr*Ot,Ne[12]=(Bt=tt[12])*rt+(er=tt[13])*at+(rr=tt[14])*ft+(vr=tt[15])*vt,Ne[13]=Bt*nt+er*st+rr*dt+vr*Rt,Ne[14]=Bt*it+er*ct+rr*mt+vr*Dt,Ne[15]=Bt*ot+er*pt+rr*yt+vr*Ot,Ne}Math.hypot||(Math.hypot=function(){for(var Ne=arguments,et=0,tt=arguments.length;tt--;)et+=Ne[tt]*Ne[tt];return Math.sqrt(et)});var yp,vp=io;function so(Ne,et,tt){var rt=et[0],nt=et[1],it=et[2],ot=et[3];return Ne[0]=tt[0]*rt+tt[4]*nt+tt[8]*it+tt[12]*ot,Ne[1]=tt[1]*rt+tt[5]*nt+tt[9]*it+tt[13]*ot,Ne[2]=tt[2]*rt+tt[6]*nt+tt[10]*it+tt[14]*ot,Ne[3]=tt[3]*rt+tt[7]*nt+tt[11]*it+tt[15]*ot,Ne}yp=new gp(3),gp!=Float32Array&&(yp[0]=0,yp[1]=0,yp[2]=0),function(){var Ne=new gp(4);gp!=Float32Array&&(Ne[0]=0,Ne[1]=0,Ne[2]=0,Ne[3]=0)}();var _p=(function(){var Ne=new gp(2);gp!=Float32Array&&(Ne[0]=0,Ne[1]=0)}(),function(Ne){function e(et){Ne.call(this,et,mp)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.createBucket=function(Ne){return new Oa(Ne)},e.prototype.queryRadius=function(Ne){var et=Ne;return $a("circle-radius",this,et)+$a("circle-stroke-width",this,et)+Wa(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(Ne,et,tt,rt,nt,it,ot,at){for(var st=Qa(Ne,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),it.angle,ot),ct=this.paint.get("circle-radius").evaluate(et,tt)+this.paint.get("circle-stroke-width").evaluate(et,tt),pt="map"===this.paint.get("circle-pitch-alignment"),ft=pt?st:function(Ne,et){return Ne.map((function(Ne){return lo(Ne,et)}))}(st,at),dt=pt?ct*ot:ct,mt=0,yt=rt;mt<yt.length;mt+=1)for(var vt=0,Rt=yt[mt];vt<Rt.length;vt+=1){var Dt=Rt[vt],Ot=pt?Dt:lo(Dt,at),Bt=dt,er=so([],[Dt.x,Dt.y,0,1],at);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Bt*=er[3]/it.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Bt*=it.cameraToCenterDistance/er[3]),ja(ft,Ot,Bt))return!0}return!1},e}(_l));function lo(Ne,et){var rt=so([],[Ne.x,Ne.y,0,1],et);return new tt(rt[0]/rt[3],rt[1]/rt[3])}var bp=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(Oa);function co(Ne,et,tt,rt){var nt=et.width,it=et.height;if(rt){if(rt instanceof Uint8ClampedArray)rt=new Uint8Array(rt.buffer);else if(rt.length!==nt*it*tt)throw new RangeError("mismatched image size")}else rt=new Uint8Array(nt*it*tt);return Ne.width=nt,Ne.height=it,Ne.data=rt,Ne}function ho(Ne,et,tt){var rt=et.width,nt=et.height;if(rt!==Ne.width||nt!==Ne.height){var it=co({},{width:rt,height:nt},tt);fo(Ne,it,{x:0,y:0},{x:0,y:0},{width:Math.min(Ne.width,rt),height:Math.min(Ne.height,nt)},tt),Ne.width=rt,Ne.height=nt,Ne.data=it.data}}function fo(Ne,et,tt,rt,nt,it){if(0===nt.width||0===nt.height)return et;if(nt.width>Ne.width||nt.height>Ne.height||tt.x>Ne.width-nt.width||tt.y>Ne.height-nt.height)throw new RangeError("out of range source coordinates for image copy");if(nt.width>et.width||nt.height>et.height||rt.x>et.width-nt.width||rt.y>et.height-nt.height)throw new RangeError("out of range destination coordinates for image copy");for(var ot=Ne.data,at=et.data,st=0;st<nt.height;st++)for(var ct=((tt.y+st)*Ne.width+tt.x)*it,pt=((rt.y+st)*et.width+rt.x)*it,ft=0;ft<nt.width*it;ft++)at[pt+ft]=ot[ct+ft];return et}Dn("HeatmapBucket",bp,{omit:["layers"]});var yo=function(Ne,et){co(this,Ne,1,et)};yo.prototype.resize=function(Ne){ho(this,Ne,1)},yo.prototype.clone=function(){return new yo({width:this.width,height:this.height},new Uint8Array(this.data))},yo.copy=function(Ne,et,tt,rt,nt){fo(Ne,et,tt,rt,nt,1)};var mo=function(Ne,et){co(this,Ne,4,et)};mo.prototype.resize=function(Ne){ho(this,Ne,4)},mo.prototype.replace=function(Ne,et){et?this.data.set(Ne):this.data=Ne instanceof Uint8ClampedArray?new Uint8Array(Ne.buffer):Ne},mo.prototype.clone=function(){return new mo({width:this.width,height:this.height},new Uint8Array(this.data))},mo.copy=function(Ne,et,tt,rt,nt){fo(Ne,et,tt,rt,nt,4)},Dn("AlphaImage",yo),Dn("RGBAImage",mo);var xp={paint:new xi({"heatmap-radius":new di(Yn.paint_heatmap["heatmap-radius"]),"heatmap-weight":new di(Yn.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new yi(Yn.paint_heatmap["heatmap-intensity"]),"heatmap-color":new gi(Yn.paint_heatmap["heatmap-color"]),"heatmap-opacity":new yi(Yn.paint_heatmap["heatmap-opacity"])})};function go(Ne,et){for(var tt=new Uint8Array(1024),rt={},nt=0,it=0;nt<256;nt++,it+=4){rt[et]=nt/255;var ot=Ne.evaluate(rt);tt[it+0]=Math.floor(255*ot.r/ot.a),tt[it+1]=Math.floor(255*ot.g/ot.a),tt[it+2]=Math.floor(255*ot.b/ot.a),tt[it+3]=Math.floor(255*ot.a)}return new mo({width:256,height:1},tt)}var wp=function(Ne){function e(et){Ne.call(this,et,xp),this._updateColorRamp()}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.createBucket=function(Ne){return new bp(Ne)},e.prototype._handleSpecialPaintPropertyUpdate=function(Ne){"heatmap-color"===Ne&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=go(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(_l),kp={paint:new xi({"hillshade-illumination-direction":new yi(Yn.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new yi(Yn.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new yi(Yn.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new yi(Yn.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new yi(Yn.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new yi(Yn.paint_hillshade["hillshade-accent-color"])})},Sp=function(Ne){function e(et){Ne.call(this,et,kp)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(_l),Ep=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,Tp=ko,Cp=ko;function ko(Ne,et,tt){tt=tt||2;var rt,nt,it,ot,at,st,ct,pt=et&&et.length,ft=pt?et[0]*tt:Ne.length,dt=Io(Ne,0,ft,tt,!0),mt=[];if(!dt||dt.next===dt.prev)return mt;if(pt&&(dt=function(Ne,et,tt,rt){var nt,it,ot,at=[];for(nt=0,it=et.length;nt<it;nt++)(ot=Io(Ne,et[nt]*rt,nt<it-1?et[nt+1]*rt:Ne.length,rt,!1))===ot.next&&(ot.steiner=!0),at.push(Lo(ot));for(at.sort(Bo),nt=0;nt<at.length;nt++)Vo(at[nt],tt),tt=zo(tt,tt.next);return tt}(Ne,et,dt,tt)),Ne.length>80*tt){rt=it=Ne[0],nt=ot=Ne[1];for(var yt=tt;yt<ft;yt+=tt)(at=Ne[yt])<rt&&(rt=at),(st=Ne[yt+1])<nt&&(nt=st),at>it&&(it=at),st>ot&&(ot=st);ct=0!==(ct=Math.max(it-rt,ot-nt))?1/ct:0}return Co(dt,mt,tt,rt,nt,ct),mt}function Io(Ne,et,tt,rt,nt){var it,ot;if(nt===Yo(Ne,et,tt,rt)>0)for(it=et;it<tt;it+=rt)ot=Xo(it,Ne[it],Ne[it+1],ot);else for(it=tt-rt;it>=et;it-=rt)ot=Xo(it,Ne[it],Ne[it+1],ot);return ot&&jo(ot,ot.next)&&(Jo(ot),ot=ot.next),ot}function zo(Ne,et){if(!Ne)return Ne;et||(et=Ne);var tt,rt=Ne;do{if(tt=!1,rt.steiner||!jo(rt,rt.next)&&0!==Uo(rt.prev,rt,rt.next))rt=rt.next;else{if(Jo(rt),(rt=et=rt.prev)===rt.next)break;tt=!0}}while(tt||rt!==et);return et}function Co(Ne,et,tt,rt,nt,it,ot){if(Ne){!ot&&it&&function(Ne,et,tt,rt){var nt=Ne;do{null===nt.z&&(nt.z=Do(nt.x,nt.y,et,tt,rt)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next}while(nt!==Ne);nt.prevZ.nextZ=null,nt.prevZ=null,function(Ne){var et,tt,rt,nt,it,ot,at,st,ct=1;do{for(tt=Ne,Ne=null,it=null,ot=0;tt;){for(ot++,rt=tt,at=0,et=0;et<ct&&(at++,rt=rt.nextZ);et++);for(st=ct;at>0||st>0&&rt;)0!==at&&(0===st||!rt||tt.z<=rt.z)?(nt=tt,tt=tt.nextZ,at--):(nt=rt,rt=rt.nextZ,st--),it?it.nextZ=nt:Ne=nt,nt.prevZ=it,it=nt;tt=rt}it.nextZ=null,ct*=2}while(ot>1)}(nt)}(Ne,rt,nt,it);for(var at,st,ct=Ne;Ne.prev!==Ne.next;)if(at=Ne.prev,st=Ne.next,it?Eo(Ne,rt,nt,it):Mo(Ne))et.push(at.i/tt),et.push(Ne.i/tt),et.push(st.i/tt),Jo(Ne),Ne=st.next,ct=st.next;else if((Ne=st)===ct){ot?1===ot?Co(Ne=To(zo(Ne),et,tt),et,tt,rt,nt,it,2):2===ot&&Po(Ne,et,tt,rt,nt,it):Co(zo(Ne),et,tt,rt,nt,it,1);break}}}function Mo(Ne){var et=Ne.prev,tt=Ne,rt=Ne.next;if(Uo(et,tt,rt)>=0)return!1;for(var nt=Ne.next.next;nt!==Ne.prev;){if(Ro(et.x,et.y,tt.x,tt.y,rt.x,rt.y,nt.x,nt.y)&&Uo(nt.prev,nt,nt.next)>=0)return!1;nt=nt.next}return!0}function Eo(Ne,et,tt,rt){var nt=Ne.prev,it=Ne,ot=Ne.next;if(Uo(nt,it,ot)>=0)return!1;for(var at=nt.x>it.x?nt.x>ot.x?nt.x:ot.x:it.x>ot.x?it.x:ot.x,st=nt.y>it.y?nt.y>ot.y?nt.y:ot.y:it.y>ot.y?it.y:ot.y,ct=Do(nt.x<it.x?nt.x<ot.x?nt.x:ot.x:it.x<ot.x?it.x:ot.x,nt.y<it.y?nt.y<ot.y?nt.y:ot.y:it.y<ot.y?it.y:ot.y,et,tt,rt),pt=Do(at,st,et,tt,rt),ft=Ne.prevZ,dt=Ne.nextZ;ft&&ft.z>=ct&&dt&&dt.z<=pt;){if(ft!==Ne.prev&&ft!==Ne.next&&Ro(nt.x,nt.y,it.x,it.y,ot.x,ot.y,ft.x,ft.y)&&Uo(ft.prev,ft,ft.next)>=0)return!1;if(ft=ft.prevZ,dt!==Ne.prev&&dt!==Ne.next&&Ro(nt.x,nt.y,it.x,it.y,ot.x,ot.y,dt.x,dt.y)&&Uo(dt.prev,dt,dt.next)>=0)return!1;dt=dt.nextZ}for(;ft&&ft.z>=ct;){if(ft!==Ne.prev&&ft!==Ne.next&&Ro(nt.x,nt.y,it.x,it.y,ot.x,ot.y,ft.x,ft.y)&&Uo(ft.prev,ft,ft.next)>=0)return!1;ft=ft.prevZ}for(;dt&&dt.z<=pt;){if(dt!==Ne.prev&&dt!==Ne.next&&Ro(nt.x,nt.y,it.x,it.y,ot.x,ot.y,dt.x,dt.y)&&Uo(dt.prev,dt,dt.next)>=0)return!1;dt=dt.nextZ}return!0}function To(Ne,et,tt){var rt=Ne;do{var nt=rt.prev,it=rt.next.next;!jo(nt,it)&&qo(nt,rt,rt.next,it)&&Go(nt,it)&&Go(it,nt)&&(et.push(nt.i/tt),et.push(rt.i/tt),et.push(it.i/tt),Jo(rt),Jo(rt.next),rt=Ne=it),rt=rt.next}while(rt!==Ne);return zo(rt)}function Po(Ne,et,tt,rt,nt,it){var ot=Ne;do{for(var at=ot.next.next;at!==ot.prev;){if(ot.i!==at.i&&Oo(ot,at)){var st=Zo(ot,at);return ot=zo(ot,ot.next),st=zo(st,st.next),Co(ot,et,tt,rt,nt,it),void Co(st,et,tt,rt,nt,it)}at=at.next}ot=ot.next}while(ot!==Ne)}function Bo(Ne,et){return Ne.x-et.x}function Vo(Ne,et){if(et=function(Ne,et){var tt,rt=et,nt=Ne.x,it=Ne.y,ot=-1/0;do{if(it<=rt.y&&it>=rt.next.y&&rt.next.y!==rt.y){var at=rt.x+(it-rt.y)*(rt.next.x-rt.x)/(rt.next.y-rt.y);if(at<=nt&&at>ot){if(ot=at,at===nt){if(it===rt.y)return rt;if(it===rt.next.y)return rt.next}tt=rt.x<rt.next.x?rt:rt.next}}rt=rt.next}while(rt!==et);if(!tt)return null;if(nt===ot)return tt;var st,ct=tt,pt=tt.x,ft=tt.y,dt=1/0;rt=tt;do{nt>=rt.x&&rt.x>=pt&&nt!==rt.x&&Ro(it<ft?nt:ot,it,pt,ft,it<ft?ot:nt,it,rt.x,rt.y)&&(st=Math.abs(it-rt.y)/(nt-rt.x),Go(rt,Ne)&&(st<dt||st===dt&&(rt.x>tt.x||rt.x===tt.x&&Fo(tt,rt)))&&(tt=rt,dt=st)),rt=rt.next}while(rt!==ct);return tt}(Ne,et)){var tt=Zo(et,Ne);zo(et,et.next),zo(tt,tt.next)}}function Fo(Ne,et){return Uo(Ne.prev,Ne,et.prev)<0&&Uo(et.next,Ne,Ne.next)<0}function Do(Ne,et,tt,rt,nt){return(Ne=1431655765&((Ne=858993459&((Ne=252645135&((Ne=16711935&((Ne=32767*(Ne-tt)*nt)|Ne<<8))|Ne<<4))|Ne<<2))|Ne<<1))|(et=1431655765&((et=858993459&((et=252645135&((et=16711935&((et=32767*(et-rt)*nt)|et<<8))|et<<4))|et<<2))|et<<1))<<1}function Lo(Ne){var et=Ne,tt=Ne;do{(et.x<tt.x||et.x===tt.x&&et.y<tt.y)&&(tt=et),et=et.next}while(et!==Ne);return tt}function Ro(Ne,et,tt,rt,nt,it,ot,at){return(nt-ot)*(et-at)-(Ne-ot)*(it-at)>=0&&(Ne-ot)*(rt-at)-(tt-ot)*(et-at)>=0&&(tt-ot)*(it-at)-(nt-ot)*(rt-at)>=0}function Oo(Ne,et){return Ne.next.i!==et.i&&Ne.prev.i!==et.i&&!function(Ne,et){var tt=Ne;do{if(tt.i!==Ne.i&&tt.next.i!==Ne.i&&tt.i!==et.i&&tt.next.i!==et.i&&qo(tt,tt.next,Ne,et))return!0;tt=tt.next}while(tt!==Ne);return!1}(Ne,et)&&(Go(Ne,et)&&Go(et,Ne)&&function(Ne,et){var tt=Ne,rt=!1,nt=(Ne.x+et.x)/2,it=(Ne.y+et.y)/2;do{tt.y>it!=tt.next.y>it&&tt.next.y!==tt.y&&nt<(tt.next.x-tt.x)*(it-tt.y)/(tt.next.y-tt.y)+tt.x&&(rt=!rt),tt=tt.next}while(tt!==Ne);return rt}(Ne,et)&&(Uo(Ne.prev,Ne,et.prev)||Uo(Ne,et.prev,et))||jo(Ne,et)&&Uo(Ne.prev,Ne,Ne.next)>0&&Uo(et.prev,et,et.next)>0)}function Uo(Ne,et,tt){return(et.y-Ne.y)*(tt.x-et.x)-(et.x-Ne.x)*(tt.y-et.y)}function jo(Ne,et){return Ne.x===et.x&&Ne.y===et.y}function qo(Ne,et,tt,rt){var nt=Ko(Uo(Ne,et,tt)),it=Ko(Uo(Ne,et,rt)),ot=Ko(Uo(tt,rt,Ne)),at=Ko(Uo(tt,rt,et));return nt!==it&&ot!==at||!(0!==nt||!No(Ne,tt,et))||!(0!==it||!No(Ne,rt,et))||!(0!==ot||!No(tt,Ne,rt))||!(0!==at||!No(tt,et,rt))}function No(Ne,et,tt){return et.x<=Math.max(Ne.x,tt.x)&&et.x>=Math.min(Ne.x,tt.x)&&et.y<=Math.max(Ne.y,tt.y)&&et.y>=Math.min(Ne.y,tt.y)}function Ko(Ne){return Ne>0?1:Ne<0?-1:0}function Go(Ne,et){return Uo(Ne.prev,Ne,Ne.next)<0?Uo(Ne,et,Ne.next)>=0&&Uo(Ne,Ne.prev,et)>=0:Uo(Ne,et,Ne.prev)<0||Uo(Ne,Ne.next,et)<0}function Zo(Ne,et){var tt=new Ho(Ne.i,Ne.x,Ne.y),rt=new Ho(et.i,et.x,et.y),nt=Ne.next,it=et.prev;return Ne.next=et,et.prev=Ne,tt.next=nt,nt.prev=tt,rt.next=tt,tt.prev=rt,it.next=rt,rt.prev=it,rt}function Xo(Ne,et,tt,rt){var nt=new Ho(Ne,et,tt);return rt?(nt.next=rt.next,nt.prev=rt,rt.next.prev=nt,rt.next=nt):(nt.prev=nt,nt.next=nt),nt}function Jo(Ne){Ne.next.prev=Ne.prev,Ne.prev.next=Ne.next,Ne.prevZ&&(Ne.prevZ.nextZ=Ne.nextZ),Ne.nextZ&&(Ne.nextZ.prevZ=Ne.prevZ)}function Ho(Ne,et,tt){this.i=Ne,this.x=et,this.y=tt,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Yo(Ne,et,tt,rt){for(var nt=0,it=et,ot=tt-rt;it<tt;it+=rt)nt+=(Ne[ot]-Ne[it])*(Ne[it+1]+Ne[ot+1]),ot=it;return nt}function $o(Ne,et,tt,rt,nt){!function t(Ne,et,tt,rt,nt){for(;rt>tt;){if(rt-tt>600){var it=rt-tt+1,ot=et-tt+1,at=Math.log(it),st=.5*Math.exp(2*at/3),ct=.5*Math.sqrt(at*st*(it-st)/it)*(ot-it/2<0?-1:1);t(Ne,et,Math.max(tt,Math.floor(et-ot*st/it+ct)),Math.min(rt,Math.floor(et+(it-ot)*st/it+ct)),nt)}var pt=Ne[et],ft=tt,dt=rt;for(Wo(Ne,tt,et),nt(Ne[rt],pt)>0&&Wo(Ne,tt,rt);ft<dt;){for(Wo(Ne,ft,dt),ft++,dt--;nt(Ne[ft],pt)<0;)ft++;for(;nt(Ne[dt],pt)>0;)dt--}0===nt(Ne[tt],pt)?Wo(Ne,tt,dt):Wo(Ne,++dt,rt),dt<=et&&(tt=dt+1),et<=dt&&(rt=dt-1)}}(Ne,et,tt||0,rt||Ne.length-1,nt||Qo)}function Wo(Ne,et,tt){var rt=Ne[et];Ne[et]=Ne[tt],Ne[tt]=rt}function Qo(Ne,et){return Ne<et?-1:Ne>et?1:0}function ts(Ne,et){var tt=Ne.length;if(tt<=1)return[Ne];for(var rt,nt,it=[],ot=0;ot<tt;ot++){var at=S(Ne[ot]);0!==at&&(Ne[ot].area=Math.abs(at),void 0===nt&&(nt=at<0),nt===at<0?(rt&&it.push(rt),rt=[Ne[ot]]):rt.push(Ne[ot]))}if(rt&&it.push(rt),et>1)for(var st=0;st<it.length;st++)it[st].length<=et||($o(it[st],et,1,it[st].length-1,es),it[st]=it[st].slice(0,et));return it}function es(Ne,et){return et.area-Ne.area}function rs(Ne,et,tt){for(var rt=tt.patternDependencies,nt=!1,it=0,ot=et;it<ot.length;it+=1){var at=ot[it].paint.get(Ne+"-pattern");at.isConstant()||(nt=!0);var st=at.constantOr(null);st&&(nt=!0,rt[st.to]=!0,rt[st.from]=!0)}return nt}function ns(Ne,et,tt,rt,nt){for(var it=nt.patternDependencies,ot=0,at=et;ot<at.length;ot+=1){var st=at[ot],ct=st.paint.get(Ne+"-pattern").value;if("constant"!==ct.kind){var pt=ct.evaluate({zoom:rt-1},tt,{},nt.availableImages),ft=ct.evaluate({zoom:rt},tt,{},nt.availableImages),dt=ct.evaluate({zoom:rt+1},tt,{},nt.availableImages);ft=ft&&ft.name?ft.name:ft,dt=dt&&dt.name?dt.name:dt,it[pt=pt&&pt.name?pt.name:pt]=!0,it[ft]=!0,it[dt]=!0,tt.patterns[st.id]={min:pt,mid:ft,max:dt}}}return tt}ko.deviation=function(Ne,et,tt,rt){var nt=et&&et.length,it=Math.abs(Yo(Ne,0,nt?et[0]*tt:Ne.length,tt));if(nt)for(var ot=0,at=et.length;ot<at;ot++)it-=Math.abs(Yo(Ne,et[ot]*tt,ot<at-1?et[ot+1]*tt:Ne.length,tt));var st=0;for(ot=0;ot<rt.length;ot+=3){var ct=rt[ot]*tt,pt=rt[ot+1]*tt,ft=rt[ot+2]*tt;st+=Math.abs((Ne[ct]-Ne[ft])*(Ne[pt+1]-Ne[ct+1])-(Ne[ct]-Ne[pt])*(Ne[ft+1]-Ne[ct+1]))}return 0===it&&0===st?0:Math.abs((st-it)/it)},ko.flatten=function(Ne){for(var et=Ne[0][0].length,tt={vertices:[],holes:[],dimensions:et},rt=0,nt=0;nt<Ne.length;nt++){for(var it=0;it<Ne[nt].length;it++)for(var ot=0;ot<et;ot++)tt.vertices.push(Ne[nt][it][ot]);nt>0&&tt.holes.push(rt+=Ne[nt-1].length)}return tt},Tp.default=Cp;var is=function(Ne){this.zoom=Ne.zoom,this.overscaling=Ne.overscaling,this.layers=Ne.layers,this.layerIds=this.layers.map((function(Ne){return Ne.id})),this.index=Ne.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new xl,this.indexArray=new _u,this.indexArray2=new yc,this.programConfigurations=new Pa(Ne.layers,Ne.zoom),this.segments=new aa,this.segments2=new aa,this.stateDependentLayerIds=this.layers.filter((function(Ne){return Ne.isStateDependent()})).map((function(Ne){return Ne.id}))};is.prototype.populate=function(Ne,et,tt){this.hasPattern=rs("fill",this.layers,et);for(var rt=this.layers[0].layout.get("fill-sort-key"),nt=[],it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it],st=at.feature,ct=at.id,pt=at.index,ft=at.sourceLayerIndex,dt=this.layers[0]._featureFilter.needGeometry,mt={type:st.type,id:ct,properties:st.properties,geometry:dt?La(st):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),mt,tt)){dt||(mt.geometry=La(st));var yt=rt?rt.evaluate(mt,{},tt,et.availableImages):void 0;nt.push({id:ct,properties:st.properties,type:st.type,sourceLayerIndex:ft,index:pt,geometry:mt.geometry,patterns:{},sortKey:yt})}}rt&&nt.sort((function(Ne,et){return Ne.sortKey-et.sortKey}));for(var vt=0,Rt=nt;vt<Rt.length;vt+=1){var Dt=Rt[vt],Ot=Dt.geometry,Bt=Dt.index,er=Dt.sourceLayerIndex;if(this.hasPattern){var rr=ns("fill",this.layers,Dt,this.zoom,et);this.patternFeatures.push(rr)}else this.addFeature(Dt,Ot,Bt,tt,{});et.featureIndex.insert(Ne[Bt].feature,Ot,Bt,er,this.index)}},is.prototype.update=function(Ne,et,tt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ne,et,this.stateDependentLayers,tt)},is.prototype.addFeatures=function(Ne,et,tt){for(var rt=0,nt=this.patternFeatures;rt<nt.length;rt+=1){var it=nt[rt];this.addFeature(it,it.geometry,it.index,et,tt)}},is.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},is.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},is.prototype.upload=function(Ne){this.uploaded||(this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,Ep),this.indexBuffer=Ne.createIndexBuffer(this.indexArray),this.indexBuffer2=Ne.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(Ne),this.uploaded=!0},is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},is.prototype.addFeature=function(Ne,et,tt,rt,nt){for(var it=0,ot=ts(et,500);it<ot.length;it+=1){for(var at=ot[it],st=0,ct=0,pt=at;ct<pt.length;ct+=1)st+=pt[ct].length;for(var ft=this.segments.prepareSegment(st,this.layoutVertexArray,this.indexArray),dt=ft.vertexLength,mt=[],yt=[],vt=0,Rt=at;vt<Rt.length;vt+=1){var Dt=Rt[vt];if(0!==Dt.length){Dt!==at[0]&&yt.push(mt.length/2);var Ot=this.segments2.prepareSegment(Dt.length,this.layoutVertexArray,this.indexArray2),Bt=Ot.vertexLength;this.layoutVertexArray.emplaceBack(Dt[0].x,Dt[0].y),this.indexArray2.emplaceBack(Bt+Dt.length-1,Bt),mt.push(Dt[0].x),mt.push(Dt[0].y);for(var er=1;er<Dt.length;er++)this.layoutVertexArray.emplaceBack(Dt[er].x,Dt[er].y),this.indexArray2.emplaceBack(Bt+er-1,Bt+er),mt.push(Dt[er].x),mt.push(Dt[er].y);Ot.vertexLength+=Dt.length,Ot.primitiveLength+=Dt.length}}for(var rr=Tp(mt,yt),vr=0;vr<rr.length;vr+=3)this.indexArray.emplaceBack(dt+rr[vr],dt+rr[vr+1],dt+rr[vr+2]);ft.vertexLength+=st,ft.primitiveLength+=rr.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,Ne,tt,nt,rt)},Dn("FillBucket",is,{omit:["layers","patternFeatures"]});var Pp=new xi({"fill-sort-key":new di(Yn.layout_fill["fill-sort-key"])}),Ip={paint:new xi({"fill-antialias":new yi(Yn.paint_fill["fill-antialias"]),"fill-opacity":new di(Yn.paint_fill["fill-opacity"]),"fill-color":new di(Yn.paint_fill["fill-color"]),"fill-outline-color":new di(Yn.paint_fill["fill-outline-color"]),"fill-translate":new yi(Yn.paint_fill["fill-translate"]),"fill-translate-anchor":new yi(Yn.paint_fill["fill-translate-anchor"]),"fill-pattern":new vl(Yn.paint_fill["fill-pattern"])}),layout:Pp},Ap=function(Ne){function e(et){Ne.call(this,et,Ip)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.recalculate=function(et,tt){Ne.prototype.recalculate.call(this,et,tt);var rt=this.paint._values["fill-outline-color"];"constant"===rt.value.kind&&void 0===rt.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(Ne){return new is(Ne)},e.prototype.queryRadius=function(){return Wa(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(Ne,et,tt,rt,nt,it,ot){return qa(Qa(Ne,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),it.angle,ot),rt)},e.prototype.isTileClipped=function(){return!0},e}(_l),Rp=Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Mp=ps;function ps(Ne,et,tt,rt,nt){this.properties={},this.extent=tt,this.type=0,this._pbf=Ne,this._geometry=-1,this._keys=rt,this._values=nt,Ne.readFields(cs,this,et)}function cs(Ne,et,tt){1==Ne?et.id=tt.readVarint():2==Ne?function(Ne,et){for(var tt=Ne.readVarint()+Ne.pos;Ne.pos<tt;){var rt=et._keys[Ne.readVarint()],nt=et._values[Ne.readVarint()];et.properties[rt]=nt}}(tt,et):3==Ne?et.type=tt.readVarint():4==Ne&&(et._geometry=tt.pos)}function hs(Ne){for(var et,tt,rt=0,nt=0,it=Ne.length,ot=it-1;nt<it;ot=nt++)rt+=((tt=Ne[ot]).x-(et=Ne[nt]).x)*(et.y+tt.y);return rt}ps.types=["Unknown","Point","LineString","Polygon"],ps.prototype.loadGeometry=function(){var Ne=this._pbf;Ne.pos=this._geometry;for(var et,rt=Ne.readVarint()+Ne.pos,nt=1,it=0,ot=0,at=0,st=[];Ne.pos<rt;){if(it<=0){var ct=Ne.readVarint();nt=7&ct,it=ct>>3}if(it--,1===nt||2===nt)ot+=Ne.readSVarint(),at+=Ne.readSVarint(),1===nt&&(et&&st.push(et),et=[]),et.push(new tt(ot,at));else{if(7!==nt)throw new Error("unknown command "+nt);et&&et.push(et[0].clone())}}return et&&st.push(et),st},ps.prototype.bbox=function(){var Ne=this._pbf;Ne.pos=this._geometry;for(var et=Ne.readVarint()+Ne.pos,tt=1,rt=0,nt=0,it=0,ot=1/0,at=-1/0,st=1/0,ct=-1/0;Ne.pos<et;){if(rt<=0){var pt=Ne.readVarint();tt=7&pt,rt=pt>>3}if(rt--,1===tt||2===tt)(nt+=Ne.readSVarint())<ot&&(ot=nt),nt>at&&(at=nt),(it+=Ne.readSVarint())<st&&(st=it),it>ct&&(ct=it);else if(7!==tt)throw new Error("unknown command "+tt)}return[ot,st,at,ct]},ps.prototype.toGeoJSON=function(Ne,et,tt){var rt,nt,it=this.extent*Math.pow(2,tt),ot=this.extent*Ne,at=this.extent*et,st=this.loadGeometry(),ct=ps.types[this.type];function p(Ne){for(var et=0;et<Ne.length;et++){var tt=Ne[et];Ne[et]=[360*(tt.x+ot)/it-180,360/Math.PI*Math.atan(Math.exp((180-360*(tt.y+at)/it)*Math.PI/180))-90]}}switch(this.type){case 1:var pt=[];for(rt=0;rt<st.length;rt++)pt[rt]=st[rt][0];p(st=pt);break;case 2:for(rt=0;rt<st.length;rt++)p(st[rt]);break;case 3:for(st=function(Ne){var et=Ne.length;if(et<=1)return[Ne];for(var tt,rt,nt=[],it=0;it<et;it++){var ot=hs(Ne[it]);0!==ot&&(void 0===rt&&(rt=ot<0),rt===ot<0?(tt&&nt.push(tt),tt=[Ne[it]]):tt.push(Ne[it]))}return tt&&nt.push(tt),nt}(st),rt=0;rt<st.length;rt++)for(nt=0;nt<st[rt].length;nt++)p(st[rt][nt])}1===st.length?st=st[0]:ct="Multi"+ct;var ft={type:"Feature",geometry:{type:ct,coordinates:st},properties:this.properties};return"id"in this&&(ft.id=this.id),ft};var zp=ys;function ys(Ne,et){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=Ne,this._keys=[],this._values=[],this._features=[],Ne.readFields(ds,this,et),this.length=this._features.length}function ds(Ne,et,tt){15===Ne?et.version=tt.readVarint():1===Ne?et.name=tt.readString():5===Ne?et.extent=tt.readVarint():2===Ne?et._features.push(tt.pos):3===Ne?et._keys.push(tt.readString()):4===Ne&&et._values.push(function(Ne){for(var et=null,tt=Ne.readVarint()+Ne.pos;Ne.pos<tt;){var rt=Ne.readVarint()>>3;et=1===rt?Ne.readString():2===rt?Ne.readFloat():3===rt?Ne.readDouble():4===rt?Ne.readVarint64():5===rt?Ne.readVarint():6===rt?Ne.readSVarint():7===rt?Ne.readBoolean():null}return et}(tt))}function ms(Ne,et,tt){if(3===Ne){var rt=new zp(tt,tt.readVarint()+tt.pos);rt.length&&(et[rt.name]=rt)}}ys.prototype.feature=function(Ne){if(Ne<0||Ne>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[Ne];var et=this._pbf.readVarint()+this._pbf.pos;return new Mp(this._pbf,et,this.extent,this._keys,this._values)};var Lp={VectorTile:function(Ne,et){this.layers=Ne.readFields(ms,{},et)},VectorTileFeature:Mp,VectorTileLayer:zp},Dp=Lp.VectorTileFeature.types,Op=Math.pow(2,13);function bs(Ne,et,tt,rt,nt,it,ot,at){Ne.emplaceBack(et,tt,2*Math.floor(rt*Op)+ot,nt*Op*2,it*Op*2,Math.round(at))}var ws=function(Ne){this.zoom=Ne.zoom,this.overscaling=Ne.overscaling,this.layers=Ne.layers,this.layerIds=this.layers.map((function(Ne){return Ne.id})),this.index=Ne.index,this.hasPattern=!1,this.layoutVertexArray=new kl,this.indexArray=new _u,this.programConfigurations=new Pa(Ne.layers,Ne.zoom),this.segments=new aa,this.stateDependentLayerIds=this.layers.filter((function(Ne){return Ne.isStateDependent()})).map((function(Ne){return Ne.id}))};function _s(Ne,et){return Ne.x===et.x&&(Ne.x<0||Ne.x>8192)||Ne.y===et.y&&(Ne.y<0||Ne.y>8192)}ws.prototype.populate=function(Ne,et,tt){this.features=[],this.hasPattern=rs("fill-extrusion",this.layers,et);for(var rt=0,nt=Ne;rt<nt.length;rt+=1){var it=nt[rt],ot=it.feature,at=it.id,st=it.index,ct=it.sourceLayerIndex,pt=this.layers[0]._featureFilter.needGeometry,ft={type:ot.type,id:at,properties:ot.properties,geometry:pt?La(ot):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),ft,tt)){var dt={id:at,sourceLayerIndex:ct,index:st,geometry:pt?ft.geometry:La(ot),properties:ot.properties,type:ot.type,patterns:{}};void 0!==ot.id&&(dt.id=ot.id),this.hasPattern?this.features.push(ns("fill-extrusion",this.layers,dt,this.zoom,et)):this.addFeature(dt,dt.geometry,st,tt,{}),et.featureIndex.insert(ot,dt.geometry,st,ct,this.index,!0)}}},ws.prototype.addFeatures=function(Ne,et,tt){for(var rt=0,nt=this.features;rt<nt.length;rt+=1){var it=nt[rt];this.addFeature(it,it.geometry,it.index,et,tt)}},ws.prototype.update=function(Ne,et,tt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ne,et,this.stateDependentLayers,tt)},ws.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ws.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ws.prototype.upload=function(Ne){this.uploaded||(this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,Rp),this.indexBuffer=Ne.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(Ne),this.uploaded=!0},ws.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ws.prototype.addFeature=function(Ne,et,tt,rt,nt){for(var it=0,ot=ts(et,500);it<ot.length;it+=1){for(var at=ot[it],st=0,ct=0,pt=at;ct<pt.length;ct+=1)st+=pt[ct].length;for(var ft=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),dt=0,mt=at;dt<mt.length;dt+=1){var yt=mt[dt];if(0!==yt.length&&!((zn=yt).every((function(Ne){return Ne.x<0}))||zn.every((function(Ne){return Ne.x>8192}))||zn.every((function(Ne){return Ne.y<0}))||zn.every((function(Ne){return Ne.y>8192}))))for(var vt=0,Rt=0;Rt<yt.length;Rt++){var Dt=yt[Rt];if(Rt>=1){var Ot=yt[Rt-1];if(!_s(Dt,Ot)){ft.vertexLength+4>aa.MAX_VERTEX_ARRAY_LENGTH&&(ft=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Bt=Dt.sub(Ot)._perp()._unit(),er=Ot.dist(Dt);vt+er>32768&&(vt=0),bs(this.layoutVertexArray,Dt.x,Dt.y,Bt.x,Bt.y,0,0,vt),bs(this.layoutVertexArray,Dt.x,Dt.y,Bt.x,Bt.y,0,1,vt),bs(this.layoutVertexArray,Ot.x,Ot.y,Bt.x,Bt.y,0,0,vt+=er),bs(this.layoutVertexArray,Ot.x,Ot.y,Bt.x,Bt.y,0,1,vt);var rr=ft.vertexLength;this.indexArray.emplaceBack(rr,rr+2,rr+1),this.indexArray.emplaceBack(rr+1,rr+2,rr+3),ft.vertexLength+=4,ft.primitiveLength+=2}}}}if(ft.vertexLength+st>aa.MAX_VERTEX_ARRAY_LENGTH&&(ft=this.segments.prepareSegment(st,this.layoutVertexArray,this.indexArray)),"Polygon"===Dp[Ne.type]){for(var vr=[],wr=[],Sr=ft.vertexLength,rn=0,vn=at;rn<vn.length;rn+=1){var bn=vn[rn];if(0!==bn.length){bn!==at[0]&&wr.push(vr.length/2);for(var Tn=0;Tn<bn.length;Tn++){var Cn=bn[Tn];bs(this.layoutVertexArray,Cn.x,Cn.y,0,0,1,1,0),vr.push(Cn.x),vr.push(Cn.y)}}}for(var In=Tp(vr,wr),Mn=0;Mn<In.length;Mn+=3)this.indexArray.emplaceBack(Sr+In[Mn],Sr+In[Mn+2],Sr+In[Mn+1]);ft.primitiveLength+=In.length/3,ft.vertexLength+=st}}var zn;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,Ne,tt,nt,rt)},Dn("FillExtrusionBucket",ws,{omit:["layers","features"]});var Fp={paint:new xi({"fill-extrusion-opacity":new yi(Yn["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new di(Yn["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new yi(Yn["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new yi(Yn["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new vl(Yn["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new di(Yn["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new di(Yn["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new yi(Yn["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Bp=function(Ne){function e(et){Ne.call(this,et,Fp)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.createBucket=function(Ne){return new ws(Ne)},e.prototype.queryRadius=function(){return Wa(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(Ne,et,rt,nt,it,ot,at,st){var ct=Qa(Ne,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ot.angle,at),pt=this.paint.get("fill-extrusion-height").evaluate(et,rt),ft=this.paint.get("fill-extrusion-base").evaluate(et,rt),dt=function(Ne,et,rt,nt){for(var it=[],ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot],ct=[st.x,st.y,0,1];so(ct,ct,et),it.push(new tt(ct[0]/ct[3],ct[1]/ct[3]))}return it}(ct,st),mt=function(Ne,et,rt,nt){for(var it=[],ot=[],at=nt[8]*et,st=nt[9]*et,ct=nt[10]*et,pt=nt[11]*et,ft=nt[8]*rt,dt=nt[9]*rt,mt=nt[10]*rt,yt=nt[11]*rt,vt=0,Rt=Ne;vt<Rt.length;vt+=1){for(var Dt=[],Ot=[],Bt=0,er=Rt[vt];Bt<er.length;Bt+=1){var rr=er[Bt],vr=rr.x,wr=rr.y,Sr=nt[0]*vr+nt[4]*wr+nt[12],rn=nt[1]*vr+nt[5]*wr+nt[13],vn=nt[2]*vr+nt[6]*wr+nt[14],bn=nt[3]*vr+nt[7]*wr+nt[15],Tn=vn+ct,Cn=bn+pt,In=Sr+ft,Mn=rn+dt,zn=vn+mt,Ln=bn+yt,Fn=new tt((Sr+at)/Cn,(rn+st)/Cn);Fn.z=Tn/Cn,Dt.push(Fn);var Bn=new tt(In/Ln,Mn/Ln);Bn.z=zn/Ln,Ot.push(Bn)}it.push(Dt),ot.push(Ot)}return[it,ot]}(nt,ft,pt,st);return function(Ne,et,tt){var rt=1/0;qa(tt,et)&&(rt=Is(tt,et[0]));for(var nt=0;nt<et.length;nt++)for(var it=et[nt],ot=Ne[nt],at=0;at<it.length-1;at++){var st=it[at],ct=[st,it[at+1],ot[at+1],ot[at],st];Ua(tt,ct)&&(rt=Math.min(rt,Is(tt,ct)))}return rt!==1/0&&rt}(mt[0],mt[1],dt)},e}(_l);function ks(Ne,et){return Ne.x*et.x+Ne.y*et.y}function Is(Ne,et){if(1===Ne.length){for(var tt,rt=0,nt=et[rt++];!tt||nt.equals(tt);)if(!(tt=et[rt++]))return 1/0;for(;rt<et.length;rt++){var it=et[rt],ot=Ne[0],at=tt.sub(nt),st=it.sub(nt),ct=ot.sub(nt),pt=ks(at,at),ft=ks(at,st),dt=ks(st,st),mt=ks(ct,at),yt=ks(ct,st),vt=pt*dt-ft*ft,Rt=(dt*mt-ft*yt)/vt,Dt=(pt*yt-ft*mt)/vt,Ot=nt.z*(1-Rt-Dt)+tt.z*Rt+it.z*Dt;if(isFinite(Ot))return Ot}return 1/0}for(var Bt=1/0,er=0,rr=et;er<rr.length;er+=1)Bt=Math.min(Bt,rr[er].z);return Bt}var Np=Si([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Vp=Lp.VectorTileFeature.types,Up=Math.cos(Math.PI/180*37.5),jp=Math.pow(2,14)/.5,Ts=function(Ne){this.zoom=Ne.zoom,this.overscaling=Ne.overscaling,this.layers=Ne.layers,this.layerIds=this.layers.map((function(Ne){return Ne.id})),this.index=Ne.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Sl,this.indexArray=new _u,this.programConfigurations=new Pa(Ne.layers,Ne.zoom),this.segments=new aa,this.stateDependentLayerIds=this.layers.filter((function(Ne){return Ne.isStateDependent()})).map((function(Ne){return Ne.id}))};Ts.prototype.populate=function(Ne,et,tt){this.hasPattern=rs("line",this.layers,et);for(var rt=this.layers[0].layout.get("line-sort-key"),nt=[],it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it],st=at.feature,ct=at.id,pt=at.index,ft=at.sourceLayerIndex,dt=this.layers[0]._featureFilter.needGeometry,mt={type:st.type,id:ct,properties:st.properties,geometry:dt?La(st):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),mt,tt)){dt||(mt.geometry=La(st));var yt=rt?rt.evaluate(mt,{},tt):void 0;nt.push({id:ct,properties:st.properties,type:st.type,sourceLayerIndex:ft,index:pt,geometry:mt.geometry,patterns:{},sortKey:yt})}}rt&&nt.sort((function(Ne,et){return Ne.sortKey-et.sortKey}));for(var vt=0,Rt=nt;vt<Rt.length;vt+=1){var Dt=Rt[vt],Ot=Dt.geometry,Bt=Dt.index,er=Dt.sourceLayerIndex;if(this.hasPattern){var rr=ns("line",this.layers,Dt,this.zoom,et);this.patternFeatures.push(rr)}else this.addFeature(Dt,Ot,Bt,tt,{});et.featureIndex.insert(Ne[Bt].feature,Ot,Bt,er,this.index)}},Ts.prototype.update=function(Ne,et,tt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ne,et,this.stateDependentLayers,tt)},Ts.prototype.addFeatures=function(Ne,et,tt){for(var rt=0,nt=this.patternFeatures;rt<nt.length;rt+=1){var it=nt[rt];this.addFeature(it,it.geometry,it.index,et,tt)}},Ts.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ts.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ts.prototype.upload=function(Ne){this.uploaded||(this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,Np),this.indexBuffer=Ne.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(Ne),this.uploaded=!0},Ts.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ts.prototype.addFeature=function(Ne,et,tt,rt,nt){for(var it=this.layers[0].layout,ot=it.get("line-join").evaluate(Ne,{}),at=it.get("line-cap"),st=it.get("line-miter-limit"),ct=it.get("line-round-limit"),pt=0,ft=et;pt<ft.length;pt+=1)this.addLine(ft[pt],Ne,ot,at,st,ct);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,Ne,tt,nt,rt)},Ts.prototype.addLine=function(Ne,et,tt,rt,nt,it){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,et.properties&&et.properties.hasOwnProperty("mapbox_clip_start")&&et.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+et.properties.mapbox_clip_start,this.clipEnd=+et.properties.mapbox_clip_end;for(var ot=0;ot<Ne.length-1;ot++)this.totalDistance+=Ne[ot].dist(Ne[ot+1]);this.updateScaledDistance()}for(var at="Polygon"===Vp[et.type],st=Ne.length;st>=2&&Ne[st-1].equals(Ne[st-2]);)st--;for(var ct=0;ct<st-1&&Ne[ct].equals(Ne[ct+1]);)ct++;if(!(st<(at?3:2))){"bevel"===tt&&(nt=1.05);var pt,ft=this.overscaling<=16?122880/(512*this.overscaling):0,dt=this.segments.prepareSegment(10*st,this.layoutVertexArray,this.indexArray),mt=void 0,yt=void 0,vt=void 0,Rt=void 0;this.e1=this.e2=-1,at&&(Rt=Ne[ct].sub(pt=Ne[st-2])._unit()._perp());for(var Dt=ct;Dt<st;Dt++)if(!(yt=Dt===st-1?at?Ne[ct+1]:void 0:Ne[Dt+1])||!Ne[Dt].equals(yt)){Rt&&(vt=Rt),pt&&(mt=pt),pt=Ne[Dt],Rt=yt?yt.sub(pt)._unit()._perp():vt;var Ot=(vt=vt||Rt).add(Rt);0===Ot.x&&0===Ot.y||Ot._unit();var Bt=vt.x*Rt.x+vt.y*Rt.y,er=Ot.x*Rt.x+Ot.y*Rt.y,rr=0!==er?1/er:1/0,vr=2*Math.sqrt(2-2*er),wr=er<Up&&mt&&yt,Sr=vt.x*Rt.y-vt.y*Rt.x>0;if(wr&&Dt>ct){var rn=pt.dist(mt);if(rn>2*ft){var vn=pt.sub(pt.sub(mt)._mult(ft/rn)._round());this.updateDistance(mt,vn),this.addCurrentVertex(vn,vt,0,0,dt),mt=vn}}var bn=mt&&yt,Tn=bn?tt:at?"butt":rt;if(bn&&"round"===Tn&&(rr<it?Tn="miter":rr<=2&&(Tn="fakeround")),"miter"===Tn&&rr>nt&&(Tn="bevel"),"bevel"===Tn&&(rr>2&&(Tn="flipbevel"),rr<nt&&(Tn="miter")),mt&&this.updateDistance(mt,pt),"miter"===Tn)Ot._mult(rr),this.addCurrentVertex(pt,Ot,0,0,dt);else if("flipbevel"===Tn){if(rr>100)Ot=Rt.mult(-1);else{var Cn=rr*vt.add(Rt).mag()/vt.sub(Rt).mag();Ot._perp()._mult(Cn*(Sr?-1:1))}this.addCurrentVertex(pt,Ot,0,0,dt),this.addCurrentVertex(pt,Ot.mult(-1),0,0,dt)}else if("bevel"===Tn||"fakeround"===Tn){var In=-Math.sqrt(rr*rr-1),Mn=Sr?In:0,zn=Sr?0:In;if(mt&&this.addCurrentVertex(pt,vt,Mn,zn,dt),"fakeround"===Tn)for(var Ln=Math.round(180*vr/Math.PI/20),Fn=1;Fn<Ln;Fn++){var Bn=Fn/Ln;if(.5!==Bn){var Nn=Bn-.5;Bn+=Bn*Nn*(Bn-1)*((1.0904+Bt*(Bt*(3.55645-1.43519*Bt)-3.2452))*Nn*Nn+(.848013+Bt*(.215638*Bt-1.06021)))}var Vn=Rt.sub(vt)._mult(Bn)._add(vt)._unit()._mult(Sr?-1:1);this.addHalfVertex(pt,Vn.x,Vn.y,!1,Sr,0,dt)}yt&&this.addCurrentVertex(pt,Rt,-Mn,-zn,dt)}else if("butt"===Tn)this.addCurrentVertex(pt,Ot,0,0,dt);else if("square"===Tn){var Wn=mt?1:-1;this.addCurrentVertex(pt,Ot,Wn,Wn,dt)}else"round"===Tn&&(mt&&(this.addCurrentVertex(pt,vt,0,0,dt),this.addCurrentVertex(pt,vt,1,1,dt,!0)),yt&&(this.addCurrentVertex(pt,Rt,-1,-1,dt,!0),this.addCurrentVertex(pt,Rt,0,0,dt)));if(wr&&Dt<st-1){var $n=pt.dist(yt);if($n>2*ft){var Yn=pt.add(yt.sub(pt)._mult(ft/$n)._round());this.updateDistance(pt,Yn),this.addCurrentVertex(Yn,Rt,0,0,dt),pt=Yn}}}}},Ts.prototype.addCurrentVertex=function(Ne,et,tt,rt,nt,it){void 0===it&&(it=!1);var ot=et.y*rt-et.x,at=-et.y-et.x*rt;this.addHalfVertex(Ne,et.x+et.y*tt,et.y-et.x*tt,it,!1,tt,nt),this.addHalfVertex(Ne,ot,at,it,!0,-rt,nt),this.distance>jp/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(Ne,et,tt,rt,nt,it))},Ts.prototype.addHalfVertex=function(Ne,et,tt,rt,nt,it,ot){var at=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((Ne.x<<1)+(rt?1:0),(Ne.y<<1)+(nt?1:0),Math.round(63*et)+128,Math.round(63*tt)+128,1+(0===it?0:it<0?-1:1)|(63&at)<<2,at>>6);var st=ot.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,st),ot.primitiveLength++),nt?this.e2=st:this.e1=st},Ts.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(jp-1):this.distance},Ts.prototype.updateDistance=function(Ne,et){this.distance+=Ne.dist(et),this.updateScaledDistance()},Dn("LineBucket",Ts,{omit:["layers","patternFeatures"]});var Zp=new xi({"line-cap":new yi(Yn.layout_line["line-cap"]),"line-join":new di(Yn.layout_line["line-join"]),"line-miter-limit":new yi(Yn.layout_line["line-miter-limit"]),"line-round-limit":new yi(Yn.layout_line["line-round-limit"]),"line-sort-key":new di(Yn.layout_line["line-sort-key"])}),qp={paint:new xi({"line-opacity":new di(Yn.paint_line["line-opacity"]),"line-color":new di(Yn.paint_line["line-color"]),"line-translate":new yi(Yn.paint_line["line-translate"]),"line-translate-anchor":new yi(Yn.paint_line["line-translate-anchor"]),"line-width":new di(Yn.paint_line["line-width"]),"line-gap-width":new di(Yn.paint_line["line-gap-width"]),"line-offset":new di(Yn.paint_line["line-offset"]),"line-blur":new di(Yn.paint_line["line-blur"]),"line-dasharray":new vi(Yn.paint_line["line-dasharray"]),"line-pattern":new vl(Yn.paint_line["line-pattern"]),"line-gradient":new gi(Yn.paint_line["line-gradient"])}),layout:Zp},Wp=new(function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(et,tt){return tt=new ai(Math.floor(tt.zoom),{now:tt.now,fadeDuration:tt.fadeDuration,zoomHistory:tt.zoomHistory,transition:tt.transition}),Ne.prototype.possiblyEvaluate.call(this,et,tt)},e.prototype.evaluate=function(et,tt,rt,nt){return tt=c({},tt,{zoom:Math.floor(tt.zoom)}),Ne.prototype.evaluate.call(this,et,tt,rt,nt)},e}(di))(qp.paint.properties["line-width"].specification);Wp.useIntegerZoom=!0;var Gp=function(Ne){function e(et){Ne.call(this,et,qp)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(Ne){"line-gradient"===Ne&&this._updateGradient()},e.prototype._updateGradient=function(){this.gradient=go(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(et,tt){Ne.prototype.recalculate.call(this,et,tt),this.paint._values["line-floorwidth"]=Wp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,et)},e.prototype.createBucket=function(Ne){return new Ts(Ne)},e.prototype.queryRadius=function(Ne){var et=Ne,tt=Ds($a("line-width",this,et),$a("line-gap-width",this,et)),rt=$a("line-offset",this,et);return tt/2+Math.abs(rt)+Wa(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(Ne,et,rt,nt,it,ot,at){var st=Qa(Ne,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ot.angle,at),ct=at/2*Ds(this.paint.get("line-width").evaluate(et,rt),this.paint.get("line-gap-width").evaluate(et,rt)),pt=this.paint.get("line-offset").evaluate(et,rt);return pt&&(nt=function(Ne,et){for(var rt=[],nt=new tt(0,0),it=0;it<Ne.length;it++){for(var ot=Ne[it],at=[],st=0;st<ot.length;st++){var ct=ot[st],pt=ot[st+1],ft=0===st?nt:ct.sub(ot[st-1])._unit()._perp(),dt=st===ot.length-1?nt:pt.sub(ct)._unit()._perp(),mt=ft._add(dt)._unit();mt._mult(1/(mt.x*dt.x+mt.y*dt.y)),at.push(mt._mult(et)._add(ct))}rt.push(at)}return rt}(nt,pt*at)),function(Ne,et,tt){for(var rt=0;rt<et.length;rt++){var nt=et[rt];if(Ne.length>=3)for(var it=0;it<nt.length;it++)if(Ha(Ne,nt[it]))return!0;if(Na(Ne,nt,tt))return!0}return!1}(st,nt,ct)},e.prototype.isTileClipped=function(){return!0},e}(_l);function Ds(Ne,et){return et>0?et+2*Ne:Ne}var $p=Si([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Hp=Si([{name:"a_projected_pos",components:3,type:"Float32"}],4),Xp=(Si([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Si([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Kp=(Si([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Yp=Si([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qs(Ne,et,tt){return Ne.sections.forEach((function(Ne){Ne.text=function(Ne,et,tt){var rt=et.layout.get("text-transform").evaluate(tt,{});return"uppercase"===rt?Ne=Ne.toLocaleUpperCase():"lowercase"===rt&&(Ne=Ne.toLocaleLowerCase()),yl.applyArabicShaping&&(Ne=yl.applyArabicShaping(Ne)),Ne}(Ne.text,et,tt)})),Ne}Si([{name:"triangle",components:3,type:"Uint16"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Si([{type:"Float32",name:"offsetX"}]),Si([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Jp={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},Ks=function(Ne,et,tt,rt,nt){var it,ot,at=8*nt-rt-1,st=(1<<at)-1,ct=st>>1,pt=-7,ft=tt?nt-1:0,dt=tt?-1:1,mt=Ne[et+ft];for(ft+=dt,it=mt&(1<<-pt)-1,mt>>=-pt,pt+=at;pt>0;it=256*it+Ne[et+ft],ft+=dt,pt-=8);for(ot=it&(1<<-pt)-1,it>>=-pt,pt+=rt;pt>0;ot=256*ot+Ne[et+ft],ft+=dt,pt-=8);if(0===it)it=1-ct;else{if(it===st)return ot?NaN:1/0*(mt?-1:1);ot+=Math.pow(2,rt),it-=ct}return(mt?-1:1)*ot*Math.pow(2,it-rt)},Gs=function(Ne,et,tt,rt,nt,it){var ot,at,st,ct=8*it-nt-1,pt=(1<<ct)-1,ft=pt>>1,dt=23===nt?Math.pow(2,-24)-Math.pow(2,-77):0,mt=rt?0:it-1,yt=rt?1:-1,vt=et<0||0===et&&1/et<0?1:0;for(et=Math.abs(et),isNaN(et)||et===1/0?(at=isNaN(et)?1:0,ot=pt):(ot=Math.floor(Math.log(et)/Math.LN2),et*(st=Math.pow(2,-ot))<1&&(ot--,st*=2),(et+=ot+ft>=1?dt/st:dt*Math.pow(2,1-ft))*st>=2&&(ot++,st/=2),ot+ft>=pt?(at=0,ot=pt):ot+ft>=1?(at=(et*st-1)*Math.pow(2,nt),ot+=ft):(at=et*Math.pow(2,ft-1)*Math.pow(2,nt),ot=0));nt>=8;Ne[tt+mt]=255&at,mt+=yt,at/=256,nt-=8);for(ot=ot<<nt|at,ct+=nt;ct>0;Ne[tt+mt]=255&ot,mt+=yt,ot/=256,ct-=8);Ne[tt+mt-yt]|=128*vt},Qp=Xs;function Xs(Ne){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(Ne)?Ne:new Uint8Array(Ne||0),this.pos=0,this.type=0,this.length=this.buf.length}Xs.Varint=0,Xs.Fixed64=1,Xs.Bytes=2,Xs.Fixed32=5;var rh="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Hs(Ne){return Ne.type===Xs.Bytes?Ne.readVarint()+Ne.pos:Ne.pos+1}function Ys(Ne,et,tt){return tt?4294967296*et+(Ne>>>0):4294967296*(et>>>0)+(Ne>>>0)}function $s(Ne,et,tt){var rt=et<=16383?1:et<=2097151?2:et<=268435455?3:Math.floor(Math.log(et)/(7*Math.LN2));tt.realloc(rt);for(var nt=tt.pos-1;nt>=Ne;nt--)tt.buf[nt+rt]=tt.buf[nt]}function Ws(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeVarint(Ne[tt])}function Qs(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeSVarint(Ne[tt])}function tu(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeFloat(Ne[tt])}function eu(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeDouble(Ne[tt])}function ru(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeBoolean(Ne[tt])}function nu(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeFixed32(Ne[tt])}function iu(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeSFixed32(Ne[tt])}function au(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeFixed64(Ne[tt])}function ou(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeSFixed64(Ne[tt])}function su(Ne,et){return(Ne[et]|Ne[et+1]<<8|Ne[et+2]<<16)+16777216*Ne[et+3]}function uu(Ne,et,tt){Ne[tt]=et,Ne[tt+1]=et>>>8,Ne[tt+2]=et>>>16,Ne[tt+3]=et>>>24}function lu(Ne,et){return(Ne[et]|Ne[et+1]<<8|Ne[et+2]<<16)+(Ne[et+3]<<24)}function pu(Ne,et,tt){1===Ne&&tt.readMessage(cu,et)}function cu(Ne,et,tt){if(3===Ne){var rt=tt.readMessage(hu,{}),nt=rt.width,it=rt.height,ot=rt.left,at=rt.top,st=rt.advance;et.push({id:rt.id,bitmap:new yo({width:nt+6,height:it+6},rt.bitmap),metrics:{width:nt,height:it,left:ot,top:at,advance:st}})}}function hu(Ne,et,tt){1===Ne?et.id=tt.readVarint():2===Ne?et.bitmap=tt.readBytes():3===Ne?et.width=tt.readVarint():4===Ne?et.height=tt.readVarint():5===Ne?et.left=tt.readSVarint():6===Ne?et.top=tt.readSVarint():7===Ne&&(et.advance=tt.readVarint())}function fu(Ne){for(var et=0,tt=0,rt=0,nt=Ne;rt<nt.length;rt+=1){var it=nt[rt];et+=it.w*it.h,tt=Math.max(tt,it.w)}Ne.sort((function(Ne,et){return et.h-Ne.h}));for(var ot=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(et/.95)),tt),h:1/0}],at=0,st=0,ct=0,pt=Ne;ct<pt.length;ct+=1)for(var ft=pt[ct],dt=ot.length-1;dt>=0;dt--){var mt=ot[dt];if(!(ft.w>mt.w||ft.h>mt.h)){if(ft.x=mt.x,ft.y=mt.y,st=Math.max(st,ft.y+ft.h),at=Math.max(at,ft.x+ft.w),ft.w===mt.w&&ft.h===mt.h){var yt=ot.pop();dt<ot.length&&(ot[dt]=yt)}else ft.h===mt.h?(mt.x+=ft.w,mt.w-=ft.w):ft.w===mt.w?(mt.y+=ft.h,mt.h-=ft.h):(ot.push({x:mt.x+ft.w,y:mt.y,w:mt.w-ft.w,h:ft.h}),mt.y+=ft.h,mt.h-=ft.h);break}}return{w:at,h:st,fill:et/(at*st)||0}}Xs.prototype={destroy:function(){this.buf=null},readFields:function(Ne,et,tt){for(tt=tt||this.length;this.pos<tt;){var rt=this.readVarint(),nt=rt>>3,it=this.pos;this.type=7&rt,Ne(nt,et,this),this.pos===it&&this.skip(rt)}return et},readMessage:function(Ne,et){return this.readFields(Ne,et,this.readVarint()+this.pos)},readFixed32:function(){var Ne=su(this.buf,this.pos);return this.pos+=4,Ne},readSFixed32:function(){var Ne=lu(this.buf,this.pos);return this.pos+=4,Ne},readFixed64:function(){var Ne=su(this.buf,this.pos)+4294967296*su(this.buf,this.pos+4);return this.pos+=8,Ne},readSFixed64:function(){var Ne=su(this.buf,this.pos)+4294967296*lu(this.buf,this.pos+4);return this.pos+=8,Ne},readFloat:function(){var Ne=Ks(this.buf,this.pos,!0,23,4);return this.pos+=4,Ne},readDouble:function(){var Ne=Ks(this.buf,this.pos,!0,52,8);return this.pos+=8,Ne},readVarint:function(Ne){var et,tt,rt=this.buf;return et=127&(tt=rt[this.pos++]),tt<128?et:(et|=(127&(tt=rt[this.pos++]))<<7,tt<128?et:(et|=(127&(tt=rt[this.pos++]))<<14,tt<128?et:(et|=(127&(tt=rt[this.pos++]))<<21,tt<128?et:function(Ne,et,tt){var rt,nt,it=tt.buf;if(rt=(112&(nt=it[tt.pos++]))>>4,nt<128)return Ys(Ne,rt,et);if(rt|=(127&(nt=it[tt.pos++]))<<3,nt<128)return Ys(Ne,rt,et);if(rt|=(127&(nt=it[tt.pos++]))<<10,nt<128)return Ys(Ne,rt,et);if(rt|=(127&(nt=it[tt.pos++]))<<17,nt<128)return Ys(Ne,rt,et);if(rt|=(127&(nt=it[tt.pos++]))<<24,nt<128)return Ys(Ne,rt,et);if(rt|=(1&(nt=it[tt.pos++]))<<31,nt<128)return Ys(Ne,rt,et);throw new Error("Expected varint not more than 10 bytes")}(et|=(15&(tt=rt[this.pos]))<<28,Ne,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var Ne=this.readVarint();return Ne%2==1?(Ne+1)/-2:Ne/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var Ne=this.readVarint()+this.pos,et=this.pos;return this.pos=Ne,Ne-et>=12&&rh?function(Ne,et,tt){return rh.decode(Ne.subarray(et,tt))}(this.buf,et,Ne):function(Ne,et,tt){for(var rt="",nt=et;nt<tt;){var it,ot,at,st=Ne[nt],ct=null,pt=st>239?4:st>223?3:st>191?2:1;if(nt+pt>tt)break;1===pt?st<128&&(ct=st):2===pt?128==(192&(it=Ne[nt+1]))&&(ct=(31&st)<<6|63&it)<=127&&(ct=null):3===pt?(ot=Ne[nt+2],128==(192&(it=Ne[nt+1]))&&128==(192&ot)&&((ct=(15&st)<<12|(63&it)<<6|63&ot)<=2047||ct>=55296&&ct<=57343)&&(ct=null)):4===pt&&(ot=Ne[nt+2],at=Ne[nt+3],128==(192&(it=Ne[nt+1]))&&128==(192&ot)&&128==(192&at)&&((ct=(15&st)<<18|(63&it)<<12|(63&ot)<<6|63&at)<=65535||ct>=1114112)&&(ct=null)),null===ct?(ct=65533,pt=1):ct>65535&&(ct-=65536,rt+=String.fromCharCode(ct>>>10&1023|55296),ct=56320|1023&ct),rt+=String.fromCharCode(ct),nt+=pt}return rt}(this.buf,et,Ne)},readBytes:function(){var Ne=this.readVarint()+this.pos,et=this.buf.subarray(this.pos,Ne);return this.pos=Ne,et},readPackedVarint:function(Ne,et){if(this.type!==Xs.Bytes)return Ne.push(this.readVarint(et));var tt=Hs(this);for(Ne=Ne||[];this.pos<tt;)Ne.push(this.readVarint(et));return Ne},readPackedSVarint:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readSVarint());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readSVarint());return Ne},readPackedBoolean:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readBoolean());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readBoolean());return Ne},readPackedFloat:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readFloat());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readFloat());return Ne},readPackedDouble:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readDouble());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readDouble());return Ne},readPackedFixed32:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readFixed32());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readFixed32());return Ne},readPackedSFixed32:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readSFixed32());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readSFixed32());return Ne},readPackedFixed64:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readFixed64());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readFixed64());return Ne},readPackedSFixed64:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readSFixed64());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readSFixed64());return Ne},skip:function(Ne){var et=7&Ne;if(et===Xs.Varint)for(;this.buf[this.pos++]>127;);else if(et===Xs.Bytes)this.pos=this.readVarint()+this.pos;else if(et===Xs.Fixed32)this.pos+=4;else{if(et!==Xs.Fixed64)throw new Error("Unimplemented type: "+et);this.pos+=8}},writeTag:function(Ne,et){this.writeVarint(Ne<<3|et)},realloc:function(Ne){for(var et=this.length||16;et<this.pos+Ne;)et*=2;if(et!==this.length){var tt=new Uint8Array(et);tt.set(this.buf),this.buf=tt,this.length=et}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(Ne){this.realloc(4),uu(this.buf,Ne,this.pos),this.pos+=4},writeSFixed32:function(Ne){this.realloc(4),uu(this.buf,Ne,this.pos),this.pos+=4},writeFixed64:function(Ne){this.realloc(8),uu(this.buf,-1&Ne,this.pos),uu(this.buf,Math.floor(Ne*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(Ne){this.realloc(8),uu(this.buf,-1&Ne,this.pos),uu(this.buf,Math.floor(Ne*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(Ne){(Ne=+Ne||0)>268435455||Ne<0?function(Ne,et){var tt,rt;if(Ne>=0?(tt=Ne%4294967296|0,rt=Ne/4294967296|0):(rt=~(-Ne/4294967296),4294967295^(tt=~(-Ne%4294967296))?tt=tt+1|0:(tt=0,rt=rt+1|0)),Ne>=0x10000000000000000||Ne<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");et.realloc(10),function(Ne,et,tt){tt.buf[tt.pos++]=127&Ne|128,Ne>>>=7,tt.buf[tt.pos++]=127&Ne|128,Ne>>>=7,tt.buf[tt.pos++]=127&Ne|128,Ne>>>=7,tt.buf[tt.pos++]=127&Ne|128,tt.buf[tt.pos]=127&(Ne>>>=7)}(tt,0,et),function(Ne,et){var tt=(7&Ne)<<4;et.buf[et.pos++]|=tt|((Ne>>>=3)?128:0),Ne&&(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),Ne&&(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),Ne&&(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),Ne&&(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),Ne&&(et.buf[et.pos++]=127&Ne)))))}(rt,et)}(Ne,this):(this.realloc(4),this.buf[this.pos++]=127&Ne|(Ne>127?128:0),Ne<=127||(this.buf[this.pos++]=127&(Ne>>>=7)|(Ne>127?128:0),Ne<=127||(this.buf[this.pos++]=127&(Ne>>>=7)|(Ne>127?128:0),Ne<=127||(this.buf[this.pos++]=Ne>>>7&127))))},writeSVarint:function(Ne){this.writeVarint(Ne<0?2*-Ne-1:2*Ne)},writeBoolean:function(Ne){this.writeVarint(Boolean(Ne))},writeString:function(Ne){Ne=String(Ne),this.realloc(4*Ne.length),this.pos++;var et=this.pos;this.pos=function(Ne,et,tt){for(var rt,nt,it=0;it<et.length;it++){if((rt=et.charCodeAt(it))>55295&&rt<57344){if(!nt){rt>56319||it+1===et.length?(Ne[tt++]=239,Ne[tt++]=191,Ne[tt++]=189):nt=rt;continue}if(rt<56320){Ne[tt++]=239,Ne[tt++]=191,Ne[tt++]=189,nt=rt;continue}rt=nt-55296<<10|rt-56320|65536,nt=null}else nt&&(Ne[tt++]=239,Ne[tt++]=191,Ne[tt++]=189,nt=null);rt<128?Ne[tt++]=rt:(rt<2048?Ne[tt++]=rt>>6|192:(rt<65536?Ne[tt++]=rt>>12|224:(Ne[tt++]=rt>>18|240,Ne[tt++]=rt>>12&63|128),Ne[tt++]=rt>>6&63|128),Ne[tt++]=63&rt|128)}return tt}(this.buf,Ne,this.pos);var tt=this.pos-et;tt>=128&&$s(et,tt,this),this.pos=et-1,this.writeVarint(tt),this.pos+=tt},writeFloat:function(Ne){this.realloc(4),Gs(this.buf,Ne,this.pos,!0,23,4),this.pos+=4},writeDouble:function(Ne){this.realloc(8),Gs(this.buf,Ne,this.pos,!0,52,8),this.pos+=8},writeBytes:function(Ne){var et=Ne.length;this.writeVarint(et),this.realloc(et);for(var tt=0;tt<et;tt++)this.buf[this.pos++]=Ne[tt]},writeRawMessage:function(Ne,et){this.pos++;var tt=this.pos;Ne(et,this);var rt=this.pos-tt;rt>=128&&$s(tt,rt,this),this.pos=tt-1,this.writeVarint(rt),this.pos+=rt},writeMessage:function(Ne,et,tt){this.writeTag(Ne,Xs.Bytes),this.writeRawMessage(et,tt)},writePackedVarint:function(Ne,et){et.length&&this.writeMessage(Ne,Ws,et)},writePackedSVarint:function(Ne,et){et.length&&this.writeMessage(Ne,Qs,et)},writePackedBoolean:function(Ne,et){et.length&&this.writeMessage(Ne,ru,et)},writePackedFloat:function(Ne,et){et.length&&this.writeMessage(Ne,tu,et)},writePackedDouble:function(Ne,et){et.length&&this.writeMessage(Ne,eu,et)},writePackedFixed32:function(Ne,et){et.length&&this.writeMessage(Ne,nu,et)},writePackedSFixed32:function(Ne,et){et.length&&this.writeMessage(Ne,iu,et)},writePackedFixed64:function(Ne,et){et.length&&this.writeMessage(Ne,au,et)},writePackedSFixed64:function(Ne,et){et.length&&this.writeMessage(Ne,ou,et)},writeBytesField:function(Ne,et){this.writeTag(Ne,Xs.Bytes),this.writeBytes(et)},writeFixed32Field:function(Ne,et){this.writeTag(Ne,Xs.Fixed32),this.writeFixed32(et)},writeSFixed32Field:function(Ne,et){this.writeTag(Ne,Xs.Fixed32),this.writeSFixed32(et)},writeFixed64Field:function(Ne,et){this.writeTag(Ne,Xs.Fixed64),this.writeFixed64(et)},writeSFixed64Field:function(Ne,et){this.writeTag(Ne,Xs.Fixed64),this.writeSFixed64(et)},writeVarintField:function(Ne,et){this.writeTag(Ne,Xs.Varint),this.writeVarint(et)},writeSVarintField:function(Ne,et){this.writeTag(Ne,Xs.Varint),this.writeSVarint(et)},writeStringField:function(Ne,et){this.writeTag(Ne,Xs.Bytes),this.writeString(et)},writeFloatField:function(Ne,et){this.writeTag(Ne,Xs.Fixed32),this.writeFloat(et)},writeDoubleField:function(Ne,et){this.writeTag(Ne,Xs.Fixed64),this.writeDouble(et)},writeBooleanField:function(Ne,et){this.writeVarintField(Ne,Boolean(et))}};var yu=function(Ne,et){var tt=et.pixelRatio,rt=et.version,nt=et.stretchX,it=et.stretchY,ot=et.content;this.paddedRect=Ne,this.pixelRatio=tt,this.stretchX=nt,this.stretchY=it,this.content=ot,this.version=rt},ah={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};ah.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},ah.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},ah.tlbr.get=function(){return this.tl.concat(this.br)},ah.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(yu.prototype,ah);var mu=function(Ne,et){var tt={},rt={};this.haveRenderCallbacks=[];var nt=[];this.addImages(Ne,tt,nt),this.addImages(et,rt,nt);var it=fu(nt),ot=new mo({width:it.w||1,height:it.h||1});for(var at in Ne){var st=Ne[at],ct=tt[at].paddedRect;mo.copy(st.data,ot,{x:0,y:0},{x:ct.x+1,y:ct.y+1},st.data)}for(var pt in et){var ft=et[pt],dt=rt[pt].paddedRect,mt=dt.x+1,yt=dt.y+1,vt=ft.data.width,Rt=ft.data.height;mo.copy(ft.data,ot,{x:0,y:0},{x:mt,y:yt},ft.data),mo.copy(ft.data,ot,{x:0,y:Rt-1},{x:mt,y:yt-1},{width:vt,height:1}),mo.copy(ft.data,ot,{x:0,y:0},{x:mt,y:yt+Rt},{width:vt,height:1}),mo.copy(ft.data,ot,{x:vt-1,y:0},{x:mt-1,y:yt},{width:1,height:Rt}),mo.copy(ft.data,ot,{x:0,y:0},{x:mt+vt,y:yt},{width:1,height:Rt})}this.image=ot,this.iconPositions=tt,this.patternPositions=rt};mu.prototype.addImages=function(Ne,et,tt){for(var rt in Ne){var nt=Ne[rt],it={x:0,y:0,w:nt.data.width+2,h:nt.data.height+2};tt.push(it),et[rt]=new yu(it,nt),nt.hasRenderCallback&&this.haveRenderCallbacks.push(rt)}},mu.prototype.patchUpdatedImages=function(Ne,et){for(var tt in Ne.dispatchRenderCallbacks(this.haveRenderCallbacks),Ne.updatedImages)this.patchUpdatedImage(this.iconPositions[tt],Ne.getImage(tt),et),this.patchUpdatedImage(this.patternPositions[tt],Ne.getImage(tt),et)},mu.prototype.patchUpdatedImage=function(Ne,et,tt){if(Ne&&et&&Ne.version!==et.version){Ne.version=et.version;var rt=Ne.tl;tt.update(et.data,void 0,{x:rt[0],y:rt[1]})}},Dn("ImagePosition",yu),Dn("ImageAtlas",mu);var sh={horizontal:1,vertical:2,horizontalOnly:3},gu=function(){this.scale=1,this.fontStack="",this.imageName=null};gu.forText=function(Ne,et){var tt=new gu;return tt.scale=Ne||1,tt.fontStack=et,tt},gu.forImage=function(Ne){var et=new gu;return et.imageName=Ne,et};var xu=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function bu(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt){var Rt,Dt=xu.fromFeature(Ne,nt);ft===sh.vertical&&Dt.verticalizePunctuation();var Ot=yl.processBidirectionalText,Bt=yl.processStyledBidirectionalText;if(Ot&&1===Dt.sections.length){Rt=[];for(var er=0,rr=Ot(Dt.toString(),zu(Dt,ct,it,et,rt,mt,yt));er<rr.length;er+=1){var vr=rr[er],wr=new xu;wr.text=vr,wr.sections=Dt.sections;for(var Sr=0;Sr<vr.length;Sr++)wr.sectionIndex.push(0);Rt.push(wr)}}else if(Bt){Rt=[];for(var rn=0,vn=Bt(Dt.text,Dt.sectionIndex,zu(Dt,ct,it,et,rt,mt,yt));rn<vn.length;rn+=1){var bn=vn[rn],Tn=new xu;Tn.text=bn[0],Tn.sectionIndex=bn[1],Tn.sections=Dt.sections,Rt.push(Tn)}}else Rt=function(Ne,et){for(var tt=[],rt=Ne.text,nt=0,it=0,ot=et;it<ot.length;it+=1){var at=ot[it];tt.push(Ne.substring(nt,at)),nt=at}return nt<rt.length&&tt.push(Ne.substring(nt,rt.length)),tt}(Dt,zu(Dt,ct,it,et,rt,mt,yt));var Cn=[],In={positionedLines:Cn,text:Dt.toString(),top:pt[1],bottom:pt[1],left:pt[0],right:pt[0],writingMode:ft,iconsInText:!1,verticalizable:!1};return function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft){for(var dt=0,mt=-17,yt=0,vt=0,Rt="right"===at?1:"left"===at?0:.5,Dt=0,Ot=0,Bt=nt;Ot<Bt.length;Ot+=1){var er=Bt[Ot];er.trim();var rr=er.getMaxScale(),vr=24*(rr-1),wr={positionedGlyphs:[],lineOffset:0};Ne.positionedLines[Dt]=wr;var Sr=wr.positionedGlyphs,rn=0;if(er.length()){for(var vn=0;vn<er.length();vn++){var bn=er.getSection(vn),Tn=er.getSectionIndex(vn),Cn=er.getCharCode(vn),In=0,Mn=null,zn=null,Ln=null,Fn=24,Bn=!(st===sh.horizontal||!pt&&!Gn(Cn)||pt&&(lh[Cn]||(po=Cn,tl.Arabic(po)||tl["Arabic Supplement"](po)||tl["Arabic Extended-A"](po)||tl["Arabic Presentation Forms-A"](po)||tl["Arabic Presentation Forms-B"](po))));if(bn.imageName){var Nn=rt[bn.imageName];if(!Nn)continue;Ln=bn.imageName,Ne.iconsInText=Ne.iconsInText||!0,zn=Nn.paddedRect;var Vn=Nn.displaySize;bn.scale=24*bn.scale/ft,In=vr+(24-Vn[1]*bn.scale),Fn=(Mn={width:Vn[0],height:Vn[1],left:1,top:-3,advance:Bn?Vn[1]:Vn[0]}).advance;var Wn=Bn?Vn[0]*bn.scale-24*rr:Vn[1]*bn.scale-24*rr;Wn>0&&Wn>rn&&(rn=Wn)}else{var $n=tt[bn.fontStack],Yn=$n&&$n[Cn];if(Yn&&Yn.rect)zn=Yn.rect,Mn=Yn.metrics;else{var ii=et[bn.fontStack],qi=ii&&ii[Cn];if(!qi)continue;Mn=qi.metrics}In=24*(rr-bn.scale)}Bn?(Ne.verticalizable=!0,Sr.push({glyph:Cn,imageName:Ln,x:dt,y:mt+In,vertical:Bn,scale:bn.scale,fontStack:bn.fontStack,sectionIndex:Tn,metrics:Mn,rect:zn}),dt+=Fn*bn.scale+ct):(Sr.push({glyph:Cn,imageName:Ln,x:dt,y:mt+In,vertical:Bn,scale:bn.scale,fontStack:bn.fontStack,sectionIndex:Tn,metrics:Mn,rect:zn}),dt+=Mn.advance*bn.scale+ct)}0!==Sr.length&&(yt=Math.max(dt-ct,yt),Mu(Sr,0,Sr.length-1,Rt,rn)),dt=0;var uo=it*rr+rn;wr.lineOffset=Math.max(rn,vr),mt+=uo,vt=Math.max(uo,vt),++Dt}else mt+=it,++Dt}var po,vo=mt- -17,So=Cu(ot),ea=So.horizontalAlign,ta=So.verticalAlign;(function(Ne,et,tt,rt,nt,it,ot,at,st){var ct,pt=(et-tt)*nt;ct=it!==ot?-at*rt- -17:(-rt*st+.5)*ot;for(var ft=0,dt=Ne;ft<dt.length;ft+=1)for(var mt=0,yt=dt[ft].positionedGlyphs;mt<yt.length;mt+=1){var vt=yt[mt];vt.x+=pt,vt.y+=ct}})(Ne.positionedLines,Rt,ea,ta,yt,vt,it,vo,nt.length),Ne.top+=-ta*vo,Ne.bottom=Ne.top+vo,Ne.left+=-ea*yt,Ne.right=Ne.left+yt}(In,et,tt,rt,Rt,ot,at,st,ft,ct,dt,vt),!function(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(0!==tt[et].positionedGlyphs.length)return!1;return!0}(Cn)&&In}xu.fromFeature=function(Ne,et){for(var tt=new xu,rt=0;rt<Ne.sections.length;rt++){var nt=Ne.sections[rt];nt.image?tt.addImageSection(nt):tt.addTextSection(nt,et)}return tt},xu.prototype.length=function(){return this.text.length},xu.prototype.getSection=function(Ne){return this.sections[this.sectionIndex[Ne]]},xu.prototype.getSectionIndex=function(Ne){return this.sectionIndex[Ne]},xu.prototype.getCharCode=function(Ne){return this.text.charCodeAt(Ne)},xu.prototype.verticalizePunctuation=function(){this.text=function(Ne){for(var et="",tt=0;tt<Ne.length;tt++){var rt=Ne.charCodeAt(tt+1)||null,nt=Ne.charCodeAt(tt-1)||null;et+=rt&&Zn(rt)&&!Jp[Ne[tt+1]]||nt&&Zn(nt)&&!Jp[Ne[tt-1]]||!Jp[Ne[tt]]?Ne[tt]:Jp[Ne[tt]]}return et}(this.text)},xu.prototype.trim=function(){for(var Ne=0,et=0;et<this.text.length&&lh[this.text.charCodeAt(et)];et++)Ne++;for(var tt=this.text.length,rt=this.text.length-1;rt>=0&&rt>=Ne&&lh[this.text.charCodeAt(rt)];rt--)tt--;this.text=this.text.substring(Ne,tt),this.sectionIndex=this.sectionIndex.slice(Ne,tt)},xu.prototype.substring=function(Ne,et){var tt=new xu;return tt.text=this.text.substring(Ne,et),tt.sectionIndex=this.sectionIndex.slice(Ne,et),tt.sections=this.sections,tt},xu.prototype.toString=function(){return this.text},xu.prototype.getMaxScale=function(){var Ne=this;return this.sectionIndex.reduce((function(et,tt){return Math.max(et,Ne.sections[tt].scale)}),0)},xu.prototype.addTextSection=function(Ne,et){this.text+=Ne.text,this.sections.push(gu.forText(Ne.scale,Ne.fontStack||et));for(var tt=this.sections.length-1,rt=0;rt<Ne.text.length;++rt)this.sectionIndex.push(tt)},xu.prototype.addImageSection=function(Ne){var et=Ne.image?Ne.image.name:"";if(0!==et.length){var tt=this.getNextImageSectionCharCode();tt?(this.text+=String.fromCharCode(tt),this.sections.push(gu.forImage(et)),this.sectionIndex.push(this.sections.length-1)):_("Reached maximum number of images 6401")}else _("Can't add FormattedSection with an empty image.")},xu.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var lh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ph={};function Au(Ne,et,tt,rt,nt,it){if(et.imageName){var ot=rt[et.imageName];return ot?ot.displaySize[0]*et.scale*24/it+nt:0}var at=tt[et.fontStack],st=at&&at[Ne];return st?st.metrics.advance*et.scale+nt:0}function Su(Ne,et,tt,rt){var nt=Math.pow(Ne-et,2);return rt?Ne<et?nt/2:2*nt:nt+Math.abs(tt)*tt}function ku(Ne,et,tt){var rt=0;return 10===Ne&&(rt-=1e4),tt&&(rt+=150),40!==Ne&&65288!==Ne||(rt+=50),41!==et&&65289!==et||(rt+=50),rt}function Iu(Ne,et,tt,rt,nt,it){for(var ot=null,at=Su(et,tt,nt,it),st=0,ct=rt;st<ct.length;st+=1){var pt=ct[st],ft=Su(et-pt.x,tt,nt,it)+pt.badness;ft<=at&&(ot=pt,at=ft)}return{index:Ne,x:et,priorBreak:ot,badness:at}}function zu(Ne,et,tt,rt,nt,it,ot){if("point"!==it)return[];if(!Ne)return[];for(var at,st=[],ct=function(Ne,et,tt,rt,nt,it){for(var ot=0,at=0;at<Ne.length();at++){var st=Ne.getSection(at);ot+=Au(Ne.getCharCode(at),st,rt,nt,et,it)}return ot/Math.max(1,Math.ceil(ot/tt))}(Ne,et,tt,rt,nt,ot),pt=Ne.text.indexOf("")>=0,ft=0,dt=0;dt<Ne.length();dt++){var mt=Ne.getSection(dt),yt=Ne.getCharCode(dt);if(lh[yt]||(ft+=Au(yt,mt,rt,nt,et,ot)),dt<Ne.length()-1){var vt=!((at=yt)<11904||!(tl["Bopomofo Extended"](at)||tl.Bopomofo(at)||tl["CJK Compatibility Forms"](at)||tl["CJK Compatibility Ideographs"](at)||tl["CJK Compatibility"](at)||tl["CJK Radicals Supplement"](at)||tl["CJK Strokes"](at)||tl["CJK Symbols and Punctuation"](at)||tl["CJK Unified Ideographs Extension A"](at)||tl["CJK Unified Ideographs"](at)||tl["Enclosed CJK Letters and Months"](at)||tl["Halfwidth and Fullwidth Forms"](at)||tl.Hiragana(at)||tl["Ideographic Description Characters"](at)||tl["Kangxi Radicals"](at)||tl["Katakana Phonetic Extensions"](at)||tl.Katakana(at)||tl["Vertical Forms"](at)||tl["Yi Radicals"](at)||tl["Yi Syllables"](at)));(ph[yt]||vt||mt.imageName)&&st.push(Iu(dt+1,ft,ct,st,ku(yt,Ne.getCharCode(dt+1),vt&&pt),!1))}}return function t(Ne){return Ne?t(Ne.priorBreak).concat(Ne.index):[]}(Iu(Ne.length(),ft,ct,st,0,!0))}function Cu(Ne){var et=.5,tt=.5;switch(Ne){case"right":case"top-right":case"bottom-right":et=1;break;case"left":case"top-left":case"bottom-left":et=0}switch(Ne){case"bottom":case"bottom-right":case"bottom-left":tt=1;break;case"top":case"top-right":case"top-left":tt=0}return{horizontalAlign:et,verticalAlign:tt}}function Mu(Ne,et,tt,rt,nt){if(rt||nt)for(var it=Ne[tt],ot=(Ne[tt].x+it.metrics.advance*it.scale)*rt,at=et;at<=tt;at++)Ne[at].x-=ot,Ne[at].y+=nt}function Eu(Ne,et,tt,rt,nt,it){var ot,at=Ne.image;if(at.content){var st=at.content,ct=at.pixelRatio||1;ot=[st[0]/ct,st[1]/ct,at.displaySize[0]-st[2]/ct,at.displaySize[1]-st[3]/ct]}var pt,ft,dt,mt,yt=et.left*it,vt=et.right*it;"width"===tt||"both"===tt?(mt=nt[0]+yt-rt[3],ft=nt[0]+vt+rt[1]):ft=(mt=nt[0]+(yt+vt-at.displaySize[0])/2)+at.displaySize[0];var Rt=et.top*it,Dt=et.bottom*it;return"height"===tt||"both"===tt?(pt=nt[1]+Rt-rt[0],dt=nt[1]+Dt+rt[2]):dt=(pt=nt[1]+(Rt+Dt-at.displaySize[1])/2)+at.displaySize[1],{image:at,top:pt,right:ft,bottom:dt,left:mt,collisionPadding:ot}}ph[10]=!0,ph[32]=!0,ph[38]=!0,ph[40]=!0,ph[41]=!0,ph[43]=!0,ph[45]=!0,ph[47]=!0,ph[173]=!0,ph[183]=!0,ph[8203]=!0,ph[8208]=!0,ph[8211]=!0,ph[8231]=!0;var mh=function(Ne){function e(et,tt,rt,nt){Ne.call(this,et,tt),this.angle=rt,void 0!==nt&&(this.segment=nt)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(tt);function Pu(Ne,et){var tt=et.expression;if("constant"===tt.kind)return{kind:"constant",layoutSize:tt.evaluate(new ai(Ne+1))};if("source"===tt.kind)return{kind:"source"};for(var rt=tt.zoomStops,nt=tt.interpolationType,it=0;it<rt.length&&rt[it]<=Ne;)it++;for(var ot=it=Math.max(0,it-1);ot<rt.length&&rt[ot]<Ne+1;)ot++;ot=Math.min(rt.length-1,ot);var at=rt[it],st=rt[ot];return"composite"===tt.kind?{kind:"composite",minZoom:at,maxZoom:st,interpolationType:nt}:{kind:"camera",minZoom:at,maxZoom:st,minSize:tt.evaluate(new ai(at)),maxSize:tt.evaluate(new ai(st)),interpolationType:nt}}function Bu(Ne,et,tt){var rt=et.uSize,nt=tt.lowerSize;return"source"===Ne.kind?nt/128:"composite"===Ne.kind?qe(nt/128,tt.upperSize/128,et.uSizeT):rt}function Vu(Ne,et){var tt=0,rt=0;if("constant"===Ne.kind)rt=Ne.layoutSize;else if("source"!==Ne.kind){var nt=Ne.interpolationType,it=nt?l(nr.interpolationFactor(nt,et,Ne.minZoom,Ne.maxZoom),0,1):0;"camera"===Ne.kind?rt=qe(Ne.minSize,Ne.maxSize,it):tt=it}return{uSizeT:tt,uSize:rt}}Dn("Anchor",mh);var _h=Object.freeze({__proto__:null,getSizeData:Pu,evaluateSizeForFeature:Bu,evaluateSizeForZoom:Vu,SIZE_PACK_FACTOR:128});function Du(Ne,et,tt,rt,nt){if(void 0===et.segment)return!0;for(var it=et,ot=et.segment+1,at=0;at>-tt/2;){if(--ot<0)return!1;at-=Ne[ot].dist(it),it=Ne[ot]}at+=Ne[ot].dist(Ne[ot+1]),ot++;for(var st=[],ct=0;at<tt/2;){var pt=Ne[ot],ft=Ne[ot+1];if(!ft)return!1;var dt=Ne[ot-1].angleTo(pt)-pt.angleTo(ft);for(dt=Math.abs((dt+3*Math.PI)%(2*Math.PI)-Math.PI),st.push({distance:at,angleDelta:dt}),ct+=dt;at-st[0].distance>rt;)ct-=st.shift().angleDelta;if(ct>nt)return!1;ot++,at+=pt.dist(ft)}return!0}function Lu(Ne){for(var et=0,tt=0;tt<Ne.length-1;tt++)et+=Ne[tt].dist(Ne[tt+1]);return et}function Ru(Ne,et,tt){return Ne?.6*et*tt:0}function Ou(Ne,et){return Math.max(Ne?Ne.right-Ne.left:0,et?et.right-et.left:0)}function Uu(Ne,et,tt,rt,nt,it){for(var ot=Ru(tt,nt,it),at=Ou(tt,rt)*it,st=0,ct=Lu(Ne)/2,pt=0;pt<Ne.length-1;pt++){var ft=Ne[pt],dt=Ne[pt+1],mt=ft.dist(dt);if(st+mt>ct){var yt=(ct-st)/mt,vt=qe(ft.x,dt.x,yt),Rt=qe(ft.y,dt.y,yt),Dt=new mh(vt,Rt,dt.angleTo(ft),pt);return Dt._round(),!ot||Du(Ne,Dt,at,ot,et)?Dt:void 0}st+=mt}}function ju(Ne,et,tt,rt,nt,it,ot,at,st){var ct=Ru(rt,it,ot),pt=Ou(rt,nt),ft=pt*ot,dt=0===Ne[0].x||Ne[0].x===st||0===Ne[0].y||Ne[0].y===st;return et-ft<et/4&&(et=ft+et/4),function t(Ne,et,tt,rt,nt,it,ot,at,st){for(var ct=it/2,pt=Lu(Ne),ft=0,dt=et-tt,mt=[],yt=0;yt<Ne.length-1;yt++){for(var vt=Ne[yt],Rt=Ne[yt+1],Dt=vt.dist(Rt),Ot=Rt.angleTo(vt);dt+tt<ft+Dt;){var Bt=((dt+=tt)-ft)/Dt,er=qe(vt.x,Rt.x,Bt),rr=qe(vt.y,Rt.y,Bt);if(er>=0&&er<st&&rr>=0&&rr<st&&dt-ct>=0&&dt+ct<=pt){var vr=new mh(er,rr,Ot,yt);vr._round(),rt&&!Du(Ne,vr,it,rt,nt)||mt.push(vr)}}ft+=Dt}return at||mt.length||ot||(mt=t(Ne,ft/2,tt,rt,nt,it,ot,!0,st)),mt}(Ne,dt?et/2*at%et:(pt/2+2*it)*ot*at%et,et,ct,tt,ft,dt,!1,st)}function qu(Ne,et,rt,nt,it){for(var ot=[],at=0;at<Ne.length;at++)for(var st=Ne[at],ct=void 0,pt=0;pt<st.length-1;pt++){var ft=st[pt],dt=st[pt+1];ft.x<et&&dt.x<et||(ft.x<et?ft=new tt(et,ft.y+(et-ft.x)/(dt.x-ft.x)*(dt.y-ft.y))._round():dt.x<et&&(dt=new tt(et,ft.y+(et-ft.x)/(dt.x-ft.x)*(dt.y-ft.y))._round()),ft.y<rt&&dt.y<rt||(ft.y<rt?ft=new tt(ft.x+(rt-ft.y)/(dt.y-ft.y)*(dt.x-ft.x),rt)._round():dt.y<rt&&(dt=new tt(ft.x+(rt-ft.y)/(dt.y-ft.y)*(dt.x-ft.x),rt)._round()),ft.x>=nt&&dt.x>=nt||(ft.x>=nt?ft=new tt(nt,ft.y+(nt-ft.x)/(dt.x-ft.x)*(dt.y-ft.y))._round():dt.x>=nt&&(dt=new tt(nt,ft.y+(nt-ft.x)/(dt.x-ft.x)*(dt.y-ft.y))._round()),ft.y>=it&&dt.y>=it||(ft.y>=it?ft=new tt(ft.x+(it-ft.y)/(dt.y-ft.y)*(dt.x-ft.x),it)._round():dt.y>=it&&(dt=new tt(ft.x+(it-ft.y)/(dt.y-ft.y)*(dt.x-ft.x),it)._round()),ct&&ft.equals(ct[ct.length-1])||ot.push(ct=[ft]),ct.push(dt)))))}return ot}function Nu(Ne,et,rt,nt){var it=[],ot=Ne.image,at=ot.pixelRatio,st=ot.paddedRect.w-2,ct=ot.paddedRect.h-2,pt=Ne.right-Ne.left,ft=Ne.bottom-Ne.top,dt=ot.stretchX||[[0,st]],mt=ot.stretchY||[[0,ct]],y=function(Ne,et){return Ne+et[1]-et[0]},yt=dt.reduce(y,0),vt=mt.reduce(y,0),Rt=st-yt,Dt=ct-vt,Ot=0,Bt=yt,er=0,rr=vt,vr=0,wr=Rt,Sr=0,rn=Dt;if(ot.content&&nt){var vn=ot.content;Ot=Ku(dt,0,vn[0]),er=Ku(mt,0,vn[1]),Bt=Ku(dt,vn[0],vn[2]),rr=Ku(mt,vn[1],vn[3]),vr=vn[0]-Ot,Sr=vn[1]-er,wr=vn[2]-vn[0]-Bt,rn=vn[3]-vn[1]-rr}var C=function(nt,it,st,ct){var dt=Zu(nt.stretch-Ot,Bt,pt,Ne.left),mt=Xu(nt.fixed-vr,wr,nt.stretch,yt),Rt=Zu(it.stretch-er,rr,ft,Ne.top),Dt=Xu(it.fixed-Sr,rn,it.stretch,vt),vn=Zu(st.stretch-Ot,Bt,pt,Ne.left),bn=Xu(st.fixed-vr,wr,st.stretch,yt),Tn=Zu(ct.stretch-er,rr,ft,Ne.top),Cn=Xu(ct.fixed-Sr,rn,ct.stretch,vt),In=new tt(dt,Rt),Mn=new tt(vn,Rt),zn=new tt(vn,Tn),Ln=new tt(dt,Tn),Fn=new tt(mt/at,Dt/at),Bn=new tt(bn/at,Cn/at),Nn=et*Math.PI/180;if(Nn){var Vn=Math.sin(Nn),Wn=Math.cos(Nn),$n=[Wn,-Vn,Vn,Wn];In._matMult($n),Mn._matMult($n),Ln._matMult($n),zn._matMult($n)}var Yn=nt.stretch+nt.fixed,ii=it.stretch+it.fixed;return{tl:In,tr:Mn,bl:Ln,br:zn,tex:{x:ot.paddedRect.x+1+Yn,y:ot.paddedRect.y+1+ii,w:st.stretch+st.fixed-Yn,h:ct.stretch+ct.fixed-ii},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Fn,pixelOffsetBR:Bn,minFontScaleX:wr/at/pt,minFontScaleY:rn/at/ft,isSDF:rt}};if(nt&&(ot.stretchX||ot.stretchY))for(var bn=Gu(dt,Rt,yt),Tn=Gu(mt,Dt,vt),Cn=0;Cn<bn.length-1;Cn++)for(var In=bn[Cn],Mn=bn[Cn+1],zn=0;zn<Tn.length-1;zn++)it.push(C(In,Tn[zn],Mn,Tn[zn+1]));else it.push(C({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:st+1},{fixed:0,stretch:ct+1}));return it}function Ku(Ne,et,tt){for(var rt=0,nt=0,it=Ne;nt<it.length;nt+=1){var ot=it[nt];rt+=Math.max(et,Math.min(tt,ot[1]))-Math.max(et,Math.min(tt,ot[0]))}return rt}function Gu(Ne,et,tt){for(var rt=[{fixed:-1,stretch:0}],nt=0,it=Ne;nt<it.length;nt+=1){var ot=it[nt],at=ot[0],st=ot[1],ct=rt[rt.length-1];rt.push({fixed:at-ct.stretch,stretch:ct.stretch}),rt.push({fixed:at-ct.stretch,stretch:ct.stretch+(st-at)})}return rt.push({fixed:et+1,stretch:tt}),rt}function Zu(Ne,et,tt,rt){return Ne/et*tt+rt}function Xu(Ne,et,tt,rt){return Ne-et*tt/rt}var Ju=function(Ne,et,rt,nt,it,ot,at,st,ct,pt){if(this.boxStartIndex=Ne.length,ct){var ft=ot.top,dt=ot.bottom,mt=ot.collisionPadding;mt&&(ft-=mt[1],dt+=mt[3]);var yt=dt-ft;yt>0&&(yt=Math.max(10,yt),this.circleDiameter=yt)}else{var vt=ot.top*at-st,Rt=ot.bottom*at+st,Dt=ot.left*at-st,Ot=ot.right*at+st,Bt=ot.collisionPadding;if(Bt&&(Dt-=Bt[0]*at,vt-=Bt[1]*at,Ot+=Bt[2]*at,Rt+=Bt[3]*at),pt){var er=new tt(Dt,vt),rr=new tt(Ot,vt),vr=new tt(Dt,Rt),wr=new tt(Ot,Rt),Sr=pt*Math.PI/180;er._rotate(Sr),rr._rotate(Sr),vr._rotate(Sr),wr._rotate(Sr),Dt=Math.min(er.x,rr.x,vr.x,wr.x),Ot=Math.max(er.x,rr.x,vr.x,wr.x),vt=Math.min(er.y,rr.y,vr.y,wr.y),Rt=Math.max(er.y,rr.y,vr.y,wr.y)}Ne.emplaceBack(et.x,et.y,Dt,vt,Ot,Rt,rt,nt,it)}this.boxEndIndex=Ne.length},Hu=function(Ne,et){if(void 0===Ne&&(Ne=[]),void 0===et&&(et=Yu),this.data=Ne,this.length=this.data.length,this.compare=et,this.length>0)for(var tt=(this.length>>1)-1;tt>=0;tt--)this._down(tt)};function Yu(Ne,et){return Ne<et?-1:Ne>et?1:0}function $u(Ne,et,rt){void 0===et&&(et=1),void 0===rt&&(rt=!1);for(var nt=1/0,it=1/0,ot=-1/0,at=-1/0,st=Ne[0],ct=0;ct<st.length;ct++){var pt=st[ct];(!ct||pt.x<nt)&&(nt=pt.x),(!ct||pt.y<it)&&(it=pt.y),(!ct||pt.x>ot)&&(ot=pt.x),(!ct||pt.y>at)&&(at=pt.y)}var ft=Math.min(ot-nt,at-it),dt=ft/2,mt=new Hu([],Wu);if(0===ft)return new tt(nt,it);for(var yt=nt;yt<ot;yt+=ft)for(var vt=it;vt<at;vt+=ft)mt.push(new Qu(yt+dt,vt+dt,dt,Ne));for(var Rt=function(Ne){for(var et=0,tt=0,rt=0,nt=Ne[0],it=0,ot=nt.length,at=ot-1;it<ot;at=it++){var st=nt[it],ct=nt[at],pt=st.x*ct.y-ct.x*st.y;tt+=(st.x+ct.x)*pt,rt+=(st.y+ct.y)*pt,et+=3*pt}return new Qu(tt/et,rt/et,0,Ne)}(Ne),Dt=mt.length;mt.length;){var Ot=mt.pop();(Ot.d>Rt.d||!Rt.d)&&(Rt=Ot,rt&&console.log("found best %d after %d probes",Math.round(1e4*Ot.d)/1e4,Dt)),Ot.max-Rt.d<=et||(mt.push(new Qu(Ot.p.x-(dt=Ot.h/2),Ot.p.y-dt,dt,Ne)),mt.push(new Qu(Ot.p.x+dt,Ot.p.y-dt,dt,Ne)),mt.push(new Qu(Ot.p.x-dt,Ot.p.y+dt,dt,Ne)),mt.push(new Qu(Ot.p.x+dt,Ot.p.y+dt,dt,Ne)),Dt+=4)}return rt&&(console.log("num probes: "+Dt),console.log("best distance: "+Rt.d)),Rt.p}function Wu(Ne,et){return et.max-Ne.max}function Qu(Ne,et,rt,nt){this.p=new tt(Ne,et),this.h=rt,this.d=function(Ne,et){for(var tt=!1,rt=1/0,nt=0;nt<et.length;nt++)for(var it=et[nt],ot=0,at=it.length,st=at-1;ot<at;st=ot++){var ct=it[ot],pt=it[st];ct.y>Ne.y!=pt.y>Ne.y&&Ne.x<(pt.x-ct.x)*(Ne.y-ct.y)/(pt.y-ct.y)+ct.x&&(tt=!tt),rt=Math.min(rt,Xa(Ne,ct,pt))}return(tt?1:-1)*Math.sqrt(rt)}(this.p,nt),this.max=this.d+this.h*Math.SQRT2}Hu.prototype.push=function(Ne){this.data.push(Ne),this.length++,this._up(this.length-1)},Hu.prototype.pop=function(){if(0!==this.length){var Ne=this.data[0],et=this.data.pop();return this.length--,this.length>0&&(this.data[0]=et,this._down(0)),Ne}},Hu.prototype.peek=function(){return this.data[0]},Hu.prototype._up=function(Ne){for(var et=this.data,tt=this.compare,rt=et[Ne];Ne>0;){var nt=Ne-1>>1,it=et[nt];if(tt(rt,it)>=0)break;et[Ne]=it,Ne=nt}et[Ne]=rt},Hu.prototype._down=function(Ne){for(var et=this.data,tt=this.compare,rt=this.length>>1,nt=et[Ne];Ne<rt;){var it=1+(Ne<<1),ot=et[it],at=it+1;if(at<this.length&&tt(et[at],ot)<0&&(it=at,ot=et[at]),tt(ot,nt)>=0)break;et[Ne]=ot,Ne=it}et[Ne]=nt};var bh=Number.POSITIVE_INFINITY;function el(Ne,et){return et[1]!==bh?function(Ne,et,tt){var rt=0,nt=0;switch(et=Math.abs(et),tt=Math.abs(tt),Ne){case"top-right":case"top-left":case"top":nt=tt-7;break;case"bottom-right":case"bottom-left":case"bottom":nt=7-tt}switch(Ne){case"top-right":case"bottom-right":case"right":rt=-et;break;case"top-left":case"bottom-left":case"left":rt=et}return[rt,nt]}(Ne,et[0],et[1]):function(Ne,et){var tt=0,rt=0;et<0&&(et=0);var nt=et/Math.sqrt(2);switch(Ne){case"top-right":case"top-left":rt=nt-7;break;case"bottom-right":case"bottom-left":rt=7-nt;break;case"bottom":rt=7-et;break;case"top":rt=et-7}switch(Ne){case"top-right":case"bottom-right":tt=-nt;break;case"top-left":case"bottom-left":tt=nt;break;case"left":tt=et;break;case"right":tt=-et}return[tt,rt]}(Ne,et[0])}function rl(Ne){switch(Ne){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function nl(Ne,et,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt){var Rt=function(Ne,et,rt,nt,it,ot,at,st){for(var ct=nt.layout.get("text-rotate").evaluate(ot,{})*Math.PI/180,pt=[],ft=0,dt=et.positionedLines;ft<dt.length;ft+=1)for(var mt=dt[ft],yt=0,vt=mt.positionedGlyphs;yt<vt.length;yt+=1){var Rt=vt[yt];if(Rt.rect){var Dt=Rt.rect||{},Ot=4,Bt=!0,er=1,rr=0,vr=(it||st)&&Rt.vertical,wr=Rt.metrics.advance*Rt.scale/2;if(st&&et.verticalizable&&(rr=mt.lineOffset/2-(Rt.imageName?-(24-Rt.metrics.width*Rt.scale)/2:24*(Rt.scale-1))),Rt.imageName){var Sr=at[Rt.imageName];Bt=Sr.sdf,Ot=1/(er=Sr.pixelRatio)}var rn=it?[Rt.x+wr,Rt.y]:[0,0],vn=it?[0,0]:[Rt.x+wr+rt[0],Rt.y+rt[1]-rr],bn=[0,0];vr&&(bn=vn,vn=[0,0]);var Tn=(Rt.metrics.left-Ot)*Rt.scale-wr+vn[0],Cn=(-Rt.metrics.top-Ot)*Rt.scale+vn[1],In=Tn+Dt.w*Rt.scale/er,Mn=Cn+Dt.h*Rt.scale/er,zn=new tt(Tn,Cn),Ln=new tt(In,Cn),Fn=new tt(Tn,Mn),Bn=new tt(In,Mn);if(vr){var Nn=new tt(-wr,wr- -17),Vn=-Math.PI/2,Wn=12-wr,$n=new tt(22-Wn,-(Rt.imageName?Wn:0)),Yn=new(Function.prototype.bind.apply(tt,[null].concat(bn)));zn._rotateAround(Vn,Nn)._add($n)._add(Yn),Ln._rotateAround(Vn,Nn)._add($n)._add(Yn),Fn._rotateAround(Vn,Nn)._add($n)._add(Yn),Bn._rotateAround(Vn,Nn)._add($n)._add(Yn)}if(ct){var ii=Math.sin(ct),qi=Math.cos(ct),uo=[qi,-ii,ii,qi];zn._matMult(uo),Ln._matMult(uo),Fn._matMult(uo),Bn._matMult(uo)}var po=new tt(0,0),vo=new tt(0,0);pt.push({tl:zn,tr:Ln,bl:Fn,br:Bn,tex:Dt,writingMode:et.writingMode,glyphOffset:rn,sectionIndex:Rt.sectionIndex,isSDF:Bt,pixelOffsetTL:po,pixelOffsetBR:vo,minFontScaleX:0,minFontScaleY:0})}}return pt}(0,rt,st,it,ot,at,nt,Ne.allowVerticalPlacement),Dt=Ne.textSizeData,Ot=null;"source"===Dt.kind?(Ot=[128*it.layout.get("text-size").evaluate(at,{})])[0]>32640&&_(Ne.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===Dt.kind&&((Ot=[128*yt.compositeTextSizes[0].evaluate(at,{},vt),128*yt.compositeTextSizes[1].evaluate(at,{},vt)])[0]>32640||Ot[1]>32640)&&_(Ne.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),Ne.addSymbols(Ne.text,Rt,Ot,st,ot,at,pt,et,ct.lineStartIndex,ct.lineLength,mt,vt);for(var Bt=0,er=ft;Bt<er.length;Bt+=1)dt[er[Bt]]=Ne.text.placedSymbolArray.length-1;return 4*Rt.length}function il(Ne){for(var et in Ne)return Ne[et];return null}function al(Ne,et,tt,rt){var nt=Ne.compareText;if(et in nt){for(var it=nt[et],ot=it.length-1;ot>=0;ot--)if(rt.dist(it[ot])<tt)return!0}else nt[et]=[];return nt[et].push(rt),!1}var kh=Lp.VectorTileFeature.types,Ph=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ul(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt){var mt=at?Math.min(32640,Math.round(at[0])):0,yt=at?Math.min(32640,Math.round(at[1])):0;Ne.emplaceBack(et,tt,Math.round(32*rt),Math.round(32*nt),it,ot,(mt<<1)+(st?1:0),yt,16*ct,16*pt,256*ft,256*dt)}function ll(Ne,et,tt){Ne.emplaceBack(et.x,et.y,tt),Ne.emplaceBack(et.x,et.y,tt),Ne.emplaceBack(et.x,et.y,tt),Ne.emplaceBack(et.x,et.y,tt)}function pl(Ne){for(var et=0,tt=Ne.sections;et<tt.length;et+=1)if(Hn(tt[et].text))return!0;return!1}var cl=function(Ne){this.layoutVertexArray=new Il,this.indexArray=new _u,this.programConfigurations=Ne,this.segments=new aa,this.dynamicLayoutVertexArray=new Al,this.opacityVertexArray=new zl,this.placedSymbolArray=new Cc};cl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},cl.prototype.upload=function(Ne,et,tt,rt){this.isEmpty()||(tt&&(this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,$p.members),this.indexBuffer=Ne.createIndexBuffer(this.indexArray,et),this.dynamicLayoutVertexBuffer=Ne.createVertexBuffer(this.dynamicLayoutVertexArray,Hp.members,!0),this.opacityVertexBuffer=Ne.createVertexBuffer(this.opacityVertexArray,Ph,!0),this.opacityVertexBuffer.itemSize=1),(tt||rt)&&this.programConfigurations.upload(Ne))},cl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Dn("SymbolBuffers",cl);var hl=function(Ne,et,tt){this.layoutVertexArray=new Ne,this.layoutAttributes=et,this.indexArray=new tt,this.segments=new aa,this.collisionVertexArray=new vu};hl.prototype.upload=function(Ne){this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=Ne.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=Ne.createVertexBuffer(this.collisionVertexArray,Xp.members,!0)},hl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Dn("CollisionBuffers",hl);var fl=function(Ne){this.collisionBoxArray=Ne.collisionBoxArray,this.zoom=Ne.zoom,this.overscaling=Ne.overscaling,this.layers=Ne.layers,this.layerIds=this.layers.map((function(Ne){return Ne.id})),this.index=Ne.index,this.pixelRatio=Ne.pixelRatio,this.sourceLayerIndex=Ne.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=no([]),this.placementViewportMatrix=no([]);var et=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Pu(this.zoom,et["text-size"]),this.iconSizeData=Pu(this.zoom,et["icon-size"]);var tt=this.layers[0].layout,rt=tt.get("symbol-sort-key"),nt=tt.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==nt&&void 0!==rt.constantOr(1),this.sortFeaturesByY=("viewport-y"===nt||"auto"===nt&&!this.sortFeaturesByKey)&&(tt.get("text-allow-overlap")||tt.get("icon-allow-overlap")||tt.get("text-ignore-placement")||tt.get("icon-ignore-placement")),"point"===tt.get("symbol-placement")&&(this.writingModes=tt.get("text-writing-mode").map((function(Ne){return sh[Ne]}))),this.stateDependentLayerIds=this.layers.filter((function(Ne){return Ne.isStateDependent()})).map((function(Ne){return Ne.id})),this.sourceID=Ne.sourceID};fl.prototype.createArrays=function(){this.text=new cl(new Pa(this.layers,this.zoom,(function(Ne){return/^text/.test(Ne)}))),this.icon=new cl(new Pa(this.layers,this.zoom,(function(Ne){return/^icon/.test(Ne)}))),this.glyphOffsetArray=new zc,this.lineVertexArray=new Dc,this.symbolInstances=new Ac},fl.prototype.calculateGlyphDependencies=function(Ne,et,tt,rt,nt){for(var it=0;it<Ne.length;it++)if(et[Ne.charCodeAt(it)]=!0,(tt||rt)&&nt){var ot=Jp[Ne.charAt(it)];ot&&(et[ot.charCodeAt(0)]=!0)}},fl.prototype.populate=function(Ne,et,tt){var rt=this.layers[0],nt=rt.layout,it=nt.get("text-font"),ot=nt.get("text-field"),at=nt.get("icon-image"),st=("constant"!==ot.value.kind||ot.value.value instanceof ee&&!ot.value.value.isEmpty()||ot.value.value.toString().length>0)&&("constant"!==it.value.kind||it.value.value.length>0),ct="constant"!==at.value.kind||!!at.value.value||Object.keys(at.parameters).length>0,pt=nt.get("symbol-sort-key");if(this.features=[],st||ct){for(var ft=et.iconDependencies,dt=et.glyphDependencies,mt=et.availableImages,yt=new ai(this.zoom),vt=0,Rt=Ne;vt<Rt.length;vt+=1){var Dt=Rt[vt],Ot=Dt.feature,Bt=Dt.id,er=Dt.index,rr=Dt.sourceLayerIndex,vr=rt._featureFilter.needGeometry,wr={type:Ot.type,id:Bt,properties:Ot.properties,geometry:vr?La(Ot):[]};if(rt._featureFilter.filter(yt,wr,tt)){vr||(wr.geometry=La(Ot));var Sr=void 0;if(st){var rn=rt.getValueAndResolveTokens("text-field",wr,tt,mt),vn=ee.factory(rn);pl(vn)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ri()||this.hasRTLText&&yl.isParsed())&&(Sr=qs(vn,rt,wr))}var bn=void 0;if(ct){var Tn=rt.getValueAndResolveTokens("icon-image",wr,tt,mt);bn=Tn instanceof re?Tn:re.fromString(Tn)}if(Sr||bn){var Cn=this.sortFeaturesByKey?pt.evaluate(wr,{},tt):void 0,In={id:Bt,text:Sr,icon:bn,index:er,sourceLayerIndex:rr,geometry:La(Ot),properties:Ot.properties,type:kh[Ot.type],sortKey:Cn};if(this.features.push(In),bn&&(ft[bn.name]=!0),Sr){var Mn=it.evaluate(wr,{},tt).join(","),zn="map"===nt.get("text-rotation-alignment")&&"point"!==nt.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(sh.vertical)>=0;for(var Ln=0,Fn=Sr.sections;Ln<Fn.length;Ln+=1){var Bn=Fn[Ln];if(Bn.image)ft[Bn.image.name]=!0;else{var Nn=Kn(Sr.toString()),Vn=Bn.fontStack||Mn,Wn=dt[Vn]=dt[Vn]||{};this.calculateGlyphDependencies(Bn.text,Wn,zn,this.allowVerticalPlacement,Nn)}}}}}}"line"===nt.get("symbol-placement")&&(this.features=function(Ne){var et={},tt={},rt=[],nt=0;function a(et){rt.push(Ne[et]),nt++}function o(Ne,et,nt){var it=tt[Ne];return delete tt[Ne],tt[et]=it,rt[it].geometry[0].pop(),rt[it].geometry[0]=rt[it].geometry[0].concat(nt[0]),it}function s(Ne,tt,nt){var it=et[tt];return delete et[tt],et[Ne]=it,rt[it].geometry[0].shift(),rt[it].geometry[0]=nt[0].concat(rt[it].geometry[0]),it}function u(Ne,et,tt){var rt=tt?et[0][et[0].length-1]:et[0][0];return Ne+":"+rt.x+":"+rt.y}for(var it=0;it<Ne.length;it++){var ot=Ne[it],at=ot.geometry,st=ot.text?ot.text.toString():null;if(st){var ct=u(st,at),pt=u(st,at,!0);if(ct in tt&&pt in et&&tt[ct]!==et[pt]){var ft=s(ct,pt,at),dt=o(ct,pt,rt[ft].geometry);delete et[ct],delete tt[pt],tt[u(st,rt[dt].geometry,!0)]=dt,rt[ft].geometry=null}else ct in tt?o(ct,pt,at):pt in et?s(ct,pt,at):(a(it),et[ct]=nt-1,tt[pt]=nt-1)}else a(it)}return rt.filter((function(Ne){return Ne.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(Ne,et){return Ne.sortKey-et.sortKey}))}},fl.prototype.update=function(Ne,et,tt){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(Ne,et,this.layers,tt),this.icon.programConfigurations.updatePaintArrays(Ne,et,this.layers,tt))},fl.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},fl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},fl.prototype.upload=function(Ne){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(Ne),this.iconCollisionBox.upload(Ne)),this.text.upload(Ne,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(Ne,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},fl.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},fl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},fl.prototype.addToLineVertexArray=function(Ne,et){var tt=this.lineVertexArray.length;if(void 0!==Ne.segment){for(var rt=Ne.dist(et[Ne.segment+1]),nt=Ne.dist(et[Ne.segment]),it={},ot=Ne.segment+1;ot<et.length;ot++)it[ot]={x:et[ot].x,y:et[ot].y,tileUnitDistanceFromAnchor:rt},ot<et.length-1&&(rt+=et[ot+1].dist(et[ot]));for(var at=Ne.segment||0;at>=0;at--)it[at]={x:et[at].x,y:et[at].y,tileUnitDistanceFromAnchor:nt},at>0&&(nt+=et[at-1].dist(et[at]));for(var st=0;st<et.length;st++){var ct=it[st];this.lineVertexArray.emplaceBack(ct.x,ct.y,ct.tileUnitDistanceFromAnchor)}}return{lineStartIndex:tt,lineLength:this.lineVertexArray.length-tt}},fl.prototype.addSymbols=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft){for(var dt=Ne.indexArray,mt=Ne.layoutVertexArray,yt=Ne.segments.prepareSegment(4*et.length,mt,dt,it.sortKey),vt=this.glyphOffsetArray.length,Rt=yt.vertexLength,Dt=this.allowVerticalPlacement&&ot===sh.vertical?Math.PI/2:0,Ot=it.text&&it.text.sections,Bt=0;Bt<et.length;Bt++){var er=et[Bt],rr=er.tl,vr=er.tr,wr=er.bl,Sr=er.br,rn=er.tex,vn=er.pixelOffsetTL,bn=er.pixelOffsetBR,Tn=er.minFontScaleX,Cn=er.minFontScaleY,In=er.glyphOffset,Mn=er.isSDF,zn=er.sectionIndex,Ln=yt.vertexLength,Fn=In[1];ul(mt,at.x,at.y,rr.x,Fn+rr.y,rn.x,rn.y,tt,Mn,vn.x,vn.y,Tn,Cn),ul(mt,at.x,at.y,vr.x,Fn+vr.y,rn.x+rn.w,rn.y,tt,Mn,bn.x,vn.y,Tn,Cn),ul(mt,at.x,at.y,wr.x,Fn+wr.y,rn.x,rn.y+rn.h,tt,Mn,vn.x,bn.y,Tn,Cn),ul(mt,at.x,at.y,Sr.x,Fn+Sr.y,rn.x+rn.w,rn.y+rn.h,tt,Mn,bn.x,bn.y,Tn,Cn),ll(Ne.dynamicLayoutVertexArray,at,Dt),dt.emplaceBack(Ln,Ln+1,Ln+2),dt.emplaceBack(Ln+1,Ln+2,Ln+3),yt.vertexLength+=4,yt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(In[0]),Bt!==et.length-1&&zn===et[Bt+1].sectionIndex||Ne.programConfigurations.populatePaintArrays(mt.length,it,it.index,{},ft,Ot&&Ot[zn])}Ne.placedSymbolArray.emplaceBack(at.x,at.y,vt,this.glyphOffsetArray.length-vt,Rt,st,ct,at.segment,tt?tt[0]:0,tt?tt[1]:0,rt[0],rt[1],ot,0,!1,0,pt)},fl.prototype._addCollisionDebugVertex=function(Ne,et,tt,rt,nt,it){return et.emplaceBack(0,0),Ne.emplaceBack(tt.x,tt.y,rt,nt,Math.round(it.x),Math.round(it.y))},fl.prototype.addCollisionDebugVertices=function(Ne,et,rt,nt,it,ot,at){var st=it.segments.prepareSegment(4,it.layoutVertexArray,it.indexArray),ct=st.vertexLength,pt=it.layoutVertexArray,ft=it.collisionVertexArray,dt=at.anchorX,mt=at.anchorY;this._addCollisionDebugVertex(pt,ft,ot,dt,mt,new tt(Ne,et)),this._addCollisionDebugVertex(pt,ft,ot,dt,mt,new tt(rt,et)),this._addCollisionDebugVertex(pt,ft,ot,dt,mt,new tt(rt,nt)),this._addCollisionDebugVertex(pt,ft,ot,dt,mt,new tt(Ne,nt)),st.vertexLength+=4;var yt=it.indexArray;yt.emplaceBack(ct,ct+1),yt.emplaceBack(ct+1,ct+2),yt.emplaceBack(ct+2,ct+3),yt.emplaceBack(ct+3,ct),st.primitiveLength+=4},fl.prototype.addDebugCollisionBoxes=function(Ne,et,tt,rt){for(var nt=Ne;nt<et;nt++){var it=this.collisionBoxArray.get(nt);this.addCollisionDebugVertices(it.x1,it.y1,it.x2,it.y2,rt?this.textCollisionBox:this.iconCollisionBox,it.anchorPoint,tt)}},fl.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new hl(Hl,Kp.members,yc),this.iconCollisionBox=new hl(Hl,Kp.members,yc);for(var Ne=0;Ne<this.symbolInstances.length;Ne++){var et=this.symbolInstances.get(Ne);this.addDebugCollisionBoxes(et.textBoxStartIndex,et.textBoxEndIndex,et,!0),this.addDebugCollisionBoxes(et.verticalTextBoxStartIndex,et.verticalTextBoxEndIndex,et,!0),this.addDebugCollisionBoxes(et.iconBoxStartIndex,et.iconBoxEndIndex,et,!1),this.addDebugCollisionBoxes(et.verticalIconBoxStartIndex,et.verticalIconBoxEndIndex,et,!1)}},fl.prototype._deserializeCollisionBoxesForSymbol=function(Ne,et,tt,rt,nt,it,ot,at,st){for(var ct={},pt=et;pt<tt;pt++){var ft=Ne.get(pt);ct.textBox={x1:ft.x1,y1:ft.y1,x2:ft.x2,y2:ft.y2,anchorPointX:ft.anchorPointX,anchorPointY:ft.anchorPointY},ct.textFeatureIndex=ft.featureIndex;break}for(var dt=rt;dt<nt;dt++){var mt=Ne.get(dt);ct.verticalTextBox={x1:mt.x1,y1:mt.y1,x2:mt.x2,y2:mt.y2,anchorPointX:mt.anchorPointX,anchorPointY:mt.anchorPointY},ct.verticalTextFeatureIndex=mt.featureIndex;break}for(var yt=it;yt<ot;yt++){var vt=Ne.get(yt);ct.iconBox={x1:vt.x1,y1:vt.y1,x2:vt.x2,y2:vt.y2,anchorPointX:vt.anchorPointX,anchorPointY:vt.anchorPointY},ct.iconFeatureIndex=vt.featureIndex;break}for(var Rt=at;Rt<st;Rt++){var Dt=Ne.get(Rt);ct.verticalIconBox={x1:Dt.x1,y1:Dt.y1,x2:Dt.x2,y2:Dt.y2,anchorPointX:Dt.anchorPointX,anchorPointY:Dt.anchorPointY},ct.verticalIconFeatureIndex=Dt.featureIndex;break}return ct},fl.prototype.deserializeCollisionBoxes=function(Ne){this.collisionArrays=[];for(var et=0;et<this.symbolInstances.length;et++){var tt=this.symbolInstances.get(et);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(Ne,tt.textBoxStartIndex,tt.textBoxEndIndex,tt.verticalTextBoxStartIndex,tt.verticalTextBoxEndIndex,tt.iconBoxStartIndex,tt.iconBoxEndIndex,tt.verticalIconBoxStartIndex,tt.verticalIconBoxEndIndex))}},fl.prototype.hasTextData=function(){return this.text.segments.get().length>0},fl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},fl.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},fl.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},fl.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},fl.prototype.addIndicesForPlacedSymbol=function(Ne,et){for(var tt=Ne.placedSymbolArray.get(et),rt=tt.vertexStartIndex+4*tt.numGlyphs,nt=tt.vertexStartIndex;nt<rt;nt+=4)Ne.indexArray.emplaceBack(nt,nt+1,nt+2),Ne.indexArray.emplaceBack(nt+1,nt+2,nt+3)},fl.prototype.getSortedSymbolIndexes=function(Ne){if(this.sortedAngle===Ne&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var et=Math.sin(Ne),tt=Math.cos(Ne),rt=[],nt=[],it=[],ot=0;ot<this.symbolInstances.length;++ot){it.push(ot);var at=this.symbolInstances.get(ot);rt.push(0|Math.round(et*at.anchorX+tt*at.anchorY)),nt.push(at.featureIndex)}return it.sort((function(Ne,et){return rt[Ne]-rt[et]||nt[et]-nt[Ne]})),it},fl.prototype.addToSortKeyRanges=function(Ne,et){var tt=this.sortKeyRanges[this.sortKeyRanges.length-1];tt&&tt.sortKey===et?tt.symbolInstanceEnd=Ne+1:this.sortKeyRanges.push({sortKey:et,symbolInstanceStart:Ne,symbolInstanceEnd:Ne+1})},fl.prototype.sortFeatures=function(Ne){var et=this;if(this.sortFeaturesByY&&this.sortedAngle!==Ne&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(Ne),this.sortedAngle=Ne,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var tt=0,rt=this.symbolInstanceIndexes;tt<rt.length;tt+=1){var nt=this.symbolInstances.get(rt[tt]);this.featureSortOrder.push(nt.featureIndex),[nt.rightJustifiedTextSymbolIndex,nt.centerJustifiedTextSymbolIndex,nt.leftJustifiedTextSymbolIndex].forEach((function(Ne,tt,rt){Ne>=0&&rt.indexOf(Ne)===tt&&et.addIndicesForPlacedSymbol(et.text,Ne)})),nt.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,nt.verticalPlacedTextSymbolIndex),nt.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,nt.placedIconSymbolIndex),nt.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,nt.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Dn("SymbolBucket",fl,{omit:["layers","collisionBoxArray","features","compareText"]}),fl.MAX_GLYPHS=65535,fl.addDynamicAttributes=ll;var Oh=new xi({"symbol-placement":new yi(Yn.layout_symbol["symbol-placement"]),"symbol-spacing":new yi(Yn.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new yi(Yn.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new di(Yn.layout_symbol["symbol-sort-key"]),"symbol-z-order":new yi(Yn.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new yi(Yn.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new yi(Yn.layout_symbol["icon-ignore-placement"]),"icon-optional":new yi(Yn.layout_symbol["icon-optional"]),"icon-rotation-alignment":new yi(Yn.layout_symbol["icon-rotation-alignment"]),"icon-size":new di(Yn.layout_symbol["icon-size"]),"icon-text-fit":new yi(Yn.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new yi(Yn.layout_symbol["icon-text-fit-padding"]),"icon-image":new di(Yn.layout_symbol["icon-image"]),"icon-rotate":new di(Yn.layout_symbol["icon-rotate"]),"icon-padding":new yi(Yn.layout_symbol["icon-padding"]),"icon-keep-upright":new yi(Yn.layout_symbol["icon-keep-upright"]),"icon-offset":new di(Yn.layout_symbol["icon-offset"]),"icon-anchor":new di(Yn.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new yi(Yn.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new yi(Yn.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new yi(Yn.layout_symbol["text-rotation-alignment"]),"text-field":new di(Yn.layout_symbol["text-field"]),"text-font":new di(Yn.layout_symbol["text-font"]),"text-size":new di(Yn.layout_symbol["text-size"]),"text-max-width":new di(Yn.layout_symbol["text-max-width"]),"text-line-height":new yi(Yn.layout_symbol["text-line-height"]),"text-letter-spacing":new di(Yn.layout_symbol["text-letter-spacing"]),"text-justify":new di(Yn.layout_symbol["text-justify"]),"text-radial-offset":new di(Yn.layout_symbol["text-radial-offset"]),"text-variable-anchor":new yi(Yn.layout_symbol["text-variable-anchor"]),"text-anchor":new di(Yn.layout_symbol["text-anchor"]),"text-max-angle":new yi(Yn.layout_symbol["text-max-angle"]),"text-writing-mode":new yi(Yn.layout_symbol["text-writing-mode"]),"text-rotate":new di(Yn.layout_symbol["text-rotate"]),"text-padding":new yi(Yn.layout_symbol["text-padding"]),"text-keep-upright":new yi(Yn.layout_symbol["text-keep-upright"]),"text-transform":new di(Yn.layout_symbol["text-transform"]),"text-offset":new di(Yn.layout_symbol["text-offset"]),"text-allow-overlap":new yi(Yn.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new yi(Yn.layout_symbol["text-ignore-placement"]),"text-optional":new yi(Yn.layout_symbol["text-optional"])}),jh={paint:new xi({"icon-opacity":new di(Yn.paint_symbol["icon-opacity"]),"icon-color":new di(Yn.paint_symbol["icon-color"]),"icon-halo-color":new di(Yn.paint_symbol["icon-halo-color"]),"icon-halo-width":new di(Yn.paint_symbol["icon-halo-width"]),"icon-halo-blur":new di(Yn.paint_symbol["icon-halo-blur"]),"icon-translate":new yi(Yn.paint_symbol["icon-translate"]),"icon-translate-anchor":new yi(Yn.paint_symbol["icon-translate-anchor"]),"text-opacity":new di(Yn.paint_symbol["text-opacity"]),"text-color":new di(Yn.paint_symbol["text-color"],{runtimeType:So,getOverride:function(Ne){return Ne.textColor},hasOverride:function(Ne){return!!Ne.textColor}}),"text-halo-color":new di(Yn.paint_symbol["text-halo-color"]),"text-halo-width":new di(Yn.paint_symbol["text-halo-width"]),"text-halo-blur":new di(Yn.paint_symbol["text-halo-blur"]),"text-translate":new yi(Yn.paint_symbol["text-translate"]),"text-translate-anchor":new yi(Yn.paint_symbol["text-translate-anchor"])}),layout:Oh},ml=function(Ne){this.type=Ne.property.overrides?Ne.property.overrides.runtimeType:qi,this.defaultValue=Ne};ml.prototype.evaluate=function(Ne){if(Ne.formattedSection){var et=this.defaultValue.property.overrides;if(et&&et.hasOverride(Ne.formattedSection))return et.getOverride(Ne.formattedSection)}return Ne.feature&&Ne.featureState?this.defaultValue.evaluate(Ne.feature,Ne.featureState):this.defaultValue.property.specification.default},ml.prototype.eachChild=function(Ne){this.defaultValue.isConstant()||Ne(this.defaultValue.value._styleExpression.expression)},ml.prototype.outputDefined=function(){return!1},ml.prototype.serialize=function(){return null},Dn("FormatSectionOverride",ml,{omit:["defaultValue"]});var qh=function(Ne){function e(et){Ne.call(this,et,jh)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.recalculate=function(et,tt){if(Ne.prototype.recalculate.call(this,et,tt),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var rt=this.layout.get("text-writing-mode");if(rt){for(var nt=[],it=0,ot=rt;it<ot.length;it+=1){var at=ot[it];nt.indexOf(at)<0&&nt.push(at)}this.layout._values["text-writing-mode"]=nt}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(Ne,et,tt,rt){var nt=this.layout.get(Ne).evaluate(et,{},tt,rt),it=this._unevaluatedLayout._values[Ne];return it.isDataDriven()||Nr(it.value)||!nt?nt:function(Ne,et){return et.replace(/{([^{}]+)}/g,(function(et,tt){return tt in Ne?String(Ne[tt]):""}))}(et.properties,nt)},e.prototype.createBucket=function(Ne){return new fl(Ne)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var Ne=0,et=jh.paint.overridableProperties;Ne<et.length;Ne+=1){var tt=et[Ne];if(e.hasPaintOverride(this.layout,tt)){var rt,nt=this.paint.get(tt),it=new ml(nt),ot=new qr(it,nt.property.specification);rt="constant"===nt.value.kind||"source"===nt.value.kind?new Gr("source",ot):new Zr("composite",ot,nt.value.zoomStops,nt.value._interpolationType),this.paint._values[tt]=new hi(nt.property,rt,nt.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(Ne,et,tt){return!(!this.layout||et.isDataDriven()||tt.isDataDriven())&&e.hasPaintOverride(this.layout,Ne)},e.hasPaintOverride=function(Ne,et){var tt=Ne.get("text-field"),rt=jh.paint.properties[et],nt=!1,a=function(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(rt.overrides&&rt.overrides.hasOverride(tt[et]))return void(nt=!0)};if("constant"===tt.value.kind&&tt.value.value instanceof ee)a(tt.value.value.sections);else if("source"===tt.value.kind){var o=function(Ne){nt||(Ne instanceof se&&ae(Ne.value)===sa?a(Ne.value.sections):Ne instanceof ce?a(Ne.sections):Ne.eachChild(o))},it=tt.value;it._styleExpression&&o(it._styleExpression.expression)}return nt},e}(_l),Yh={paint:new xi({"background-color":new yi(Yn.paint_background["background-color"]),"background-pattern":new vi(Yn.paint_background["background-pattern"]),"background-opacity":new yi(Yn.paint_background["background-opacity"])})},Qh=function(Ne){function e(et){Ne.call(this,et,Yh)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(_l),ef={paint:new xi({"raster-opacity":new yi(Yn.paint_raster["raster-opacity"]),"raster-hue-rotate":new yi(Yn.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new yi(Yn.paint_raster["raster-brightness-min"]),"raster-brightness-max":new yi(Yn.paint_raster["raster-brightness-max"]),"raster-saturation":new yi(Yn.paint_raster["raster-saturation"]),"raster-contrast":new yi(Yn.paint_raster["raster-contrast"]),"raster-resampling":new yi(Yn.paint_raster["raster-resampling"]),"raster-fade-duration":new yi(Yn.paint_raster["raster-fade-duration"])})},tf=function(Ne){function e(et){Ne.call(this,et,ef)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(_l),rf=function(Ne){function e(et){Ne.call(this,et,{}),this.implementation=et}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(Ne){this.implementation.onAdd&&this.implementation.onAdd(Ne,Ne.painter.context.gl)},e.prototype.onRemove=function(Ne){this.implementation.onRemove&&this.implementation.onRemove(Ne,Ne.painter.context.gl)},e}(_l),nf={circle:_p,heatmap:wp,hillshade:Sp,fill:Ap,"fill-extrusion":Bp,line:Gp,symbol:qh,background:Qh,raster:tf},af=rt.HTMLImageElement,sf=rt.HTMLCanvasElement,lf=rt.HTMLVideoElement,uf=rt.ImageData,cf=rt.ImageBitmap,Ml=function(Ne,et,tt,rt){this.context=Ne,this.format=tt,this.texture=Ne.gl.createTexture(),this.update(et,rt)};Ml.prototype.update=function(Ne,et,tt){var rt=Ne.width,nt=Ne.height,it=!(this.size&&this.size[0]===rt&&this.size[1]===nt||tt),ot=this.context,at=ot.gl;if(this.useMipmap=Boolean(et&&et.useMipmap),at.bindTexture(at.TEXTURE_2D,this.texture),ot.pixelStoreUnpackFlipY.set(!1),ot.pixelStoreUnpack.set(1),ot.pixelStoreUnpackPremultiplyAlpha.set(this.format===at.RGBA&&(!et||!1!==et.premultiply)),it)this.size=[rt,nt],Ne instanceof af||Ne instanceof sf||Ne instanceof lf||Ne instanceof uf||cf&&Ne instanceof cf?at.texImage2D(at.TEXTURE_2D,0,this.format,this.format,at.UNSIGNED_BYTE,Ne):at.texImage2D(at.TEXTURE_2D,0,this.format,rt,nt,0,this.format,at.UNSIGNED_BYTE,Ne.data);else{var st=tt||{x:0,y:0},ct=st.x,pt=st.y;Ne instanceof af||Ne instanceof sf||Ne instanceof lf||Ne instanceof uf||cf&&Ne instanceof cf?at.texSubImage2D(at.TEXTURE_2D,0,ct,pt,at.RGBA,at.UNSIGNED_BYTE,Ne):at.texSubImage2D(at.TEXTURE_2D,0,ct,pt,rt,nt,at.RGBA,at.UNSIGNED_BYTE,Ne.data)}this.useMipmap&&this.isSizePowerOfTwo()&&at.generateMipmap(at.TEXTURE_2D)},Ml.prototype.bind=function(Ne,et,tt){var rt=this.context.gl;rt.bindTexture(rt.TEXTURE_2D,this.texture),tt!==rt.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(tt=rt.LINEAR),Ne!==this.filter&&(rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MAG_FILTER,Ne),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MIN_FILTER,tt||Ne),this.filter=Ne),et!==this.wrap&&(rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_S,et),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_T,et),this.wrap=et)},Ml.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ml.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var El=function(Ne){var et=this;this._callback=Ne,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){et._triggered=!1,et._callback()})};El.prototype.trigger=function(){var Ne=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){Ne._triggered=!1,Ne._callback()}),0))},El.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Tl=function(Ne,et,tt){this.target=Ne,this.parent=et,this.mapId=tt,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},m(["receive","process"],this),this.invoker=new El(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=k()?Ne:rt};function Pl(Ne,et,tt){var rt=2*Math.PI*6378137/256/Math.pow(2,tt);return[Ne*rt-2*Math.PI*6378137/2,et*rt-2*Math.PI*6378137/2]}Tl.prototype.send=function(Ne,et,tt,rt,nt){var it=this;void 0===nt&&(nt=!1);var ot=Math.round(1e18*Math.random()).toString(36).substring(0,10);tt&&(this.callbacks[ot]=tt);var at=C(this.globalScope)?void 0:[];return this.target.postMessage({id:ot,type:Ne,hasCallback:!!tt,targetMapId:rt,mustQueue:nt,sourceMapId:this.mapId,data:Un(et,at)},at),{cancel:function(){tt&&delete it.callbacks[ot],it.target.postMessage({id:ot,type:"<cancel>",targetMapId:rt,sourceMapId:it.mapId})}}},Tl.prototype.receive=function(Ne){var et=Ne.data,tt=et.id;if(tt&&(!et.targetMapId||this.mapId===et.targetMapId))if("<cancel>"===et.type){delete this.tasks[tt];var rt=this.cancelCallbacks[tt];delete this.cancelCallbacks[tt],rt&&rt()}else k()||et.mustQueue?(this.tasks[tt]=et,this.taskQueue.push(tt),this.invoker.trigger()):this.processTask(tt,et)},Tl.prototype.process=function(){if(this.taskQueue.length){var Ne=this.taskQueue.shift(),et=this.tasks[Ne];delete this.tasks[Ne],this.taskQueue.length&&this.invoker.trigger(),et&&this.processTask(Ne,et)}},Tl.prototype.processTask=function(Ne,et){var tt=this;if("<response>"===et.type){var rt=this.callbacks[Ne];delete this.callbacks[Ne],rt&&(et.error?rt(jn(et.error)):rt(null,jn(et.data)))}else{var nt=!1,it=C(this.globalScope)?void 0:[],ot=et.hasCallback?function(et,rt){nt=!0,delete tt.cancelCallbacks[Ne],tt.target.postMessage({id:Ne,type:"<response>",sourceMapId:tt.mapId,error:et?Un(et):null,data:Un(rt,it)},it)}:function(Ne){nt=!0},at=null,st=jn(et.data);if(this.parent[et.type])at=this.parent[et.type](et.sourceMapId,st,ot);else if(this.parent.getWorkerSource){var ct=et.type.split(".");at=this.parent.getWorkerSource(et.sourceMapId,ct[0],st.source)[ct[1]](st,ot)}else ot(new Error("Could not find function "+et.type));!nt&&at&&at.cancel&&(this.cancelCallbacks[Ne]=at.cancel)}},Tl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Bl=function(Ne,et){Ne&&(et?this.setSouthWest(Ne).setNorthEast(et):4===Ne.length?this.setSouthWest([Ne[0],Ne[1]]).setNorthEast([Ne[2],Ne[3]]):this.setSouthWest(Ne[0]).setNorthEast(Ne[1]))};Bl.prototype.setNorthEast=function(Ne){return this._ne=Ne instanceof Vl?new Vl(Ne.lng,Ne.lat):Vl.convert(Ne),this},Bl.prototype.setSouthWest=function(Ne){return this._sw=Ne instanceof Vl?new Vl(Ne.lng,Ne.lat):Vl.convert(Ne),this},Bl.prototype.extend=function(Ne){var et,tt,rt=this._sw,nt=this._ne;if(Ne instanceof Vl)et=Ne,tt=Ne;else{if(!(Ne instanceof Bl))return Array.isArray(Ne)?4===Ne.length||Ne.every(Array.isArray)?this.extend(Bl.convert(Ne)):this.extend(Vl.convert(Ne)):this;if(tt=Ne._ne,!(et=Ne._sw)||!tt)return this}return rt||nt?(rt.lng=Math.min(et.lng,rt.lng),rt.lat=Math.min(et.lat,rt.lat),nt.lng=Math.max(tt.lng,nt.lng),nt.lat=Math.max(tt.lat,nt.lat)):(this._sw=new Vl(et.lng,et.lat),this._ne=new Vl(tt.lng,tt.lat)),this},Bl.prototype.getCenter=function(){return new Vl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Bl.prototype.getSouthWest=function(){return this._sw},Bl.prototype.getNorthEast=function(){return this._ne},Bl.prototype.getNorthWest=function(){return new Vl(this.getWest(),this.getNorth())},Bl.prototype.getSouthEast=function(){return new Vl(this.getEast(),this.getSouth())},Bl.prototype.getWest=function(){return this._sw.lng},Bl.prototype.getSouth=function(){return this._sw.lat},Bl.prototype.getEast=function(){return this._ne.lng},Bl.prototype.getNorth=function(){return this._ne.lat},Bl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Bl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Bl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Bl.prototype.contains=function(Ne){var et=Vl.convert(Ne),tt=et.lng,rt=et.lat,nt=this._sw.lng<=tt&&tt<=this._ne.lng;return this._sw.lng>this._ne.lng&&(nt=this._sw.lng>=tt&&tt>=this._ne.lng),this._sw.lat<=rt&&rt<=this._ne.lat&&nt},Bl.convert=function(Ne){return!Ne||Ne instanceof Bl?Ne:new Bl(Ne)};var Vl=function(Ne,et){if(isNaN(Ne)||isNaN(et))throw new Error("Invalid LngLat object: ("+Ne+", "+et+")");if(this.lng=+Ne,this.lat=+et,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Vl.prototype.wrap=function(){return new Vl(p(this.lng,-180,180),this.lat)},Vl.prototype.toArray=function(){return[this.lng,this.lat]},Vl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Vl.prototype.distanceTo=function(Ne){var et=Math.PI/180,tt=this.lat*et,rt=Ne.lat*et,nt=Math.sin(tt)*Math.sin(rt)+Math.cos(tt)*Math.cos(rt)*Math.cos((Ne.lng-this.lng)*et);return 6371008.8*Math.acos(Math.min(nt,1))},Vl.prototype.toBounds=function(Ne){void 0===Ne&&(Ne=0);var et=360*Ne/40075017,tt=et/Math.cos(Math.PI/180*this.lat);return new Bl(new Vl(this.lng-tt,this.lat-et),new Vl(this.lng+tt,this.lat+et))},Vl.convert=function(Ne){if(Ne instanceof Vl)return Ne;if(Array.isArray(Ne)&&(2===Ne.length||3===Ne.length))return new Vl(Number(Ne[0]),Number(Ne[1]));if(!Array.isArray(Ne)&&"object"==typeof Ne&&null!==Ne)return new Vl(Number("lng"in Ne?Ne.lng:Ne.lon),Number(Ne.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var pf=2*Math.PI*6371008.8;function Dl(Ne){return pf*Math.cos(Ne*Math.PI/180)}function Ll(Ne){return(180+Ne)/360}function Rl(Ne){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Ne*Math.PI/360)))/360}function Ol(Ne,et){return Ne/Dl(et)}function Ul(Ne){return 360/Math.PI*Math.atan(Math.exp((180-360*Ne)*Math.PI/180))-90}var jl=function(Ne,et,tt){void 0===tt&&(tt=0),this.x=+Ne,this.y=+et,this.z=+tt};jl.fromLngLat=function(Ne,et){void 0===et&&(et=0);var tt=Vl.convert(Ne);return new jl(Ll(tt.lng),Rl(tt.lat),Ol(et,tt.lat))},jl.prototype.toLngLat=function(){return new Vl(360*this.x-180,Ul(this.y))},jl.prototype.toAltitude=function(){return this.z*Dl(Ul(this.y))},jl.prototype.meterInMercatorCoordinateUnits=function(){return 1/pf*(Ne=Ul(this.y),1/Math.cos(Ne*Math.PI/180));var Ne};var ql=function(Ne,et,tt){this.z=Ne,this.x=et,this.y=tt,this.key=Gl(0,Ne,Ne,et,tt)};ql.prototype.equals=function(Ne){return this.z===Ne.z&&this.x===Ne.x&&this.y===Ne.y},ql.prototype.url=function(Ne,et){var tt,rt,nt,it,ot,at=(rt=this.y,nt=this.z,it=Pl(256*(tt=this.x),256*(rt=Math.pow(2,nt)-rt-1),nt),ot=Pl(256*(tt+1),256*(rt+1),nt),it[0]+","+it[1]+","+ot[0]+","+ot[1]),st=function(Ne,et,tt){for(var rt,nt="",it=Ne;it>0;it--)nt+=(et&(rt=1<<it-1)?1:0)+(tt&rt?2:0);return nt}(this.z,this.x,this.y);return Ne[(this.x+this.y)%Ne.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===et?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",st).replace("{bbox-epsg-3857}",at)},ql.prototype.getTilePoint=function(Ne){var et=Math.pow(2,this.z);return new tt(8192*(Ne.x*et-this.x),8192*(Ne.y*et-this.y))},ql.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Nl=function(Ne,et){this.wrap=Ne,this.canonical=et,this.key=Gl(Ne,et.z,et.z,et.x,et.y)},Kl=function(Ne,et,tt,rt,nt){this.overscaledZ=Ne,this.wrap=et,this.canonical=new ql(tt,+rt,+nt),this.key=Gl(et,Ne,tt,rt,nt)};function Gl(Ne,et,tt,rt,nt){(Ne*=2)<0&&(Ne=-1*Ne-1);var it=1<<tt;return(it*it*Ne+it*nt+rt).toString(36)+tt.toString(36)+et.toString(36)}Kl.prototype.equals=function(Ne){return this.overscaledZ===Ne.overscaledZ&&this.wrap===Ne.wrap&&this.canonical.equals(Ne.canonical)},Kl.prototype.scaledTo=function(Ne){var et=this.canonical.z-Ne;return Ne>this.canonical.z?new Kl(Ne,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Kl(Ne,this.wrap,Ne,this.canonical.x>>et,this.canonical.y>>et)},Kl.prototype.calculateScaledKey=function(Ne,et){var tt=this.canonical.z-Ne;return Ne>this.canonical.z?Gl(this.wrap*+et,Ne,this.canonical.z,this.canonical.x,this.canonical.y):Gl(this.wrap*+et,Ne,Ne,this.canonical.x>>tt,this.canonical.y>>tt)},Kl.prototype.isChildOf=function(Ne){if(Ne.wrap!==this.wrap)return!1;var et=this.canonical.z-Ne.canonical.z;return 0===Ne.overscaledZ||Ne.overscaledZ<this.overscaledZ&&Ne.canonical.x===this.canonical.x>>et&&Ne.canonical.y===this.canonical.y>>et},Kl.prototype.children=function(Ne){if(this.overscaledZ>=Ne)return[new Kl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var et=this.canonical.z+1,tt=2*this.canonical.x,rt=2*this.canonical.y;return[new Kl(et,this.wrap,et,tt,rt),new Kl(et,this.wrap,et,tt+1,rt),new Kl(et,this.wrap,et,tt,rt+1),new Kl(et,this.wrap,et,tt+1,rt+1)]},Kl.prototype.isLessThan=function(Ne){return this.wrap<Ne.wrap||!(this.wrap>Ne.wrap)&&(this.overscaledZ<Ne.overscaledZ||!(this.overscaledZ>Ne.overscaledZ)&&(this.canonical.x<Ne.canonical.x||!(this.canonical.x>Ne.canonical.x)&&this.canonical.y<Ne.canonical.y))},Kl.prototype.wrapped=function(){return new Kl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Kl.prototype.unwrapTo=function(Ne){return new Kl(this.overscaledZ,Ne,this.canonical.z,this.canonical.x,this.canonical.y)},Kl.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Kl.prototype.toUnwrapped=function(){return new Nl(this.wrap,this.canonical)},Kl.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Kl.prototype.getTilePoint=function(Ne){return this.canonical.getTilePoint(new jl(Ne.x-this.wrap,Ne.y))},Dn("CanonicalTileID",ql),Dn("OverscaledTileID",Kl,{omit:["posMatrix"]});var Zl=function(Ne,et,tt){if(this.uid=Ne,et.height!==et.width)throw new RangeError("DEM tiles must be square");if(tt&&"mapbox"!==tt&&"terrarium"!==tt)return _('"'+tt+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=et.height;var rt=this.dim=et.height-2;this.data=new Uint32Array(et.data.buffer),this.encoding=tt||"mapbox";for(var nt=0;nt<rt;nt++)this.data[this._idx(-1,nt)]=this.data[this._idx(0,nt)],this.data[this._idx(rt,nt)]=this.data[this._idx(rt-1,nt)],this.data[this._idx(nt,-1)]=this.data[this._idx(nt,0)],this.data[this._idx(nt,rt)]=this.data[this._idx(nt,rt-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(rt,-1)]=this.data[this._idx(rt-1,0)],this.data[this._idx(-1,rt)]=this.data[this._idx(0,rt-1)],this.data[this._idx(rt,rt)]=this.data[this._idx(rt-1,rt-1)]};Zl.prototype.get=function(Ne,et){var tt=new Uint8Array(this.data.buffer),rt=4*this._idx(Ne,et);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(tt[rt],tt[rt+1],tt[rt+2])},Zl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Zl.prototype._idx=function(Ne,et){if(Ne<-1||Ne>=this.dim+1||et<-1||et>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(et+1)*this.stride+(Ne+1)},Zl.prototype._unpackMapbox=function(Ne,et,tt){return(256*Ne*256+256*et+tt)/10-1e4},Zl.prototype._unpackTerrarium=function(Ne,et,tt){return 256*Ne+et+tt/256-32768},Zl.prototype.getPixels=function(){return new mo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Zl.prototype.backfillBorder=function(Ne,et,tt){if(this.dim!==Ne.dim)throw new Error("dem dimension mismatch");var rt=et*this.dim,nt=et*this.dim+this.dim,it=tt*this.dim,ot=tt*this.dim+this.dim;switch(et){case-1:rt=nt-1;break;case 1:nt=rt+1}switch(tt){case-1:it=ot-1;break;case 1:ot=it+1}for(var at=-et*this.dim,st=-tt*this.dim,ct=it;ct<ot;ct++)for(var pt=rt;pt<nt;pt++)this.data[this._idx(pt,ct)]=Ne.data[this._idx(pt+at,ct+st)]},Dn("DEMData",Zl);var Xl=function(Ne){this._stringToNumber={},this._numberToString=[];for(var et=0;et<Ne.length;et++){var tt=Ne[et];this._stringToNumber[tt]=et,this._numberToString[et]=tt}};Xl.prototype.encode=function(Ne){return this._stringToNumber[Ne]},Xl.prototype.decode=function(Ne){return this._numberToString[Ne]};var Jl=function(Ne,et,tt,rt,nt){this.type="Feature",this._vectorTileFeature=Ne,Ne._z=et,Ne._x=tt,Ne._y=rt,this.properties=Ne.properties,this.id=nt},hf={geometry:{configurable:!0}};hf.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},hf.geometry.set=function(Ne){this._geometry=Ne},Jl.prototype.toJSON=function(){var Ne={geometry:this.geometry};for(var et in this)"_geometry"!==et&&"_vectorTileFeature"!==et&&(Ne[et]=this[et]);return Ne},Object.defineProperties(Jl.prototype,hf);var Yl=function(){this.state={},this.stateChanges={},this.deletedStates={}};Yl.prototype.updateState=function(Ne,et,tt){var rt=String(et);if(this.stateChanges[Ne]=this.stateChanges[Ne]||{},this.stateChanges[Ne][rt]=this.stateChanges[Ne][rt]||{},c(this.stateChanges[Ne][rt],tt),null===this.deletedStates[Ne])for(var nt in this.deletedStates[Ne]={},this.state[Ne])nt!==rt&&(this.deletedStates[Ne][nt]=null);else if(this.deletedStates[Ne]&&null===this.deletedStates[Ne][rt])for(var it in this.deletedStates[Ne][rt]={},this.state[Ne][rt])tt[it]||(this.deletedStates[Ne][rt][it]=null);else for(var ot in tt)this.deletedStates[Ne]&&this.deletedStates[Ne][rt]&&null===this.deletedStates[Ne][rt][ot]&&delete this.deletedStates[Ne][rt][ot]},Yl.prototype.removeFeatureState=function(Ne,et,tt){if(null!==this.deletedStates[Ne]){var rt=String(et);if(this.deletedStates[Ne]=this.deletedStates[Ne]||{},tt&&void 0!==et)null!==this.deletedStates[Ne][rt]&&(this.deletedStates[Ne][rt]=this.deletedStates[Ne][rt]||{},this.deletedStates[Ne][rt][tt]=null);else if(void 0!==et)if(this.stateChanges[Ne]&&this.stateChanges[Ne][rt])for(tt in this.deletedStates[Ne][rt]={},this.stateChanges[Ne][rt])this.deletedStates[Ne][rt][tt]=null;else this.deletedStates[Ne][rt]=null;else this.deletedStates[Ne]=null}},Yl.prototype.getState=function(Ne,et){var tt=String(et),rt=c({},(this.state[Ne]||{})[tt],(this.stateChanges[Ne]||{})[tt]);if(null===this.deletedStates[Ne])return{};if(this.deletedStates[Ne]){var nt=this.deletedStates[Ne][et];if(null===nt)return{};for(var it in nt)delete rt[it]}return rt},Yl.prototype.initializeTileState=function(Ne,et){Ne.setFeatureState(this.state,et)},Yl.prototype.coalesceChanges=function(Ne,et){var tt={};for(var rt in this.stateChanges){this.state[rt]=this.state[rt]||{};var nt={};for(var it in this.stateChanges[rt])this.state[rt][it]||(this.state[rt][it]={}),c(this.state[rt][it],this.stateChanges[rt][it]),nt[it]=this.state[rt][it];tt[rt]=nt}for(var ot in this.deletedStates){this.state[ot]=this.state[ot]||{};var at={};if(null===this.deletedStates[ot])for(var st in this.state[ot])at[st]={},this.state[ot][st]={};else for(var ct in this.deletedStates[ot]){if(null===this.deletedStates[ot][ct])this.state[ot][ct]={};else for(var pt=0,ft=Object.keys(this.deletedStates[ot][ct]);pt<ft.length;pt+=1)delete this.state[ot][ct][ft[pt]];at[ct]=this.state[ot][ct]}tt[ot]=tt[ot]||{},c(tt[ot],at)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(tt).length)for(var dt in Ne)Ne[dt].setFeatureState(tt,et)};var $l=function(Ne,et){this.tileID=Ne,this.x=Ne.canonical.x,this.y=Ne.canonical.y,this.z=Ne.canonical.z,this.grid=new Vs(8192,16,0),this.grid3D=new Vs(8192,16,0),this.featureIndexArray=new Bc,this.promoteId=et};function Wl(Ne,et,tt,rt,nt){return g(Ne,(function(Ne,it){var ot=et instanceof fi?et.get(it):null;return ot&&ot.evaluate?ot.evaluate(tt,rt,nt):ot}))}function Ql(Ne){for(var et=1/0,tt=1/0,rt=-1/0,nt=-1/0,it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it];et=Math.min(et,at.x),tt=Math.min(tt,at.y),rt=Math.max(rt,at.x),nt=Math.max(nt,at.y)}return{minX:et,minY:tt,maxX:rt,maxY:nt}}function tp(Ne,et){return et-Ne}$l.prototype.insert=function(Ne,et,tt,rt,nt,it){var ot=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(tt,rt,nt);for(var at=it?this.grid3D:this.grid,st=0;st<et.length;st++){for(var ct=et[st],pt=[1/0,1/0,-1/0,-1/0],ft=0;ft<ct.length;ft++){var dt=ct[ft];pt[0]=Math.min(pt[0],dt.x),pt[1]=Math.min(pt[1],dt.y),pt[2]=Math.max(pt[2],dt.x),pt[3]=Math.max(pt[3],dt.y)}pt[0]<8192&&pt[1]<8192&&pt[2]>=0&&pt[3]>=0&&at.insert(ot,pt[0],pt[1],pt[2],pt[3])}},$l.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Lp.VectorTile(new Qp(this.rawTileData)).layers,this.sourceLayerCoder=new Xl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},$l.prototype.query=function(Ne,et,rt,nt){var it=this;this.loadVTLayers();for(var ot=Ne.params||{},at=8192/Ne.tileSize/Ne.scale,st=nn(ot.filter),ct=Ne.queryGeometry,pt=Ne.queryPadding*at,ft=Ql(ct),dt=this.grid.query(ft.minX-pt,ft.minY-pt,ft.maxX+pt,ft.maxY+pt),mt=Ql(Ne.cameraQueryGeometry),yt=this.grid3D.query(mt.minX-pt,mt.minY-pt,mt.maxX+pt,mt.maxY+pt,(function(et,rt,nt,it){return function(Ne,et,rt,nt,it){for(var ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot];if(et<=st.x&&rt<=st.y&&nt>=st.x&&it>=st.y)return!0}var ct=[new tt(et,rt),new tt(et,it),new tt(nt,it),new tt(nt,rt)];if(Ne.length>2)for(var pt=0,ft=ct;pt<ft.length;pt+=1)if(Ha(Ne,ft[pt]))return!0;for(var dt=0;dt<Ne.length-1;dt++)if(Ya(Ne[dt],Ne[dt+1],ct))return!0;return!1}(Ne.cameraQueryGeometry,et-pt,rt-pt,nt+pt,it+pt)})),vt=0,Rt=yt;vt<Rt.length;vt+=1)dt.push(Rt[vt]);dt.sort(tp);for(var Dt,Ot={},x=function(tt){var pt=dt[tt];if(pt!==Dt){Dt=pt;var ft=it.featureIndexArray.get(pt),mt=null;it.loadMatchingFeature(Ot,ft.bucketIndex,ft.sourceLayerIndex,ft.featureIndex,st,ot.layers,ot.availableImages,et,rt,nt,(function(et,tt,rt){return mt||(mt=La(et)),tt.queryIntersectsFeature(ct,et,rt,mt,it.z,Ne.transform,at,Ne.pixelPosMatrix)}))}},Bt=0;Bt<dt.length;Bt++)x(Bt);return Ot},$l.prototype.loadMatchingFeature=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt){var ft=this.bucketLayerIDs[et];if(!it||function(Ne,et){for(var tt=0;tt<Ne.length;tt++)if(et.indexOf(Ne[tt])>=0)return!0;return!1}(it,ft)){var dt=this.sourceLayerCoder.decode(tt),mt=this.vtLayers[dt].feature(rt);if(nt.filter(new ai(this.tileID.overscaledZ),mt))for(var yt=this.getId(mt,dt),vt=0;vt<ft.length;vt++){var Rt=ft[vt];if(!(it&&it.indexOf(Rt)<0)){var Dt=at[Rt];if(Dt){var Ot={};void 0!==yt&&ct&&(Ot=ct.getState(Dt.sourceLayer||"_geojsonTileLayer",yt));var Bt=st[Rt];Bt.paint=Wl(Bt.paint,Dt.paint,mt,Ot,ot),Bt.layout=Wl(Bt.layout,Dt.layout,mt,Ot,ot);var er=!pt||pt(mt,Dt,Ot);if(er){var rr=new Jl(mt,this.z,this.x,this.y,yt);rr.layer=Bt;var vr=Ne[Rt];void 0===vr&&(vr=Ne[Rt]=[]),vr.push({featureIndex:rt,feature:rr,intersectionZ:er})}}}}}},$l.prototype.lookupSymbolFeatures=function(Ne,et,tt,rt,nt,it,ot,at){var st={};this.loadVTLayers();for(var ct=nn(nt),pt=0,ft=Ne;pt<ft.length;pt+=1)this.loadMatchingFeature(st,tt,rt,ft[pt],ct,it,ot,at,et);return st},$l.prototype.hasLayer=function(Ne){for(var et=0,tt=this.bucketLayerIDs;et<tt.length;et+=1)for(var rt=0,nt=tt[et];rt<nt.length;rt+=1)if(Ne===nt[rt])return!0;return!1},$l.prototype.getId=function(Ne,et){var tt=Ne.id;return this.promoteId&&"boolean"==typeof(tt=Ne.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[et]])&&(tt=Number(tt)),tt},Dn("FeatureIndex",$l,{omit:["rawTileData","sourceLayerCoder"]});var ep=function(Ne,et){this.tileID=Ne,this.uid=f(),this.uses=0,this.tileSize=et,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ep.prototype.registerFadeDuration=function(Ne){var et=Ne+this.timeAdded;et<vt.now()||this.fadeEndTime&&et<this.fadeEndTime||(this.fadeEndTime=et)},ep.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ep.prototype.loadVectorData=function(Ne,et,tt){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",Ne){for(var rt in Ne.featureIndex&&(this.latestFeatureIndex=Ne.featureIndex,Ne.rawTileData?(this.latestRawTileData=Ne.rawTileData,this.latestFeatureIndex.rawTileData=Ne.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=Ne.collisionBoxArray,this.buckets=function(Ne,et){var tt={};if(!et)return tt;for(var n=function(){var Ne=nt[rt],it=Ne.layerIds.map((function(Ne){return et.getLayer(Ne)})).filter(Boolean);if(0!==it.length){Ne.layers=it,Ne.stateDependentLayerIds&&(Ne.stateDependentLayers=Ne.stateDependentLayerIds.map((function(Ne){return it.filter((function(et){return et.id===Ne}))[0]})));for(var ot=0,at=it;ot<at.length;ot+=1)tt[at[ot].id]=Ne}},rt=0,nt=Ne;rt<nt.length;rt+=1)n();return tt}(Ne.buckets,et.style),this.hasSymbolBuckets=!1,this.buckets){var nt=this.buckets[rt];if(nt instanceof fl){if(this.hasSymbolBuckets=!0,!tt)break;nt.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var it in this.buckets){var ot=this.buckets[it];if(ot instanceof fl&&ot.hasRTLText){this.hasRTLText=!0,yl.isLoading()||yl.isLoaded()||"deferred"!==ri()||ni();break}}for(var at in this.queryPadding=0,this.buckets){var st=this.buckets[at];this.queryPadding=Math.max(this.queryPadding,et.style.getLayer(at).queryRadius(st))}Ne.imageAtlas&&(this.imageAtlas=Ne.imageAtlas),Ne.glyphAtlasImage&&(this.glyphAtlasImage=Ne.glyphAtlasImage)}else this.collisionBoxArray=new kc},ep.prototype.unloadVectorData=function(){for(var Ne in this.buckets)this.buckets[Ne].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ep.prototype.getBucket=function(Ne){return this.buckets[Ne.id]},ep.prototype.upload=function(Ne){for(var et in this.buckets){var tt=this.buckets[et];tt.uploadPending()&&tt.upload(Ne)}var rt=Ne.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ml(Ne,this.imageAtlas.image,rt.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ml(Ne,this.glyphAtlasImage,rt.ALPHA),this.glyphAtlasImage=null)},ep.prototype.prepare=function(Ne){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(Ne,this.imageAtlasTexture)},ep.prototype.queryRenderedFeatures=function(Ne,et,tt,rt,nt,it,ot,at,st,ct){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:rt,cameraQueryGeometry:nt,scale:it,tileSize:this.tileSize,pixelPosMatrix:ct,transform:at,params:ot,queryPadding:this.queryPadding*st},Ne,et,tt):{}},ep.prototype.querySourceFeatures=function(Ne,et){var tt=this.latestFeatureIndex;if(tt&&tt.rawTileData){var rt=tt.loadVTLayers(),nt=et?et.sourceLayer:"",it=rt._geojsonTileLayer||rt[nt];if(it)for(var ot=nn(et&&et.filter),at=this.tileID.canonical,st=at.z,ct=at.x,pt=at.y,ft={z:st,x:ct,y:pt},dt=0;dt<it.length;dt++){var mt=it.feature(dt);if(ot.filter(new ai(this.tileID.overscaledZ),mt)){var yt=tt.getId(mt,nt),vt=new Jl(mt,st,ct,pt,yt);vt.tile=ft,Ne.push(vt)}}}},ep.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ep.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ep.prototype.setExpiryData=function(Ne){var et=this.expirationTime;if(Ne.cacheControl){var tt=I(Ne.cacheControl);tt["max-age"]&&(this.expirationTime=Date.now()+1e3*tt["max-age"])}else Ne.expires&&(this.expirationTime=new Date(Ne.expires).getTime());if(this.expirationTime){var rt=Date.now(),nt=!1;if(this.expirationTime>rt)nt=!1;else if(et)if(this.expirationTime<et)nt=!0;else{var it=this.expirationTime-et;it?this.expirationTime=rt+Math.max(it,3e4):nt=!0}else nt=!0;nt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ep.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ep.prototype.setFeatureState=function(Ne,et){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(Ne).length){var tt=this.latestFeatureIndex.loadVTLayers();for(var rt in this.buckets)if(et.style.hasLayer(rt)){var nt=this.buckets[rt],it=nt.layers[0].sourceLayer||"_geojsonTileLayer",ot=tt[it],at=Ne[it];if(ot&&at&&0!==Object.keys(at).length){nt.update(at,ot,this.imageAtlas&&this.imageAtlas.patternPositions||{});var st=et&&et.style&&et.style.getLayer(rt);st&&(this.queryPadding=Math.max(this.queryPadding,st.queryRadius(nt)))}}}},ep.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ep.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<vt.now()},ep.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ep.prototype.setHoldDuration=function(Ne){this.symbolFadeHoldUntil=vt.now()+Ne},ep.prototype.setDependencies=function(Ne,et){for(var tt={},rt=0,nt=et;rt<nt.length;rt+=1)tt[nt[rt]]=!0;this.dependencies[Ne]=tt},ep.prototype.hasDependency=function(Ne,et){for(var tt=0,rt=Ne;tt<rt.length;tt+=1){var nt=this.dependencies[rt[tt]];if(nt)for(var it=0,ot=et;it<ot.length;it+=1)if(nt[ot[it]])return!0}return!1};var ff=rt.performance,np=function(Ne){this._marks={start:[Ne.url,"start"].join("#"),end:[Ne.url,"end"].join("#"),measure:Ne.url.toString()},ff.mark(this._marks.start)};np.prototype.finish=function(){ff.mark(this._marks.end);var Ne=ff.getEntriesByName(this._marks.measure);return 0===Ne.length&&(ff.measure(this._marks.measure,this._marks.start,this._marks.end),Ne=ff.getEntriesByName(this._marks.measure),ff.clearMarks(this._marks.start),ff.clearMarks(this._marks.end),ff.clearMeasures(this._marks.measure)),Ne},Ne.Actor=Tl,Ne.AlphaImage=yo,Ne.CanonicalTileID=ql,Ne.CollisionBoxArray=kc,Ne.Color=Wt,Ne.DEMData=Zl,Ne.DataConstantProperty=yi,Ne.DictionaryCoder=Xl,Ne.EXTENT=8192,Ne.ErrorEvent=$n,Ne.EvaluationParameters=ai,Ne.Event=St,Ne.Evented=It,Ne.FeatureIndex=$l,Ne.FillBucket=is,Ne.FillExtrusionBucket=ws,Ne.ImageAtlas=mu,Ne.ImagePosition=yu,Ne.LineBucket=Ts,Ne.LngLat=Vl,Ne.LngLatBounds=Bl,Ne.MercatorCoordinate=jl,Ne.ONE_EM=24,Ne.OverscaledTileID=Kl,Ne.Point=tt,Ne.Point$1=tt,Ne.Properties=xi,Ne.Protobuf=Qp,Ne.RGBAImage=mo,Ne.RequestManager=K,Ne.RequestPerformance=np,Ne.ResourceType=Fn,Ne.SegmentVector=aa,Ne.SourceFeatureState=Yl,Ne.StructArrayLayout1ui2=_c,Ne.StructArrayLayout2f1f2i16=du,Ne.StructArrayLayout2i4=xl,Ne.StructArrayLayout3ui6=_u,Ne.StructArrayLayout4i8=wl,Ne.SymbolBucket=fl,Ne.Texture=Ml,Ne.Tile=ep,Ne.Transitionable=ui,Ne.Uniform1f=ip,Ne.Uniform1i=rp,Ne.Uniform2f=op,Ne.Uniform3f=ap,Ne.Uniform4f=sp,Ne.UniformColor=lp,Ne.UniformMatrix4f=pp,Ne.UnwrappedTileID=Nl,Ne.ValidationError=Ct,Ne.WritingMode=sh,Ne.ZoomHistory=qn,Ne.add=function(Ne,et,tt){return Ne[0]=et[0]+tt[0],Ne[1]=et[1]+tt[1],Ne[2]=et[2]+tt[2],Ne},Ne.addDynamicAttributes=ll,Ne.asyncAll=function(Ne,et,tt){if(!Ne.length)return tt(null,[]);var rt=Ne.length,nt=new Array(Ne.length),it=null;Ne.forEach((function(Ne,ot){et(Ne,(function(Ne,et){Ne&&(it=Ne),nt[ot]=et,0==--rt&&tt(it,nt)}))}))},Ne.bezier=s,Ne.bindAll=m,Ne.browser=vt,Ne.cacheEntryPossiblyAdded=function(Ne){++Ln>Mn&&(Ne.getActor().send("enforceCacheSizeLimit",In),Ln=0)},Ne.clamp=l,Ne.clearTileCache=function(Ne){var et=rt.caches.delete("mapbox-tiles");Ne&&et.catch(Ne).then((function(){return Ne()}))},Ne.clipLine=qu,Ne.clone=function(Ne){var et=new gp(16);return et[0]=Ne[0],et[1]=Ne[1],et[2]=Ne[2],et[3]=Ne[3],et[4]=Ne[4],et[5]=Ne[5],et[6]=Ne[6],et[7]=Ne[7],et[8]=Ne[8],et[9]=Ne[9],et[10]=Ne[10],et[11]=Ne[11],et[12]=Ne[12],et[13]=Ne[13],et[14]=Ne[14],et[15]=Ne[15],et},Ne.clone$1=b,Ne.clone$2=function(Ne){var et=new gp(3);return et[0]=Ne[0],et[1]=Ne[1],et[2]=Ne[2],et},Ne.collisionCircleLayout=Yp,Ne.config=Rt,Ne.create=function(){var Ne=new gp(16);return gp!=Float32Array&&(Ne[1]=0,Ne[2]=0,Ne[3]=0,Ne[4]=0,Ne[6]=0,Ne[7]=0,Ne[8]=0,Ne[9]=0,Ne[11]=0,Ne[12]=0,Ne[13]=0,Ne[14]=0),Ne[0]=1,Ne[5]=1,Ne[10]=1,Ne[15]=1,Ne},Ne.create$1=function(){var Ne=new gp(9);return gp!=Float32Array&&(Ne[1]=0,Ne[2]=0,Ne[3]=0,Ne[5]=0,Ne[6]=0,Ne[7]=0),Ne[0]=1,Ne[4]=1,Ne[8]=1,Ne},Ne.create$2=function(){var Ne=new gp(4);return gp!=Float32Array&&(Ne[1]=0,Ne[2]=0),Ne[0]=1,Ne[3]=1,Ne},Ne.createCommonjsModule=e,Ne.createExpression=Kr,Ne.createLayout=Si,Ne.createStyleLayer=function(Ne){return"custom"===Ne.type?new rf(Ne):new nf[Ne.type](Ne)},Ne.cross=function(Ne,et,tt){var rt=et[0],nt=et[1],it=et[2],ot=tt[0],at=tt[1],st=tt[2];return Ne[0]=nt*st-it*at,Ne[1]=it*ot-rt*st,Ne[2]=rt*at-nt*ot,Ne},Ne.deepEqual=function t(Ne,et){if(Array.isArray(Ne)){if(!Array.isArray(et)||Ne.length!==et.length)return!1;for(var tt=0;tt<Ne.length;tt++)if(!t(Ne[tt],et[tt]))return!1;return!0}if("object"==typeof Ne&&null!==Ne&&null!==et){if("object"!=typeof et)return!1;if(Object.keys(Ne).length!==Object.keys(et).length)return!1;for(var rt in Ne)if(!t(Ne[rt],et[rt]))return!1;return!0}return Ne===et},Ne.dot=function(Ne,et){return Ne[0]*et[0]+Ne[1]*et[1]+Ne[2]*et[2]},Ne.dot$1=function(Ne,et){return Ne[0]*et[0]+Ne[1]*et[1]+Ne[2]*et[2]+Ne[3]*et[3]},Ne.ease=nt,Ne.emitValidationErrors=En,Ne.endsWith=v,Ne.enforceCacheSizeLimit=function(Ne){ut(),wr&&wr.then((function(et){et.keys().then((function(tt){for(var rt=0;rt<tt.length-Ne;rt++)et.delete(tt[rt])}))}))},Ne.evaluateSizeForFeature=Bu,Ne.evaluateSizeForZoom=Vu,Ne.evaluateVariableOffset=el,Ne.evented=gl,Ne.extend=c,Ne.featureFilter=nn,Ne.filterObject=x,Ne.fromRotation=function(Ne,et){var tt=Math.sin(et),rt=Math.cos(et);return Ne[0]=rt,Ne[1]=tt,Ne[2]=0,Ne[3]=-tt,Ne[4]=rt,Ne[5]=0,Ne[6]=0,Ne[7]=0,Ne[8]=1,Ne},Ne.getAnchorAlignment=Cu,Ne.getAnchorJustification=rl,Ne.getArrayBuffer=xt,Ne.getImage=wt,Ne.getJSON=function(Ne,et){return gt(c(Ne,{type:"json"}),et)},Ne.getRTLTextPluginStatus=ri,Ne.getReferrer=Wn,Ne.getVideo=function(Ne,et){var tt,nt,it=rt.document.createElement("video");it.muted=!0,it.onloadstart=function(){et(null,it)};for(var ot=0;ot<Ne.length;ot++){var at=rt.document.createElement("source");tt=Ne[ot],nt=void 0,(nt=rt.document.createElement("a")).href=tt,(nt.protocol!==rt.document.location.protocol||nt.host!==rt.document.location.host)&&(it.crossOrigin="Anonymous"),at.src=Ne[ot],it.appendChild(at)}return{cancel:function(){}}},Ne.identity=no,Ne.invert=function(Ne,et){var tt=et[0],rt=et[1],nt=et[2],it=et[3],ot=et[4],at=et[5],st=et[6],ct=et[7],pt=et[8],ft=et[9],dt=et[10],mt=et[11],yt=et[12],vt=et[13],Rt=et[14],Dt=et[15],Ot=tt*at-rt*ot,Bt=tt*st-nt*ot,er=tt*ct-it*ot,rr=rt*st-nt*at,vr=rt*ct-it*at,wr=nt*ct-it*st,Sr=pt*vt-ft*yt,rn=pt*Rt-dt*yt,vn=pt*Dt-mt*yt,bn=ft*Rt-dt*vt,Tn=ft*Dt-mt*vt,Cn=dt*Dt-mt*Rt,In=Ot*Cn-Bt*Tn+er*bn+rr*vn-vr*rn+wr*Sr;return In?(Ne[0]=(at*Cn-st*Tn+ct*bn)*(In=1/In),Ne[1]=(nt*Tn-rt*Cn-it*bn)*In,Ne[2]=(vt*wr-Rt*vr+Dt*rr)*In,Ne[3]=(dt*vr-ft*wr-mt*rr)*In,Ne[4]=(st*vn-ot*Cn-ct*rn)*In,Ne[5]=(tt*Cn-nt*vn+it*rn)*In,Ne[6]=(Rt*er-yt*wr-Dt*Bt)*In,Ne[7]=(pt*wr-dt*er+mt*Bt)*In,Ne[8]=(ot*Tn-at*vn+ct*Sr)*In,Ne[9]=(rt*vn-tt*Tn-it*Sr)*In,Ne[10]=(yt*vr-vt*er+Dt*Ot)*In,Ne[11]=(ft*er-pt*vr-mt*Ot)*In,Ne[12]=(at*rn-ot*bn-st*Sr)*In,Ne[13]=(tt*bn-rt*rn+nt*Sr)*In,Ne[14]=(vt*Bt-yt*rr-Rt*Ot)*In,Ne[15]=(pt*rr-ft*Bt+dt*Ot)*In,Ne):null},Ne.isChar=tl,Ne.isMapboxURL=G,Ne.keysDifference=function(Ne,et){var tt=[];for(var rt in Ne)rt in et||tt.push(rt);return tt},Ne.makeRequest=gt,Ne.mapObject=g,Ne.mercatorXfromLng=Ll,Ne.mercatorYfromLat=Rl,Ne.mercatorZfromAltitude=Ol,Ne.mul=vp,Ne.multiply=io,Ne.mvt=Lp,Ne.normalize=function(Ne,et){var tt=et[0],rt=et[1],nt=et[2],it=tt*tt+rt*rt+nt*nt;return it>0&&(it=1/Math.sqrt(it)),Ne[0]=et[0]*it,Ne[1]=et[1]*it,Ne[2]=et[2]*it,Ne},Ne.number=qe,Ne.offscreenCanvasSupported=ht,Ne.ortho=function(Ne,et,tt,rt,nt,it,ot){var at=1/(et-tt),st=1/(rt-nt),ct=1/(it-ot);return Ne[0]=-2*at,Ne[1]=0,Ne[2]=0,Ne[3]=0,Ne[4]=0,Ne[5]=-2*st,Ne[6]=0,Ne[7]=0,Ne[8]=0,Ne[9]=0,Ne[10]=2*ct,Ne[11]=0,Ne[12]=(et+tt)*at,Ne[13]=(nt+rt)*st,Ne[14]=(ot+it)*ct,Ne[15]=1,Ne},Ne.parseGlyphPBF=function(Ne){return new Qp(Ne).readFields(pu,[])},Ne.pbf=Qp,Ne.performSymbolLayout=function(Ne,et,tt,rt,nt,it,ot){Ne.createArrays(),Ne.tilePixelRatio=8192/(512*Ne.overscaling),Ne.compareText={},Ne.iconsNeedLinear=!1;var at=Ne.layers[0].layout,st=Ne.layers[0]._unevaluatedLayout._values,ct={};if("composite"===Ne.textSizeData.kind){var pt=Ne.textSizeData,ft=pt.maxZoom;ct.compositeTextSizes=[st["text-size"].possiblyEvaluate(new ai(pt.minZoom),ot),st["text-size"].possiblyEvaluate(new ai(ft),ot)]}if("composite"===Ne.iconSizeData.kind){var dt=Ne.iconSizeData,mt=dt.maxZoom;ct.compositeIconSizes=[st["icon-size"].possiblyEvaluate(new ai(dt.minZoom),ot),st["icon-size"].possiblyEvaluate(new ai(mt),ot)]}ct.layoutTextSize=st["text-size"].possiblyEvaluate(new ai(Ne.zoom+1),ot),ct.layoutIconSize=st["icon-size"].possiblyEvaluate(new ai(Ne.zoom+1),ot),ct.textMaxSize=st["text-size"].possiblyEvaluate(new ai(18));for(var yt=24*at.get("text-line-height"),vt="map"===at.get("text-rotation-alignment")&&"point"!==at.get("symbol-placement"),Rt=at.get("text-keep-upright"),Dt=at.get("text-size"),g=function(){var it=Bt[Ot],st=at.get("text-font").evaluate(it,{},ot).join(","),pt=Dt.evaluate(it,{},ot),ft=ct.layoutTextSize.evaluate(it,{},ot),dt=ct.layoutIconSize.evaluate(it,{},ot),mt={horizontal:{},vertical:void 0},er=it.text,rr=[0,0];if(er){var vr=er.toString(),wr=24*at.get("text-letter-spacing").evaluate(it,{},ot),Sr=function(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(rt=tt[et].charCodeAt(0),tl.Arabic(rt)||tl["Arabic Supplement"](rt)||tl["Arabic Extended-A"](rt)||tl["Arabic Presentation Forms-A"](rt)||tl["Arabic Presentation Forms-B"](rt))return!1;var rt;return!0}(vr)?wr:0,rn=at.get("text-anchor").evaluate(it,{},ot),vn=at.get("text-variable-anchor");if(!vn){var bn=at.get("text-radial-offset").evaluate(it,{},ot);rr=bn?el(rn,[24*bn,bh]):at.get("text-offset").evaluate(it,{},ot).map((function(Ne){return 24*Ne}))}var Tn=vt?"center":at.get("text-justify").evaluate(it,{},ot),Cn=at.get("symbol-placement"),In="point"===Cn?24*at.get("text-max-width").evaluate(it,{},ot):0,P=function(){Ne.allowVerticalPlacement&&Kn(vr)&&(mt.vertical=bu(er,et,tt,nt,st,In,yt,rn,"left",Sr,rr,sh.vertical,!0,Cn,ft,pt))};if(!vt&&vn){for(var Mn="auto"===Tn?vn.map((function(Ne){return rl(Ne)})):[Tn],zn=!1,Ln=0;Ln<Mn.length;Ln++){var Fn=Mn[Ln];if(!mt.horizontal[Fn])if(zn)mt.horizontal[Fn]=mt.horizontal[0];else{var Bn=bu(er,et,tt,nt,st,In,yt,"center",Fn,Sr,rr,sh.horizontal,!1,Cn,ft,pt);Bn&&(mt.horizontal[Fn]=Bn,zn=1===Bn.positionedLines.length)}}P()}else{"auto"===Tn&&(Tn=rl(rn));var Nn=bu(er,et,tt,nt,st,In,yt,rn,Tn,Sr,rr,sh.horizontal,!1,Cn,ft,pt);Nn&&(mt.horizontal[Tn]=Nn),P(),Kn(vr)&&vt&&Rt&&(mt.vertical=bu(er,et,tt,nt,st,In,yt,rn,Tn,Sr,rr,sh.vertical,!1,Cn,ft,pt))}}var Vn=void 0,Wn=!1;if(it.icon&&it.icon.name){var $n=rt[it.icon.name];$n&&(Vn=function(Ne,et,tt){var rt=Cu(tt),nt=et[0]-Ne.displaySize[0]*rt.horizontalAlign,it=et[1]-Ne.displaySize[1]*rt.verticalAlign;return{image:Ne,top:it,bottom:it+Ne.displaySize[1],left:nt,right:nt+Ne.displaySize[0]}}(nt[it.icon.name],at.get("icon-offset").evaluate(it,{},ot),at.get("icon-anchor").evaluate(it,{},ot)),Wn=$n.sdf,void 0===Ne.sdfIcons?Ne.sdfIcons=$n.sdf:Ne.sdfIcons!==$n.sdf&&_("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),($n.pixelRatio!==Ne.pixelRatio||0!==at.get("icon-rotate").constantOr(1))&&(Ne.iconsNeedLinear=!0))}var Yn=il(mt.horizontal)||mt.vertical;Ne.iconsInText=!!Yn&&Yn.iconsInText,(Yn||Vn)&&function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt){var ft=it.textMaxSize.evaluate(et,{});void 0===ft&&(ft=ot);var dt,mt=Ne.layers[0].layout,yt=mt.get("icon-offset").evaluate(et,{},pt),vt=il(tt.horizontal),Rt=ot/24,Dt=Ne.tilePixelRatio*Rt,Ot=Ne.tilePixelRatio*ft/24,Bt=Ne.tilePixelRatio*at,er=Ne.tilePixelRatio*mt.get("symbol-spacing"),rr=mt.get("text-padding")*Ne.tilePixelRatio,vr=mt.get("icon-padding")*Ne.tilePixelRatio,wr=mt.get("text-max-angle")/180*Math.PI,Sr="map"===mt.get("text-rotation-alignment")&&"point"!==mt.get("symbol-placement"),rn="map"===mt.get("icon-rotation-alignment")&&"point"!==mt.get("symbol-placement"),vn=mt.get("symbol-placement"),bn=er/2,Tn=mt.get("icon-text-fit");rt&&"none"!==Tn&&(Ne.allowVerticalPlacement&&tt.vertical&&(dt=Eu(rt,tt.vertical,Tn,mt.get("icon-text-fit-padding"),yt,Rt)),vt&&(rt=Eu(rt,vt,Tn,mt.get("icon-text-fit-padding"),yt,Rt)));var E=function(at,ft){ft.x<0||ft.x>=8192||ft.y<0||ft.y>=8192||function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Dt,Ot,Bt,er,rr,vr,wr,Sr){var rn,vn,bn,Tn,Cn,In=Ne.addToLineVertexArray(et,tt),Mn=0,zn=0,Ln=0,Fn=0,Bn=-1,Nn=-1,Vn={},Wn=Hc(""),$n=0,Yn=0;if(void 0===at._unevaluatedLayout.getValue("text-radial-offset")?($n=(rn=at.layout.get("text-offset").evaluate(er,{},wr).map((function(Ne){return 24*Ne})))[0],Yn=rn[1]):($n=24*at.layout.get("text-radial-offset").evaluate(er,{},wr),Yn=bh),Ne.allowVerticalPlacement&&rt.vertical){var ii=at.layout.get("text-rotate").evaluate(er,{},wr)+90;Tn=new Ju(st,et,ct,pt,ft,rt.vertical,dt,mt,yt,ii),ot&&(Cn=new Ju(st,et,ct,pt,ft,ot,Rt,Dt,yt,ii))}if(nt){var qi=at.layout.get("icon-rotate").evaluate(er,{}),uo="none"!==at.layout.get("icon-text-fit"),po=Nu(nt,qi,vr,uo),vo=ot?Nu(ot,qi,vr,uo):void 0;bn=new Ju(st,et,ct,pt,ft,nt,Rt,Dt,!1,qi),Mn=4*po.length;var So=Ne.iconSizeData,ea=null;"source"===So.kind?(ea=[128*at.layout.get("icon-size").evaluate(er,{})])[0]>32640&&_(Ne.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===So.kind&&((ea=[128*rr.compositeIconSizes[0].evaluate(er,{},wr),128*rr.compositeIconSizes[1].evaluate(er,{},wr)])[0]>32640||ea[1]>32640)&&_(Ne.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Ne.addSymbols(Ne.icon,po,ea,Bt,Ot,er,!1,et,In.lineStartIndex,In.lineLength,-1,wr),Bn=Ne.icon.placedSymbolArray.length-1,vo&&(zn=4*vo.length,Ne.addSymbols(Ne.icon,vo,ea,Bt,Ot,er,sh.vertical,et,In.lineStartIndex,In.lineLength,-1,wr),Nn=Ne.icon.placedSymbolArray.length-1)}for(var ta in rt.horizontal){var ia=rt.horizontal[ta];if(!vn){Wn=Hc(ia.text);var sa=at.layout.get("text-rotate").evaluate(er,{},wr);vn=new Ju(st,et,ct,pt,ft,ia,dt,mt,yt,sa)}var la=1===ia.positionedLines.length;if(Ln+=nl(Ne,et,ia,it,at,yt,er,vt,In,rt.vertical?sh.horizontal:sh.horizontalOnly,la?Object.keys(rt.horizontal):[ta],Vn,Bn,rr,wr),la)break}rt.vertical&&(Fn+=nl(Ne,et,rt.vertical,it,at,yt,er,vt,In,sh.vertical,["vertical"],Vn,Nn,rr,wr));var fa=vn?vn.boxStartIndex:Ne.collisionBoxArray.length,ga=vn?vn.boxEndIndex:Ne.collisionBoxArray.length,_a=Tn?Tn.boxStartIndex:Ne.collisionBoxArray.length,Aa=Tn?Tn.boxEndIndex:Ne.collisionBoxArray.length,os=bn?bn.boxStartIndex:Ne.collisionBoxArray.length,as=bn?bn.boxEndIndex:Ne.collisionBoxArray.length,ss=Cn?Cn.boxStartIndex:Ne.collisionBoxArray.length,ls=Cn?Cn.boxEndIndex:Ne.collisionBoxArray.length,us=-1,ut=function(Ne,et){return Ne&&Ne.circleDiameter?Math.max(Ne.circleDiameter,et):et};us=ut(vn,us),us=ut(Tn,us),us=ut(bn,us);var fs=(us=ut(Cn,us))>-1?1:0;fs&&(us*=Sr/24),Ne.glyphOffsetArray.length>=fl.MAX_GLYPHS&&_("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==er.sortKey&&Ne.addToSortKeyRanges(Ne.symbolInstances.length,er.sortKey),Ne.symbolInstances.emplaceBack(et.x,et.y,Vn.right>=0?Vn.right:-1,Vn.center>=0?Vn.center:-1,Vn.left>=0?Vn.left:-1,Vn.vertical||-1,Bn,Nn,Wn,fa,ga,_a,Aa,os,as,ss,ls,ct,Ln,Fn,Mn,zn,fs,0,dt,$n,Yn,us)}(Ne,ft,at,tt,rt,nt,dt,Ne.layers[0],Ne.collisionBoxArray,et.index,et.sourceLayerIndex,Ne.index,Dt,rr,Sr,st,Bt,vr,rn,yt,et,it,ct,pt,ot)};if("line"===vn)for(var Cn=0,In=qu(et.geometry,0,0,8192,8192);Cn<In.length;Cn+=1)for(var Mn=In[Cn],zn=0,Ln=ju(Mn,er,wr,tt.vertical||vt,rt,24,Ot,Ne.overscaling,8192);zn<Ln.length;zn+=1){var Fn=Ln[zn];vt&&al(Ne,vt.text,bn,Fn)||E(Mn,Fn)}else if("line-center"===vn)for(var Bn=0,Nn=et.geometry;Bn<Nn.length;Bn+=1){var Vn=Nn[Bn];if(Vn.length>1){var Wn=Uu(Vn,wr,tt.vertical||vt,rt,24,Ot);Wn&&E(Vn,Wn)}}else if("Polygon"===et.type)for(var $n=0,Yn=ts(et.geometry,0);$n<Yn.length;$n+=1){var ii=Yn[$n],qi=$u(ii,16);E(ii[0],new mh(qi.x,qi.y,0))}else if("LineString"===et.type)for(var uo=0,po=et.geometry;uo<po.length;uo+=1){var vo=po[uo];E(vo,new mh(vo[0].x,vo[0].y,0))}else if("Point"===et.type)for(var So=0,ea=et.geometry;So<ea.length;So+=1)for(var ta=0,ia=ea[So];ta<ia.length;ta+=1){var sa=ia[ta];E([sa],new mh(sa.x,sa.y,0))}}(Ne,it,mt,Vn,rt,ct,ft,dt,rr,Wn,ot)},Ot=0,Bt=Ne.features;Ot<Bt.length;Ot+=1)g();it&&Ne.generateCollisionDebugBuffers()},Ne.perspective=function(Ne,et,tt,rt,nt){var it,ot=1/Math.tan(et/2);return Ne[0]=ot/tt,Ne[1]=0,Ne[2]=0,Ne[3]=0,Ne[4]=0,Ne[5]=ot,Ne[6]=0,Ne[7]=0,Ne[8]=0,Ne[9]=0,Ne[11]=-1,Ne[12]=0,Ne[13]=0,Ne[15]=0,null!=nt&&nt!==1/0?(Ne[10]=(nt+rt)*(it=1/(rt-nt)),Ne[14]=2*nt*rt*it):(Ne[10]=-1,Ne[14]=-2*rt),Ne},Ne.pick=function(Ne,et){for(var tt={},rt=0;rt<et.length;rt++){var nt=et[rt];nt in Ne&&(tt[nt]=Ne[nt])}return tt},Ne.plugin=yl,Ne.polygonIntersectsPolygon=Ua,Ne.postMapLoadEvent=Cn,Ne.postTurnstileEvent=bn,Ne.potpack=fu,Ne.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Ne.register=Dn,Ne.registerForPluginStateChange=function(Ne){return Ne({pluginStatus:sl,pluginURL:dl}),gl.on("pluginStateChange",Ne),Ne},Ne.rotate=function(Ne,et,tt){var rt=et[0],nt=et[1],it=et[2],ot=et[3],at=Math.sin(tt),st=Math.cos(tt);return Ne[0]=rt*st+it*at,Ne[1]=nt*st+ot*at,Ne[2]=rt*-at+it*st,Ne[3]=nt*-at+ot*st,Ne},Ne.rotateX=function(Ne,et,tt){var rt=Math.sin(tt),nt=Math.cos(tt),it=et[4],ot=et[5],at=et[6],st=et[7],ct=et[8],pt=et[9],ft=et[10],dt=et[11];return et!==Ne&&(Ne[0]=et[0],Ne[1]=et[1],Ne[2]=et[2],Ne[3]=et[3],Ne[12]=et[12],Ne[13]=et[13],Ne[14]=et[14],Ne[15]=et[15]),Ne[4]=it*nt+ct*rt,Ne[5]=ot*nt+pt*rt,Ne[6]=at*nt+ft*rt,Ne[7]=st*nt+dt*rt,Ne[8]=ct*nt-it*rt,Ne[9]=pt*nt-ot*rt,Ne[10]=ft*nt-at*rt,Ne[11]=dt*nt-st*rt,Ne},Ne.rotateZ=function(Ne,et,tt){var rt=Math.sin(tt),nt=Math.cos(tt),it=et[0],ot=et[1],at=et[2],st=et[3],ct=et[4],pt=et[5],ft=et[6],dt=et[7];return et!==Ne&&(Ne[8]=et[8],Ne[9]=et[9],Ne[10]=et[10],Ne[11]=et[11],Ne[12]=et[12],Ne[13]=et[13],Ne[14]=et[14],Ne[15]=et[15]),Ne[0]=it*nt+ct*rt,Ne[1]=ot*nt+pt*rt,Ne[2]=at*nt+ft*rt,Ne[3]=st*nt+dt*rt,Ne[4]=ct*nt-it*rt,Ne[5]=pt*nt-ot*rt,Ne[6]=ft*nt-at*rt,Ne[7]=dt*nt-st*rt,Ne},Ne.scale=function(Ne,et,tt){var rt=tt[0],nt=tt[1],it=tt[2];return Ne[0]=et[0]*rt,Ne[1]=et[1]*rt,Ne[2]=et[2]*rt,Ne[3]=et[3]*rt,Ne[4]=et[4]*nt,Ne[5]=et[5]*nt,Ne[6]=et[6]*nt,Ne[7]=et[7]*nt,Ne[8]=et[8]*it,Ne[9]=et[9]*it,Ne[10]=et[10]*it,Ne[11]=et[11]*it,Ne[12]=et[12],Ne[13]=et[13],Ne[14]=et[14],Ne[15]=et[15],Ne},Ne.scale$1=function(Ne,et,tt){return Ne[0]=et[0]*tt,Ne[1]=et[1]*tt,Ne[2]=et[2]*tt,Ne[3]=et[3]*tt,Ne},Ne.scale$2=function(Ne,et,tt){return Ne[0]=et[0]*tt,Ne[1]=et[1]*tt,Ne[2]=et[2]*tt,Ne},Ne.setCacheLimits=function(Ne,et){In=Ne,Mn=et},Ne.setRTLTextPlugin=function(Ne,et,tt){if(void 0===tt&&(tt=!1),"deferred"===sl||"loading"===sl||"loaded"===sl)throw new Error("setRTLTextPlugin cannot be called multiple times.");dl=vt.resolveURL(Ne),sl="deferred",ol=et,ti(),tt||ni()},Ne.sphericalToCartesian=function(Ne){var et=Ne[0],tt=Ne[1],rt=Ne[2];return tt+=90,tt*=Math.PI/180,rt*=Math.PI/180,{x:et*Math.cos(tt)*Math.sin(rt),y:et*Math.sin(tt)*Math.sin(rt),z:et*Math.cos(rt)}},Ne.sqrLen=function(Ne){var et=Ne[0],tt=Ne[1];return et*et+tt*tt},Ne.styleSpec=Yn,Ne.sub=function(Ne,et,tt){return Ne[0]=et[0]-tt[0],Ne[1]=et[1]-tt[1],Ne[2]=et[2]-tt[2],Ne},Ne.symbolSize=_h,Ne.transformMat3=function(Ne,et,tt){var rt=et[0],nt=et[1],it=et[2];return Ne[0]=rt*tt[0]+nt*tt[3]+it*tt[6],Ne[1]=rt*tt[1]+nt*tt[4]+it*tt[7],Ne[2]=rt*tt[2]+nt*tt[5]+it*tt[8],Ne},Ne.transformMat4=so,Ne.translate=function(Ne,et,tt){var rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt=tt[0],Rt=tt[1],Dt=tt[2];return et===Ne?(Ne[12]=et[0]*vt+et[4]*Rt+et[8]*Dt+et[12],Ne[13]=et[1]*vt+et[5]*Rt+et[9]*Dt+et[13],Ne[14]=et[2]*vt+et[6]*Rt+et[10]*Dt+et[14],Ne[15]=et[3]*vt+et[7]*Rt+et[11]*Dt+et[15]):(nt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],ct=et[6],pt=et[7],ft=et[8],dt=et[9],mt=et[10],yt=et[11],Ne[0]=rt=et[0],Ne[1]=nt,Ne[2]=it,Ne[3]=ot,Ne[4]=at,Ne[5]=st,Ne[6]=ct,Ne[7]=pt,Ne[8]=ft,Ne[9]=dt,Ne[10]=mt,Ne[11]=yt,Ne[12]=rt*vt+at*Rt+ft*Dt+et[12],Ne[13]=nt*vt+st*Rt+dt*Dt+et[13],Ne[14]=it*vt+ct*Rt+mt*Dt+et[14],Ne[15]=ot*vt+pt*Rt+yt*Dt+et[15]),Ne},Ne.triggerPluginCompletionEvent=Qn,Ne.uniqueId=f,Ne.validateCustomStyleLayer=function(Ne){var et=[],tt=Ne.id;return void 0===tt&&et.push({message:"layers."+tt+': missing required property "id"'}),void 0===Ne.render&&et.push({message:"layers."+tt+': missing required method "render"'}),Ne.renderingMode&&"2d"!==Ne.renderingMode&&"3d"!==Ne.renderingMode&&et.push({message:"layers."+tt+': property "renderingMode" must be either "2d" or "3d"'}),et},Ne.validateLight=Fs,Ne.validateStyle=Os,Ne.values=function(Ne){var et=[];for(var tt in Ne)et.push(Ne[tt]);return et},Ne.vectorTile=Lp,Ne.version="1.11.0",Ne.warnOnce=_,Ne.webpSupported=Dt,Ne.window=rt,Ne.wrap=p})),define(["./shared"],(function(Ne){function t(Ne){var et=typeof Ne;if("number"===et||"boolean"===et||"string"===et||null==Ne)return JSON.stringify(Ne);if(Array.isArray(Ne)){for(var tt="[",rt=0,nt=Ne;rt<nt.length;rt+=1)tt+=t(nt[rt])+",";return tt+"]"}for(var it=Object.keys(Ne).sort(),ot="{",at=0;at<it.length;at++)ot+=JSON.stringify(it[at])+":"+t(Ne[it[at]])+",";return ot+"}"}function r(et){for(var tt="",rt=0,nt=Ne.refProperties;rt<nt.length;rt+=1)tt+="/"+t(et[nt[rt]]);return tt}var i=function(Ne){this.keyCache={},Ne&&this.replace(Ne)};i.prototype.replace=function(Ne){this._layerConfigs={},this._layers={},this.update(Ne,[])},i.prototype.update=function(et,tt){for(var rt=this,nt=0,it=et;nt<it.length;nt+=1){var ot=it[nt];this._layerConfigs[ot.id]=ot;var at=this._layers[ot.id]=Ne.createStyleLayer(ot);at._featureFilter=Ne.featureFilter(at.filter),this.keyCache[ot.id]&&delete this.keyCache[ot.id]}for(var st=0,ct=tt;st<ct.length;st+=1){var pt=ct[st];delete this.keyCache[pt],delete this._layerConfigs[pt],delete this._layers[pt]}this.familiesBySource={};for(var ft=0,dt=function(Ne,et){for(var tt={},rt=0;rt<Ne.length;rt++){var nt=et&&et[Ne[rt].id]||r(Ne[rt]);et&&(et[Ne[rt].id]=nt);var it=tt[nt];it||(it=tt[nt]=[]),it.push(Ne[rt])}var ot=[];for(var at in tt)ot.push(tt[at]);return ot}(Ne.values(this._layerConfigs),this.keyCache);ft<dt.length;ft+=1){var mt=dt[ft].map((function(Ne){return rt._layers[Ne.id]})),yt=mt[0];if("none"!==yt.visibility){var vt=yt.source||"",Rt=this.familiesBySource[vt];Rt||(Rt=this.familiesBySource[vt]={});var Dt=yt.sourceLayer||"_geojsonTileLayer",Ot=Rt[Dt];Ot||(Ot=Rt[Dt]=[]),Ot.push(mt)}}};var o=function(et){var tt={},rt=[];for(var nt in et){var it=et[nt],ot=tt[nt]={};for(var at in it){var st=it[+at];if(st&&0!==st.bitmap.width&&0!==st.bitmap.height){var ct={x:0,y:0,w:st.bitmap.width+2,h:st.bitmap.height+2};rt.push(ct),ot[at]={rect:ct,metrics:st.metrics}}}}var pt=Ne.potpack(rt),ft=new Ne.AlphaImage({width:pt.w||1,height:pt.h||1});for(var dt in et){var mt=et[dt];for(var yt in mt){var vt=mt[+yt];if(vt&&0!==vt.bitmap.width&&0!==vt.bitmap.height){var Rt=tt[dt][yt].rect;Ne.AlphaImage.copy(vt.bitmap,ft,{x:0,y:0},{x:Rt.x+1,y:Rt.y+1},vt.bitmap)}}}this.image=ft,this.positions=tt};Ne.register("GlyphAtlas",o);var n=function(et){this.tileID=new Ne.OverscaledTileID(et.tileID.overscaledZ,et.tileID.wrap,et.tileID.canonical.z,et.tileID.canonical.x,et.tileID.canonical.y),this.uid=et.uid,this.zoom=et.zoom,this.pixelRatio=et.pixelRatio,this.tileSize=et.tileSize,this.source=et.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=et.showCollisionBoxes,this.collectResourceTiming=!!et.collectResourceTiming,this.returnDependencies=!!et.returnDependencies,this.promoteId=et.promoteId};function s(et,tt,rt){for(var nt=new Ne.EvaluationParameters(tt),it=0,ot=et;it<ot.length;it+=1)ot[it].recalculate(nt,rt)}function a(et,tt){var rt=Ne.getArrayBuffer(et.request,(function(et,rt,nt,it){et?tt(et):rt&&tt(null,{vectorTile:new Ne.vectorTile.VectorTile(new Ne.pbf(rt)),rawData:rt,cacheControl:nt,expires:it})}));return function(){rt.cancel(),tt()}}n.prototype.parse=function(et,tt,rt,nt,it){var ot=this;this.status="parsing",this.data=et,this.collisionBoxArray=new Ne.CollisionBoxArray;var at=new Ne.DictionaryCoder(Object.keys(et.layers).sort()),st=new Ne.FeatureIndex(this.tileID,this.promoteId);st.bucketLayerIDs=[];var ct,pt,ft,dt,mt={},yt={featureIndex:st,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:rt},vt=tt.familiesBySource[this.source];for(var Rt in vt){var Dt=et.layers[Rt];if(Dt){1===Dt.version&&Ne.warnOnce('Vector tile source "'+this.source+'" layer "'+Rt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ot=at.encode(Rt),Bt=[],er=0;er<Dt.length;er++){var rr=Dt.feature(er),vr=st.getId(rr,Rt);Bt.push({feature:rr,id:vr,index:er,sourceLayerIndex:Ot})}for(var wr=0,Sr=vt[Rt];wr<Sr.length;wr+=1){var rn=Sr[wr],vn=rn[0];vn.minzoom&&this.zoom<Math.floor(vn.minzoom)||vn.maxzoom&&this.zoom>=vn.maxzoom||"none"!==vn.visibility&&(s(rn,this.zoom,rt),(mt[vn.id]=vn.createBucket({index:st.bucketLayerIDs.length,layers:rn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ot,sourceID:this.source})).populate(Bt,yt,this.tileID.canonical),st.bucketLayerIDs.push(rn.map((function(Ne){return Ne.id}))))}}}var bn=Ne.mapObject(yt.glyphDependencies,(function(Ne){return Object.keys(Ne).map(Number)}));Object.keys(bn).length?nt.send("getGlyphs",{uid:this.uid,stacks:bn},(function(Ne,et){ct||(ct=Ne,pt=et,z.call(ot))})):pt={};var Tn=Object.keys(yt.iconDependencies);Tn.length?nt.send("getImages",{icons:Tn,source:this.source,tileID:this.tileID,type:"icons"},(function(Ne,et){ct||(ct=Ne,ft=et,z.call(ot))})):ft={};var Cn=Object.keys(yt.patternDependencies);function z(){if(ct)return it(ct);if(pt&&ft&&dt){var et=new o(pt),tt=new Ne.ImageAtlas(ft,dt);for(var nt in mt){var ot=mt[nt];ot instanceof Ne.SymbolBucket?(s(ot.layers,this.zoom,rt),Ne.performSymbolLayout(ot,pt,et.positions,ft,tt.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):ot.hasPattern&&(ot instanceof Ne.LineBucket||ot instanceof Ne.FillBucket||ot instanceof Ne.FillExtrusionBucket)&&(s(ot.layers,this.zoom,rt),ot.addFeatures(yt,this.tileID.canonical,tt.patternPositions))}this.status="done",it(null,{buckets:Ne.values(mt).filter((function(Ne){return!Ne.isEmpty()})),featureIndex:st,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:et.image,imageAtlas:tt,glyphMap:this.returnDependencies?pt:null,iconMap:this.returnDependencies?ft:null,glyphPositions:this.returnDependencies?et.positions:null})}}Cn.length?nt.send("getImages",{icons:Cn,source:this.source,tileID:this.tileID,type:"patterns"},(function(Ne,et){ct||(ct=Ne,dt=et,z.call(ot))})):dt={},z.call(this)};var l=function(Ne,et,tt,rt){this.actor=Ne,this.layerIndex=et,this.availableImages=tt,this.loadVectorData=rt||a,this.loading={},this.loaded={}};l.prototype.loadTile=function(et,tt){var rt=this,nt=et.uid;this.loading||(this.loading={});var it=!!(et&&et.request&&et.request.collectResourceTiming)&&new Ne.RequestPerformance(et.request),ot=this.loading[nt]=new n(et);ot.abort=this.loadVectorData(et,(function(et,at){if(delete rt.loading[nt],et||!at)return ot.status="done",rt.loaded[nt]=ot,tt(et);var st=at.rawData,ct={};at.expires&&(ct.expires=at.expires),at.cacheControl&&(ct.cacheControl=at.cacheControl);var pt={};if(it){var ft=it.finish();ft&&(pt.resourceTiming=JSON.parse(JSON.stringify(ft)))}ot.vectorTile=at.vectorTile,ot.parse(at.vectorTile,rt.layerIndex,rt.availableImages,rt.actor,(function(et,rt){if(et||!rt)return tt(et);tt(null,Ne.extend({rawTileData:st.slice(0)},rt,ct,pt))})),rt.loaded=rt.loaded||{},rt.loaded[nt]=ot}))},l.prototype.reloadTile=function(Ne,et){var tt=this,rt=this.loaded,nt=Ne.uid,it=this;if(rt&&rt[nt]){var ot=rt[nt];ot.showCollisionBoxes=Ne.showCollisionBoxes;var a=function(Ne,rt){var nt=ot.reloadCallback;nt&&(delete ot.reloadCallback,ot.parse(ot.vectorTile,it.layerIndex,tt.availableImages,it.actor,nt)),et(Ne,rt)};"parsing"===ot.status?ot.reloadCallback=a:"done"===ot.status&&(ot.vectorTile?ot.parse(ot.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}},l.prototype.abortTile=function(Ne,et){var tt=this.loading,rt=Ne.uid;tt&&tt[rt]&&tt[rt].abort&&(tt[rt].abort(),delete tt[rt]),et()},l.prototype.removeTile=function(Ne,et){var tt=this.loaded,rt=Ne.uid;tt&&tt[rt]&&delete tt[rt],et()};var et=Ne.window.ImageBitmap,h=function(){this.loaded={}};function c(Ne,et){if(0!==Ne.length){p(Ne[0],et);for(var tt=1;tt<Ne.length;tt++)p(Ne[tt],!et)}}function p(Ne,et){for(var tt=0,rt=0,nt=Ne.length,it=nt-1;rt<nt;it=rt++)tt+=(Ne[rt][0]-Ne[it][0])*(Ne[it][1]+Ne[rt][1]);tt>=0!=!!et&&Ne.reverse()}h.prototype.loadTile=function(tt,rt){var nt=tt.uid,it=tt.encoding,ot=tt.rawImageData,at=et&&ot instanceof et?this.getImageData(ot):ot,st=new Ne.DEMData(nt,at,it);this.loaded=this.loaded||{},this.loaded[nt]=st,rt(null,st)},h.prototype.getImageData=function(et){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(et.width,et.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=et.width,this.offscreenCanvas.height=et.height,this.offscreenCanvasContext.drawImage(et,0,0,et.width,et.height);var tt=this.offscreenCanvasContext.getImageData(-1,-1,et.width+2,et.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new Ne.RGBAImage({width:tt.width,height:tt.height},tt.data)},h.prototype.removeTile=function(Ne){var et=this.loaded,tt=Ne.uid;et&&et[tt]&&delete et[tt]};var tt=Ne.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(et){this._feature=et,this.extent=Ne.EXTENT,this.type=et.type,this.properties=et.tags,"id"in et&&!isNaN(et.id)&&(this.id=parseInt(et.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var et=[],tt=0,rt=this._feature.geometry;tt<rt.length;tt+=1){var nt=rt[tt];et.push([new Ne.Point$1(nt[0],nt[1])])}return et}for(var it=[],ot=0,at=this._feature.geometry;ot<at.length;ot+=1){for(var st=[],ct=0,pt=at[ot];ct<pt.length;ct+=1){var ft=pt[ct];st.push(new Ne.Point$1(ft[0],ft[1]))}it.push(st)}return it},d.prototype.toGeoJSON=function(Ne,et,rt){return tt.call(this,Ne,et,rt)};var g=function(et){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=Ne.EXTENT,this.length=et.length,this._features=et};g.prototype.feature=function(Ne){return new d(this._features[Ne])};var rt=Ne.vectorTile.VectorTileFeature,nt=y;function y(Ne,et){this.options=et||{},this.features=Ne,this.length=Ne.length}function x(Ne,et){this.id="number"==typeof Ne.id?Ne.id:void 0,this.type=Ne.type,this.rawGeometry=1===Ne.type?[Ne.geometry]:Ne.geometry,this.properties=Ne.tags,this.extent=et||4096}y.prototype.feature=function(Ne){return new x(this.features[Ne],this.options.extent)},x.prototype.loadGeometry=function(){var et=this.rawGeometry;this.geometry=[];for(var tt=0;tt<et.length;tt++){for(var rt=et[tt],nt=[],it=0;it<rt.length;it++)nt.push(new Ne.Point$1(rt[it][0],rt[it][1]));this.geometry.push(nt)}return this.geometry},x.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ne=this.geometry,et=1/0,tt=-1/0,rt=1/0,nt=-1/0,it=0;it<Ne.length;it++)for(var ot=Ne[it],at=0;at<ot.length;at++){var st=ot[at];et=Math.min(et,st.x),tt=Math.max(tt,st.x),rt=Math.min(rt,st.y),nt=Math.max(nt,st.y)}return[et,rt,tt,nt]},x.prototype.toGeoJSON=rt.prototype.toGeoJSON;var it=I,ot=nt;function I(et){var tt=new Ne.pbf;return function(Ne,et){for(var tt in Ne.layers)et.writeMessage(3,M,Ne.layers[tt])}(et,tt),tt.finish()}function M(Ne,et){var tt;et.writeVarintField(15,Ne.version||1),et.writeStringField(1,Ne.name||""),et.writeVarintField(5,Ne.extent||4096);var rt={keys:[],values:[],keycache:{},valuecache:{}};for(tt=0;tt<Ne.length;tt++)rt.feature=Ne.feature(tt),et.writeMessage(2,b,rt);var nt=rt.keys;for(tt=0;tt<nt.length;tt++)et.writeStringField(3,nt[tt]);var it=rt.values;for(tt=0;tt<it.length;tt++)et.writeMessage(4,C,it[tt])}function b(Ne,et){var tt=Ne.feature;void 0!==tt.id&&et.writeVarintField(1,tt.id),et.writeMessage(2,_,Ne),et.writeVarintField(3,tt.type),et.writeMessage(4,T,tt)}function _(Ne,et){var tt=Ne.feature,rt=Ne.keys,nt=Ne.values,it=Ne.keycache,ot=Ne.valuecache;for(var at in tt.properties){var st=it[at];void 0===st&&(rt.push(at),it[at]=st=rt.length-1),et.writeVarint(st);var ct=tt.properties[at],pt=typeof ct;"string"!==pt&&"boolean"!==pt&&"number"!==pt&&(ct=JSON.stringify(ct));var ft=pt+":"+ct,dt=ot[ft];void 0===dt&&(nt.push(ct),ot[ft]=dt=nt.length-1),et.writeVarint(dt)}}function k(Ne,et){return(et<<3)+(7&Ne)}function P(Ne){return Ne<<1^Ne>>31}function T(Ne,et){for(var tt=Ne.loadGeometry(),rt=Ne.type,nt=0,it=0,ot=tt.length,at=0;at<ot;at++){var st=tt[at],ct=1;1===rt&&(ct=st.length),et.writeVarint(k(1,ct));for(var pt=3===rt?st.length-1:st.length,ft=0;ft<pt;ft++){1===ft&&1!==rt&&et.writeVarint(k(2,pt-1));var dt=st[ft].x-nt,mt=st[ft].y-it;et.writeVarint(P(dt)),et.writeVarint(P(mt)),nt+=dt,it+=mt}3===rt&&et.writeVarint(k(7,1))}}function C(Ne,et){var tt=typeof Ne;"string"===tt?et.writeStringField(1,Ne):"boolean"===tt?et.writeBooleanField(7,Ne):"number"===tt&&(Ne%1!=0?et.writeDoubleField(3,Ne):Ne<0?et.writeSVarintField(6,Ne):et.writeVarintField(5,Ne))}function D(Ne,et,tt,rt){L(Ne,tt,rt),L(et,2*tt,2*rt),L(et,2*tt+1,2*rt+1)}function L(Ne,et,tt){var rt=Ne[et];Ne[et]=Ne[tt],Ne[tt]=rt}function z(Ne,et,tt,rt){var nt=Ne-tt,it=et-rt;return nt*nt+it*it}it.fromVectorTileJs=I,it.fromGeojsonVt=function(Ne,et){et=et||{};var tt={};for(var rt in Ne)tt[rt]=new nt(Ne[rt].features,et),tt[rt].name=rt,tt[rt].version=et.version,tt[rt].extent=et.extent;return I({layers:tt})},it.GeoJSONWrapper=ot;var O=function(Ne){return Ne[0]},E=function(Ne){return Ne[1]},F=function(Ne,et,tt,rt,nt){void 0===et&&(et=O),void 0===tt&&(tt=E),void 0===rt&&(rt=64),void 0===nt&&(nt=Float64Array),this.nodeSize=rt,this.points=Ne;for(var it=Ne.length<65536?Uint16Array:Uint32Array,ot=this.ids=new it(Ne.length),at=this.coords=new nt(2*Ne.length),st=0;st<Ne.length;st++)ot[st]=st,at[2*st]=et(Ne[st]),at[2*st+1]=tt(Ne[st]);!function e(Ne,et,tt,rt,nt,it){if(!(nt-rt<=tt)){var ot=rt+nt>>1;!function e(Ne,et,tt,rt,nt,it){for(;nt>rt;){if(nt-rt>600){var ot=nt-rt+1,at=tt-rt+1,st=Math.log(ot),ct=.5*Math.exp(2*st/3),pt=.5*Math.sqrt(st*ct*(ot-ct)/ot)*(at-ot/2<0?-1:1);e(Ne,et,tt,Math.max(rt,Math.floor(tt-at*ct/ot+pt)),Math.min(nt,Math.floor(tt+(ot-at)*ct/ot+pt)),it)}var ft=et[2*tt+it],dt=rt,mt=nt;for(D(Ne,et,rt,tt),et[2*nt+it]>ft&&D(Ne,et,rt,nt);dt<mt;){for(D(Ne,et,dt,mt),dt++,mt--;et[2*dt+it]<ft;)dt++;for(;et[2*mt+it]>ft;)mt--}et[2*rt+it]===ft?D(Ne,et,rt,mt):D(Ne,et,++mt,nt),mt<=tt&&(rt=mt+1),tt<=mt&&(nt=mt-1)}}(Ne,et,ot,rt,nt,it%2),e(Ne,et,tt,rt,ot-1,it+1),e(Ne,et,tt,ot+1,nt,it+1)}}(ot,at,rt,0,ot.length-1,0)};F.prototype.range=function(Ne,et,tt,rt){return function(Ne,et,tt,rt,nt,it,ot){for(var at,st,ct=[0,Ne.length-1,0],pt=[];ct.length;){var ft=ct.pop(),dt=ct.pop(),mt=ct.pop();if(dt-mt<=ot)for(var yt=mt;yt<=dt;yt++)st=et[2*yt+1],(at=et[2*yt])>=tt&&at<=nt&&st>=rt&&st<=it&&pt.push(Ne[yt]);else{var vt=Math.floor((mt+dt)/2);st=et[2*vt+1],(at=et[2*vt])>=tt&&at<=nt&&st>=rt&&st<=it&&pt.push(Ne[vt]);var Rt=(ft+1)%2;(0===ft?tt<=at:rt<=st)&&(ct.push(mt),ct.push(vt-1),ct.push(Rt)),(0===ft?nt>=at:it>=st)&&(ct.push(vt+1),ct.push(dt),ct.push(Rt))}}return pt}(this.ids,this.coords,Ne,et,tt,rt,this.nodeSize)},F.prototype.within=function(Ne,et,tt){return function(Ne,et,tt,rt,nt,it){for(var ot=[0,Ne.length-1,0],at=[],st=nt*nt;ot.length;){var ct=ot.pop(),pt=ot.pop(),ft=ot.pop();if(pt-ft<=it)for(var dt=ft;dt<=pt;dt++)z(et[2*dt],et[2*dt+1],tt,rt)<=st&&at.push(Ne[dt]);else{var mt=Math.floor((ft+pt)/2),yt=et[2*mt],vt=et[2*mt+1];z(yt,vt,tt,rt)<=st&&at.push(Ne[mt]);var Rt=(ct+1)%2;(0===ct?tt-nt<=yt:rt-nt<=vt)&&(ot.push(ft),ot.push(mt-1),ot.push(Rt)),(0===ct?tt+nt>=yt:rt+nt>=vt)&&(ot.push(mt+1),ot.push(pt),ot.push(Rt))}}return at}(this.ids,this.coords,Ne,et,tt,this.nodeSize)};var at={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Ne){return Ne}},J=function(Ne){this.options=V(Object.create(at),Ne),this.trees=new Array(this.options.maxZoom+1)};function Z(Ne,et,tt,rt,nt){return{x:Ne,y:et,zoom:1/0,id:tt,parentId:-1,numPoints:rt,properties:nt}}function A(Ne,et){var tt=Ne.geometry.coordinates,rt=tt[1];return{x:Y(tt[0]),y:j(rt),zoom:1/0,index:et,parentId:-1}}function B(Ne){return{type:"Feature",id:Ne.id,properties:G(Ne),geometry:{type:"Point",coordinates:[(rt=Ne.x,360*(rt-.5)),(et=Ne.y,tt=(180-360*et)*Math.PI/180,360*Math.atan(Math.exp(tt))/Math.PI-90)]}};var et,tt,rt}function G(Ne){var et=Ne.numPoints,tt=et>=1e4?Math.round(et/1e3)+"k":et>=1e3?Math.round(et/100)/10+"k":et;return V(V({},Ne.properties),{cluster:!0,cluster_id:Ne.id,point_count:et,point_count_abbreviated:tt})}function Y(Ne){return Ne/360+.5}function j(Ne){var et=Math.sin(Ne*Math.PI/180),tt=.5-.25*Math.log((1+et)/(1-et))/Math.PI;return tt<0?0:tt>1?1:tt}function V(Ne,et){for(var tt in et)Ne[tt]=et[tt];return Ne}function X(Ne){return Ne.x}function W(Ne){return Ne.y}function R(Ne,et,tt,rt,nt,it){var ot=nt-tt,at=it-rt;if(0!==ot||0!==at){var st=((Ne-tt)*ot+(et-rt)*at)/(ot*ot+at*at);st>1?(tt=nt,rt=it):st>0&&(tt+=ot*st,rt+=at*st)}return(ot=Ne-tt)*ot+(at=et-rt)*at}function q(Ne,et,tt,rt){var nt={id:void 0===Ne?null:Ne,type:et,geometry:tt,tags:rt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ne){var et=Ne.geometry,tt=Ne.type;if("Point"===tt||"MultiPoint"===tt||"LineString"===tt)U(Ne,et);else if("Polygon"===tt||"MultiLineString"===tt)for(var rt=0;rt<et.length;rt++)U(Ne,et[rt]);else if("MultiPolygon"===tt)for(rt=0;rt<et.length;rt++)for(var nt=0;nt<et[rt].length;nt++)U(Ne,et[rt][nt])}(nt),nt}function U(Ne,et){for(var tt=0;tt<et.length;tt+=3)Ne.minX=Math.min(Ne.minX,et[tt]),Ne.minY=Math.min(Ne.minY,et[tt+1]),Ne.maxX=Math.max(Ne.maxX,et[tt]),Ne.maxY=Math.max(Ne.maxY,et[tt+1])}function $(Ne,et,tt,rt){if(et.geometry){var nt=et.geometry.coordinates,it=et.geometry.type,ot=Math.pow(tt.tolerance/((1<<tt.maxZoom)*tt.extent),2),at=[],st=et.id;if(tt.promoteId?st=et.properties[tt.promoteId]:tt.generateId&&(st=rt||0),"Point"===it)H(nt,at);else if("MultiPoint"===it)for(var ct=0;ct<nt.length;ct++)H(nt[ct],at);else if("LineString"===it)K(nt,at,ot,!1);else if("MultiLineString"===it){if(tt.lineMetrics){for(ct=0;ct<nt.length;ct++)K(nt[ct],at=[],ot,!1),Ne.push(q(st,"LineString",at,et.properties));return}Q(nt,at,ot,!1)}else if("Polygon"===it)Q(nt,at,ot,!0);else{if("MultiPolygon"!==it){if("GeometryCollection"===it){for(ct=0;ct<et.geometry.geometries.length;ct++)$(Ne,{id:st,geometry:et.geometry.geometries[ct],properties:et.properties},tt,rt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ct=0;ct<nt.length;ct++){var pt=[];Q(nt[ct],pt,ot,!0),at.push(pt)}}Ne.push(q(st,it,at,et.properties))}}function H(Ne,et){et.push(ee(Ne[0])),et.push(te(Ne[1])),et.push(0)}function K(Ne,et,tt,rt){for(var nt,it,ot=0,at=0;at<Ne.length;at++){var st=ee(Ne[at][0]),ct=te(Ne[at][1]);et.push(st),et.push(ct),et.push(0),at>0&&(ot+=rt?(nt*ct-st*it)/2:Math.sqrt(Math.pow(st-nt,2)+Math.pow(ct-it,2))),nt=st,it=ct}var pt=et.length-3;et[2]=1,function e(Ne,et,tt,rt){for(var nt,it=rt,ot=tt-et>>1,at=tt-et,st=Ne[et],ct=Ne[et+1],pt=Ne[tt],ft=Ne[tt+1],dt=et+3;dt<tt;dt+=3){var mt=R(Ne[dt],Ne[dt+1],st,ct,pt,ft);if(mt>it)nt=dt,it=mt;else if(mt===it){var yt=Math.abs(dt-ot);yt<at&&(nt=dt,at=yt)}}it>rt&&(nt-et>3&&e(Ne,et,nt,rt),Ne[nt+2]=it,tt-nt>3&&e(Ne,nt,tt,rt))}(et,0,pt,tt),et[pt+2]=1,et.size=Math.abs(ot),et.start=0,et.end=et.size}function Q(Ne,et,tt,rt){for(var nt=0;nt<Ne.length;nt++){var it=[];K(Ne[nt],it,tt,rt),et.push(it)}}function ee(Ne){return Ne/360+.5}function te(Ne){var et=Math.sin(Ne*Math.PI/180),tt=.5-.25*Math.log((1+et)/(1-et))/Math.PI;return tt<0?0:tt>1?1:tt}function re(Ne,et,tt,rt,nt,it,ot,at){if(rt/=et,it>=(tt/=et)&&ot<rt)return Ne;if(ot<tt||it>=rt)return null;for(var st=[],ct=0;ct<Ne.length;ct++){var pt=Ne[ct],ft=pt.geometry,dt=pt.type,mt=0===nt?pt.minX:pt.minY,yt=0===nt?pt.maxX:pt.maxY;if(mt>=tt&&yt<rt)st.push(pt);else if(!(yt<tt||mt>=rt)){var vt=[];if("Point"===dt||"MultiPoint"===dt)ie(ft,vt,tt,rt,nt);else if("LineString"===dt)oe(ft,vt,tt,rt,nt,!1,at.lineMetrics);else if("MultiLineString"===dt)se(ft,vt,tt,rt,nt,!1);else if("Polygon"===dt)se(ft,vt,tt,rt,nt,!0);else if("MultiPolygon"===dt)for(var Rt=0;Rt<ft.length;Rt++){var Dt=[];se(ft[Rt],Dt,tt,rt,nt,!0),Dt.length&&vt.push(Dt)}if(vt.length){if(at.lineMetrics&&"LineString"===dt){for(Rt=0;Rt<vt.length;Rt++)st.push(q(pt.id,dt,vt[Rt],pt.tags));continue}"LineString"!==dt&&"MultiLineString"!==dt||(1===vt.length?(dt="LineString",vt=vt[0]):dt="MultiLineString"),"Point"!==dt&&"MultiPoint"!==dt||(dt=3===vt.length?"Point":"MultiPoint"),st.push(q(pt.id,dt,vt,pt.tags))}}}return st.length?st:null}function ie(Ne,et,tt,rt,nt){for(var it=0;it<Ne.length;it+=3){var ot=Ne[it+nt];ot>=tt&&ot<=rt&&(et.push(Ne[it]),et.push(Ne[it+1]),et.push(Ne[it+2]))}}function oe(Ne,et,tt,rt,nt,it,ot){for(var at,st,ct=ne(Ne),pt=0===nt?le:ue,ft=Ne.start,dt=0;dt<Ne.length-3;dt+=3){var mt=Ne[dt],yt=Ne[dt+1],vt=Ne[dt+2],Rt=Ne[dt+3],Dt=Ne[dt+4],Ot=0===nt?mt:yt,Bt=0===nt?Rt:Dt,er=!1;ot&&(at=Math.sqrt(Math.pow(mt-Rt,2)+Math.pow(yt-Dt,2))),Ot<tt?Bt>tt&&(st=pt(ct,mt,yt,Rt,Dt,tt),ot&&(ct.start=ft+at*st)):Ot>rt?Bt<rt&&(st=pt(ct,mt,yt,Rt,Dt,rt),ot&&(ct.start=ft+at*st)):ae(ct,mt,yt,vt),Bt<tt&&Ot>=tt&&(st=pt(ct,mt,yt,Rt,Dt,tt),er=!0),Bt>rt&&Ot<=rt&&(st=pt(ct,mt,yt,Rt,Dt,rt),er=!0),!it&&er&&(ot&&(ct.end=ft+at*st),et.push(ct),ct=ne(Ne)),ot&&(ft+=at)}var rr=Ne.length-3;mt=Ne[rr],yt=Ne[rr+1],vt=Ne[rr+2],(Ot=0===nt?mt:yt)>=tt&&Ot<=rt&&ae(ct,mt,yt,vt),rr=ct.length-3,it&&rr>=3&&(ct[rr]!==ct[0]||ct[rr+1]!==ct[1])&&ae(ct,ct[0],ct[1],ct[2]),ct.length&&et.push(ct)}function ne(Ne){var et=[];return et.size=Ne.size,et.start=Ne.start,et.end=Ne.end,et}function se(Ne,et,tt,rt,nt,it){for(var ot=0;ot<Ne.length;ot++)oe(Ne[ot],et,tt,rt,nt,it,!1)}function ae(Ne,et,tt,rt){Ne.push(et),Ne.push(tt),Ne.push(rt)}function le(Ne,et,tt,rt,nt,it){var ot=(it-et)/(rt-et);return Ne.push(it),Ne.push(tt+(nt-tt)*ot),Ne.push(1),ot}function ue(Ne,et,tt,rt,nt,it){var ot=(it-tt)/(nt-tt);return Ne.push(et+(rt-et)*ot),Ne.push(it),Ne.push(1),ot}function he(Ne,et){for(var tt=[],rt=0;rt<Ne.length;rt++){var nt,it=Ne[rt],ot=it.type;if("Point"===ot||"MultiPoint"===ot||"LineString"===ot)nt=ce(it.geometry,et);else if("MultiLineString"===ot||"Polygon"===ot){nt=[];for(var at=0;at<it.geometry.length;at++)nt.push(ce(it.geometry[at],et))}else if("MultiPolygon"===ot)for(nt=[],at=0;at<it.geometry.length;at++){for(var st=[],ct=0;ct<it.geometry[at].length;ct++)st.push(ce(it.geometry[at][ct],et));nt.push(st)}tt.push(q(it.id,ot,nt,it.tags))}return tt}function ce(Ne,et){var tt=[];tt.size=Ne.size,void 0!==Ne.start&&(tt.start=Ne.start,tt.end=Ne.end);for(var rt=0;rt<Ne.length;rt+=3)tt.push(Ne[rt]+et,Ne[rt+1],Ne[rt+2]);return tt}function pe(Ne,et){if(Ne.transformed)return Ne;var tt,rt,nt,it=1<<Ne.z,ot=Ne.x,at=Ne.y;for(tt=0;tt<Ne.features.length;tt++){var st=Ne.features[tt],ct=st.geometry,pt=st.type;if(st.geometry=[],1===pt)for(rt=0;rt<ct.length;rt+=2)st.geometry.push(fe(ct[rt],ct[rt+1],et,it,ot,at));else for(rt=0;rt<ct.length;rt++){var ft=[];for(nt=0;nt<ct[rt].length;nt+=2)ft.push(fe(ct[rt][nt],ct[rt][nt+1],et,it,ot,at));st.geometry.push(ft)}}return Ne.transformed=!0,Ne}function fe(Ne,et,tt,rt,nt,it){return[Math.round(tt*(Ne*rt-nt)),Math.round(tt*(et*rt-it))]}function de(Ne,et,tt,rt,nt){for(var it=et===nt.maxZoom?0:nt.tolerance/((1<<et)*nt.extent),ot={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:tt,y:rt,z:et,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},at=0;at<Ne.length;at++){ot.numFeatures++,ge(ot,Ne[at],it,nt);var st=Ne[at].minX,ct=Ne[at].minY,pt=Ne[at].maxX,ft=Ne[at].maxY;st<ot.minX&&(ot.minX=st),ct<ot.minY&&(ot.minY=ct),pt>ot.maxX&&(ot.maxX=pt),ft>ot.maxY&&(ot.maxY=ft)}return ot}function ge(Ne,et,tt,rt){var nt=et.geometry,it=et.type,ot=[];if("Point"===it||"MultiPoint"===it)for(var at=0;at<nt.length;at+=3)ot.push(nt[at]),ot.push(nt[at+1]),Ne.numPoints++,Ne.numSimplified++;else if("LineString"===it)me(ot,nt,Ne,tt,!1,!1);else if("MultiLineString"===it||"Polygon"===it)for(at=0;at<nt.length;at++)me(ot,nt[at],Ne,tt,"Polygon"===it,0===at);else if("MultiPolygon"===it)for(var st=0;st<nt.length;st++){var ct=nt[st];for(at=0;at<ct.length;at++)me(ot,ct[at],Ne,tt,!0,0===at)}if(ot.length){var pt=et.tags||null;if("LineString"===it&&rt.lineMetrics){for(var ft in pt={},et.tags)pt[ft]=et.tags[ft];pt.mapbox_clip_start=nt.start/nt.size,pt.mapbox_clip_end=nt.end/nt.size}var dt={geometry:ot,type:"Polygon"===it||"MultiPolygon"===it?3:"LineString"===it||"MultiLineString"===it?2:1,tags:pt};null!==et.id&&(dt.id=et.id),Ne.features.push(dt)}}function me(Ne,et,tt,rt,nt,it){var ot=rt*rt;if(rt>0&&et.size<(nt?ot:rt))tt.numPoints+=et.length/3;else{for(var at=[],st=0;st<et.length;st+=3)(0===rt||et[st+2]>ot)&&(tt.numSimplified++,at.push(et[st]),at.push(et[st+1])),tt.numPoints++;nt&&function(Ne,et){for(var tt=0,rt=0,nt=Ne.length,it=nt-2;rt<nt;it=rt,rt+=2)tt+=(Ne[rt]-Ne[it])*(Ne[rt+1]+Ne[it+1]);if(tt>0===et)for(rt=0,nt=Ne.length;rt<nt/2;rt+=2){var ot=Ne[rt],at=Ne[rt+1];Ne[rt]=Ne[nt-2-rt],Ne[rt+1]=Ne[nt-1-rt],Ne[nt-2-rt]=ot,Ne[nt-1-rt]=at}}(at,it),Ne.push(at)}}function ve(Ne,et){var tt=(et=this.options=function(Ne,et){for(var tt in et)Ne[tt]=et[tt];return Ne}(Object.create(this.options),et)).debug;if(tt&&console.time("preprocess data"),et.maxZoom<0||et.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(et.promoteId&&et.generateId)throw new Error("promoteId and generateId cannot be used together.");var rt=function(Ne,et){var tt=[];if("FeatureCollection"===Ne.type)for(var rt=0;rt<Ne.features.length;rt++)$(tt,Ne.features[rt],et,rt);else $(tt,"Feature"===Ne.type?Ne:{geometry:Ne},et);return tt}(Ne,et);this.tiles={},this.tileCoords=[],tt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",et.indexMaxZoom,et.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(rt=function(Ne,et){var tt=et.buffer/et.extent,rt=Ne,nt=re(Ne,1,-1-tt,tt,0,-1,2,et),it=re(Ne,1,1-tt,2+tt,0,-1,2,et);return(nt||it)&&(rt=re(Ne,1,-tt,1+tt,0,-1,2,et)||[],nt&&(rt=he(nt,1).concat(rt)),it&&(rt=rt.concat(he(it,-1)))),rt}(rt,et)).length&&this.splitTile(rt,0,0,0),tt&&(rt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ye(Ne,et,tt){return 32*((1<<Ne)*tt+et)+Ne}function xe(Ne,et){var tt=Ne.tileID.canonical;if(!this._geoJSONIndex)return et(null,null);var rt=this._geoJSONIndex.getTile(tt.z,tt.x,tt.y);if(!rt)return et(null,null);var nt=new g(rt.features),ot=it(nt);0===ot.byteOffset&&ot.byteLength===ot.buffer.byteLength||(ot=new Uint8Array(ot)),et(null,{vectorTile:nt,rawData:ot.buffer})}J.prototype.load=function(Ne){var et=this.options,tt=et.log,rt=et.minZoom,nt=et.maxZoom,it=et.nodeSize;tt&&console.time("total time");var ot="prepare "+Ne.length+" points";tt&&console.time(ot),this.points=Ne;for(var at=[],st=0;st<Ne.length;st++)Ne[st].geometry&&at.push(A(Ne[st],st));this.trees[nt+1]=new F(at,X,W,it,Float32Array),tt&&console.timeEnd(ot);for(var ct=nt;ct>=rt;ct--){var pt=+Date.now();at=this._cluster(at,ct),this.trees[ct]=new F(at,X,W,it,Float32Array),tt&&console.log("z%d: %d clusters in %dms",ct,at.length,+Date.now()-pt)}return tt&&console.timeEnd("total time"),this},J.prototype.getClusters=function(Ne,et){var tt=((Ne[0]+180)%360+360)%360-180,rt=Math.max(-90,Math.min(90,Ne[1])),nt=180===Ne[2]?180:((Ne[2]+180)%360+360)%360-180,it=Math.max(-90,Math.min(90,Ne[3]));if(Ne[2]-Ne[0]>=360)tt=-180,nt=180;else if(tt>nt){var ot=this.getClusters([tt,rt,180,it],et),at=this.getClusters([-180,rt,nt,it],et);return ot.concat(at)}for(var st=this.trees[this._limitZoom(et)],ct=[],pt=0,ft=st.range(Y(tt),j(it),Y(nt),j(rt));pt<ft.length;pt+=1){var dt=st.points[ft[pt]];ct.push(dt.numPoints?B(dt):this.points[dt.index])}return ct},J.prototype.getChildren=function(Ne){var et=this._getOriginId(Ne),tt=this._getOriginZoom(Ne),rt="No cluster with the specified id.",nt=this.trees[tt];if(!nt)throw new Error(rt);var it=nt.points[et];if(!it)throw new Error(rt);for(var ot=this.options.radius/(this.options.extent*Math.pow(2,tt-1)),at=[],st=0,ct=nt.within(it.x,it.y,ot);st<ct.length;st+=1){var pt=nt.points[ct[st]];pt.parentId===Ne&&at.push(pt.numPoints?B(pt):this.points[pt.index])}if(0===at.length)throw new Error(rt);return at},J.prototype.getLeaves=function(Ne,et,tt){var rt=[];return this._appendLeaves(rt,Ne,et=et||10,tt=tt||0,0),rt},J.prototype.getTile=function(Ne,et,tt){var rt=this.trees[this._limitZoom(Ne)],nt=Math.pow(2,Ne),it=this.options,ot=it.radius/it.extent,at=(tt-ot)/nt,st=(tt+1+ot)/nt,ct={features:[]};return this._addTileFeatures(rt.range((et-ot)/nt,at,(et+1+ot)/nt,st),rt.points,et,tt,nt,ct),0===et&&this._addTileFeatures(rt.range(1-ot/nt,at,1,st),rt.points,nt,tt,nt,ct),et===nt-1&&this._addTileFeatures(rt.range(0,at,ot/nt,st),rt.points,-1,tt,nt,ct),ct.features.length?ct:null},J.prototype.getClusterExpansionZoom=function(Ne){for(var et=this._getOriginZoom(Ne)-1;et<=this.options.maxZoom;){var tt=this.getChildren(Ne);if(et++,1!==tt.length)break;Ne=tt[0].properties.cluster_id}return et},J.prototype._appendLeaves=function(Ne,et,tt,rt,nt){for(var it=0,ot=this.getChildren(et);it<ot.length;it+=1){var at=ot[it],st=at.properties;if(st&&st.cluster?nt+st.point_count<=rt?nt+=st.point_count:nt=this._appendLeaves(Ne,st.cluster_id,tt,rt,nt):nt<rt?nt++:Ne.push(at),Ne.length===tt)break}return nt},J.prototype._addTileFeatures=function(Ne,et,tt,rt,nt,it){for(var ot=0,at=Ne;ot<at.length;ot+=1){var st=et[at[ot]],ct=st.numPoints,pt={type:1,geometry:[[Math.round(this.options.extent*(st.x*nt-tt)),Math.round(this.options.extent*(st.y*nt-rt))]],tags:ct?G(st):this.points[st.index].properties},ft=void 0;ct?ft=st.id:this.options.generateId?ft=st.index:this.points[st.index].id&&(ft=this.points[st.index].id),void 0!==ft&&(pt.id=ft),it.features.push(pt)}},J.prototype._limitZoom=function(Ne){return Math.max(this.options.minZoom,Math.min(+Ne,this.options.maxZoom+1))},J.prototype._cluster=function(Ne,et){for(var tt=[],rt=this.options,nt=rt.reduce,it=rt.minPoints,ot=rt.radius/(rt.extent*Math.pow(2,et)),at=0;at<Ne.length;at++){var st=Ne[at];if(!(st.zoom<=et)){st.zoom=et;for(var ct=this.trees[et+1],pt=ct.within(st.x,st.y,ot),ft=st.numPoints||1,dt=ft,mt=0,yt=pt;mt<yt.length;mt+=1){var vt=ct.points[yt[mt]];vt.zoom>et&&(dt+=vt.numPoints||1)}if(dt>=it){for(var Rt=st.x*ft,Dt=st.y*ft,Ot=nt&&ft>1?this._map(st,!0):null,Bt=(at<<5)+(et+1)+this.points.length,er=0,rr=pt;er<rr.length;er+=1){var vr=ct.points[rr[er]];if(!(vr.zoom<=et)){vr.zoom=et;var wr=vr.numPoints||1;Rt+=vr.x*wr,Dt+=vr.y*wr,vr.parentId=Bt,nt&&(Ot||(Ot=this._map(st,!0)),nt(Ot,this._map(vr)))}}st.parentId=Bt,tt.push(Z(Rt/dt,Dt/dt,Bt,dt,Ot))}else if(tt.push(st),dt>1)for(var Sr=0,rn=pt;Sr<rn.length;Sr+=1){var vn=ct.points[rn[Sr]];vn.zoom<=et||(vn.zoom=et,tt.push(vn))}}}return tt},J.prototype._getOriginId=function(Ne){return Ne-this.points.length>>5},J.prototype._getOriginZoom=function(Ne){return(Ne-this.points.length)%32},J.prototype._map=function(Ne,et){if(Ne.numPoints)return et?V({},Ne.properties):Ne.properties;var tt=this.points[Ne.index].properties,rt=this.options.map(tt);return et&&rt===tt?V({},rt):rt},ve.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ve.prototype.splitTile=function(Ne,et,tt,rt,nt,it,ot){for(var at=[Ne,et,tt,rt],st=this.options,ct=st.debug;at.length;){rt=at.pop(),tt=at.pop(),et=at.pop(),Ne=at.pop();var pt=1<<et,ft=ye(et,tt,rt),dt=this.tiles[ft];if(!dt&&(ct>1&&console.time("creation"),dt=this.tiles[ft]=de(Ne,et,tt,rt,st),this.tileCoords.push({z:et,x:tt,y:rt}),ct)){ct>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",et,tt,rt,dt.numFeatures,dt.numPoints,dt.numSimplified),console.timeEnd("creation"));var mt="z"+et;this.stats[mt]=(this.stats[mt]||0)+1,this.total++}if(dt.source=Ne,nt){if(et===st.maxZoom||et===nt)continue;var yt=1<<nt-et;if(tt!==Math.floor(it/yt)||rt!==Math.floor(ot/yt))continue}else if(et===st.indexMaxZoom||dt.numPoints<=st.indexMaxPoints)continue;if(dt.source=null,0!==Ne.length){ct>1&&console.time("clipping");var vt,Rt,Dt,Ot,Bt,er,rr=.5*st.buffer/st.extent,vr=.5-rr,wr=.5+rr,Sr=1+rr;vt=Rt=Dt=Ot=null,Bt=re(Ne,pt,tt-rr,tt+wr,0,dt.minX,dt.maxX,st),er=re(Ne,pt,tt+vr,tt+Sr,0,dt.minX,dt.maxX,st),Ne=null,Bt&&(vt=re(Bt,pt,rt-rr,rt+wr,1,dt.minY,dt.maxY,st),Rt=re(Bt,pt,rt+vr,rt+Sr,1,dt.minY,dt.maxY,st),Bt=null),er&&(Dt=re(er,pt,rt-rr,rt+wr,1,dt.minY,dt.maxY,st),Ot=re(er,pt,rt+vr,rt+Sr,1,dt.minY,dt.maxY,st),er=null),ct>1&&console.timeEnd("clipping"),at.push(vt||[],et+1,2*tt,2*rt),at.push(Rt||[],et+1,2*tt,2*rt+1),at.push(Dt||[],et+1,2*tt+1,2*rt),at.push(Ot||[],et+1,2*tt+1,2*rt+1)}}},ve.prototype.getTile=function(Ne,et,tt){var rt=this.options,nt=rt.extent,it=rt.debug;if(Ne<0||Ne>24)return null;var ot=1<<Ne,at=ye(Ne,et=(et%ot+ot)%ot,tt);if(this.tiles[at])return pe(this.tiles[at],nt);it>1&&console.log("drilling down to z%d-%d-%d",Ne,et,tt);for(var st,ct=Ne,pt=et,ft=tt;!st&&ct>0;)ct--,pt=Math.floor(pt/2),ft=Math.floor(ft/2),st=this.tiles[ye(ct,pt,ft)];return st&&st.source?(it>1&&console.log("found parent tile z%d-%d-%d",ct,pt,ft),it>1&&console.time("drilling down"),this.splitTile(st.source,ct,pt,ft,Ne,et,tt),it>1&&console.timeEnd("drilling down"),this.tiles[at]?pe(this.tiles[at],nt):null):null};var st=function(et){function r(Ne,tt,rt,nt){et.call(this,Ne,tt,rt,xe),nt&&(this.loadGeoJSON=nt)}return et&&(r.__proto__=et),(r.prototype=Object.create(et&&et.prototype)).constructor=r,r.prototype.loadData=function(Ne,et){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=et,this._pendingLoadDataParams=Ne,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var et=this;if(this._pendingCallback&&this._pendingLoadDataParams){var tt=this._pendingCallback,rt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var nt=!!(rt&&rt.request&&rt.request.collectResourceTiming)&&new Ne.RequestPerformance(rt.request);this.loadGeoJSON(rt,(function(it,ot){if(it||!ot)return tt(it);if("object"!=typeof ot)return tt(new Error("Input data given to '"+rt.source+"' is not a valid GeoJSON object."));!function e(Ne,et){var tt,rt=Ne&&Ne.type;if("FeatureCollection"===rt)for(tt=0;tt<Ne.features.length;tt++)e(Ne.features[tt],et);else if("GeometryCollection"===rt)for(tt=0;tt<Ne.geometries.length;tt++)e(Ne.geometries[tt],et);else if("Feature"===rt)e(Ne.geometry,et);else if("Polygon"===rt)c(Ne.coordinates,et);else if("MultiPolygon"===rt)for(tt=0;tt<Ne.coordinates.length;tt++)c(Ne.coordinates[tt],et);return Ne}(ot,!0);try{et._geoJSONIndex=rt.cluster?new J(function(et){var tt=et.superclusterOptions,rt=et.clusterProperties;if(!rt||!tt)return tt;for(var nt={},it={},ot={accumulated:null,zoom:0},at={properties:null},st=Object.keys(rt),ct=0,pt=st;ct<pt.length;ct+=1){var ft=pt[ct],dt=rt[ft],mt=dt[0],yt=Ne.createExpression(dt[1]),vt=Ne.createExpression("string"==typeof mt?[mt,["accumulated"],["get",ft]]:mt);nt[ft]=yt.value,it[ft]=vt.value}return tt.map=function(Ne){at.properties=Ne;for(var et={},tt=0,rt=st;tt<rt.length;tt+=1){var it=rt[tt];et[it]=nt[it].evaluate(ot,at)}return et},tt.reduce=function(Ne,et){at.properties=et;for(var tt=0,rt=st;tt<rt.length;tt+=1){var nt=rt[tt];ot.accumulated=Ne[nt],Ne[nt]=it[nt].evaluate(ot,at)}},tt}(rt)).load(ot.features):function(Ne,et){return new ve(Ne,et)}(ot,rt.geojsonVtOptions)}catch(it){return tt(it)}et.loaded={};var at={};if(nt){var st=nt.finish();st&&(at.resourceTiming={},at.resourceTiming[rt.source]=JSON.parse(JSON.stringify(st)))}tt(null,at)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(Ne,tt){var rt=this.loaded;return rt&&rt[Ne.uid]?et.prototype.reloadTile.call(this,Ne,tt):this.loadTile(Ne,tt)},r.prototype.loadGeoJSON=function(et,tt){if(et.request)Ne.getJSON(et.request,tt);else{if("string"!=typeof et.data)return tt(new Error("Input data given to '"+et.source+"' is not a valid GeoJSON object."));try{return tt(null,JSON.parse(et.data))}catch(Ne){return tt(new Error("Input data given to '"+et.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(Ne,et){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),et()},r.prototype.getClusterExpansionZoom=function(Ne,et){try{et(null,this._geoJSONIndex.getClusterExpansionZoom(Ne.clusterId))}catch(Ne){et(Ne)}},r.prototype.getClusterChildren=function(Ne,et){try{et(null,this._geoJSONIndex.getChildren(Ne.clusterId))}catch(Ne){et(Ne)}},r.prototype.getClusterLeaves=function(Ne,et){try{et(null,this._geoJSONIndex.getLeaves(Ne.clusterId,Ne.limit,Ne.offset))}catch(Ne){et(Ne)}},r}(l),Se=function(et){var tt=this;this.self=et,this.actor=new Ne.Actor(et,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:st},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ne,et){if(tt.workerSourceTypes[Ne])throw new Error('Worker source with name "'+Ne+'" already registered.');tt.workerSourceTypes[Ne]=et},this.self.registerRTLTextPlugin=function(et){if(Ne.plugin.isParsed())throw new Error("RTL text plugin already registered.");Ne.plugin.applyArabicShaping=et.applyArabicShaping,Ne.plugin.processBidirectionalText=et.processBidirectionalText,Ne.plugin.processStyledBidirectionalText=et.processStyledBidirectionalText}};return Se.prototype.setReferrer=function(Ne,et){this.referrer=et},Se.prototype.setImages=function(Ne,et,tt){for(var rt in this.availableImages[Ne]=et,this.workerSources[Ne]){var nt=this.workerSources[Ne][rt];for(var it in nt)nt[it].availableImages=et}tt()},Se.prototype.setLayers=function(Ne,et,tt){this.getLayerIndex(Ne).replace(et),tt()},Se.prototype.updateLayers=function(Ne,et,tt){this.getLayerIndex(Ne).update(et.layers,et.removedIds),tt()},Se.prototype.loadTile=function(Ne,et,tt){this.getWorkerSource(Ne,et.type,et.source).loadTile(et,tt)},Se.prototype.loadDEMTile=function(Ne,et,tt){this.getDEMWorkerSource(Ne,et.source).loadTile(et,tt)},Se.prototype.reloadTile=function(Ne,et,tt){this.getWorkerSource(Ne,et.type,et.source).reloadTile(et,tt)},Se.prototype.abortTile=function(Ne,et,tt){this.getWorkerSource(Ne,et.type,et.source).abortTile(et,tt)},Se.prototype.removeTile=function(Ne,et,tt){this.getWorkerSource(Ne,et.type,et.source).removeTile(et,tt)},Se.prototype.removeDEMTile=function(Ne,et){this.getDEMWorkerSource(Ne,et.source).removeTile(et)},Se.prototype.removeSource=function(Ne,et,tt){if(this.workerSources[Ne]&&this.workerSources[Ne][et.type]&&this.workerSources[Ne][et.type][et.source]){var rt=this.workerSources[Ne][et.type][et.source];delete this.workerSources[Ne][et.type][et.source],void 0!==rt.removeSource?rt.removeSource(et,tt):tt()}},Se.prototype.loadWorkerSource=function(Ne,et,tt){try{this.self.importScripts(et.url),tt()}catch(Ne){tt(Ne.toString())}},Se.prototype.syncRTLPluginState=function(et,tt,rt){try{Ne.plugin.setState(tt);var nt=Ne.plugin.getPluginURL();if(Ne.plugin.isLoaded()&&!Ne.plugin.isParsed()&&null!=nt){this.self.importScripts(nt);var it=Ne.plugin.isParsed();rt(it?void 0:new Error("RTL Text Plugin failed to import scripts from "+nt),it)}}catch(Ne){rt(Ne.toString())}},Se.prototype.getAvailableImages=function(Ne){var et=this.availableImages[Ne];return et||(et=[]),et},Se.prototype.getLayerIndex=function(Ne){var et=this.layerIndexes[Ne];return et||(et=this.layerIndexes[Ne]=new i),et},Se.prototype.getWorkerSource=function(Ne,et,tt){var rt=this;return this.workerSources[Ne]||(this.workerSources[Ne]={}),this.workerSources[Ne][et]||(this.workerSources[Ne][et]={}),this.workerSources[Ne][et][tt]||(this.workerSources[Ne][et][tt]=new this.workerSourceTypes[et]({send:function(et,tt,nt){rt.actor.send(et,tt,nt,Ne)}},this.getLayerIndex(Ne),this.getAvailableImages(Ne))),this.workerSources[Ne][et][tt]},Se.prototype.getDEMWorkerSource=function(Ne,et){return this.demWorkerSources[Ne]||(this.demWorkerSources[Ne]={}),this.demWorkerSources[Ne][et]||(this.demWorkerSources[Ne][et]=new h),this.demWorkerSources[Ne][et]},Se.prototype.enforceCacheSizeLimit=function(et,tt){Ne.enforceCacheSizeLimit(tt)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Se(self)),Se})),define(["./shared"],(function(Ne){var et=Ne.createCommonjsModule((function(Ne){function e(Ne){return!i(Ne)}function i(Ne){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Ne,et,tt=new Blob([""],{type:"text/javascript"}),rt=URL.createObjectURL(tt);try{et=new Worker(rt),Ne=!0}catch(et){Ne=!1}return et&&et.terminate(),URL.revokeObjectURL(rt),Ne}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var Ne=document.createElement("canvas");Ne.width=Ne.height=1;var et=Ne.getContext("2d");if(!et)return!1;var tt=et.getImageData(0,0,1,1);return tt&&tt.width===Ne.width}()?(void 0===et[tt=Ne&&Ne.failIfMajorPerformanceCaveat]&&(et[tt]=function(Ne){var et=function(Ne){var et=document.createElement("canvas"),tt=Object.create(e.webGLContextAttributes);return tt.failIfMajorPerformanceCaveat=Ne,et.probablySupportsContext?et.probablySupportsContext("webgl",tt)||et.probablySupportsContext("experimental-webgl",tt):et.supportsContext?et.supportsContext("webgl",tt)||et.supportsContext("experimental-webgl",tt):et.getContext("webgl",tt)||et.getContext("experimental-webgl",tt)}(Ne);if(!et)return!1;var tt=et.createShader(et.VERTEX_SHADER);return!(!tt||et.isContextLost())&&(et.shaderSource(tt,"void main() {}"),et.compileShader(tt),!0===et.getShaderParameter(tt,et.COMPILE_STATUS))}(tt)),et[tt]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var tt}Ne.exports?Ne.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=i);var et={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),tt={create:function(et,tt,rt){var nt=Ne.window.document.createElement(et);return void 0!==tt&&(nt.className=tt),rt&&rt.appendChild(nt),nt},createNS:function(et,tt){return Ne.window.document.createElementNS(et,tt)}},rt=Ne.window.document&&Ne.window.document.documentElement.style;function r(Ne){if(!rt)return Ne[0];for(var et=0;et<Ne.length;et++)if(Ne[et]in rt)return Ne[et];return Ne[0]}var nt,it=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);tt.disableDrag=function(){rt&&it&&(nt=rt[it],rt[it]="none")},tt.enableDrag=function(){rt&&it&&(rt[it]=nt)};var ot=r(["transform","WebkitTransform"]);tt.setTransform=function(Ne,et){Ne.style[ot]=et};var at=!1;try{var st=Object.defineProperty({},"passive",{get:function(){at=!0}});Ne.window.addEventListener("test",st,st),Ne.window.removeEventListener("test",st,st)}catch(Ne){at=!1}tt.addEventListener=function(Ne,et,tt,rt){void 0===rt&&(rt={}),Ne.addEventListener(et,tt,"passive"in rt&&at?rt:rt.capture)},tt.removeEventListener=function(Ne,et,tt,rt){void 0===rt&&(rt={}),Ne.removeEventListener(et,tt,"passive"in rt&&at?rt:rt.capture)};var u=function(et){et.preventDefault(),et.stopPropagation(),Ne.window.removeEventListener("click",u,!0)};function h(Ne){var et=Ne.userImage;return!!(et&&et.render&&et.render())&&(Ne.data.replace(new Uint8Array(et.data.buffer)),!0)}tt.suppressClick=function(){Ne.window.addEventListener("click",u,!0),Ne.window.setTimeout((function(){Ne.window.removeEventListener("click",u,!0)}),0)},tt.mousePos=function(et,tt){var rt=et.getBoundingClientRect();return new Ne.Point(tt.clientX-rt.left-et.clientLeft,tt.clientY-rt.top-et.clientTop)},tt.touchPos=function(et,tt){for(var rt=et.getBoundingClientRect(),nt=[],it=0;it<tt.length;it++)nt.push(new Ne.Point(tt[it].clientX-rt.left-et.clientLeft,tt[it].clientY-rt.top-et.clientTop));return nt},tt.mouseButton=function(et){return void 0!==Ne.window.InstallTrigger&&2===et.button&&et.ctrlKey&&Ne.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:et.button},tt.remove=function(Ne){Ne.parentNode&&Ne.parentNode.removeChild(Ne)};var ct=function(et){function i(){et.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new Ne.RGBAImage({width:1,height:1}),this.dirty=!0}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.isLoaded=function(){return this.loaded},i.prototype.setLoaded=function(Ne){if(this.loaded!==Ne&&(this.loaded=Ne,Ne)){for(var et=0,tt=this.requestors;et<tt.length;et+=1){var rt=tt[et];this._notify(rt.ids,rt.callback)}this.requestors=[]}},i.prototype.getImage=function(Ne){return this.images[Ne]},i.prototype.addImage=function(Ne,et){this._validate(Ne,et)&&(this.images[Ne]=et)},i.prototype._validate=function(et,tt){var rt=!0;return this._validateStretch(tt.stretchX,tt.data&&tt.data.width)||(this.fire(new Ne.ErrorEvent(new Error('Image "'+et+'" has invalid "stretchX" value'))),rt=!1),this._validateStretch(tt.stretchY,tt.data&&tt.data.height)||(this.fire(new Ne.ErrorEvent(new Error('Image "'+et+'" has invalid "stretchY" value'))),rt=!1),this._validateContent(tt.content,tt)||(this.fire(new Ne.ErrorEvent(new Error('Image "'+et+'" has invalid "content" value'))),rt=!1),rt},i.prototype._validateStretch=function(Ne,et){if(!Ne)return!0;for(var tt=0,rt=0,nt=Ne;rt<nt.length;rt+=1){var it=nt[rt];if(it[0]<tt||it[1]<it[0]||et<it[1])return!1;tt=it[1]}return!0},i.prototype._validateContent=function(Ne,et){return!(Ne&&(4!==Ne.length||Ne[0]<0||et.data.width<Ne[0]||Ne[1]<0||et.data.height<Ne[1]||Ne[2]<0||et.data.width<Ne[2]||Ne[3]<0||et.data.height<Ne[3]||Ne[2]<Ne[0]||Ne[3]<Ne[1]))},i.prototype.updateImage=function(Ne,et){et.version=this.images[Ne].version+1,this.images[Ne]=et,this.updatedImages[Ne]=!0},i.prototype.removeImage=function(Ne){var et=this.images[Ne];delete this.images[Ne],delete this.patterns[Ne],et.userImage&&et.userImage.onRemove&&et.userImage.onRemove()},i.prototype.listImages=function(){return Object.keys(this.images)},i.prototype.getImages=function(Ne,et){var tt=!0;if(!this.isLoaded())for(var rt=0,nt=Ne;rt<nt.length;rt+=1)this.images[nt[rt]]||(tt=!1);this.isLoaded()||tt?this._notify(Ne,et):this.requestors.push({ids:Ne,callback:et})},i.prototype._notify=function(et,tt){for(var rt={},nt=0,it=et;nt<it.length;nt+=1){var ot=it[nt];this.images[ot]||this.fire(new Ne.Event("styleimagemissing",{id:ot}));var at=this.images[ot];at?rt[ot]={data:at.data.clone(),pixelRatio:at.pixelRatio,sdf:at.sdf,version:at.version,stretchX:at.stretchX,stretchY:at.stretchY,content:at.content,hasRenderCallback:Boolean(at.userImage&&at.userImage.render)}:Ne.warnOnce('Image "'+ot+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}tt(null,rt)},i.prototype.getPixelSize=function(){var Ne=this.atlasImage;return{width:Ne.width,height:Ne.height}},i.prototype.getPattern=function(et){var tt=this.patterns[et],rt=this.getImage(et);if(!rt)return null;if(tt&&tt.position.version===rt.version)return tt.position;if(tt)tt.position.version=rt.version;else{var nt={w:rt.data.width+2,h:rt.data.height+2,x:0,y:0},it=new Ne.ImagePosition(nt,rt);this.patterns[et]={bin:nt,position:it}}return this._updatePatternAtlas(),this.patterns[et].position},i.prototype.bind=function(et){var tt=et.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Ne.Texture(et,this.atlasImage,tt.RGBA),this.atlasTexture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)},i.prototype._updatePatternAtlas=function(){var et=[];for(var tt in this.patterns)et.push(this.patterns[tt].bin);var rt=Ne.potpack(et),nt=rt.w,it=rt.h,ot=this.atlasImage;for(var at in ot.resize({width:nt||1,height:it||1}),this.patterns){var st=this.patterns[at].bin,ct=st.x+1,pt=st.y+1,ft=this.images[at].data,dt=ft.width,mt=ft.height;Ne.RGBAImage.copy(ft,ot,{x:0,y:0},{x:ct,y:pt},{width:dt,height:mt}),Ne.RGBAImage.copy(ft,ot,{x:0,y:mt-1},{x:ct,y:pt-1},{width:dt,height:1}),Ne.RGBAImage.copy(ft,ot,{x:0,y:0},{x:ct,y:pt+mt},{width:dt,height:1}),Ne.RGBAImage.copy(ft,ot,{x:dt-1,y:0},{x:ct-1,y:pt},{width:1,height:mt}),Ne.RGBAImage.copy(ft,ot,{x:0,y:0},{x:ct+dt,y:pt},{width:1,height:mt})}this.dirty=!0},i.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},i.prototype.dispatchRenderCallbacks=function(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1){var rt=tt[et];if(!this.callbackDispatchedThisFrame[rt]){this.callbackDispatchedThisFrame[rt]=!0;var nt=this.images[rt];h(nt)&&this.updateImage(rt,nt)}}},i}(Ne.Evented),pt=m,ft=m,dt=1e20;function m(Ne,et,tt,rt,nt,it){this.fontSize=Ne||24,this.buffer=void 0===et?3:et,this.cutoff=rt||.25,this.fontFamily=nt||"sans-serif",this.fontWeight=it||"normal",this.radius=tt||8;var ot=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=ot,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(ot*ot),this.gridInner=new Float64Array(ot*ot),this.f=new Float64Array(ot),this.d=new Float64Array(ot),this.z=new Float64Array(ot+1),this.v=new Int16Array(ot),this.middle=Math.round(ot/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(Ne,et,tt,rt,nt,it,ot){for(var at=0;at<et;at++){for(var st=0;st<tt;st++)rt[st]=Ne[st*et+at];for(v(rt,nt,it,ot,tt),st=0;st<tt;st++)Ne[st*et+at]=nt[st]}for(st=0;st<tt;st++){for(at=0;at<et;at++)rt[at]=Ne[st*et+at];for(v(rt,nt,it,ot,et),at=0;at<et;at++)Ne[st*et+at]=Math.sqrt(nt[at])}}function v(Ne,et,tt,rt,nt){tt[0]=0,rt[0]=-dt,rt[1]=+dt;for(var it=1,ot=0;it<nt;it++){for(var at=(Ne[it]+it*it-(Ne[tt[ot]]+tt[ot]*tt[ot]))/(2*it-2*tt[ot]);at<=rt[ot];)ot--,at=(Ne[it]+it*it-(Ne[tt[ot]]+tt[ot]*tt[ot]))/(2*it-2*tt[ot]);tt[++ot]=it,rt[ot]=at,rt[ot+1]=+dt}for(it=0,ot=0;it<nt;it++){for(;rt[ot+1]<it;)ot++;et[it]=(it-tt[ot])*(it-tt[ot])+Ne[tt[ot]]}}m.prototype.draw=function(Ne){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(Ne,this.buffer,this.middle);for(var et=this.ctx.getImageData(0,0,this.size,this.size),tt=new Uint8ClampedArray(this.size*this.size),rt=0;rt<this.size*this.size;rt++){var nt=et.data[4*rt+3]/255;this.gridOuter[rt]=1===nt?0:0===nt?dt:Math.pow(Math.max(0,.5-nt),2),this.gridInner[rt]=1===nt?dt:0===nt?0:Math.pow(Math.max(0,nt-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),rt=0;rt<this.size*this.size;rt++)tt[rt]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[rt]-this.gridInner[rt])/this.radius+this.cutoff))));return tt},pt.default=ft;var y=function(Ne,et){this.requestManager=Ne,this.localIdeographFontFamily=et,this.entries={}};y.prototype.setURL=function(Ne){this.url=Ne},y.prototype.getGlyphs=function(et,tt){var rt=this,nt=[];for(var it in et)for(var ot=0,at=et[it];ot<at.length;ot+=1)nt.push({stack:it,id:at[ot]});Ne.asyncAll(nt,(function(Ne,et){var tt=Ne.stack,nt=Ne.id,it=rt.entries[tt];it||(it=rt.entries[tt]={glyphs:{},requests:{},ranges:{}});var ot=it.glyphs[nt];if(void 0===ot){if(ot=rt._tinySDF(it,tt,nt))return it.glyphs[nt]=ot,void et(null,{stack:tt,id:nt,glyph:ot});var at=Math.floor(nt/256);if(256*at>65535)et(new Error("glyphs > 65535 not supported"));else if(it.ranges[at])et(null,{stack:tt,id:nt,glyph:ot});else{var st=it.requests[at];st||(st=it.requests[at]=[],y.loadGlyphRange(tt,at,rt.url,rt.requestManager,(function(Ne,et){if(et){for(var tt in et)rt._doesCharSupportLocalGlyph(+tt)||(it.glyphs[+tt]=et[+tt]);it.ranges[at]=!0}for(var nt=0,ot=st;nt<ot.length;nt+=1)(0,ot[nt])(Ne,et);delete it.requests[at]}))),st.push((function(Ne,rt){Ne?et(Ne):rt&&et(null,{stack:tt,id:nt,glyph:rt[nt]||null})}))}}else et(null,{stack:tt,id:nt,glyph:ot})}),(function(Ne,et){if(Ne)tt(Ne);else if(et){for(var rt={},nt=0,it=et;nt<it.length;nt+=1){var ot=it[nt],at=ot.stack,st=ot.id,ct=ot.glyph;(rt[at]||(rt[at]={}))[st]=ct&&{id:ct.id,bitmap:ct.bitmap.clone(),metrics:ct.metrics}}tt(null,rt)}}))},y.prototype._doesCharSupportLocalGlyph=function(et){return!!this.localIdeographFontFamily&&(Ne.isChar["CJK Unified Ideographs"](et)||Ne.isChar["Hangul Syllables"](et)||Ne.isChar.Hiragana(et)||Ne.isChar.Katakana(et))},y.prototype._tinySDF=function(et,tt,rt){var nt=this.localIdeographFontFamily;if(nt&&this._doesCharSupportLocalGlyph(rt)){var it=et.tinySDF;if(!it){var ot="400";/bold/i.test(tt)?ot="900":/medium/i.test(tt)?ot="500":/light/i.test(tt)&&(ot="200"),it=et.tinySDF=new y.TinySDF(24,3,8,.25,nt,ot)}return{id:rt,bitmap:new Ne.AlphaImage({width:30,height:30},it.draw(String.fromCharCode(rt))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},y.loadGlyphRange=function(et,tt,rt,nt,it){var ot=256*tt,at=ot+255,st=nt.transformRequest(nt.normalizeGlyphsURL(rt).replace("{fontstack}",et).replace("{range}",ot+"-"+at),Ne.ResourceType.Glyphs);Ne.getArrayBuffer(st,(function(et,tt){if(et)it(et);else if(tt){for(var rt={},nt=0,ot=Ne.parseGlyphPBF(tt);nt<ot.length;nt+=1){var at=ot[nt];rt[at.id]=at}it(null,rt)}}))},y.TinySDF=pt;var x=function(){this.specification=Ne.styleSpec.light.position};x.prototype.possiblyEvaluate=function(et,tt){return Ne.sphericalToCartesian(et.expression.evaluate(tt))},x.prototype.interpolate=function(et,tt,rt){return{x:Ne.number(et.x,tt.x,rt),y:Ne.number(et.y,tt.y,rt),z:Ne.number(et.z,tt.z,rt)}};var mt=new Ne.Properties({anchor:new Ne.DataConstantProperty(Ne.styleSpec.light.anchor),position:new x,color:new Ne.DataConstantProperty(Ne.styleSpec.light.color),intensity:new Ne.DataConstantProperty(Ne.styleSpec.light.intensity)}),yt=function(et){function i(tt){et.call(this),this._transitionable=new Ne.Transitionable(mt),this.setLight(tt),this._transitioning=this._transitionable.untransitioned()}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(et,tt){if(void 0===tt&&(tt={}),!this._validate(Ne.validateLight,et,tt))for(var rt in et){var nt=et[rt];Ne.endsWith(rt,"-transition")?this._transitionable.setTransition(rt.slice(0,-"-transition".length),nt):this._transitionable.setValue(rt,nt)}},i.prototype.updateTransitions=function(Ne){this._transitioning=this._transitionable.transitioned(Ne,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(Ne){this.properties=this._transitioning.possiblyEvaluate(Ne)},i.prototype._validate=function(et,tt,rt){return(!rt||!1!==rt.validate)&&Ne.emitValidationErrors(this,et.call(Ne.validateStyle,Ne.extend({value:tt,style:{glyphs:!0,sprite:!0},styleSpec:Ne.styleSpec})))},i}(Ne.Evented),T=function(Ne,et){this.width=Ne,this.height=et,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};T.prototype.getDash=function(Ne,et){var tt=Ne.join(",")+String(et);return this.dashEntry[tt]||(this.dashEntry[tt]=this.addDash(Ne,et)),this.dashEntry[tt]},T.prototype.getDashRanges=function(Ne,et,tt){var rt=[],nt=Ne.length%2==1?-Ne[Ne.length-1]*tt:0,it=Ne[0]*tt,ot=!0;rt.push({left:nt,right:it,isDash:ot,zeroLength:0===Ne[0]});for(var at=Ne[0],st=1;st<Ne.length;st++){var ct=Ne[st];rt.push({left:nt=at*tt,right:it=(at+=ct)*tt,isDash:ot=!ot,zeroLength:0===ct})}return rt},T.prototype.addRoundDash=function(Ne,et,tt){for(var rt=et/2,nt=-tt;nt<=tt;nt++)for(var it=this.width*(this.nextRow+tt+nt),ot=0,at=Ne[ot],st=0;st<this.width;st++){st/at.right>1&&(at=Ne[++ot]);var ct=Math.abs(st-at.left),pt=Math.abs(st-at.right),ft=Math.min(ct,pt),dt=void 0,mt=nt/tt*(rt+1);if(at.isDash){var yt=rt-Math.abs(mt);dt=Math.sqrt(ft*ft+yt*yt)}else dt=rt-Math.sqrt(ft*ft+mt*mt);this.data[it+st]=Math.max(0,Math.min(255,dt+128))}},T.prototype.addRegularDash=function(Ne){for(var et=Ne.length-1;et>=0;--et){var tt=Ne[et],rt=Ne[et+1];tt.zeroLength?Ne.splice(et,1):rt&&rt.isDash===tt.isDash&&(rt.left=tt.left,Ne.splice(et,1))}var nt=Ne[0],it=Ne[Ne.length-1];nt.isDash===it.isDash&&(nt.left=it.left-this.width,it.right=nt.right+this.width);for(var ot=this.width*this.nextRow,at=0,st=Ne[at],ct=0;ct<this.width;ct++){ct/st.right>1&&(st=Ne[++at]);var pt=Math.abs(ct-st.left),ft=Math.abs(ct-st.right),dt=Math.min(pt,ft);this.data[ot+ct]=Math.max(0,Math.min(255,(st.isDash?dt:-dt)+128))}},T.prototype.addDash=function(et,tt){var rt=tt?7:0,nt=2*rt+1;if(this.nextRow+nt>this.height)return Ne.warnOnce("LineAtlas out of space"),null;for(var it=0,ot=0;ot<et.length;ot++)it+=et[ot];if(0!==it){var at=this.width/it,st=this.getDashRanges(et,this.width,at);tt?this.addRoundDash(st,at,rt):this.addRegularDash(st)}var ct={y:(this.nextRow+rt+.5)/this.height,height:2*rt/this.height,width:it};return this.nextRow+=nt,this.dirty=!0,ct},T.prototype.bind=function(Ne){var et=Ne.gl;this.texture?(et.bindTexture(et.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,et.texSubImage2D(et.TEXTURE_2D,0,0,0,this.width,this.height,et.ALPHA,et.UNSIGNED_BYTE,this.data))):(this.texture=et.createTexture(),et.bindTexture(et.TEXTURE_2D,this.texture),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_WRAP_S,et.REPEAT),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_WRAP_T,et.REPEAT),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_MIN_FILTER,et.LINEAR),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_MAG_FILTER,et.LINEAR),et.texImage2D(et.TEXTURE_2D,0,et.ALPHA,this.width,this.height,0,et.ALPHA,et.UNSIGNED_BYTE,this.data))};var vt=function e(et,tt){this.workerPool=et,this.actors=[],this.currentActor=0,this.id=Ne.uniqueId();for(var rt=this.workerPool.acquire(this.id),nt=0;nt<rt.length;nt++){var it=new e.Actor(rt[nt],tt,this.id);it.name="Worker "+nt,this.actors.push(it)}};function I(et,tt,rt){var r=function(nt,it){if(nt)return rt(nt);if(it){var ot=Ne.pick(Ne.extend(it,et),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);it.vector_layers&&(ot.vectorLayers=it.vector_layers,ot.vectorLayerIds=ot.vectorLayers.map((function(Ne){return Ne.id}))),ot.tiles=tt.canonicalizeTileset(ot,et.url),rt(null,ot)}};return et.url?Ne.getJSON(tt.transformRequest(tt.normalizeSourceURL(et.url),Ne.ResourceType.Source),r):Ne.browser.frame((function(){return r(null,et)}))}vt.prototype.broadcast=function(et,tt,rt){Ne.asyncAll(this.actors,(function(Ne,rt){Ne.send(et,tt,rt)}),rt=rt||function(){})},vt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},vt.prototype.remove=function(){this.actors.forEach((function(Ne){Ne.remove()})),this.actors=[],this.workerPool.release(this.id)},vt.Actor=Ne.Actor;var P=function(et,tt,rt){this.bounds=Ne.LngLatBounds.convert(this.validateBounds(et)),this.minzoom=tt||0,this.maxzoom=rt||24};P.prototype.validateBounds=function(Ne){return Array.isArray(Ne)&&4===Ne.length?[Math.max(-180,Ne[0]),Math.max(-90,Ne[1]),Math.min(180,Ne[2]),Math.min(90,Ne[3])]:[-180,-90,180,90]},P.prototype.contains=function(et){var tt=Math.pow(2,et.z),rt=Math.floor(Ne.mercatorXfromLng(this.bounds.getWest())*tt),nt=Math.floor(Ne.mercatorYfromLat(this.bounds.getNorth())*tt),it=Math.ceil(Ne.mercatorXfromLng(this.bounds.getEast())*tt),ot=Math.ceil(Ne.mercatorYfromLat(this.bounds.getSouth())*tt);return et.x>=rt&&et.x<it&&et.y>=nt&&et.y<ot};var Rt=function(et){function i(tt,rt,nt,it){if(et.call(this),this.id=tt,this.dispatcher=nt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,Ne.extend(this,Ne.pick(rt,["url","scheme","tileSize","promoteId"])),this._options=Ne.extend({type:"vector"},rt),this._collectResourceTiming=rt.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(it)}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(){var et=this;this._loaded=!1,this.fire(new Ne.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(tt,rt){et._tileJSONRequest=null,et._loaded=!0,tt?et.fire(new Ne.ErrorEvent(tt)):rt&&(Ne.extend(et,rt),rt.bounds&&(et.tileBounds=new P(rt.bounds,et.minzoom,et.maxzoom)),Ne.postTurnstileEvent(rt.tiles,et.map._requestManager._customAccessToken),Ne.postMapLoadEvent(rt.tiles,et.map._getMapId(),et.map._requestManager._skuToken,et.map._requestManager._customAccessToken),et.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"metadata"})),et.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.hasTile=function(Ne){return!this.tileBounds||this.tileBounds.contains(Ne.canonical)},i.prototype.onAdd=function(Ne){this.map=Ne,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return Ne.extend({},this._options)},i.prototype.loadTile=function(et,tt){var rt=this.map._requestManager.normalizeTileURL(et.tileID.canonical.url(this.tiles,this.scheme)),nt={request:this.map._requestManager.transformRequest(rt,Ne.ResourceType.Tile),uid:et.uid,tileID:et.tileID,zoom:et.tileID.overscaledZ,tileSize:this.tileSize*et.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:Ne.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(rt,nt){return delete et.request,et.aborted?tt(null):rt&&404!==rt.status?tt(rt):(nt&&nt.resourceTiming&&(et.resourceTiming=nt.resourceTiming),this.map._refreshExpiredTiles&&nt&&et.setExpiryData(nt),et.loadVectorData(nt,this.map.painter),Ne.cacheEntryPossiblyAdded(this.dispatcher),tt(null),void(et.reloadCallback&&(this.loadTile(et,et.reloadCallback),et.reloadCallback=null)))}nt.request.collectResourceTiming=this._collectResourceTiming,et.actor&&"expired"!==et.state?"loading"===et.state?et.reloadCallback=tt:et.request=et.actor.send("reloadTile",nt,a.bind(this)):(et.actor=this.dispatcher.getActor(),et.request=et.actor.send("loadTile",nt,a.bind(this)))},i.prototype.abortTile=function(Ne){Ne.request&&(Ne.request.cancel(),delete Ne.request),Ne.actor&&Ne.actor.send("abortTile",{uid:Ne.uid,type:this.type,source:this.id},void 0)},i.prototype.unloadTile=function(Ne){Ne.unloadVectorData(),Ne.actor&&Ne.actor.send("removeTile",{uid:Ne.uid,type:this.type,source:this.id},void 0)},i.prototype.hasTransition=function(){return!1},i}(Ne.Evented),Dt=function(et){function i(tt,rt,nt,it){et.call(this),this.id=tt,this.dispatcher=nt,this.setEventedParent(it),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=Ne.extend({type:"raster"},rt),Ne.extend(this,Ne.pick(rt,["url","scheme","tileSize"]))}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(){var et=this;this._loaded=!1,this.fire(new Ne.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(tt,rt){et._tileJSONRequest=null,et._loaded=!0,tt?et.fire(new Ne.ErrorEvent(tt)):rt&&(Ne.extend(et,rt),rt.bounds&&(et.tileBounds=new P(rt.bounds,et.minzoom,et.maxzoom)),Ne.postTurnstileEvent(rt.tiles),Ne.postMapLoadEvent(rt.tiles,et.map._getMapId(),et.map._requestManager._skuToken),et.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"metadata"})),et.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.onAdd=function(Ne){this.map=Ne,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return Ne.extend({},this._options)},i.prototype.hasTile=function(Ne){return!this.tileBounds||this.tileBounds.contains(Ne.canonical)},i.prototype.loadTile=function(et,tt){var rt=this,nt=this.map._requestManager.normalizeTileURL(et.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);et.request=Ne.getImage(this.map._requestManager.transformRequest(nt,Ne.ResourceType.Tile),(function(nt,it){if(delete et.request,et.aborted)et.state="unloaded",tt(null);else if(nt)et.state="errored",tt(nt);else if(it){rt.map._refreshExpiredTiles&&et.setExpiryData(it),delete it.cacheControl,delete it.expires;var ot=rt.map.painter.context,at=ot.gl;et.texture=rt.map.painter.getTileTexture(it.width),et.texture?et.texture.update(it,{useMipmap:!0}):(et.texture=new Ne.Texture(ot,it,at.RGBA,{useMipmap:!0}),et.texture.bind(at.LINEAR,at.CLAMP_TO_EDGE,at.LINEAR_MIPMAP_NEAREST),ot.extTextureFilterAnisotropic&&at.texParameterf(at.TEXTURE_2D,ot.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ot.extTextureFilterAnisotropicMax)),et.state="loaded",Ne.cacheEntryPossiblyAdded(rt.dispatcher),tt(null)}}))},i.prototype.abortTile=function(Ne,et){Ne.request&&(Ne.request.cancel(),delete Ne.request),et()},i.prototype.unloadTile=function(Ne,et){Ne.texture&&this.map.painter.saveTileTexture(Ne.texture),et()},i.prototype.hasTransition=function(){return!1},i}(Ne.Evented),Ot=function(et){function i(tt,rt,nt,it){et.call(this,tt,rt,nt,it),this.type="raster-dem",this.maxzoom=22,this._options=Ne.extend({type:"raster-dem"},rt),this.encoding=rt.encoding||"mapbox"}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(et,tt){var rt=this.map._requestManager.normalizeTileURL(et.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function r(Ne,rt){Ne&&(et.state="errored",tt(Ne)),rt&&(et.dem=rt,et.needsHillshadePrepare=!0,et.state="loaded",tt(null))}et.request=Ne.getImage(this.map._requestManager.transformRequest(rt,Ne.ResourceType.Tile),function(rt,nt){if(delete et.request,et.aborted)et.state="unloaded",tt(null);else if(rt)et.state="errored",tt(rt);else if(nt){this.map._refreshExpiredTiles&&et.setExpiryData(nt),delete nt.cacheControl,delete nt.expires;var it=Ne.window.ImageBitmap&&nt instanceof Ne.window.ImageBitmap&&Ne.offscreenCanvasSupported()?nt:Ne.browser.getImageData(nt,1),ot={uid:et.uid,coord:et.tileID,source:this.id,rawImageData:it,encoding:this.encoding};et.actor&&"expired"!==et.state||(et.actor=this.dispatcher.getActor(),et.actor.send("loadDEMTile",ot,r.bind(this)))}}.bind(this)),et.neighboringTiles=this._getNeighboringTiles(et.tileID)},i.prototype._getNeighboringTiles=function(et){var tt=et.canonical,rt=Math.pow(2,tt.z),nt=(tt.x-1+rt)%rt,it=0===tt.x?et.wrap-1:et.wrap,ot=(tt.x+1+rt)%rt,at=tt.x+1===rt?et.wrap+1:et.wrap,st={};return st[new Ne.OverscaledTileID(et.overscaledZ,it,tt.z,nt,tt.y).key]={backfilled:!1},st[new Ne.OverscaledTileID(et.overscaledZ,at,tt.z,ot,tt.y).key]={backfilled:!1},tt.y>0&&(st[new Ne.OverscaledTileID(et.overscaledZ,it,tt.z,nt,tt.y-1).key]={backfilled:!1},st[new Ne.OverscaledTileID(et.overscaledZ,et.wrap,tt.z,tt.x,tt.y-1).key]={backfilled:!1},st[new Ne.OverscaledTileID(et.overscaledZ,at,tt.z,ot,tt.y-1).key]={backfilled:!1}),tt.y+1<rt&&(st[new Ne.OverscaledTileID(et.overscaledZ,it,tt.z,nt,tt.y+1).key]={backfilled:!1},st[new Ne.OverscaledTileID(et.overscaledZ,et.wrap,tt.z,tt.x,tt.y+1).key]={backfilled:!1},st[new Ne.OverscaledTileID(et.overscaledZ,at,tt.z,ot,tt.y+1).key]={backfilled:!1}),st},i.prototype.unloadTile=function(Ne){Ne.demTexture&&this.map.painter.saveTileTexture(Ne.demTexture),Ne.fbo&&(Ne.fbo.destroy(),delete Ne.fbo),Ne.dem&&delete Ne.dem,delete Ne.neighboringTiles,Ne.state="unloaded",Ne.actor&&Ne.actor.send("removeDEMTile",{uid:Ne.uid,source:this.id})},i}(Dt),Bt=function(et){function i(tt,rt,nt,it){et.call(this),this.id=tt,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=nt.getActor(),this.setEventedParent(it),this._data=rt.data,this._options=Ne.extend({},rt),this._collectResourceTiming=rt.collectResourceTiming,this._resourceTiming=[],void 0!==rt.maxzoom&&(this.maxzoom=rt.maxzoom),rt.type&&(this.type=rt.type),rt.attribution&&(this.attribution=rt.attribution),this.promoteId=rt.promoteId;var ot=Ne.EXTENT/this.tileSize;this.workerOptions=Ne.extend({source:this.id,cluster:rt.cluster||!1,geojsonVtOptions:{buffer:(void 0!==rt.buffer?rt.buffer:128)*ot,tolerance:(void 0!==rt.tolerance?rt.tolerance:.375)*ot,extent:Ne.EXTENT,maxZoom:this.maxzoom,lineMetrics:rt.lineMetrics||!1,generateId:rt.generateId||!1},superclusterOptions:{maxZoom:void 0!==rt.clusterMaxZoom?Math.min(rt.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,rt.clusterMinPoints||2),extent:Ne.EXTENT,radius:(rt.clusterRadius||50)*ot,log:!1,generateId:rt.generateId||!1},clusterProperties:rt.clusterProperties},rt.workerOptions)}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(){var et=this;this.fire(new Ne.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(tt){if(tt)et.fire(new Ne.ErrorEvent(tt));else{var rt={dataType:"source",sourceDataType:"metadata"};et._collectResourceTiming&&et._resourceTiming&&et._resourceTiming.length>0&&(rt.resourceTiming=et._resourceTiming,et._resourceTiming=[]),et.fire(new Ne.Event("data",rt))}}))},i.prototype.onAdd=function(Ne){this.map=Ne,this.load()},i.prototype.setData=function(et){var tt=this;return this._data=et,this.fire(new Ne.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(et){if(et)tt.fire(new Ne.ErrorEvent(et));else{var rt={dataType:"source",sourceDataType:"content"};tt._collectResourceTiming&&tt._resourceTiming&&tt._resourceTiming.length>0&&(rt.resourceTiming=tt._resourceTiming,tt._resourceTiming=[]),tt.fire(new Ne.Event("data",rt))}})),this},i.prototype.getClusterExpansionZoom=function(Ne,et){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:Ne,source:this.id},et),this},i.prototype.getClusterChildren=function(Ne,et){return this.actor.send("geojson.getClusterChildren",{clusterId:Ne,source:this.id},et),this},i.prototype.getClusterLeaves=function(Ne,et,tt,rt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:Ne,limit:et,offset:tt},rt),this},i.prototype._updateWorkerData=function(et){var tt=this;this._loaded=!1;var rt=Ne.extend({},this.workerOptions),nt=this._data;"string"==typeof nt?(rt.request=this.map._requestManager.transformRequest(Ne.browser.resolveURL(nt),Ne.ResourceType.Source),rt.request.collectResourceTiming=this._collectResourceTiming):rt.data=JSON.stringify(nt),this.actor.send(this.type+".loadData",rt,(function(Ne,nt){tt._removed||nt&&nt.abandoned||(tt._loaded=!0,nt&&nt.resourceTiming&&nt.resourceTiming[tt.id]&&(tt._resourceTiming=nt.resourceTiming[tt.id].slice(0)),tt.actor.send(tt.type+".coalesce",{source:rt.source},null),et(Ne))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.loadTile=function(et,tt){var rt=this,nt=et.actor?"reloadTile":"loadTile";et.actor=this.actor,et.request=this.actor.send(nt,{type:this.type,uid:et.uid,tileID:et.tileID,zoom:et.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:Ne.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(Ne,it){return delete et.request,et.unloadVectorData(),et.aborted?tt(null):Ne?tt(Ne):(et.loadVectorData(it,rt.map.painter,"reloadTile"===nt),tt(null))}))},i.prototype.abortTile=function(Ne){Ne.request&&(Ne.request.cancel(),delete Ne.request),Ne.aborted=!0},i.prototype.unloadTile=function(Ne){Ne.unloadVectorData(),this.actor.send("removeTile",{uid:Ne.uid,type:this.type,source:this.id})},i.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},i.prototype.serialize=function(){return Ne.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(Ne.Evented),er=Ne.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),rr=function(et){function i(Ne,tt,rt,nt){et.call(this),this.id=Ne,this.dispatcher=rt,this.coordinates=tt.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(nt),this.options=tt}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(et,tt){var rt=this;this._loaded=!1,this.fire(new Ne.Event("dataloading",{dataType:"source"})),this.url=this.options.url,Ne.getImage(this.map._requestManager.transformRequest(this.url,Ne.ResourceType.Image),(function(nt,it){rt._loaded=!0,nt?rt.fire(new Ne.ErrorEvent(nt)):it&&(rt.image=it,et&&(rt.coordinates=et),tt&&tt(),rt._finishLoading())}))},i.prototype.loaded=function(){return this._loaded},i.prototype.updateImage=function(Ne){var et=this;return this.image&&Ne.url?(this.options.url=Ne.url,this.load(Ne.coordinates,(function(){et.texture=null})),this):this},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(Ne){this.map=Ne,this.load()},i.prototype.setCoordinates=function(et){var tt=this;this.coordinates=et;var rt=et.map(Ne.MercatorCoordinate.fromLngLat);this.tileID=function(et){for(var tt=1/0,rt=1/0,nt=-1/0,it=-1/0,ot=0,at=et;ot<at.length;ot+=1){var st=at[ot];tt=Math.min(tt,st.x),rt=Math.min(rt,st.y),nt=Math.max(nt,st.x),it=Math.max(it,st.y)}var ct=Math.max(nt-tt,it-rt),pt=Math.max(0,Math.floor(-Math.log(ct)/Math.LN2)),ft=Math.pow(2,pt);return new Ne.CanonicalTileID(pt,Math.floor((tt+nt)/2*ft),Math.floor((rt+it)/2*ft))}(rt),this.minzoom=this.maxzoom=this.tileID.z;var nt=rt.map((function(Ne){return tt.tileID.getTilePoint(Ne)._round()}));return this._boundsArray=new Ne.StructArrayLayout4i8,this._boundsArray.emplaceBack(nt[0].x,nt[0].y,0,0),this._boundsArray.emplaceBack(nt[1].x,nt[1].y,Ne.EXTENT,0),this._boundsArray.emplaceBack(nt[3].x,nt[3].y,0,Ne.EXTENT),this._boundsArray.emplaceBack(nt[2].x,nt[2].y,Ne.EXTENT,Ne.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var et=this.map.painter.context,tt=et.gl;for(var rt in this.boundsBuffer||(this.boundsBuffer=et.createVertexBuffer(this._boundsArray,er.members)),this.boundsSegments||(this.boundsSegments=Ne.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Ne.Texture(et,this.image,tt.RGBA),this.texture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)),this.tiles){var nt=this.tiles[rt];"loaded"!==nt.state&&(nt.state="loaded",nt.texture=this.texture)}}},i.prototype.loadTile=function(Ne,et){this.tileID&&this.tileID.equals(Ne.tileID.canonical)?(this.tiles[String(Ne.tileID.wrap)]=Ne,Ne.buckets={},et(null)):(Ne.state="errored",et(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(Ne.Evented),vr=function(et){function i(Ne,tt,rt,nt){et.call(this,Ne,tt,rt,nt),this.roundZoom=!0,this.type="video",this.options=tt}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(){var et=this;this._loaded=!1;var tt=this.options;this.urls=[];for(var rt=0,nt=tt.urls;rt<nt.length;rt+=1)this.urls.push(this.map._requestManager.transformRequest(nt[rt],Ne.ResourceType.Source).url);Ne.getVideo(this.urls,(function(tt,rt){et._loaded=!0,tt?et.fire(new Ne.ErrorEvent(tt)):rt&&(et.video=rt,et.video.loop=!0,et.video.addEventListener("playing",(function(){et.map.triggerRepaint()})),et.map&&et.video.play(),et._finishLoading())}))},i.prototype.pause=function(){this.video&&this.video.pause()},i.prototype.play=function(){this.video&&this.video.play()},i.prototype.seek=function(et){if(this.video){var tt=this.video.seekable;et<tt.start(0)||et>tt.end(0)?this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+tt.start(0)+" and "+tt.end(0)+"-second mark."))):this.video.currentTime=et}},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(Ne){this.map||(this.map=Ne,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var et=this.map.painter.context,tt=et.gl;for(var rt in this.boundsBuffer||(this.boundsBuffer=et.createVertexBuffer(this._boundsArray,er.members)),this.boundsSegments||(this.boundsSegments=Ne.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE),tt.texSubImage2D(tt.TEXTURE_2D,0,0,0,tt.RGBA,tt.UNSIGNED_BYTE,this.video)):(this.texture=new Ne.Texture(et,this.video,tt.RGBA),this.texture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)),this.tiles){var nt=this.tiles[rt];"loaded"!==nt.state&&(nt.state="loaded",nt.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(rr),wr=function(et){function i(tt,rt,nt,it){et.call(this,tt,rt,nt,it),rt.coordinates?Array.isArray(rt.coordinates)&&4===rt.coordinates.length&&!rt.coordinates.some((function(Ne){return!Array.isArray(Ne)||2!==Ne.length||Ne.some((function(Ne){return"number"!=typeof Ne}))}))||this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+tt,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+tt,null,'missing required property "coordinates"'))),rt.animate&&"boolean"!=typeof rt.animate&&this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+tt,null,'optional "animate" property must be a boolean value'))),rt.canvas?"string"==typeof rt.canvas||rt.canvas instanceof Ne.window.HTMLCanvasElement||this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+tt,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+tt,null,'missing required property "canvas"'))),this.options=rt,this.animate=void 0===rt.animate||rt.animate}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof Ne.window.HTMLCanvasElement?this.options.canvas:Ne.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new Ne.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(Ne){this.map=Ne,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var et=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,et=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,et=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var tt=this.map.painter.context,rt=tt.gl;for(var nt in this.boundsBuffer||(this.boundsBuffer=tt.createVertexBuffer(this._boundsArray,er.members)),this.boundsSegments||(this.boundsSegments=Ne.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(et||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Ne.Texture(tt,this.canvas,rt.RGBA,{premultiply:!0}),this.tiles){var it=this.tiles[nt];"loaded"!==it.state&&(it.state="loaded",it.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var Ne=0,et=[this.canvas.width,this.canvas.height];Ne<et.length;Ne+=1){var tt=et[Ne];if(isNaN(tt)||tt<=0)return!0}return!1},i}(rr),Sr={vector:Rt,raster:Dt,"raster-dem":Ot,geojson:Bt,video:vr,image:rr,canvas:wr};function B(et,tt){var rt=Ne.identity([]);return Ne.translate(rt,rt,[1,1,0]),Ne.scale(rt,rt,[.5*et.width,.5*et.height,1]),Ne.multiply(rt,rt,et.calculatePosMatrix(tt.toUnwrapped()))}function O(Ne,et,tt,rt,nt,it){var ot=function(Ne,et,tt){if(Ne)for(var rt=0,nt=Ne;rt<nt.length;rt+=1){var it=et[nt[rt]];if(it&&it.source===tt&&"fill-extrusion"===it.type)return!0}else for(var ot in et){var at=et[ot];if(at.source===tt&&"fill-extrusion"===at.type)return!0}return!1}(nt&&nt.layers,et,Ne.id),at=it.maxPitchScaleFactor(),st=Ne.tilesIn(rt,at,ot);st.sort(F);for(var ct=[],pt=0,ft=st;pt<ft.length;pt+=1){var dt=ft[pt];ct.push({wrappedTileID:dt.tileID.wrapped().key,queryResults:dt.tile.queryRenderedFeatures(et,tt,Ne._state,dt.queryGeometry,dt.cameraQueryGeometry,dt.scale,nt,it,at,B(Ne.transform,dt.tileID))})}var mt=function(Ne){for(var et={},tt={},rt=0,nt=Ne;rt<nt.length;rt+=1){var it=nt[rt],ot=it.queryResults,at=it.wrappedTileID,st=tt[at]=tt[at]||{};for(var ct in ot)for(var pt=ot[ct],ft=st[ct]=st[ct]||{},dt=et[ct]=et[ct]||[],mt=0,yt=pt;mt<yt.length;mt+=1){var vt=yt[mt];ft[vt.featureIndex]||(ft[vt.featureIndex]=!0,dt.push(vt))}}return et}(ct);for(var yt in mt)mt[yt].forEach((function(et){var tt=et.feature,rt=Ne.getFeatureState(tt.layer["source-layer"],tt.id);tt.source=tt.layer.source,tt.layer["source-layer"]&&(tt.sourceLayer=tt.layer["source-layer"]),tt.state=rt}));return mt}function F(Ne,et){var tt=Ne.tileID,rt=et.tileID;return tt.overscaledZ-rt.overscaledZ||tt.canonical.y-rt.canonical.y||tt.wrap-rt.wrap||tt.canonical.x-rt.canonical.x}var U=function(Ne,et){this.max=Ne,this.onRemove=et,this.reset()};U.prototype.reset=function(){for(var Ne in this.data)for(var et=0,tt=this.data[Ne];et<tt.length;et+=1){var rt=tt[et];rt.timeout&&clearTimeout(rt.timeout),this.onRemove(rt.value)}return this.data={},this.order=[],this},U.prototype.add=function(Ne,et,tt){var rt=this,nt=Ne.wrapped().key;void 0===this.data[nt]&&(this.data[nt]=[]);var it={value:et,timeout:void 0};if(void 0!==tt&&(it.timeout=setTimeout((function(){rt.remove(Ne,it)}),tt)),this.data[nt].push(it),this.order.push(nt),this.order.length>this.max){var ot=this._getAndRemoveByKey(this.order[0]);ot&&this.onRemove(ot)}return this},U.prototype.has=function(Ne){return Ne.wrapped().key in this.data},U.prototype.getAndRemove=function(Ne){return this.has(Ne)?this._getAndRemoveByKey(Ne.wrapped().key):null},U.prototype._getAndRemoveByKey=function(Ne){var et=this.data[Ne].shift();return et.timeout&&clearTimeout(et.timeout),0===this.data[Ne].length&&delete this.data[Ne],this.order.splice(this.order.indexOf(Ne),1),et.value},U.prototype.getByKey=function(Ne){var et=this.data[Ne];return et?et[0].value:null},U.prototype.get=function(Ne){return this.has(Ne)?this.data[Ne.wrapped().key][0].value:null},U.prototype.remove=function(Ne,et){if(!this.has(Ne))return this;var tt=Ne.wrapped().key,rt=void 0===et?0:this.data[tt].indexOf(et),nt=this.data[tt][rt];return this.data[tt].splice(rt,1),nt.timeout&&clearTimeout(nt.timeout),0===this.data[tt].length&&delete this.data[tt],this.onRemove(nt.value),this.order.splice(this.order.indexOf(tt),1),this},U.prototype.setMaxSize=function(Ne){for(this.max=Ne;this.order.length>this.max;){var et=this._getAndRemoveByKey(this.order[0]);et&&this.onRemove(et)}return this},U.prototype.filter=function(Ne){var et=[];for(var tt in this.data)for(var rt=0,nt=this.data[tt];rt<nt.length;rt+=1){var it=nt[rt];Ne(it.value)||et.push(it)}for(var ot=0,at=et;ot<at.length;ot+=1){var st=at[ot];this.remove(st.value.tileID,st)}};var N=function(Ne,et,tt){this.context=Ne;var rt=Ne.gl;this.buffer=rt.createBuffer(),this.dynamicDraw=Boolean(tt),this.context.unbindVAO(),Ne.bindElementBuffer.set(this.buffer),rt.bufferData(rt.ELEMENT_ARRAY_BUFFER,et.arrayBuffer,this.dynamicDraw?rt.DYNAMIC_DRAW:rt.STATIC_DRAW),this.dynamicDraw||delete et.arrayBuffer};N.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},N.prototype.updateData=function(Ne){var et=this.context.gl;this.context.unbindVAO(),this.bind(),et.bufferSubData(et.ELEMENT_ARRAY_BUFFER,0,Ne.arrayBuffer)},N.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var rn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},j=function(Ne,et,tt,rt){this.length=et.length,this.attributes=tt,this.itemSize=et.bytesPerElement,this.dynamicDraw=rt,this.context=Ne;var nt=Ne.gl;this.buffer=nt.createBuffer(),Ne.bindVertexBuffer.set(this.buffer),nt.bufferData(nt.ARRAY_BUFFER,et.arrayBuffer,this.dynamicDraw?nt.DYNAMIC_DRAW:nt.STATIC_DRAW),this.dynamicDraw||delete et.arrayBuffer};j.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},j.prototype.updateData=function(Ne){var et=this.context.gl;this.bind(),et.bufferSubData(et.ARRAY_BUFFER,0,Ne.arrayBuffer)},j.prototype.enableAttributes=function(Ne,et){for(var tt=0;tt<this.attributes.length;tt++){var rt=et.attributes[this.attributes[tt].name];void 0!==rt&&Ne.enableVertexAttribArray(rt)}},j.prototype.setVertexAttribPointers=function(Ne,et,tt){for(var rt=0;rt<this.attributes.length;rt++){var nt=this.attributes[rt],it=et.attributes[nt.name];void 0!==it&&Ne.vertexAttribPointer(it,nt.components,Ne[rn[nt.type]],!1,this.itemSize,nt.offset+this.itemSize*(tt||0))}},j.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var q=function(Ne){this.gl=Ne.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};q.prototype.get=function(){return this.current},q.prototype.set=function(Ne){},q.prototype.getDefault=function(){return this.default},q.prototype.setDefault=function(){this.set(this.default)};var vn=function(et){function i(){et.apply(this,arguments)}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.getDefault=function(){return Ne.Color.transparent},i.prototype.set=function(Ne){var et=this.current;(Ne.r!==et.r||Ne.g!==et.g||Ne.b!==et.b||Ne.a!==et.a||this.dirty)&&(this.gl.clearColor(Ne.r,Ne.g,Ne.b,Ne.a),this.current=Ne,this.dirty=!1)},i}(q),bn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.clearDepth(Ne),this.current=Ne,this.dirty=!1)},e}(q),Tn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.clearStencil(Ne),this.current=Ne,this.dirty=!1)},e}(q),Cn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(Ne){var et=this.current;(Ne[0]!==et[0]||Ne[1]!==et[1]||Ne[2]!==et[2]||Ne[3]!==et[3]||this.dirty)&&(this.gl.colorMask(Ne[0],Ne[1],Ne[2],Ne[3]),this.current=Ne,this.dirty=!1)},e}(q),In=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.depthMask(Ne),this.current=Ne,this.dirty=!1)},e}(q),Mn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.stencilMask(Ne),this.current=Ne,this.dirty=!1)},e}(q),zn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(Ne){var et=this.current;(Ne.func!==et.func||Ne.ref!==et.ref||Ne.mask!==et.mask||this.dirty)&&(this.gl.stencilFunc(Ne.func,Ne.ref,Ne.mask),this.current=Ne,this.dirty=!1)},e}(q),Ln=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){var Ne=this.gl;return[Ne.KEEP,Ne.KEEP,Ne.KEEP]},e.prototype.set=function(Ne){var et=this.current;(Ne[0]!==et[0]||Ne[1]!==et[1]||Ne[2]!==et[2]||this.dirty)&&(this.gl.stencilOp(Ne[0],Ne[1],Ne[2]),this.current=Ne,this.dirty=!1)},e}(q),Fn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;Ne?et.enable(et.STENCIL_TEST):et.disable(et.STENCIL_TEST),this.current=Ne,this.dirty=!1}},e}(q),Bn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(Ne){var et=this.current;(Ne[0]!==et[0]||Ne[1]!==et[1]||this.dirty)&&(this.gl.depthRange(Ne[0],Ne[1]),this.current=Ne,this.dirty=!1)},e}(q),Nn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;Ne?et.enable(et.DEPTH_TEST):et.disable(et.DEPTH_TEST),this.current=Ne,this.dirty=!1}},e}(q),Vn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.depthFunc(Ne),this.current=Ne,this.dirty=!1)},e}(q),Wn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;Ne?et.enable(et.BLEND):et.disable(et.BLEND),this.current=Ne,this.dirty=!1}},e}(q),$n=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){var Ne=this.gl;return[Ne.ONE,Ne.ZERO]},e.prototype.set=function(Ne){var et=this.current;(Ne[0]!==et[0]||Ne[1]!==et[1]||this.dirty)&&(this.gl.blendFunc(Ne[0],Ne[1]),this.current=Ne,this.dirty=!1)},e}(q),Yn=function(et){function i(){et.apply(this,arguments)}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.getDefault=function(){return Ne.Color.transparent},i.prototype.set=function(Ne){var et=this.current;(Ne.r!==et.r||Ne.g!==et.g||Ne.b!==et.b||Ne.a!==et.a||this.dirty)&&(this.gl.blendColor(Ne.r,Ne.g,Ne.b,Ne.a),this.current=Ne,this.dirty=!1)},i}(q),ii=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.blendEquation(Ne),this.current=Ne,this.dirty=!1)},e}(q),qi=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;Ne?et.enable(et.CULL_FACE):et.disable(et.CULL_FACE),this.current=Ne,this.dirty=!1}},e}(q),uo=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.cullFace(Ne),this.current=Ne,this.dirty=!1)},e}(q),po=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.frontFace(Ne),this.current=Ne,this.dirty=!1)},e}(q),vo=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.useProgram(Ne),this.current=Ne,this.dirty=!1)},e}(q),So=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.activeTexture(Ne),this.current=Ne,this.dirty=!1)},e}(q),ea=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){var Ne=this.gl;return[0,0,Ne.drawingBufferWidth,Ne.drawingBufferHeight]},e.prototype.set=function(Ne){var et=this.current;(Ne[0]!==et[0]||Ne[1]!==et[1]||Ne[2]!==et[2]||Ne[3]!==et[3]||this.dirty)&&(this.gl.viewport(Ne[0],Ne[1],Ne[2],Ne[3]),this.current=Ne,this.dirty=!1)},e}(q),ta=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.bindFramebuffer(et.FRAMEBUFFER,Ne),this.current=Ne,this.dirty=!1}},e}(q),ia=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.bindRenderbuffer(et.RENDERBUFFER,Ne),this.current=Ne,this.dirty=!1}},e}(q),sa=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.bindTexture(et.TEXTURE_2D,Ne),this.current=Ne,this.dirty=!1}},e}(q),la=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.bindBuffer(et.ARRAY_BUFFER,Ne),this.current=Ne,this.dirty=!1}},e}(q),fa=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){var et=this.gl;et.bindBuffer(et.ELEMENT_ARRAY_BUFFER,Ne),this.current=Ne,this.dirty=!1},e}(q),ga=function(Ne){function e(et){Ne.call(this,et),this.vao=et.extVertexArrayObject}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){this.vao&&(Ne!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(Ne),this.current=Ne,this.dirty=!1)},e}(q),_a=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.pixelStorei(et.UNPACK_ALIGNMENT,Ne),this.current=Ne,this.dirty=!1}},e}(q),Aa=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ne),this.current=Ne,this.dirty=!1}},e}(q),os=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.pixelStorei(et.UNPACK_FLIP_Y_WEBGL,Ne),this.current=Ne,this.dirty=!1}},e}(q),as=function(Ne){function e(et,tt){Ne.call(this,et),this.context=et,this.parent=tt}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(q),ss=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var et=this.gl;et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,Ne,0),this.current=Ne,this.dirty=!1}},e}(as),ls=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var et=this.gl;et.framebufferRenderbuffer(et.FRAMEBUFFER,et.DEPTH_ATTACHMENT,et.RENDERBUFFER,Ne),this.current=Ne,this.dirty=!1}},e}(as),Et=function(Ne,et,tt,rt){this.context=Ne,this.width=et,this.height=tt;var nt=this.framebuffer=Ne.gl.createFramebuffer();this.colorAttachment=new ss(Ne,nt),rt&&(this.depthAttachment=new ls(Ne,nt))};Et.prototype.destroy=function(){var Ne=this.context.gl,et=this.colorAttachment.get();if(et&&Ne.deleteTexture(et),this.depthAttachment){var tt=this.depthAttachment.get();tt&&Ne.deleteRenderbuffer(tt)}Ne.deleteFramebuffer(this.framebuffer)};var It=function(Ne,et,tt){this.func=Ne,this.mask=et,this.range=tt};It.ReadOnly=!1,It.ReadWrite=!0,It.disabled=new It(519,It.ReadOnly,[0,1]);var Pt=function(Ne,et,tt,rt,nt,it){this.test=Ne,this.ref=et,this.mask=tt,this.fail=rt,this.depthFail=nt,this.pass=it};Pt.disabled=new Pt({func:519,mask:0},0,0,7680,7680,7680);var St=function(Ne,et,tt){this.blendFunction=Ne,this.blendColor=et,this.mask=tt};St.disabled=new St(St.Replace=[1,0],Ne.Color.transparent,[!1,!1,!1,!1]),St.unblended=new St(St.Replace,Ne.Color.transparent,[!0,!0,!0,!0]),St.alphaBlended=new St([1,771],Ne.Color.transparent,[!0,!0,!0,!0]);var Ct=function(Ne,et,tt){this.enable=Ne,this.mode=et,this.frontFace=tt};Ct.disabled=new Ct(!1,1029,2305),Ct.backCCW=new Ct(!0,1029,2305);var zt=function(Ne){this.gl=Ne,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new vn(this),this.clearDepth=new bn(this),this.clearStencil=new Tn(this),this.colorMask=new Cn(this),this.depthMask=new In(this),this.stencilMask=new Mn(this),this.stencilFunc=new zn(this),this.stencilOp=new Ln(this),this.stencilTest=new Fn(this),this.depthRange=new Bn(this),this.depthTest=new Nn(this),this.depthFunc=new Vn(this),this.blend=new Wn(this),this.blendFunc=new $n(this),this.blendColor=new Yn(this),this.blendEquation=new ii(this),this.cullFace=new qi(this),this.cullFaceSide=new uo(this),this.frontFace=new po(this),this.program=new vo(this),this.activeTexture=new So(this),this.viewport=new ea(this),this.bindFramebuffer=new ta(this),this.bindRenderbuffer=new ia(this),this.bindTexture=new sa(this),this.bindVertexBuffer=new la(this),this.bindElementBuffer=new fa(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ga(this),this.pixelStoreUnpack=new _a(this),this.pixelStoreUnpackPremultiplyAlpha=new Aa(this),this.pixelStoreUnpackFlipY=new os(this),this.extTextureFilterAnisotropic=Ne.getExtension("EXT_texture_filter_anisotropic")||Ne.getExtension("MOZ_EXT_texture_filter_anisotropic")||Ne.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Ne.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Ne.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Ne.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Ne.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Ne.getExtension("EXT_disjoint_timer_query")};zt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},zt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},zt.prototype.createIndexBuffer=function(Ne,et){return new N(this,Ne,et)},zt.prototype.createVertexBuffer=function(Ne,et,tt){return new j(this,Ne,et,tt)},zt.prototype.createRenderbuffer=function(Ne,et,tt){var rt=this.gl,nt=rt.createRenderbuffer();return this.bindRenderbuffer.set(nt),rt.renderbufferStorage(rt.RENDERBUFFER,Ne,et,tt),this.bindRenderbuffer.set(null),nt},zt.prototype.createFramebuffer=function(Ne,et,tt){return new Et(this,Ne,et,tt)},zt.prototype.clear=function(Ne){var et=Ne.color,tt=Ne.depth,rt=this.gl,nt=0;et&&(nt|=rt.COLOR_BUFFER_BIT,this.clearColor.set(et),this.colorMask.set([!0,!0,!0,!0])),void 0!==tt&&(nt|=rt.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(tt),this.depthMask.set(!0)),rt.clear(nt)},zt.prototype.setCullFace=function(Ne){!1===Ne.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Ne.mode),this.frontFace.set(Ne.frontFace))},zt.prototype.setDepthMode=function(Ne){Ne.func!==this.gl.ALWAYS||Ne.mask?(this.depthTest.set(!0),this.depthFunc.set(Ne.func),this.depthMask.set(Ne.mask),this.depthRange.set(Ne.range)):this.depthTest.set(!1)},zt.prototype.setStencilMode=function(Ne){Ne.test.func!==this.gl.ALWAYS||Ne.mask?(this.stencilTest.set(!0),this.stencilMask.set(Ne.mask),this.stencilOp.set([Ne.fail,Ne.depthFail,Ne.pass]),this.stencilFunc.set({func:Ne.test.func,ref:Ne.ref,mask:Ne.test.mask})):this.stencilTest.set(!1)},zt.prototype.setColorMode=function(et){Ne.deepEqual(et.blendFunction,St.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(et.blendFunction),this.blendColor.set(et.blendColor)),this.colorMask.set(et.mask)},zt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var us=function(et){function i(tt,rt,nt){var it=this;et.call(this),this.id=tt,this.dispatcher=nt,this.on("data",(function(Ne){"source"===Ne.dataType&&"metadata"===Ne.sourceDataType&&(it._sourceLoaded=!0),it._sourceLoaded&&!it._paused&&"source"===Ne.dataType&&"content"===Ne.sourceDataType&&(it.reload(),it.transform&&it.update(it.transform))})),this.on("error",(function(){it._sourceErrored=!0})),this._source=function(et,tt,rt,nt){var it=new Sr[tt.type](et,tt,rt,nt);if(it.id!==et)throw new Error("Expected Source id to be "+et+" instead of "+it.id);return Ne.bindAll(["load","abort","unload","serialize","prepare"],it),it}(tt,rt,nt,this),this._tiles={},this._cache=new U(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ne.SourceFeatureState}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.onAdd=function(Ne){this.map=Ne,this._maxTileCacheSize=Ne?Ne._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(Ne)},i.prototype.onRemove=function(Ne){this._source&&this._source.onRemove&&this._source.onRemove(Ne)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var Ne in this._tiles){var et=this._tiles[Ne];if("loaded"!==et.state&&"errored"!==et.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var Ne=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,Ne&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(Ne,et){return this._source.loadTile(Ne,et)},i.prototype._unloadTile=function(Ne){if(this._source.unloadTile)return this._source.unloadTile(Ne,(function(){}))},i.prototype._abortTile=function(Ne){if(this._source.abortTile)return this._source.abortTile(Ne,(function(){}))},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(Ne){for(var et in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var tt=this._tiles[et];tt.upload(Ne),tt.prepare(this.map.style.imageManager)}},i.prototype.getIds=function(){return Ne.values(this._tiles).map((function(Ne){return Ne.tileID})).sort(Mt).map((function(Ne){return Ne.key}))},i.prototype.getRenderableIds=function(et){var tt=this,rt=[];for(var nt in this._tiles)this._isIdRenderable(nt,et)&&rt.push(this._tiles[nt]);return et?rt.sort((function(et,rt){var nt=et.tileID,it=rt.tileID,ot=new Ne.Point(nt.canonical.x,nt.canonical.y)._rotate(tt.transform.angle),at=new Ne.Point(it.canonical.x,it.canonical.y)._rotate(tt.transform.angle);return nt.overscaledZ-it.overscaledZ||at.y-ot.y||at.x-ot.x})).map((function(Ne){return Ne.tileID.key})):rt.map((function(Ne){return Ne.tileID})).sort(Mt).map((function(Ne){return Ne.key}))},i.prototype.hasRenderableParent=function(Ne){var et=this.findLoadedParent(Ne,0);return!!et&&this._isIdRenderable(et.tileID.key)},i.prototype._isIdRenderable=function(Ne,et){return this._tiles[Ne]&&this._tiles[Ne].hasData()&&!this._coveredTiles[Ne]&&(et||!this._tiles[Ne].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var Ne in this._cache.reset(),this._tiles)"errored"!==this._tiles[Ne].state&&this._reloadTile(Ne,"reloading")},i.prototype._reloadTile=function(Ne,et){var tt=this._tiles[Ne];tt&&("loading"!==tt.state&&(tt.state=et),this._loadTile(tt,this._tileLoaded.bind(this,tt,Ne,et)))},i.prototype._tileLoaded=function(et,tt,rt,nt){if(nt)return et.state="errored",void(404!==nt.status?this._source.fire(new Ne.ErrorEvent(nt,{tile:et})):this.update(this.transform));et.timeAdded=Ne.browser.now(),"expired"===rt&&(et.refreshedUponExpiration=!0),this._setTileReloadTimer(tt,et),"raster-dem"===this.getSource().type&&et.dem&&this._backfillDEM(et),this._state.initializeTileState(et,this.map?this.map.painter:null),this._source.fire(new Ne.Event("data",{dataType:"source",tile:et,coord:et.tileID}))},i.prototype._backfillDEM=function(Ne){for(var et=this.getRenderableIds(),tt=0;tt<et.length;tt++){var rt=et[tt];if(Ne.neighboringTiles&&Ne.neighboringTiles[rt]){var nt=this.getTileByID(rt);a(Ne,nt),a(nt,Ne)}}function a(Ne,et){Ne.needsHillshadePrepare=!0;var tt=et.tileID.canonical.x-Ne.tileID.canonical.x,rt=et.tileID.canonical.y-Ne.tileID.canonical.y,nt=Math.pow(2,Ne.tileID.canonical.z),it=et.tileID.key;0===tt&&0===rt||Math.abs(rt)>1||(Math.abs(tt)>1&&(1===Math.abs(tt+nt)?tt+=nt:1===Math.abs(tt-nt)&&(tt-=nt)),et.dem&&Ne.dem&&(Ne.dem.backfillBorder(et.dem,tt,rt),Ne.neighboringTiles&&Ne.neighboringTiles[it]&&(Ne.neighboringTiles[it].backfilled=!0)))}},i.prototype.getTile=function(Ne){return this.getTileByID(Ne.key)},i.prototype.getTileByID=function(Ne){return this._tiles[Ne]},i.prototype._retainLoadedChildren=function(Ne,et,tt,rt){for(var nt in this._tiles){var it=this._tiles[nt];if(!(rt[nt]||!it.hasData()||it.tileID.overscaledZ<=et||it.tileID.overscaledZ>tt)){for(var ot=it.tileID;it&&it.tileID.overscaledZ>et+1;){var at=it.tileID.scaledTo(it.tileID.overscaledZ-1);(it=this._tiles[at.key])&&it.hasData()&&(ot=at)}for(var st=ot;st.overscaledZ>et;)if(Ne[(st=st.scaledTo(st.overscaledZ-1)).key]){rt[ot.key]=ot;break}}}},i.prototype.findLoadedParent=function(Ne,et){if(Ne.key in this._loadedParentTiles){var tt=this._loadedParentTiles[Ne.key];return tt&&tt.tileID.overscaledZ>=et?tt:null}for(var rt=Ne.overscaledZ-1;rt>=et;rt--){var nt=Ne.scaledTo(rt),it=this._getLoadedTile(nt);if(it)return it}},i.prototype._getLoadedTile=function(Ne){var et=this._tiles[Ne.key];return et&&et.hasData()?et:this._cache.getByKey(Ne.wrapped().key)},i.prototype.updateCacheSize=function(Ne){var et=Math.ceil(Ne.width/this._source.tileSize)+1,tt=Math.ceil(Ne.height/this._source.tileSize)+1,rt=Math.floor(et*tt*5),nt="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,rt):rt;this._cache.setMaxSize(nt)},i.prototype.handleWrapJump=function(Ne){var et=Math.round((Ne-(void 0===this._prevLng?Ne:this._prevLng))/360);if(this._prevLng=Ne,et){var tt={};for(var rt in this._tiles){var nt=this._tiles[rt];nt.tileID=nt.tileID.unwrapTo(nt.tileID.wrap+et),tt[nt.tileID.key]=nt}for(var it in this._tiles=tt,this._timers)clearTimeout(this._timers[it]),delete this._timers[it];for(var ot in this._tiles)this._setTileReloadTimer(ot,this._tiles[ot])}},i.prototype.update=function(et){var tt=this;if(this.transform=et,this._sourceLoaded&&!this._paused){var rt;this.updateCacheSize(et),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?rt=et.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(et){return new Ne.OverscaledTileID(et.canonical.z,et.wrap,et.canonical.z,et.canonical.x,et.canonical.y)})):(rt=et.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(rt=rt.filter((function(Ne){return tt._source.hasTile(Ne)})))):rt=[];var nt=et.coveringZoomLevel(this._source),it=Math.max(nt-i.maxOverzooming,this._source.minzoom),ot=Math.max(nt+i.maxUnderzooming,this._source.minzoom),at=this._updateRetainedTiles(rt,nt);if(Lt(this._source.type)){for(var st={},ct={},pt=0,ft=Object.keys(at);pt<ft.length;pt+=1){var dt=ft[pt],mt=at[dt],yt=this._tiles[dt];if(yt&&!(yt.fadeEndTime&&yt.fadeEndTime<=Ne.browser.now())){var vt=this.findLoadedParent(mt,it);vt&&(this._addTile(vt.tileID),st[vt.tileID.key]=vt.tileID),ct[dt]=mt}}for(var Rt in this._retainLoadedChildren(ct,nt,ot,at),st)at[Rt]||(this._coveredTiles[Rt]=!0,at[Rt]=st[Rt])}for(var Dt in at)this._tiles[Dt].clearFadeHold();for(var Ot=0,Bt=Ne.keysDifference(this._tiles,at);Ot<Bt.length;Ot+=1){var er=Bt[Ot],rr=this._tiles[er];rr.hasSymbolBuckets&&!rr.holdingForFade()?rr.setHoldDuration(this.map._fadeDuration):rr.hasSymbolBuckets&&!rr.symbolFadeFinished()||this._removeTile(er)}this._updateLoadedParentTileCache()}},i.prototype.releaseSymbolFadeTiles=function(){for(var Ne in this._tiles)this._tiles[Ne].holdingForFade()&&this._removeTile(Ne)},i.prototype._updateRetainedTiles=function(Ne,et){for(var tt={},rt={},nt=Math.max(et-i.maxOverzooming,this._source.minzoom),it=Math.max(et+i.maxUnderzooming,this._source.minzoom),ot={},at=0,st=Ne;at<st.length;at+=1){var ct=st[at],pt=this._addTile(ct);tt[ct.key]=ct,pt.hasData()||et<this._source.maxzoom&&(ot[ct.key]=ct)}this._retainLoadedChildren(ot,et,it,tt);for(var ft=0,dt=Ne;ft<dt.length;ft+=1){var mt=dt[ft],yt=this._tiles[mt.key];if(!yt.hasData()){if(et+1>this._source.maxzoom){var vt=mt.children(this._source.maxzoom)[0],Rt=this.getTile(vt);if(Rt&&Rt.hasData()){tt[vt.key]=vt;continue}}else{var Dt=mt.children(this._source.maxzoom);if(tt[Dt[0].key]&&tt[Dt[1].key]&&tt[Dt[2].key]&&tt[Dt[3].key])continue}for(var Ot=yt.wasRequested(),Bt=mt.overscaledZ-1;Bt>=nt;--Bt){var er=mt.scaledTo(Bt);if(rt[er.key])break;if(rt[er.key]=!0,!(yt=this.getTile(er))&&Ot&&(yt=this._addTile(er)),yt&&(tt[er.key]=er,Ot=yt.wasRequested(),yt.hasData()))break}}}return tt},i.prototype._updateLoadedParentTileCache=function(){for(var Ne in this._loadedParentTiles={},this._tiles){for(var et=[],tt=void 0,rt=this._tiles[Ne].tileID;rt.overscaledZ>0;){if(rt.key in this._loadedParentTiles){tt=this._loadedParentTiles[rt.key];break}et.push(rt.key);var nt=rt.scaledTo(rt.overscaledZ-1);if(tt=this._getLoadedTile(nt))break;rt=nt}for(var it=0,ot=et;it<ot.length;it+=1)this._loadedParentTiles[ot[it]]=tt}},i.prototype._addTile=function(et){var tt=this._tiles[et.key];if(tt)return tt;(tt=this._cache.getAndRemove(et))&&(this._setTileReloadTimer(et.key,tt),tt.tileID=et,this._state.initializeTileState(tt,this.map?this.map.painter:null),this._cacheTimers[et.key]&&(clearTimeout(this._cacheTimers[et.key]),delete this._cacheTimers[et.key],this._setTileReloadTimer(et.key,tt)));var rt=Boolean(tt);return rt||(tt=new Ne.Tile(et,this._source.tileSize*et.overscaleFactor()),this._loadTile(tt,this._tileLoaded.bind(this,tt,et.key,tt.state))),tt?(tt.uses++,this._tiles[et.key]=tt,rt||this._source.fire(new Ne.Event("dataloading",{tile:tt,coord:tt.tileID,dataType:"source"})),tt):null},i.prototype._setTileReloadTimer=function(Ne,et){var tt=this;Ne in this._timers&&(clearTimeout(this._timers[Ne]),delete this._timers[Ne]);var rt=et.getExpiryTimeout();rt&&(this._timers[Ne]=setTimeout((function(){tt._reloadTile(Ne,"expired"),delete tt._timers[Ne]}),rt))},i.prototype._removeTile=function(Ne){var et=this._tiles[Ne];et&&(et.uses--,delete this._tiles[Ne],this._timers[Ne]&&(clearTimeout(this._timers[Ne]),delete this._timers[Ne]),et.uses>0||(et.hasData()&&"reloading"!==et.state?this._cache.add(et.tileID,et,et.getExpiryTimeout()):(et.aborted=!0,this._abortTile(et),this._unloadTile(et))))},i.prototype.clearTiles=function(){for(var Ne in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(Ne);this._cache.reset()},i.prototype.tilesIn=function(et,tt,rt){var nt=this,it=[],ot=this.transform;if(!ot)return it;for(var at=rt?ot.getCameraQueryGeometry(et):et,st=et.map((function(Ne){return ot.pointCoordinate(Ne)})),ct=at.map((function(Ne){return ot.pointCoordinate(Ne)})),pt=this.getIds(),ft=1/0,dt=1/0,mt=-1/0,yt=-1/0,vt=0,Rt=ct;vt<Rt.length;vt+=1){var Dt=Rt[vt];ft=Math.min(ft,Dt.x),dt=Math.min(dt,Dt.y),mt=Math.max(mt,Dt.x),yt=Math.max(yt,Dt.y)}for(var v=function(et){var rt=nt._tiles[pt[et]];if(!rt.holdingForFade()){var at=rt.tileID,vt=Math.pow(2,ot.zoom-rt.tileID.overscaledZ),Rt=tt*rt.queryPadding*Ne.EXTENT/rt.tileSize/vt,Dt=[at.getTilePoint(new Ne.MercatorCoordinate(ft,dt)),at.getTilePoint(new Ne.MercatorCoordinate(mt,yt))];if(Dt[0].x-Rt<Ne.EXTENT&&Dt[0].y-Rt<Ne.EXTENT&&Dt[1].x+Rt>=0&&Dt[1].y+Rt>=0){var Ot=st.map((function(Ne){return at.getTilePoint(Ne)})),Bt=ct.map((function(Ne){return at.getTilePoint(Ne)}));it.push({tile:rt,tileID:at,queryGeometry:Ot,cameraQueryGeometry:Bt,scale:vt})}}},Ot=0;Ot<pt.length;Ot++)v(Ot);return it},i.prototype.getVisibleCoordinates=function(Ne){for(var et=this,tt=this.getRenderableIds(Ne).map((function(Ne){return et._tiles[Ne].tileID})),rt=0,nt=tt;rt<nt.length;rt+=1){var it=nt[rt];it.posMatrix=this.transform.calculatePosMatrix(it.toUnwrapped())}return tt},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Lt(this._source.type))for(var et in this._tiles){var tt=this._tiles[et];if(void 0!==tt.fadeEndTime&&tt.fadeEndTime>=Ne.browser.now())return!0}return!1},i.prototype.setFeatureState=function(Ne,et,tt){this._state.updateState(Ne=Ne||"_geojsonTileLayer",et,tt)},i.prototype.removeFeatureState=function(Ne,et,tt){this._state.removeFeatureState(Ne=Ne||"_geojsonTileLayer",et,tt)},i.prototype.getFeatureState=function(Ne,et){return this._state.getState(Ne=Ne||"_geojsonTileLayer",et)},i.prototype.setDependencies=function(Ne,et,tt){var rt=this._tiles[Ne];rt&&rt.setDependencies(et,tt)},i.prototype.reloadTilesForDependencies=function(Ne,et){for(var tt in this._tiles)this._tiles[tt].hasDependency(Ne,et)&&this._reloadTile(tt,"reloading");this._cache.filter((function(tt){return!tt.hasDependency(Ne,et)}))},i}(Ne.Evented);function Mt(Ne,et){var tt=Math.abs(2*Ne.wrap)-+(Ne.wrap<0),rt=Math.abs(2*et.wrap)-+(et.wrap<0);return Ne.overscaledZ-et.overscaledZ||rt-tt||et.canonical.y-Ne.canonical.y||et.canonical.x-Ne.canonical.x}function Lt(Ne){return"raster"===Ne||"image"===Ne||"video"===Ne}function At(){return new Ne.window.Worker(Ep.workerUrl)}us.maxOverzooming=10,us.maxUnderzooming=3;var fs="mapboxgl_preloaded_worker_pool",kt=function(){this.active={}};kt.prototype.acquire=function(Ne){if(!this.workers)for(this.workers=[];this.workers.length<kt.workerCount;)this.workers.push(new At);return this.active[Ne]=!0,this.workers.slice()},kt.prototype.release=function(Ne){delete this.active[Ne],0===this.numActive()&&(this.workers.forEach((function(Ne){Ne.terminate()})),this.workers=null)},kt.prototype.isPreloaded=function(){return!!this.active[fs]},kt.prototype.numActive=function(){return Object.keys(this.active).length};var gs,vs=Math.floor(Ne.browser.hardwareConcurrency/2);function Ft(){return gs||(gs=new kt),gs}function Ut(et,tt){var rt={};for(var nt in et)"ref"!==nt&&(rt[nt]=et[nt]);return Ne.refProperties.forEach((function(Ne){Ne in tt&&(rt[Ne]=tt[Ne])})),rt}function Nt(Ne){Ne=Ne.slice();for(var et=Object.create(null),tt=0;tt<Ne.length;tt++)et[Ne[tt].id]=Ne[tt];for(var rt=0;rt<Ne.length;rt++)"ref"in Ne[rt]&&(Ne[rt]=Ut(Ne[rt],et[Ne[rt].ref]));return Ne}kt.workerCount=Math.max(Math.min(vs,6),1);var xs={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function jt(Ne,et,tt){tt.push({command:xs.addSource,args:[Ne,et[Ne]]})}function qt(Ne,et,tt){et.push({command:xs.removeSource,args:[Ne]}),tt[Ne]=!0}function Vt(Ne,et,tt,rt){qt(Ne,tt,rt),jt(Ne,et,tt)}function Gt(et,tt,rt){var nt;for(nt in et[rt])if(et[rt].hasOwnProperty(nt)&&"data"!==nt&&!Ne.deepEqual(et[rt][nt],tt[rt][nt]))return!1;for(nt in tt[rt])if(tt[rt].hasOwnProperty(nt)&&"data"!==nt&&!Ne.deepEqual(et[rt][nt],tt[rt][nt]))return!1;return!0}function Wt(et,tt,rt,nt,it,ot){var at;for(at in tt=tt||{},et=et||{})et.hasOwnProperty(at)&&(Ne.deepEqual(et[at],tt[at])||rt.push({command:ot,args:[nt,at,tt[at],it]}));for(at in tt)tt.hasOwnProperty(at)&&!et.hasOwnProperty(at)&&(Ne.deepEqual(et[at],tt[at])||rt.push({command:ot,args:[nt,at,tt[at],it]}))}function Xt(Ne){return Ne.id}function Ht(Ne,et){return Ne[et.id]=et,Ne}var Kt=function(Ne,et){this.reset(Ne,et)};Kt.prototype.reset=function(Ne,et){this.points=Ne||[],this._distances=[0];for(var tt=1;tt<this.points.length;tt++)this._distances[tt]=this._distances[tt-1]+this.points[tt].dist(this.points[tt-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(et||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Kt.prototype.lerp=function(et){if(1===this.points.length)return this.points[0];et=Ne.clamp(et,0,1);for(var tt=1,rt=this._distances[tt],nt=et*this.paddedLength+this.padding;rt<nt&&tt<this._distances.length;)rt=this._distances[++tt];var it=tt-1,ot=this._distances[it],at=rt-ot,st=at>0?(nt-ot)/at:0;return this.points[it].mult(1-st).add(this.points[tt].mult(st))};var Yt=function(Ne,et,tt){var rt=this.boxCells=[],nt=this.circleCells=[];this.xCellCount=Math.ceil(Ne/tt),this.yCellCount=Math.ceil(et/tt);for(var it=0;it<this.xCellCount*this.yCellCount;it++)rt.push([]),nt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Ne,this.height=et,this.xScale=this.xCellCount/Ne,this.yScale=this.yCellCount/et,this.boxUid=0,this.circleUid=0};function Jt(et,tt,rt,nt,it){var ot=Ne.create();return tt?(Ne.scale(ot,ot,[1/it,1/it,1]),rt||Ne.rotateZ(ot,ot,nt.angle)):Ne.multiply(ot,nt.labelPlaneMatrix,et),ot}function Qt(et,tt,rt,nt,it){if(tt){var ot=Ne.clone(et);return Ne.scale(ot,ot,[it,it,1]),rt||Ne.rotateZ(ot,ot,-nt.angle),ot}return nt.glCoordMatrix}function $t(et,tt){var rt=[et.x,et.y,0,1];ue(rt,rt,tt);var nt=rt[3];return{point:new Ne.Point(rt[0]/nt,rt[1]/nt),signedDistanceFromCamera:nt}}function te(Ne,et){return.5+Ne/et*.5}function ee(Ne,et){var tt=Ne[0]/Ne[3],rt=Ne[1]/Ne[3];return tt>=-et[0]&&tt<=et[0]&&rt>=-et[1]&&rt<=et[1]}function ie(et,tt,rt,nt,it,ot,at,st){var ct=nt?et.textSizeData:et.iconSizeData,pt=Ne.evaluateSizeForZoom(ct,rt.transform.zoom),ft=[256/rt.width*2+1,256/rt.height*2+1],dt=nt?et.text.dynamicLayoutVertexArray:et.icon.dynamicLayoutVertexArray;dt.clear();for(var mt=et.lineVertexArray,yt=nt?et.text.placedSymbolArray:et.icon.placedSymbolArray,vt=rt.transform.width/rt.transform.height,Rt=!1,Dt=0;Dt<yt.length;Dt++){var Ot=yt.get(Dt);if(Ot.hidden||Ot.writingMode===Ne.WritingMode.vertical&&!Rt)ce(Ot.numGlyphs,dt);else{Rt=!1;var Bt=[Ot.anchorX,Ot.anchorY,0,1];if(Ne.transformMat4(Bt,Bt,tt),ee(Bt,ft)){var er=te(rt.transform.cameraToCenterDistance,Bt[3]),rr=Ne.evaluateSizeForFeature(ct,pt,Ot),vr=at?rr/er:rr*er,wr=new Ne.Point(Ot.anchorX,Ot.anchorY),Sr=$t(wr,it).point,rn={},vn=ae(Ot,vr,!1,st,tt,it,ot,et.glyphOffsetArray,mt,dt,Sr,wr,rn,vt);Rt=vn.useVertical,(vn.notEnoughRoom||Rt||vn.needsFlipping&&ae(Ot,vr,!0,st,tt,it,ot,et.glyphOffsetArray,mt,dt,Sr,wr,rn,vt).notEnoughRoom)&&ce(Ot.numGlyphs,dt)}else ce(Ot.numGlyphs,dt)}}nt?et.text.dynamicLayoutVertexBuffer.updateData(dt):et.icon.dynamicLayoutVertexBuffer.updateData(dt)}function oe(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt){var ft=at.glyphStartIndex+at.numGlyphs,dt=at.lineStartIndex,mt=at.lineStartIndex+at.lineLength,yt=et.getoffsetX(at.glyphStartIndex),vt=et.getoffsetX(ft-1),Rt=se(Ne*yt,tt,rt,nt,it,ot,at.segment,dt,mt,st,ct,pt);if(!Rt)return null;var Dt=se(Ne*vt,tt,rt,nt,it,ot,at.segment,dt,mt,st,ct,pt);return Dt?{first:Rt,last:Dt}:null}function re(et,tt,rt,nt){return et===Ne.WritingMode.horizontal&&Math.abs(rt.y-tt.y)>Math.abs(rt.x-tt.x)*nt?{useVertical:!0}:(et===Ne.WritingMode.vertical?tt.y<rt.y:tt.x>rt.x)?{needsFlipping:!0}:null}function ae(et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt){var vt,Rt=tt/24,Dt=et.lineOffsetX*Rt,Ot=et.lineOffsetY*Rt;if(et.numGlyphs>1){var Bt=et.glyphStartIndex+et.numGlyphs,er=et.lineStartIndex,rr=et.lineStartIndex+et.lineLength,vr=oe(Rt,st,Dt,Ot,rt,ft,dt,et,ct,ot,mt);if(!vr)return{notEnoughRoom:!0};var wr=$t(vr.first.point,at).point,Sr=$t(vr.last.point,at).point;if(nt&&!rt){var rn=re(et.writingMode,wr,Sr,yt);if(rn)return rn}vt=[vr.first];for(var vn=et.glyphStartIndex+1;vn<Bt-1;vn++)vt.push(se(Rt*st.getoffsetX(vn),Dt,Ot,rt,ft,dt,et.segment,er,rr,ct,ot,mt));vt.push(vr.last)}else{if(nt&&!rt){var bn=$t(dt,it).point,Tn=et.lineStartIndex+et.segment+1,Cn=new Ne.Point(ct.getx(Tn),ct.gety(Tn)),In=$t(Cn,it),Mn=In.signedDistanceFromCamera>0?In.point:ne(dt,Cn,bn,1,it),zn=re(et.writingMode,bn,Mn,yt);if(zn)return zn}var Ln=se(Rt*st.getoffsetX(et.glyphStartIndex),Dt,Ot,rt,ft,dt,et.segment,et.lineStartIndex,et.lineStartIndex+et.lineLength,ct,ot,mt);if(!Ln)return{notEnoughRoom:!0};vt=[Ln]}for(var Fn=0,Bn=vt;Fn<Bn.length;Fn+=1){var Nn=Bn[Fn];Ne.addDynamicAttributes(pt,Nn.point,Nn.angle)}return{}}function ne(Ne,et,tt,rt,nt){var it=$t(Ne.add(Ne.sub(et)._unit()),nt).point,ot=tt.sub(it);return tt.add(ot._mult(rt/ot.mag()))}function se(et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt){var mt=nt?et-tt:et+tt,yt=mt>0?1:-1,vt=0;nt&&(yt*=-1,vt=Math.PI),yt<0&&(vt+=Math.PI);for(var Rt=yt>0?st+at:st+at+1,Dt=it,Ot=it,Bt=0,er=0,rr=Math.abs(mt),vr=[];Bt+er<=rr;){if((Rt+=yt)<st||Rt>=ct)return null;if(Ot=Dt,vr.push(Dt),void 0===(Dt=dt[Rt])){var wr=new Ne.Point(pt.getx(Rt),pt.gety(Rt)),Sr=$t(wr,ft);if(Sr.signedDistanceFromCamera>0)Dt=dt[Rt]=Sr.point;else{var rn=Rt-yt;Dt=ne(0===Bt?ot:new Ne.Point(pt.getx(rn),pt.gety(rn)),wr,Ot,rr-Bt+1,ft)}}Bt+=er,er=Ot.dist(Dt)}var vn=(rr-Bt)/er,bn=Dt.sub(Ot),Tn=bn.mult(vn)._add(Ot);Tn._add(bn._unit()._perp()._mult(rt*yt));var Cn=vt+Math.atan2(Dt.y-Ot.y,Dt.x-Ot.x);return vr.push(Tn),{point:Tn,angle:Cn,path:vr}}Yt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Yt.prototype.insert=function(Ne,et,tt,rt,nt){this._forEachCell(et,tt,rt,nt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Ne),this.bboxes.push(et),this.bboxes.push(tt),this.bboxes.push(rt),this.bboxes.push(nt)},Yt.prototype.insertCircle=function(Ne,et,tt,rt){this._forEachCell(et-rt,tt-rt,et+rt,tt+rt,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Ne),this.circles.push(et),this.circles.push(tt),this.circles.push(rt)},Yt.prototype._insertBoxCell=function(Ne,et,tt,rt,nt,it){this.boxCells[nt].push(it)},Yt.prototype._insertCircleCell=function(Ne,et,tt,rt,nt,it){this.circleCells[nt].push(it)},Yt.prototype._query=function(Ne,et,tt,rt,nt,it){if(tt<0||Ne>this.width||rt<0||et>this.height)return!nt&&[];var ot=[];if(Ne<=0&&et<=0&&this.width<=tt&&this.height<=rt){if(nt)return!0;for(var at=0;at<this.boxKeys.length;at++)ot.push({key:this.boxKeys[at],x1:this.bboxes[4*at],y1:this.bboxes[4*at+1],x2:this.bboxes[4*at+2],y2:this.bboxes[4*at+3]});for(var st=0;st<this.circleKeys.length;st++){var ct=this.circles[3*st],pt=this.circles[3*st+1],ft=this.circles[3*st+2];ot.push({key:this.circleKeys[st],x1:ct-ft,y1:pt-ft,x2:ct+ft,y2:pt+ft})}return it?ot.filter(it):ot}return this._forEachCell(Ne,et,tt,rt,this._queryCell,ot,{hitTest:nt,seenUids:{box:{},circle:{}}},it),nt?ot.length>0:ot},Yt.prototype._queryCircle=function(Ne,et,tt,rt,nt){var it=Ne-tt,ot=Ne+tt,at=et-tt,st=et+tt;if(ot<0||it>this.width||st<0||at>this.height)return!rt&&[];var ct=[];return this._forEachCell(it,at,ot,st,this._queryCellCircle,ct,{hitTest:rt,circle:{x:Ne,y:et,radius:tt},seenUids:{box:{},circle:{}}},nt),rt?ct.length>0:ct},Yt.prototype.query=function(Ne,et,tt,rt,nt){return this._query(Ne,et,tt,rt,!1,nt)},Yt.prototype.hitTest=function(Ne,et,tt,rt,nt){return this._query(Ne,et,tt,rt,!0,nt)},Yt.prototype.hitTestCircle=function(Ne,et,tt,rt){return this._queryCircle(Ne,et,tt,!0,rt)},Yt.prototype._queryCell=function(Ne,et,tt,rt,nt,it,ot,at){var st=ot.seenUids,ct=this.boxCells[nt];if(null!==ct)for(var pt=this.bboxes,ft=0,dt=ct;ft<dt.length;ft+=1){var mt=dt[ft];if(!st.box[mt]){st.box[mt]=!0;var yt=4*mt;if(Ne<=pt[yt+2]&&et<=pt[yt+3]&&tt>=pt[yt+0]&&rt>=pt[yt+1]&&(!at||at(this.boxKeys[mt]))){if(ot.hitTest)return it.push(!0),!0;it.push({key:this.boxKeys[mt],x1:pt[yt],y1:pt[yt+1],x2:pt[yt+2],y2:pt[yt+3]})}}}var vt=this.circleCells[nt];if(null!==vt)for(var Rt=this.circles,Dt=0,Ot=vt;Dt<Ot.length;Dt+=1){var Bt=Ot[Dt];if(!st.circle[Bt]){st.circle[Bt]=!0;var er=3*Bt;if(this._circleAndRectCollide(Rt[er],Rt[er+1],Rt[er+2],Ne,et,tt,rt)&&(!at||at(this.circleKeys[Bt]))){if(ot.hitTest)return it.push(!0),!0;var rr=Rt[er],vr=Rt[er+1],wr=Rt[er+2];it.push({key:this.circleKeys[Bt],x1:rr-wr,y1:vr-wr,x2:rr+wr,y2:vr+wr})}}}},Yt.prototype._queryCellCircle=function(Ne,et,tt,rt,nt,it,ot,at){var st=ot.circle,ct=ot.seenUids,pt=this.boxCells[nt];if(null!==pt)for(var ft=this.bboxes,dt=0,mt=pt;dt<mt.length;dt+=1){var yt=mt[dt];if(!ct.box[yt]){ct.box[yt]=!0;var vt=4*yt;if(this._circleAndRectCollide(st.x,st.y,st.radius,ft[vt+0],ft[vt+1],ft[vt+2],ft[vt+3])&&(!at||at(this.boxKeys[yt])))return it.push(!0),!0}}var Rt=this.circleCells[nt];if(null!==Rt)for(var Dt=this.circles,Ot=0,Bt=Rt;Ot<Bt.length;Ot+=1){var er=Bt[Ot];if(!ct.circle[er]){ct.circle[er]=!0;var rr=3*er;if(this._circlesCollide(Dt[rr],Dt[rr+1],Dt[rr+2],st.x,st.y,st.radius)&&(!at||at(this.circleKeys[er])))return it.push(!0),!0}}},Yt.prototype._forEachCell=function(Ne,et,tt,rt,nt,it,ot,at){for(var st=this._convertToXCellCoord(Ne),ct=this._convertToYCellCoord(et),pt=this._convertToXCellCoord(tt),ft=this._convertToYCellCoord(rt),dt=st;dt<=pt;dt++)for(var mt=ct;mt<=ft;mt++)if(nt.call(this,Ne,et,tt,rt,this.xCellCount*mt+dt,it,ot,at))return},Yt.prototype._convertToXCellCoord=function(Ne){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Ne*this.xScale)))},Yt.prototype._convertToYCellCoord=function(Ne){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Ne*this.yScale)))},Yt.prototype._circlesCollide=function(Ne,et,tt,rt,nt,it){var ot=rt-Ne,at=nt-et,st=tt+it;return st*st>ot*ot+at*at},Yt.prototype._circleAndRectCollide=function(Ne,et,tt,rt,nt,it,ot){var at=(it-rt)/2,st=Math.abs(Ne-(rt+at));if(st>at+tt)return!1;var ct=(ot-nt)/2,pt=Math.abs(et-(nt+ct));if(pt>ct+tt)return!1;if(st<=at||pt<=ct)return!0;var ft=st-at,dt=pt-ct;return ft*ft+dt*dt<=tt*tt};var Ss=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ce(Ne,et){for(var tt=0;tt<Ne;tt++){var rt=et.length;et.resize(rt+4),et.float32.set(Ss,3*rt)}}function ue(Ne,et,tt){var rt=et[0],nt=et[1];return Ne[0]=tt[0]*rt+tt[4]*nt+tt[12],Ne[1]=tt[1]*rt+tt[5]*nt+tt[13],Ne[3]=tt[3]*rt+tt[7]*nt+tt[15],Ne}var he=function(Ne,et,tt){void 0===et&&(et=new Yt(Ne.width+200,Ne.height+200,25)),void 0===tt&&(tt=new Yt(Ne.width+200,Ne.height+200,25)),this.transform=Ne,this.grid=et,this.ignoredGrid=tt,this.pitchfactor=Math.cos(Ne._pitch)*Ne.cameraToCenterDistance,this.screenRightBoundary=Ne.width+100,this.screenBottomBoundary=Ne.height+100,this.gridRightBoundary=Ne.width+200,this.gridBottomBoundary=Ne.height+200};function pe(et,tt,rt){return tt*(Ne.EXTENT/(et.tileSize*Math.pow(2,rt-et.tileID.overscaledZ)))}he.prototype.placeCollisionBox=function(Ne,et,tt,rt,nt){var it=this.projectAndGetPerspectiveRatio(rt,Ne.anchorPointX,Ne.anchorPointY),ot=tt*it.perspectiveRatio,at=Ne.x1*ot+it.point.x,st=Ne.y1*ot+it.point.y,ct=Ne.x2*ot+it.point.x,pt=Ne.y2*ot+it.point.y;return!this.isInsideGrid(at,st,ct,pt)||!et&&this.grid.hitTest(at,st,ct,pt,nt)?{box:[],offscreen:!1}:{box:[at,st,ct,pt],offscreen:this.isOffscreen(at,st,ct,pt)}},he.prototype.placeCollisionCircles=function(et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt){var yt=[],vt=new Ne.Point(tt.anchorX,tt.anchorY),Rt=$t(vt,ot),Dt=te(this.transform.cameraToCenterDistance,Rt.signedDistanceFromCamera),Ot=(pt?it/Dt:it*Dt)/Ne.ONE_EM,Bt=$t(vt,at).point,er=oe(Ot,nt,tt.lineOffsetX*Ot,tt.lineOffsetY*Ot,!1,Bt,vt,tt,rt,at,{}),rr=!1,vr=!1,wr=!0;if(er){for(var Sr=.5*dt*Dt+mt,rn=new Ne.Point(-100,-100),vn=new Ne.Point(this.screenRightBoundary,this.screenBottomBoundary),bn=new Kt,Tn=er.first,Cn=er.last,In=[],Mn=Tn.path.length-1;Mn>=1;Mn--)In.push(Tn.path[Mn]);for(var zn=1;zn<Cn.path.length;zn++)In.push(Cn.path[zn]);var Ln=2.5*Sr;if(st){var Fn=In.map((function(Ne){return $t(Ne,st)}));In=Fn.some((function(Ne){return Ne.signedDistanceFromCamera<=0}))?[]:Fn.map((function(Ne){return Ne.point}))}var Bn=[];if(In.length>0){for(var Nn=In[0].clone(),Vn=In[0].clone(),Wn=1;Wn<In.length;Wn++)Nn.x=Math.min(Nn.x,In[Wn].x),Nn.y=Math.min(Nn.y,In[Wn].y),Vn.x=Math.max(Vn.x,In[Wn].x),Vn.y=Math.max(Vn.y,In[Wn].y);Bn=Nn.x>=rn.x&&Vn.x<=vn.x&&Nn.y>=rn.y&&Vn.y<=vn.y?[In]:Vn.x<rn.x||Nn.x>vn.x||Vn.y<rn.y||Nn.y>vn.y?[]:Ne.clipLine([In],rn.x,rn.y,vn.x,vn.y)}for(var $n=0,Yn=Bn;$n<Yn.length;$n+=1){var ii;bn.reset(Yn[$n],.25*Sr),ii=bn.length<=.5*Sr?1:Math.ceil(bn.paddedLength/Ln)+1;for(var qi=0;qi<ii;qi++){var uo=qi/Math.max(ii-1,1),po=bn.lerp(uo),vo=po.x+100,So=po.y+100;yt.push(vo,So,Sr,0);var ea=vo-Sr,ta=So-Sr,ia=vo+Sr,sa=So+Sr;if(wr=wr&&this.isOffscreen(ea,ta,ia,sa),vr=vr||this.isInsideGrid(ea,ta,ia,sa),!et&&this.grid.hitTestCircle(vo,So,Sr,ft)&&(rr=!0,!ct))return{circles:[],offscreen:!1,collisionDetected:rr}}}}return{circles:!ct&&rr||!vr?[]:yt,offscreen:wr,collisionDetected:rr}},he.prototype.queryRenderedSymbols=function(et){if(0===et.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var tt=[],rt=1/0,nt=1/0,it=-1/0,ot=-1/0,at=0,st=et;at<st.length;at+=1){var ct=st[at],pt=new Ne.Point(ct.x+100,ct.y+100);rt=Math.min(rt,pt.x),nt=Math.min(nt,pt.y),it=Math.max(it,pt.x),ot=Math.max(ot,pt.y),tt.push(pt)}for(var ft={},dt={},mt=0,yt=this.grid.query(rt,nt,it,ot).concat(this.ignoredGrid.query(rt,nt,it,ot));mt<yt.length;mt+=1){var vt=yt[mt],Rt=vt.key;if(void 0===ft[Rt.bucketInstanceId]&&(ft[Rt.bucketInstanceId]={}),!ft[Rt.bucketInstanceId][Rt.featureIndex]){var Dt=[new Ne.Point(vt.x1,vt.y1),new Ne.Point(vt.x2,vt.y1),new Ne.Point(vt.x2,vt.y2),new Ne.Point(vt.x1,vt.y2)];Ne.polygonIntersectsPolygon(tt,Dt)&&(ft[Rt.bucketInstanceId][Rt.featureIndex]=!0,void 0===dt[Rt.bucketInstanceId]&&(dt[Rt.bucketInstanceId]=[]),dt[Rt.bucketInstanceId].push(Rt.featureIndex))}}return dt},he.prototype.insertCollisionBox=function(Ne,et,tt,rt,nt){(et?this.ignoredGrid:this.grid).insert({bucketInstanceId:tt,featureIndex:rt,collisionGroupID:nt},Ne[0],Ne[1],Ne[2],Ne[3])},he.prototype.insertCollisionCircles=function(Ne,et,tt,rt,nt){for(var it=et?this.ignoredGrid:this.grid,ot={bucketInstanceId:tt,featureIndex:rt,collisionGroupID:nt},at=0;at<Ne.length;at+=4)it.insertCircle(ot,Ne[at],Ne[at+1],Ne[at+2])},he.prototype.projectAndGetPerspectiveRatio=function(et,tt,rt){var nt=[tt,rt,0,1];return ue(nt,nt,et),{point:new Ne.Point((nt[0]/nt[3]+1)/2*this.transform.width+100,(-nt[1]/nt[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/nt[3]*.5}},he.prototype.isOffscreen=function(Ne,et,tt,rt){return tt<100||Ne>=this.screenRightBoundary||rt<100||et>this.screenBottomBoundary},he.prototype.isInsideGrid=function(Ne,et,tt,rt){return tt>=0&&Ne<this.gridRightBoundary&&rt>=0&&et<this.gridBottomBoundary},he.prototype.getViewportMatrix=function(){var et=Ne.identity([]);return Ne.translate(et,et,[-100,-100,0]),et};var de=function(Ne,et,tt,rt){this.opacity=Ne?Math.max(0,Math.min(1,Ne.opacity+(Ne.placed?et:-et))):rt&&tt?1:0,this.placed=tt};de.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var _e=function(Ne,et,tt,rt,nt){this.text=new de(Ne?Ne.text:null,et,tt,nt),this.icon=new de(Ne?Ne.icon:null,et,rt,nt)};_e.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var fe=function(Ne,et,tt){this.text=Ne,this.icon=et,this.skipFade=tt},me=function(){this.invProjMatrix=Ne.create(),this.viewportMatrix=Ne.create(),this.circles=[]},ge=function(Ne,et,tt,rt,nt){this.bucketInstanceId=Ne,this.featureIndex=et,this.sourceLayerIndex=tt,this.bucketIndex=rt,this.tileID=nt},ve=function(Ne){this.crossSourceCollisions=Ne,this.maxGroupID=0,this.collisionGroups={}};function ye(et,tt,rt,nt,it){var ot=Ne.getAnchorAlignment(et),at=-(ot.horizontalAlign-.5)*tt,st=-(ot.verticalAlign-.5)*rt,ct=Ne.evaluateVariableOffset(et,nt);return new Ne.Point(at+ct[0]*it,st+ct[1]*it)}function xe(et,tt,rt,nt,it,ot){var at=et.x1,st=et.x2,ct=et.y1,pt=et.y2,ft=et.anchorPointX,dt=et.anchorPointY,mt=new Ne.Point(tt,rt);return nt&&mt._rotate(it?ot:-ot),{x1:at+mt.x,y1:ct+mt.y,x2:st+mt.x,y2:pt+mt.y,anchorPointX:ft,anchorPointY:dt}}ve.prototype.get=function(Ne){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Ne]){var et=++this.maxGroupID;this.collisionGroups[Ne]={ID:et,predicate:function(Ne){return Ne.collisionGroupID===et}}}return this.collisionGroups[Ne]};var be=function(Ne,et,tt,rt){this.transform=Ne.clone(),this.collisionIndex=new he(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=et,this.retainedQueryData={},this.collisionGroups=new ve(tt),this.collisionCircleArrays={},this.prevPlacement=rt,rt&&(rt.prevPlacement=void 0),this.placedOrientations={}};function we(Ne,et,tt,rt,nt){Ne.emplaceBack(et?1:0,tt?1:0,rt||0,nt||0),Ne.emplaceBack(et?1:0,tt?1:0,rt||0,nt||0),Ne.emplaceBack(et?1:0,tt?1:0,rt||0,nt||0),Ne.emplaceBack(et?1:0,tt?1:0,rt||0,nt||0)}be.prototype.getBucketParts=function(et,tt,rt,nt){var it=rt.getBucket(tt),ot=rt.latestFeatureIndex;if(it&&ot&&tt.id===it.layerIds[0]){var at=rt.collisionBoxArray,st=it.layers[0].layout,ct=Math.pow(2,this.transform.zoom-rt.tileID.overscaledZ),pt=rt.tileSize/Ne.EXTENT,ft=this.transform.calculatePosMatrix(rt.tileID.toUnwrapped()),dt="map"===st.get("text-pitch-alignment"),mt="map"===st.get("text-rotation-alignment"),yt=pe(rt,1,this.transform.zoom),vt=Jt(ft,dt,mt,this.transform,yt),Rt=null;if(dt){var Dt=Qt(ft,dt,mt,this.transform,yt);Rt=Ne.multiply([],this.transform.labelPlaneMatrix,Dt)}this.retainedQueryData[it.bucketInstanceId]=new ge(it.bucketInstanceId,ot,it.sourceLayerIndex,it.index,rt.tileID);var Ot={bucket:it,layout:st,posMatrix:ft,textLabelPlaneMatrix:vt,labelToScreenMatrix:Rt,scale:ct,textPixelRatio:pt,holdingForFade:rt.holdingForFade(),collisionBoxArray:at,partiallyEvaluatedTextSize:Ne.evaluateSizeForZoom(it.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(it.sourceID)};if(nt)for(var Bt=0,er=it.sortKeyRanges;Bt<er.length;Bt+=1){var rr=er[Bt];et.push({sortKey:rr.sortKey,symbolInstanceStart:rr.symbolInstanceStart,symbolInstanceEnd:rr.symbolInstanceEnd,parameters:Ot})}else et.push({symbolInstanceStart:0,symbolInstanceEnd:it.symbolInstances.length,parameters:Ot})}},be.prototype.attemptAnchorPlacement=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt){var vt,Rt=[ft.textOffset0,ft.textOffset1],Dt=ye(Ne,tt,rt,Rt,nt),Ot=this.collisionIndex.placeCollisionBox(xe(et,Dt.x,Dt.y,it,ot,this.transform.angle),pt,at,st,ct.predicate);if(!yt||0!==this.collisionIndex.placeCollisionBox(xe(yt,Dt.x,Dt.y,it,ot,this.transform.angle),pt,at,st,ct.predicate).box.length)return Ot.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[ft.crossTileID]&&this.prevPlacement.placements[ft.crossTileID]&&this.prevPlacement.placements[ft.crossTileID].text&&(vt=this.prevPlacement.variableOffsets[ft.crossTileID].anchor),this.variableOffsets[ft.crossTileID]={textOffset:Rt,width:tt,height:rt,anchor:Ne,textBoxScale:nt,prevAnchor:vt},this.markUsedJustification(dt,Ne,ft,mt),dt.allowVerticalPlacement&&(this.markUsedOrientation(dt,mt,ft),this.placedOrientations[ft.crossTileID]=mt),{shift:Dt,placedGlyphBoxes:Ot}):void 0},be.prototype.placeLayerBucketPart=function(et,tt,rt){var nt=this,it=et.parameters,ot=it.bucket,at=it.layout,st=it.posMatrix,ct=it.textLabelPlaneMatrix,pt=it.labelToScreenMatrix,ft=it.textPixelRatio,dt=it.holdingForFade,mt=it.collisionBoxArray,yt=it.partiallyEvaluatedTextSize,vt=it.collisionGroup,Rt=at.get("text-optional"),Dt=at.get("icon-optional"),Ot=at.get("text-allow-overlap"),Bt=at.get("icon-allow-overlap"),er="map"===at.get("text-rotation-alignment"),rr="map"===at.get("text-pitch-alignment"),vr="none"!==at.get("icon-text-fit"),wr="viewport-y"===at.get("symbol-z-order"),Sr=Ot&&(Bt||!ot.hasIconData()||Dt),rn=Bt&&(Ot||!ot.hasTextData()||Rt);!ot.collisionArrays&&mt&&ot.deserializeCollisionBoxes(mt);var P=function(et,it){if(!tt[et.crossTileID])if(dt)nt.placements[et.crossTileID]=new fe(!1,!1,!1);else{var mt,wr=!1,vn=!1,bn=!0,Tn=null,Cn={box:null,offscreen:null},In={box:null,offscreen:null},Mn=null,zn=null,Ln=0,Fn=0,Bn=0;it.textFeatureIndex?Ln=it.textFeatureIndex:et.useRuntimeCollisionCircles&&(Ln=et.featureIndex),it.verticalTextFeatureIndex&&(Fn=it.verticalTextFeatureIndex);var Nn=it.textBox;if(Nn){var O=function(tt){var rt=Ne.WritingMode.horizontal;if(ot.allowVerticalPlacement&&!tt&&nt.prevPlacement){var it=nt.prevPlacement.placedOrientations[et.crossTileID];it&&(nt.placedOrientations[et.crossTileID]=it,nt.markUsedOrientation(ot,rt=it,et))}return rt},F=function(tt,rt){if(ot.allowVerticalPlacement&&et.numVerticalGlyphVertices>0&&it.verticalTextBox)for(var nt=0,at=ot.writingModes;nt<at.length&&(at[nt]===Ne.WritingMode.vertical?(Cn=rt(),In=Cn):Cn=tt(),!(Cn&&Cn.box&&Cn.box.length));nt+=1);else Cn=tt()};if(at.get("text-variable-anchor")){var Vn=at.get("text-variable-anchor");if(nt.prevPlacement&&nt.prevPlacement.variableOffsets[et.crossTileID]){var Wn=nt.prevPlacement.variableOffsets[et.crossTileID];Vn.indexOf(Wn.anchor)>0&&(Vn=Vn.filter((function(Ne){return Ne!==Wn.anchor}))).unshift(Wn.anchor)}var Z=function(Ne,tt,rt){for(var it=Ne.x2-Ne.x1,at=Ne.y2-Ne.y1,ct=et.textBoxScale,pt=vr&&!Bt?tt:null,dt={box:[],offscreen:!1},mt=Ot?2*Vn.length:Vn.length,yt=0;yt<mt;++yt){var Rt=nt.attemptAnchorPlacement(Vn[yt%Vn.length],Ne,it,at,ct,er,rr,ft,st,vt,yt>=Vn.length,et,ot,rt,pt);if(Rt&&(dt=Rt.placedGlyphBoxes)&&dt.box&&dt.box.length){wr=!0,Tn=Rt.shift;break}}return dt};F((function(){return Z(Nn,it.iconBox,Ne.WritingMode.horizontal)}),(function(){var tt=it.verticalTextBox;return ot.allowVerticalPlacement&&!(Cn&&Cn.box&&Cn.box.length)&&et.numVerticalGlyphVertices>0&&tt?Z(tt,it.verticalIconBox,Ne.WritingMode.vertical):{box:null,offscreen:null}})),Cn&&(wr=Cn.box,bn=Cn.offscreen);var $n=O(Cn&&Cn.box);if(!wr&&nt.prevPlacement){var Yn=nt.prevPlacement.variableOffsets[et.crossTileID];Yn&&(nt.variableOffsets[et.crossTileID]=Yn,nt.markUsedJustification(ot,Yn.anchor,et,$n))}}else{var V=function(Ne,tt){var rt=nt.collisionIndex.placeCollisionBox(Ne,Ot,ft,st,vt.predicate);return rt&&rt.box&&rt.box.length&&(nt.markUsedOrientation(ot,tt,et),nt.placedOrientations[et.crossTileID]=tt),rt};F((function(){return V(Nn,Ne.WritingMode.horizontal)}),(function(){var tt=it.verticalTextBox;return ot.allowVerticalPlacement&&et.numVerticalGlyphVertices>0&&tt?V(tt,Ne.WritingMode.vertical):{box:null,offscreen:null}})),O(Cn&&Cn.box&&Cn.box.length)}}if(wr=(mt=Cn)&&mt.box&&mt.box.length>0,bn=mt&&mt.offscreen,et.useRuntimeCollisionCircles){var ii=ot.text.placedSymbolArray.get(et.centerJustifiedTextSymbolIndex),qi=Ne.evaluateSizeForFeature(ot.textSizeData,yt,ii),uo=at.get("text-padding");Mn=nt.collisionIndex.placeCollisionCircles(Ot,ii,ot.lineVertexArray,ot.glyphOffsetArray,qi,st,ct,pt,rt,rr,vt.predicate,et.collisionCircleDiameter,uo),wr=Ot||Mn.circles.length>0&&!Mn.collisionDetected,bn=bn&&Mn.offscreen}if(it.iconFeatureIndex&&(Bn=it.iconFeatureIndex),it.iconBox){var H=function(Ne){var et=vr&&Tn?xe(Ne,Tn.x,Tn.y,er,rr,nt.transform.angle):Ne;return nt.collisionIndex.placeCollisionBox(et,Bt,ft,st,vt.predicate)};vn=In&&In.box&&In.box.length&&it.verticalIconBox?(zn=H(it.verticalIconBox)).box.length>0:(zn=H(it.iconBox)).box.length>0,bn=bn&&zn.offscreen}var po=Rt||0===et.numHorizontalGlyphVertices&&0===et.numVerticalGlyphVertices,vo=Dt||0===et.numIconVertices;if(po||vo?vo?po||(vn=vn&&wr):wr=vn&&wr:vn=wr=vn&&wr,wr&&mt&&mt.box&&nt.collisionIndex.insertCollisionBox(mt.box,at.get("text-ignore-placement"),ot.bucketInstanceId,In&&In.box&&Fn?Fn:Ln,vt.ID),vn&&zn&&nt.collisionIndex.insertCollisionBox(zn.box,at.get("icon-ignore-placement"),ot.bucketInstanceId,Bn,vt.ID),Mn&&(wr&&nt.collisionIndex.insertCollisionCircles(Mn.circles,at.get("text-ignore-placement"),ot.bucketInstanceId,Ln,vt.ID),rt)){var So=ot.bucketInstanceId,ea=nt.collisionCircleArrays[So];void 0===ea&&(ea=nt.collisionCircleArrays[So]=new me);for(var ta=0;ta<Mn.circles.length;ta+=4)ea.circles.push(Mn.circles[ta+0]),ea.circles.push(Mn.circles[ta+1]),ea.circles.push(Mn.circles[ta+2]),ea.circles.push(Mn.collisionDetected?1:0)}nt.placements[et.crossTileID]=new fe(wr||Sr,vn||rn,bn||ot.justReloaded),tt[et.crossTileID]=!0}};if(wr)for(var vn=ot.getSortedSymbolIndexes(this.transform.angle),bn=vn.length-1;bn>=0;--bn){var Tn=vn[bn];P(ot.symbolInstances.get(Tn),ot.collisionArrays[Tn])}else for(var Cn=et.symbolInstanceStart;Cn<et.symbolInstanceEnd;Cn++)P(ot.symbolInstances.get(Cn),ot.collisionArrays[Cn]);if(rt&&ot.bucketInstanceId in this.collisionCircleArrays){var In=this.collisionCircleArrays[ot.bucketInstanceId];Ne.invert(In.invProjMatrix,st),In.viewportMatrix=this.collisionIndex.getViewportMatrix()}ot.justReloaded=!1},be.prototype.markUsedJustification=function(et,tt,rt,nt){var it;it=nt===Ne.WritingMode.vertical?rt.verticalPlacedTextSymbolIndex:{left:rt.leftJustifiedTextSymbolIndex,center:rt.centerJustifiedTextSymbolIndex,right:rt.rightJustifiedTextSymbolIndex}[Ne.getAnchorJustification(tt)];for(var ot=0,at=[rt.leftJustifiedTextSymbolIndex,rt.centerJustifiedTextSymbolIndex,rt.rightJustifiedTextSymbolIndex,rt.verticalPlacedTextSymbolIndex];ot<at.length;ot+=1){var st=at[ot];st>=0&&(et.text.placedSymbolArray.get(st).crossTileID=it>=0&&st!==it?0:rt.crossTileID)}},be.prototype.markUsedOrientation=function(et,tt,rt){for(var nt=tt===Ne.WritingMode.horizontal||tt===Ne.WritingMode.horizontalOnly?tt:0,it=tt===Ne.WritingMode.vertical?tt:0,ot=0,at=[rt.leftJustifiedTextSymbolIndex,rt.centerJustifiedTextSymbolIndex,rt.rightJustifiedTextSymbolIndex];ot<at.length;ot+=1)et.text.placedSymbolArray.get(at[ot]).placedOrientation=nt;rt.verticalPlacedTextSymbolIndex&&(et.text.placedSymbolArray.get(rt.verticalPlacedTextSymbolIndex).placedOrientation=it)},be.prototype.commit=function(Ne){this.commitTime=Ne,this.zoomAtLastRecencyCheck=this.transform.zoom;var et=this.prevPlacement,tt=!1;this.prevZoomAdjustment=et?et.zoomAdjustment(this.transform.zoom):0;var rt=et?et.symbolFadeChange(Ne):1,nt=et?et.opacities:{},it=et?et.variableOffsets:{},ot=et?et.placedOrientations:{};for(var at in this.placements){var st=this.placements[at],ct=nt[at];ct?(this.opacities[at]=new _e(ct,rt,st.text,st.icon),tt=tt||st.text!==ct.text.placed||st.icon!==ct.icon.placed):(this.opacities[at]=new _e(null,rt,st.text,st.icon,st.skipFade),tt=tt||st.text||st.icon)}for(var pt in nt){var ft=nt[pt];if(!this.opacities[pt]){var dt=new _e(ft,rt,!1,!1);dt.isHidden()||(this.opacities[pt]=dt,tt=tt||ft.text.placed||ft.icon.placed)}}for(var mt in it)this.variableOffsets[mt]||!this.opacities[mt]||this.opacities[mt].isHidden()||(this.variableOffsets[mt]=it[mt]);for(var yt in ot)this.placedOrientations[yt]||!this.opacities[yt]||this.opacities[yt].isHidden()||(this.placedOrientations[yt]=ot[yt]);tt?this.lastPlacementChangeTime=Ne:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=et?et.lastPlacementChangeTime:Ne)},be.prototype.updateLayerOpacities=function(Ne,et){for(var tt={},rt=0,nt=et;rt<nt.length;rt+=1){var it=nt[rt],ot=it.getBucket(Ne);ot&&it.latestFeatureIndex&&Ne.id===ot.layerIds[0]&&this.updateBucketOpacities(ot,tt,it.collisionBoxArray)}},be.prototype.updateBucketOpacities=function(et,tt,rt){var nt=this;et.hasTextData()&&et.text.opacityVertexArray.clear(),et.hasIconData()&&et.icon.opacityVertexArray.clear(),et.hasIconCollisionBoxData()&&et.iconCollisionBox.collisionVertexArray.clear(),et.hasTextCollisionBoxData()&&et.textCollisionBox.collisionVertexArray.clear();var it=et.layers[0].layout,ot=new _e(null,0,!1,!1,!0),at=it.get("text-allow-overlap"),st=it.get("icon-allow-overlap"),ct=it.get("text-variable-anchor"),pt="map"===it.get("text-rotation-alignment"),ft="map"===it.get("text-pitch-alignment"),dt="none"!==it.get("icon-text-fit"),mt=new _e(null,0,at&&(st||!et.hasIconData()||it.get("icon-optional")),st&&(at||!et.hasTextData()||it.get("text-optional")),!0);!et.collisionArrays&&rt&&(et.hasIconCollisionBoxData()||et.hasTextCollisionBoxData())&&et.deserializeCollisionBoxes(rt);for(var _=function(Ne,et,tt){for(var rt=0;rt<et/4;rt++)Ne.opacityVertexArray.emplaceBack(tt)},f=function(rt){var it=et.symbolInstances.get(rt),at=it.numHorizontalGlyphVertices,st=it.numVerticalGlyphVertices,yt=it.crossTileID,vt=nt.opacities[yt];tt[yt]?vt=ot:vt||(nt.opacities[yt]=vt=mt),tt[yt]=!0;var Rt=it.numIconVertices>0,Dt=nt.placedOrientations[it.crossTileID],Ot=Dt===Ne.WritingMode.vertical,Bt=Dt===Ne.WritingMode.horizontal||Dt===Ne.WritingMode.horizontalOnly;if(at>0||st>0){var er=De(vt.text);_(et.text,at,Ot?Ls:er),_(et.text,st,Bt?Ls:er);var rr=vt.text.isHidden();[it.rightJustifiedTextSymbolIndex,it.centerJustifiedTextSymbolIndex,it.leftJustifiedTextSymbolIndex].forEach((function(Ne){Ne>=0&&(et.text.placedSymbolArray.get(Ne).hidden=rr||Ot?1:0)})),it.verticalPlacedTextSymbolIndex>=0&&(et.text.placedSymbolArray.get(it.verticalPlacedTextSymbolIndex).hidden=rr||Bt?1:0);var vr=nt.variableOffsets[it.crossTileID];vr&&nt.markUsedJustification(et,vr.anchor,it,Dt);var wr=nt.placedOrientations[it.crossTileID];wr&&(nt.markUsedJustification(et,"left",it,wr),nt.markUsedOrientation(et,wr,it))}if(Rt){var Sr=De(vt.icon),rn=!(dt&&it.verticalPlacedIconSymbolIndex&&Ot);it.placedIconSymbolIndex>=0&&(_(et.icon,it.numIconVertices,rn?Sr:Ls),et.icon.placedSymbolArray.get(it.placedIconSymbolIndex).hidden=vt.icon.isHidden()),it.verticalPlacedIconSymbolIndex>=0&&(_(et.icon,it.numVerticalIconVertices,rn?Ls:Sr),et.icon.placedSymbolArray.get(it.verticalPlacedIconSymbolIndex).hidden=vt.icon.isHidden())}if(et.hasIconCollisionBoxData()||et.hasTextCollisionBoxData()){var vn=et.collisionArrays[rt];if(vn){var bn=new Ne.Point(0,0);if(vn.textBox||vn.verticalTextBox){var Tn=!0;if(ct){var Cn=nt.variableOffsets[yt];Cn?(bn=ye(Cn.anchor,Cn.width,Cn.height,Cn.textOffset,Cn.textBoxScale),pt&&bn._rotate(ft?nt.transform.angle:-nt.transform.angle)):Tn=!1}vn.textBox&&we(et.textCollisionBox.collisionVertexArray,vt.text.placed,!Tn||Ot,bn.x,bn.y),vn.verticalTextBox&&we(et.textCollisionBox.collisionVertexArray,vt.text.placed,!Tn||Bt,bn.x,bn.y)}var In=Boolean(!Bt&&vn.verticalIconBox);vn.iconBox&&we(et.iconCollisionBox.collisionVertexArray,vt.icon.placed,In,dt?bn.x:0,dt?bn.y:0),vn.verticalIconBox&&we(et.iconCollisionBox.collisionVertexArray,vt.icon.placed,!In,dt?bn.x:0,dt?bn.y:0)}}},yt=0;yt<et.symbolInstances.length;yt++)f(yt);if(et.sortFeatures(this.transform.angle),this.retainedQueryData[et.bucketInstanceId]&&(this.retainedQueryData[et.bucketInstanceId].featureSortOrder=et.featureSortOrder),et.hasTextData()&&et.text.opacityVertexBuffer&&et.text.opacityVertexBuffer.updateData(et.text.opacityVertexArray),et.hasIconData()&&et.icon.opacityVertexBuffer&&et.icon.opacityVertexBuffer.updateData(et.icon.opacityVertexArray),et.hasIconCollisionBoxData()&&et.iconCollisionBox.collisionVertexBuffer&&et.iconCollisionBox.collisionVertexBuffer.updateData(et.iconCollisionBox.collisionVertexArray),et.hasTextCollisionBoxData()&&et.textCollisionBox.collisionVertexBuffer&&et.textCollisionBox.collisionVertexBuffer.updateData(et.textCollisionBox.collisionVertexArray),et.bucketInstanceId in this.collisionCircleArrays){var vt=this.collisionCircleArrays[et.bucketInstanceId];et.placementInvProjMatrix=vt.invProjMatrix,et.placementViewportMatrix=vt.viewportMatrix,et.collisionCircleArray=vt.circles,delete this.collisionCircleArrays[et.bucketInstanceId]}},be.prototype.symbolFadeChange=function(Ne){return 0===this.fadeDuration?1:(Ne-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},be.prototype.zoomAdjustment=function(Ne){return Math.max(0,(this.transform.zoom-Ne)/1.5)},be.prototype.hasTransitions=function(Ne){return this.stale||Ne-this.lastPlacementChangeTime<this.fadeDuration},be.prototype.stillRecent=function(Ne,et){var tt=this.zoomAtLastRecencyCheck===et?1-this.zoomAdjustment(et):1;return this.zoomAtLastRecencyCheck=et,this.commitTime+this.fadeDuration*tt>Ne},be.prototype.setStale=function(){this.stale=!0};var Es=Math.pow(2,25),Cs=Math.pow(2,24),Ps=Math.pow(2,17),As=Math.pow(2,16),Rs=Math.pow(2,9),Ms=Math.pow(2,8),zs=Math.pow(2,1);function De(Ne){if(0===Ne.opacity&&!Ne.placed)return 0;if(1===Ne.opacity&&Ne.placed)return 4294967295;var et=Ne.placed?1:0,tt=Math.floor(127*Ne.opacity);return tt*Es+et*Cs+tt*Ps+et*As+tt*Rs+et*Ms+tt*zs+et}var Ls=0,Le=function(Ne){this._sortAcrossTiles="viewport-y"!==Ne.layout.get("symbol-z-order")&&void 0!==Ne.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Le.prototype.continuePlacement=function(Ne,et,tt,rt,nt){for(var it=this._bucketParts;this._currentTileIndex<Ne.length;)if(et.getBucketParts(it,rt,Ne[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,nt())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,it.sort((function(Ne,et){return Ne.sortKey-et.sortKey})));this._currentPartIndex<it.length;)if(et.placeLayerBucketPart(it[this._currentPartIndex],this._seenCrossTileIDs,tt),this._currentPartIndex++,nt())return!0;return!1};var Ae=function(Ne,et,tt,rt,nt,it,ot){this.placement=new be(Ne,nt,it,ot),this._currentPlacementIndex=et.length-1,this._forceFullPlacement=tt,this._showCollisionBoxes=rt,this._done=!1};Ae.prototype.isDone=function(){return this._done},Ae.prototype.continuePlacement=function(et,tt,rt){for(var nt=this,it=Ne.browser.now(),n=function(){var et=Ne.browser.now()-it;return!nt._forceFullPlacement&&et>2};this._currentPlacementIndex>=0;){var ot=tt[et[this._currentPlacementIndex]],at=this.placement.collisionIndex.transform.zoom;if("symbol"===ot.type&&(!ot.minzoom||ot.minzoom<=at)&&(!ot.maxzoom||ot.maxzoom>at)){if(this._inProgressLayer||(this._inProgressLayer=new Le(ot)),this._inProgressLayer.continuePlacement(rt[ot.source],this.placement,this._showCollisionBoxes,ot,n))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ae.prototype.commit=function(Ne){return this.placement.commit(Ne),this.placement};var Os=512/Ne.EXTENT/2,ke=function(Ne,et,tt){this.tileID=Ne,this.indexedSymbolInstances={},this.bucketInstanceId=tt;for(var rt=0;rt<et.length;rt++){var nt=et.get(rt),it=nt.key;this.indexedSymbolInstances[it]||(this.indexedSymbolInstances[it]=[]),this.indexedSymbolInstances[it].push({crossTileID:nt.crossTileID,coord:this.getScaledCoordinates(nt,Ne)})}};ke.prototype.getScaledCoordinates=function(et,tt){var rt=Os/Math.pow(2,tt.canonical.z-this.tileID.canonical.z);return{x:Math.floor((tt.canonical.x*Ne.EXTENT+et.anchorX)*rt),y:Math.floor((tt.canonical.y*Ne.EXTENT+et.anchorY)*rt)}},ke.prototype.findMatches=function(Ne,et,tt){for(var rt=this.tileID.canonical.z<et.canonical.z?1:Math.pow(2,this.tileID.canonical.z-et.canonical.z),nt=0;nt<Ne.length;nt++){var it=Ne.get(nt);if(!it.crossTileID){var ot=this.indexedSymbolInstances[it.key];if(ot)for(var at=this.getScaledCoordinates(it,et),st=0,ct=ot;st<ct.length;st+=1){var pt=ct[st];if(Math.abs(pt.coord.x-at.x)<=rt&&Math.abs(pt.coord.y-at.y)<=rt&&!tt[pt.crossTileID]){tt[pt.crossTileID]=!0,it.crossTileID=pt.crossTileID;break}}}}};var Be=function(){this.maxCrossTileID=0};Be.prototype.generate=function(){return++this.maxCrossTileID};var Oe=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Oe.prototype.handleWrapJump=function(Ne){var et=Math.round((Ne-this.lng)/360);if(0!==et)for(var tt in this.indexes){var rt=this.indexes[tt],nt={};for(var it in rt){var ot=rt[it];ot.tileID=ot.tileID.unwrapTo(ot.tileID.wrap+et),nt[ot.tileID.key]=ot}this.indexes[tt]=nt}this.lng=Ne},Oe.prototype.addBucket=function(Ne,et,tt){if(this.indexes[Ne.overscaledZ]&&this.indexes[Ne.overscaledZ][Ne.key]){if(this.indexes[Ne.overscaledZ][Ne.key].bucketInstanceId===et.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Ne.overscaledZ,this.indexes[Ne.overscaledZ][Ne.key])}for(var rt=0;rt<et.symbolInstances.length;rt++)et.symbolInstances.get(rt).crossTileID=0;this.usedCrossTileIDs[Ne.overscaledZ]||(this.usedCrossTileIDs[Ne.overscaledZ]={});var nt=this.usedCrossTileIDs[Ne.overscaledZ];for(var it in this.indexes){var ot=this.indexes[it];if(Number(it)>Ne.overscaledZ)for(var at in ot){var st=ot[at];st.tileID.isChildOf(Ne)&&st.findMatches(et.symbolInstances,Ne,nt)}else{var ct=ot[Ne.scaledTo(Number(it)).key];ct&&ct.findMatches(et.symbolInstances,Ne,nt)}}for(var pt=0;pt<et.symbolInstances.length;pt++){var ft=et.symbolInstances.get(pt);ft.crossTileID||(ft.crossTileID=tt.generate(),nt[ft.crossTileID]=!0)}return void 0===this.indexes[Ne.overscaledZ]&&(this.indexes[Ne.overscaledZ]={}),this.indexes[Ne.overscaledZ][Ne.key]=new ke(Ne,et.symbolInstances,et.bucketInstanceId),!0},Oe.prototype.removeBucketCrossTileIDs=function(Ne,et){for(var tt in et.indexedSymbolInstances)for(var rt=0,nt=et.indexedSymbolInstances[tt];rt<nt.length;rt+=1)delete this.usedCrossTileIDs[Ne][nt[rt].crossTileID]},Oe.prototype.removeStaleBuckets=function(Ne){var et=!1;for(var tt in this.indexes){var rt=this.indexes[tt];for(var nt in rt)Ne[rt[nt].bucketInstanceId]||(this.removeBucketCrossTileIDs(tt,rt[nt]),delete rt[nt],et=!0)}return et};var Fe=function(){this.layerIndexes={},this.crossTileIDs=new Be,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Fe.prototype.addLayer=function(Ne,et,tt){var rt=this.layerIndexes[Ne.id];void 0===rt&&(rt=this.layerIndexes[Ne.id]=new Oe);var nt=!1,it={};rt.handleWrapJump(tt);for(var ot=0,at=et;ot<at.length;ot+=1){var st=at[ot],ct=st.getBucket(Ne);ct&&Ne.id===ct.layerIds[0]&&(ct.bucketInstanceId||(ct.bucketInstanceId=++this.maxBucketInstanceId),rt.addBucket(st.tileID,ct,this.crossTileIDs)&&(nt=!0),it[ct.bucketInstanceId]=!0)}return rt.removeStaleBuckets(it)&&(nt=!0),nt},Fe.prototype.pruneUnusedLayers=function(Ne){var et={};for(var tt in Ne.forEach((function(Ne){et[Ne]=!0})),this.layerIndexes)et[tt]||delete this.layerIndexes[tt]};var Ue=function(et,tt){return Ne.emitValidationErrors(et,tt&&tt.filter((function(Ne){return"source.canvas"!==Ne.identifier})))},Fs=Ne.pick(xs,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Bs=Ne.pick(xs,["setCenter","setZoom","setBearing","setPitch"]),Ns=function(){var et={},tt=Ne.styleSpec.$version;for(var rt in Ne.styleSpec.$root){var nt,it=Ne.styleSpec.$root[rt];it.required&&null!=(nt="version"===rt?tt:"array"===it.type?[]:{})&&(et[rt]=nt)}return et}(),Vs=function(et){function i(tt,rt){var nt=this;void 0===rt&&(rt={}),et.call(this),this.map=tt,this.dispatcher=new vt(Ft(),this),this.imageManager=new ct,this.imageManager.setEventedParent(this),this.glyphManager=new y(tt._requestManager,rt.localIdeographFontFamily),this.lineAtlas=new T(256,512),this.crossTileSymbolIndex=new Fe,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new Ne.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",Ne.getReferrer());var it=this;this._rtlTextPluginCallback=i.registerForPluginStateChange((function(et){it.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:et.pluginStatus,pluginURL:et.pluginURL},(function(et,tt){if(Ne.triggerPluginCompletionEvent(et),tt&&tt.every((function(Ne){return Ne})))for(var rt in it.sourceCaches)it.sourceCaches[rt].reload()}))})),this.on("data",(function(Ne){if("source"===Ne.dataType&&"metadata"===Ne.sourceDataType){var et=nt.sourceCaches[Ne.sourceId];if(et){var tt=et.getSource();if(tt&&tt.vectorLayerIds)for(var rt in nt._layers){var it=nt._layers[rt];it.source===tt.id&&nt._validateLayer(it)}}}}))}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.loadURL=function(et,tt){var rt=this;void 0===tt&&(tt={}),this.fire(new Ne.Event("dataloading",{dataType:"style"}));var nt="boolean"==typeof tt.validate?tt.validate:!Ne.isMapboxURL(et);et=this.map._requestManager.normalizeStyleURL(et,tt.accessToken);var it=this.map._requestManager.transformRequest(et,Ne.ResourceType.Style);this._request=Ne.getJSON(it,(function(et,tt){rt._request=null,et?rt.fire(new Ne.ErrorEvent(et)):tt&&rt._load(tt,nt)}))},i.prototype.loadJSON=function(et,tt){var rt=this;void 0===tt&&(tt={}),this.fire(new Ne.Event("dataloading",{dataType:"style"})),this._request=Ne.browser.frame((function(){rt._request=null,rt._load(et,!1!==tt.validate)}))},i.prototype.loadEmpty=function(){this.fire(new Ne.Event("dataloading",{dataType:"style"})),this._load(Ns,!1)},i.prototype._load=function(et,tt){if(!tt||!Ue(this,Ne.validateStyle(et))){for(var rt in this._loaded=!0,this.stylesheet=et,et.sources)this.addSource(rt,et.sources[rt],{validate:!1});et.sprite?this._loadSprite(et.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(et.glyphs);var nt=Nt(this.stylesheet.layers);this._order=nt.map((function(Ne){return Ne.id})),this._layers={},this._serializedLayers={};for(var it=0,ot=nt;it<ot.length;it+=1){var at=ot[it];(at=Ne.createStyleLayer(at)).setEventedParent(this,{layer:{id:at.id}}),this._layers[at.id]=at,this._serializedLayers[at.id]=at.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new yt(this.stylesheet.light),this.fire(new Ne.Event("data",{dataType:"style"})),this.fire(new Ne.Event("style.load"))}},i.prototype._loadSprite=function(et){var tt=this;this._spriteRequest=function(et,tt,rt){var nt,it,ot,at=Ne.browser.devicePixelRatio>1?"@2x":"",st=Ne.getJSON(tt.transformRequest(tt.normalizeSpriteURL(et,at,".json"),Ne.ResourceType.SpriteJSON),(function(Ne,et){st=null,ot||(ot=Ne,nt=et,u())})),ct=Ne.getImage(tt.transformRequest(tt.normalizeSpriteURL(et,at,".png"),Ne.ResourceType.SpriteImage),(function(Ne,et){ct=null,ot||(ot=Ne,it=et,u())}));function u(){if(ot)rt(ot);else if(nt&&it){var et=Ne.browser.getImageData(it),tt={};for(var at in nt){var st=nt[at],ct=st.width,pt=st.height,ft=st.x,dt=st.y,mt=st.sdf,yt=st.pixelRatio,vt=st.stretchX,Rt=st.stretchY,Dt=st.content,Ot=new Ne.RGBAImage({width:ct,height:pt});Ne.RGBAImage.copy(et,Ot,{x:ft,y:dt},{x:0,y:0},{width:ct,height:pt}),tt[at]={data:Ot,pixelRatio:yt,sdf:mt,stretchX:vt,stretchY:Rt,content:Dt}}rt(null,tt)}}return{cancel:function(){st&&(st.cancel(),st=null),ct&&(ct.cancel(),ct=null)}}}(et,this.map._requestManager,(function(et,rt){if(tt._spriteRequest=null,et)tt.fire(new Ne.ErrorEvent(et));else if(rt)for(var nt in rt)tt.imageManager.addImage(nt,rt[nt]);tt.imageManager.setLoaded(!0),tt._availableImages=tt.imageManager.listImages(),tt.dispatcher.broadcast("setImages",tt._availableImages),tt.fire(new Ne.Event("data",{dataType:"style"}))}))},i.prototype._validateLayer=function(et){var tt=this.sourceCaches[et.source];if(tt){var rt=et.sourceLayer;if(rt){var nt=tt.getSource();("geojson"===nt.type||nt.vectorLayerIds&&-1===nt.vectorLayerIds.indexOf(rt))&&this.fire(new Ne.ErrorEvent(new Error('Source layer "'+rt+'" does not exist on source "'+nt.id+'" as specified by style layer "'+et.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var Ne in this.sourceCaches)if(!this.sourceCaches[Ne].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(Ne){for(var et=[],tt=0,rt=Ne;tt<rt.length;tt+=1){var nt=this._layers[rt[tt]];"custom"!==nt.type&&et.push(nt.serialize())}return et},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var Ne in this.sourceCaches)if(this.sourceCaches[Ne].hasTransition())return!0;for(var et in this._layers)if(this._layers[et].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(et){if(this._loaded){var tt=this._changed;if(this._changed){var rt=Object.keys(this._updatedLayers),nt=Object.keys(this._removedLayers);for(var it in(rt.length||nt.length)&&this._updateWorkerLayers(rt,nt),this._updatedSources){var ot=this._updatedSources[it];"reload"===ot?this._reloadSource(it):"clear"===ot&&this._clearSource(it)}for(var at in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[at].updateTransitions(et);this.light.updateTransitions(et),this._resetUpdates()}for(var st in this.sourceCaches)this.sourceCaches[st].used=!1;for(var ct=0,pt=this._order;ct<pt.length;ct+=1){var ft=this._layers[pt[ct]];ft.recalculate(et,this._availableImages),!ft.isHidden(et.zoom)&&ft.source&&(this.sourceCaches[ft.source].used=!0)}this.light.recalculate(et),this.z=et.zoom,tt&&this.fire(new Ne.Event("data",{dataType:"style"}))}},i.prototype._updateTilesForChangedImages=function(){var Ne=Object.keys(this._changedImages);if(Ne.length){for(var et in this.sourceCaches)this.sourceCaches[et].reloadTilesForDependencies(["icons","patterns"],Ne);this._changedImages={}}},i.prototype._updateWorkerLayers=function(Ne,et){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(Ne),removedIds:et})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},i.prototype.setState=function(et){var tt=this;if(this._checkLoaded(),Ue(this,Ne.validateStyle(et)))return!1;(et=Ne.clone$1(et)).layers=Nt(et.layers);var rt=function(et,tt){if(!et)return[{command:xs.setStyle,args:[tt]}];var rt=[];try{if(!Ne.deepEqual(et.version,tt.version))return[{command:xs.setStyle,args:[tt]}];Ne.deepEqual(et.center,tt.center)||rt.push({command:xs.setCenter,args:[tt.center]}),Ne.deepEqual(et.zoom,tt.zoom)||rt.push({command:xs.setZoom,args:[tt.zoom]}),Ne.deepEqual(et.bearing,tt.bearing)||rt.push({command:xs.setBearing,args:[tt.bearing]}),Ne.deepEqual(et.pitch,tt.pitch)||rt.push({command:xs.setPitch,args:[tt.pitch]}),Ne.deepEqual(et.sprite,tt.sprite)||rt.push({command:xs.setSprite,args:[tt.sprite]}),Ne.deepEqual(et.glyphs,tt.glyphs)||rt.push({command:xs.setGlyphs,args:[tt.glyphs]}),Ne.deepEqual(et.transition,tt.transition)||rt.push({command:xs.setTransition,args:[tt.transition]}),Ne.deepEqual(et.light,tt.light)||rt.push({command:xs.setLight,args:[tt.light]});var nt={},it=[];!function(et,tt,rt,nt){var it;for(it in tt=tt||{},et=et||{})et.hasOwnProperty(it)&&(tt.hasOwnProperty(it)||qt(it,rt,nt));for(it in tt)tt.hasOwnProperty(it)&&(et.hasOwnProperty(it)?Ne.deepEqual(et[it],tt[it])||("geojson"===et[it].type&&"geojson"===tt[it].type&&Gt(et,tt,it)?rt.push({command:xs.setGeoJSONSourceData,args:[it,tt[it].data]}):Vt(it,tt,rt,nt)):jt(it,tt,rt))}(et.sources,tt.sources,it,nt);var ot=[];et.layers&&et.layers.forEach((function(Ne){nt[Ne.source]?rt.push({command:xs.removeLayer,args:[Ne.id]}):ot.push(Ne)})),rt=rt.concat(it),function(et,tt,rt){tt=tt||[];var nt,it,ot,at,st,ct,pt,ft=(et=et||[]).map(Xt),dt=tt.map(Xt),mt=et.reduce(Ht,{}),yt=tt.reduce(Ht,{}),vt=ft.slice(),Rt=Object.create(null);for(nt=0,it=0;nt<ft.length;nt++)yt.hasOwnProperty(ot=ft[nt])?it++:(rt.push({command:xs.removeLayer,args:[ot]}),vt.splice(vt.indexOf(ot,it),1));for(nt=0,it=0;nt<dt.length;nt++)vt[vt.length-1-nt]!==(ot=dt[dt.length-1-nt])&&(mt.hasOwnProperty(ot)?(rt.push({command:xs.removeLayer,args:[ot]}),vt.splice(vt.lastIndexOf(ot,vt.length-it),1)):it++,rt.push({command:xs.addLayer,args:[yt[ot],ct=vt[vt.length-nt]]}),vt.splice(vt.length-nt,0,ot),Rt[ot]=!0);for(nt=0;nt<dt.length;nt++)if(at=mt[ot=dt[nt]],st=yt[ot],!Rt[ot]&&!Ne.deepEqual(at,st))if(Ne.deepEqual(at.source,st.source)&&Ne.deepEqual(at["source-layer"],st["source-layer"])&&Ne.deepEqual(at.type,st.type)){for(pt in Wt(at.layout,st.layout,rt,ot,null,xs.setLayoutProperty),Wt(at.paint,st.paint,rt,ot,null,xs.setPaintProperty),Ne.deepEqual(at.filter,st.filter)||rt.push({command:xs.setFilter,args:[ot,st.filter]}),Ne.deepEqual(at.minzoom,st.minzoom)&&Ne.deepEqual(at.maxzoom,st.maxzoom)||rt.push({command:xs.setLayerZoomRange,args:[ot,st.minzoom,st.maxzoom]}),at)at.hasOwnProperty(pt)&&"layout"!==pt&&"paint"!==pt&&"filter"!==pt&&"metadata"!==pt&&"minzoom"!==pt&&"maxzoom"!==pt&&(0===pt.indexOf("paint.")?Wt(at[pt],st[pt],rt,ot,pt.slice(6),xs.setPaintProperty):Ne.deepEqual(at[pt],st[pt])||rt.push({command:xs.setLayerProperty,args:[ot,pt,st[pt]]}));for(pt in st)st.hasOwnProperty(pt)&&!at.hasOwnProperty(pt)&&"layout"!==pt&&"paint"!==pt&&"filter"!==pt&&"metadata"!==pt&&"minzoom"!==pt&&"maxzoom"!==pt&&(0===pt.indexOf("paint.")?Wt(at[pt],st[pt],rt,ot,pt.slice(6),xs.setPaintProperty):Ne.deepEqual(at[pt],st[pt])||rt.push({command:xs.setLayerProperty,args:[ot,pt,st[pt]]}))}else rt.push({command:xs.removeLayer,args:[ot]}),ct=vt[vt.lastIndexOf(ot)+1],rt.push({command:xs.addLayer,args:[st,ct]})}(ot,tt.layers,rt)}catch(Ne){console.warn("Unable to compute style diff:",Ne),rt=[{command:xs.setStyle,args:[tt]}]}return rt}(this.serialize(),et).filter((function(Ne){return!(Ne.command in Bs)}));if(0===rt.length)return!1;var nt=rt.filter((function(Ne){return!(Ne.command in Fs)}));if(nt.length>0)throw new Error("Unimplemented: "+nt.map((function(Ne){return Ne.command})).join(", ")+".");return rt.forEach((function(Ne){"setTransition"!==Ne.command&&tt[Ne.command].apply(tt,Ne.args)})),this.stylesheet=et,!0},i.prototype.addImage=function(et,tt){if(this.getImage(et))return this.fire(new Ne.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(et,tt),this._availableImages=this.imageManager.listImages(),this._changedImages[et]=!0,this._changed=!0,this.fire(new Ne.Event("data",{dataType:"style"}))},i.prototype.updateImage=function(Ne,et){this.imageManager.updateImage(Ne,et)},i.prototype.getImage=function(Ne){return this.imageManager.getImage(Ne)},i.prototype.removeImage=function(et){if(!this.getImage(et))return this.fire(new Ne.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(et),this._availableImages=this.imageManager.listImages(),this._changedImages[et]=!0,this._changed=!0,this.fire(new Ne.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(et,tt,rt){var nt=this;if(void 0===rt&&(rt={}),this._checkLoaded(),void 0!==this.sourceCaches[et])throw new Error("There is already a source with this ID");if(!tt.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(tt).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(tt.type)>=0&&this._validate(Ne.validateStyle.source,"sources."+et,tt,null,rt))){this.map&&this.map._collectResourceTiming&&(tt.collectResourceTiming=!0);var it=this.sourceCaches[et]=new us(et,tt,this.dispatcher);it.style=this,it.setEventedParent(this,(function(){return{isSourceLoaded:nt.loaded(),source:it.serialize(),sourceId:et}})),it.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(et){if(this._checkLoaded(),void 0===this.sourceCaches[et])throw new Error("There is no source with this ID");for(var tt in this._layers)if(this._layers[tt].source===et)return this.fire(new Ne.ErrorEvent(new Error('Source "'+et+'" cannot be removed while layer "'+tt+'" is using it.')));var rt=this.sourceCaches[et];delete this.sourceCaches[et],delete this._updatedSources[et],rt.fire(new Ne.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:et})),rt.setEventedParent(null),rt.clearTiles(),rt.onRemove&&rt.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(Ne,et){this._checkLoaded(),this.sourceCaches[Ne].getSource().setData(et),this._changed=!0},i.prototype.getSource=function(Ne){return this.sourceCaches[Ne]&&this.sourceCaches[Ne].getSource()},i.prototype.addLayer=function(et,tt,rt){void 0===rt&&(rt={}),this._checkLoaded();var nt=et.id;if(this.getLayer(nt))this.fire(new Ne.ErrorEvent(new Error('Layer with id "'+nt+'" already exists on this map')));else{var it;if("custom"===et.type){if(Ue(this,Ne.validateCustomStyleLayer(et)))return;it=Ne.createStyleLayer(et)}else{if("object"==typeof et.source&&(this.addSource(nt,et.source),et=Ne.clone$1(et),et=Ne.extend(et,{source:nt})),this._validate(Ne.validateStyle.layer,"layers."+nt,et,{arrayIndex:-1},rt))return;it=Ne.createStyleLayer(et),this._validateLayer(it),it.setEventedParent(this,{layer:{id:nt}}),this._serializedLayers[it.id]=it.serialize()}var ot=tt?this._order.indexOf(tt):this._order.length;if(tt&&-1===ot)this.fire(new Ne.ErrorEvent(new Error('Layer with id "'+tt+'" does not exist on this map.')));else{if(this._order.splice(ot,0,nt),this._layerOrderChanged=!0,this._layers[nt]=it,this._removedLayers[nt]&&it.source&&"custom"!==it.type){var at=this._removedLayers[nt];delete this._removedLayers[nt],at.type!==it.type?this._updatedSources[it.source]="clear":(this._updatedSources[it.source]="reload",this.sourceCaches[it.source].pause())}this._updateLayer(it),it.onAdd&&it.onAdd(this.map)}}},i.prototype.moveLayer=function(et,tt){if(this._checkLoaded(),this._changed=!0,this._layers[et]){if(et!==tt){var rt=this._order.indexOf(et);this._order.splice(rt,1);var nt=tt?this._order.indexOf(tt):this._order.length;tt&&-1===nt?this.fire(new Ne.ErrorEvent(new Error('Layer with id "'+tt+'" does not exist on this map.'))):(this._order.splice(nt,0,et),this._layerOrderChanged=!0)}}else this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(et){this._checkLoaded();var tt=this._layers[et];if(tt){tt.setEventedParent(null);var rt=this._order.indexOf(et);this._order.splice(rt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[et]=tt,delete this._layers[et],delete this._serializedLayers[et],delete this._updatedLayers[et],delete this._updatedPaintProps[et],tt.onRemove&&tt.onRemove(this.map)}else this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(Ne){return this._layers[Ne]},i.prototype.hasLayer=function(Ne){return Ne in this._layers},i.prototype.setLayerZoomRange=function(et,tt,rt){this._checkLoaded();var nt=this.getLayer(et);nt?nt.minzoom===tt&&nt.maxzoom===rt||(null!=tt&&(nt.minzoom=tt),null!=rt&&(nt.maxzoom=rt),this._updateLayer(nt)):this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(et,tt,rt){void 0===rt&&(rt={}),this._checkLoaded();var nt=this.getLayer(et);if(nt){if(!Ne.deepEqual(nt.filter,tt))return null==tt?(nt.filter=void 0,void this._updateLayer(nt)):void(this._validate(Ne.validateStyle.filter,"layers."+nt.id+".filter",tt,null,rt)||(nt.filter=Ne.clone$1(tt),this._updateLayer(nt)))}else this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(et){return Ne.clone$1(this.getLayer(et).filter)},i.prototype.setLayoutProperty=function(et,tt,rt,nt){void 0===nt&&(nt={}),this._checkLoaded();var it=this.getLayer(et);it?Ne.deepEqual(it.getLayoutProperty(tt),rt)||(it.setLayoutProperty(tt,rt,nt),this._updateLayer(it)):this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(et,tt){var rt=this.getLayer(et);if(rt)return rt.getLayoutProperty(tt);this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style.")))},i.prototype.setPaintProperty=function(et,tt,rt,nt){void 0===nt&&(nt={}),this._checkLoaded();var it=this.getLayer(et);it?Ne.deepEqual(it.getPaintProperty(tt),rt)||(it.setPaintProperty(tt,rt,nt)&&this._updateLayer(it),this._changed=!0,this._updatedPaintProps[et]=!0):this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(Ne,et){return this.getLayer(Ne).getPaintProperty(et)},i.prototype.setFeatureState=function(et,tt){this._checkLoaded();var rt=et.source,nt=et.sourceLayer,it=this.sourceCaches[rt];if(void 0!==it){var ot=it.getSource().type;"geojson"===ot&&nt?this.fire(new Ne.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==ot||nt?(void 0===et.id&&this.fire(new Ne.ErrorEvent(new Error("The feature id parameter must be provided."))),it.setFeatureState(nt,et.id,tt)):this.fire(new Ne.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new Ne.ErrorEvent(new Error("The source '"+rt+"' does not exist in the map's style.")))},i.prototype.removeFeatureState=function(et,tt){this._checkLoaded();var rt=et.source,nt=this.sourceCaches[rt];if(void 0!==nt){var it=nt.getSource().type,ot="vector"===it?et.sourceLayer:void 0;"vector"!==it||ot?tt&&"string"!=typeof et.id&&"number"!=typeof et.id?this.fire(new Ne.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):nt.removeFeatureState(ot,et.id,tt):this.fire(new Ne.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new Ne.ErrorEvent(new Error("The source '"+rt+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(et){this._checkLoaded();var tt=et.source,rt=et.sourceLayer,nt=this.sourceCaches[tt];if(void 0!==nt){if("vector"!==nt.getSource().type||rt)return void 0===et.id&&this.fire(new Ne.ErrorEvent(new Error("The feature id parameter must be provided."))),nt.getFeatureState(rt,et.id);this.fire(new Ne.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new Ne.ErrorEvent(new Error("The source '"+tt+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return Ne.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){return Ne.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:Ne.mapObject(this.sourceCaches,(function(Ne){return Ne.serialize()})),layers:this._serializeLayers(this._order)},(function(Ne){return void 0!==Ne}))},i.prototype._updateLayer=function(Ne){this._updatedLayers[Ne.id]=!0,Ne.source&&!this._updatedSources[Ne.source]&&"raster"!==this.sourceCaches[Ne.source].getSource().type&&(this._updatedSources[Ne.source]="reload",this.sourceCaches[Ne.source].pause()),this._changed=!0},i.prototype._flattenAndSortRenderedFeatures=function(Ne){for(var et=this,i=function(Ne){return"fill-extrusion"===et._layers[Ne].type},tt={},rt=[],nt=this._order.length-1;nt>=0;nt--){var it=this._order[nt];if(i(it)){tt[it]=nt;for(var ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot][it];if(st)for(var ct=0,pt=st;ct<pt.length;ct+=1)rt.push(pt[ct])}}}rt.sort((function(Ne,et){return et.intersectionZ-Ne.intersectionZ}));for(var ft=[],dt=this._order.length-1;dt>=0;dt--){var mt=this._order[dt];if(i(mt))for(var yt=rt.length-1;yt>=0;yt--){var vt=rt[yt].feature;if(tt[vt.layer.id]<dt)break;ft.push(vt),rt.pop()}else for(var Rt=0,Dt=Ne;Rt<Dt.length;Rt+=1){var Ot=Dt[Rt][mt];if(Ot)for(var Bt=0,er=Ot;Bt<er.length;Bt+=1)ft.push(er[Bt].feature)}}return ft},i.prototype.queryRenderedFeatures=function(et,tt,rt){tt&&tt.filter&&this._validate(Ne.validateStyle.filter,"queryRenderedFeatures.filter",tt.filter,null,tt);var nt={};if(tt&&tt.layers){if(!Array.isArray(tt.layers))return this.fire(new Ne.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var it=0,ot=tt.layers;it<ot.length;it+=1){var at=ot[it],st=this._layers[at];if(!st)return this.fire(new Ne.ErrorEvent(new Error("The layer '"+at+"' does not exist in the map's style and cannot be queried for features."))),[];nt[st.source]=!0}}var ct=[];for(var pt in tt.availableImages=this._availableImages,this.sourceCaches)tt.layers&&!nt[pt]||ct.push(O(this.sourceCaches[pt],this._layers,this._serializedLayers,et,tt,rt));return this.placement&&ct.push(function(Ne,et,tt,rt,nt,it,ot){for(var at={},st=it.queryRenderedSymbols(rt),ct=[],pt=0,ft=Object.keys(st).map(Number);pt<ft.length;pt+=1)ct.push(ot[ft[pt]]);ct.sort(F);for(var p=function(){var tt=mt[dt],rt=tt.featureIndex.lookupSymbolFeatures(st[tt.bucketInstanceId],et,tt.bucketIndex,tt.sourceLayerIndex,nt.filter,nt.layers,nt.availableImages,Ne);for(var it in rt){var ot=at[it]=at[it]||[],ct=rt[it];ct.sort((function(Ne,et){var rt=tt.featureSortOrder;if(rt){var nt=rt.indexOf(Ne.featureIndex);return rt.indexOf(et.featureIndex)-nt}return et.featureIndex-Ne.featureIndex}));for(var pt=0,ft=ct;pt<ft.length;pt+=1)ot.push(ft[pt])}},dt=0,mt=ct;dt<mt.length;dt+=1)p();var f=function(et){at[et].forEach((function(rt){var nt=rt.feature,it=tt[Ne[et].source].getFeatureState(nt.layer["source-layer"],nt.id);nt.source=nt.layer.source,nt.layer["source-layer"]&&(nt.sourceLayer=nt.layer["source-layer"]),nt.state=it}))};for(var yt in at)f(yt);return at}(this._layers,this._serializedLayers,this.sourceCaches,et,tt,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ct)},i.prototype.querySourceFeatures=function(et,tt){tt&&tt.filter&&this._validate(Ne.validateStyle.filter,"querySourceFeatures.filter",tt.filter,null,tt);var rt=this.sourceCaches[et];return rt?function(Ne,et){for(var tt=Ne.getRenderableIds().map((function(et){return Ne.getTileByID(et)})),rt=[],nt={},it=0;it<tt.length;it++){var ot=tt[it],at=ot.tileID.canonical.key;nt[at]||(nt[at]=!0,ot.querySourceFeatures(rt,et))}return rt}(rt,tt):[]},i.prototype.addSourceType=function(Ne,et,tt){return i.getSourceType(Ne)?tt(new Error('A source type called "'+Ne+'" already exists.')):(i.setSourceType(Ne,et),et.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:Ne,url:et.workerSourceURL},tt):tt(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(et,tt){void 0===tt&&(tt={}),this._checkLoaded();var rt=this.light.getLight(),nt=!1;for(var it in et)if(!Ne.deepEqual(et[it],rt[it])){nt=!0;break}if(nt){var ot={now:Ne.browser.now(),transition:Ne.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(et,tt),this.light.updateTransitions(ot)}},i.prototype._validate=function(et,tt,rt,nt,it){return void 0===it&&(it={}),(!it||!1!==it.validate)&&Ue(this,et.call(Ne.validateStyle,Ne.extend({key:tt,style:this.serialize(),value:rt,styleSpec:Ne.styleSpec},nt)))},i.prototype._remove=function(){for(var et in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),Ne.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[et].setEventedParent(null);for(var tt in this.sourceCaches)this.sourceCaches[tt].clearTiles(),this.sourceCaches[tt].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},i.prototype._clearSource=function(Ne){this.sourceCaches[Ne].clearTiles()},i.prototype._reloadSource=function(Ne){this.sourceCaches[Ne].resume(),this.sourceCaches[Ne].reload()},i.prototype._updateSources=function(Ne){for(var et in this.sourceCaches)this.sourceCaches[et].update(Ne)},i.prototype._generateCollisionBoxes=function(){for(var Ne in this.sourceCaches)this._reloadSource(Ne)},i.prototype._updatePlacement=function(et,tt,rt,nt,it){void 0===it&&(it=!1);for(var ot=!1,at=!1,st={},ct=0,pt=this._order;ct<pt.length;ct+=1){var ft=this._layers[pt[ct]];if("symbol"===ft.type){if(!st[ft.source]){var dt=this.sourceCaches[ft.source];st[ft.source]=dt.getRenderableIds(!0).map((function(Ne){return dt.getTileByID(Ne)})).sort((function(Ne,et){return et.tileID.overscaledZ-Ne.tileID.overscaledZ||(Ne.tileID.isLessThan(et.tileID)?-1:1)}))}var mt=this.crossTileSymbolIndex.addLayer(ft,st[ft.source],et.center.lng);ot=ot||mt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((it=it||this._layerOrderChanged||0===rt)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(Ne.browser.now(),et.zoom))&&(this.pauseablePlacement=new Ae(et,this._order,it,tt,rt,nt,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,st),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(Ne.browser.now()),at=!0),ot&&this.pauseablePlacement.placement.setStale()),at||ot)for(var yt=0,vt=this._order;yt<vt.length;yt+=1){var Rt=this._layers[vt[yt]];"symbol"===Rt.type&&this.placement.updateLayerOpacities(Rt,st[Rt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(Ne.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var Ne in this.sourceCaches)this.sourceCaches[Ne].releaseSymbolFadeTiles()},i.prototype.getImages=function(Ne,et,tt){this.imageManager.getImages(et.icons,tt),this._updateTilesForChangedImages();var rt=this.sourceCaches[et.source];rt&&rt.setDependencies(et.tileID.key,et.type,et.icons)},i.prototype.getGlyphs=function(Ne,et,tt){this.glyphManager.getGlyphs(et.stacks,tt)},i.prototype.getResource=function(et,tt,rt){return Ne.makeRequest(tt,rt)},i}(Ne.Evented);Vs.getSourceType=function(Ne){return Sr[Ne]},Vs.setSourceType=function(Ne,et){Sr[Ne]=et},Vs.registerForPluginStateChange=Ne.registerForPluginStateChange;var Us=Ne.createLayout([{name:"a_pos",type:"Int16",components:2}]),js=gi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Zs=gi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Js=gi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),tl=gi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),ol=gi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),sl=gi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),dl=gi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),gl=gi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),yl=gi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),vl=gi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),_l=gi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),bl=gi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),xl=gi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),wl=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),kl=gi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Sl=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Cl=gi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Il=gi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Al=gi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),zl=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Fl=gi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),Hl=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),du=gi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),vu=gi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),_u=gi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),wu=gi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function gi(Ne,et){var tt=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,rt=et.match(/attribute ([\w]+) ([\w]+)/g),nt=Ne.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),it=et.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ot=it?it.concat(nt):nt,at={};return{fragmentSource:Ne=Ne.replace(tt,(function(Ne,et,tt,rt,nt){return at[nt]=!0,"define"===et?"\n#ifndef HAS_UNIFORM_u_"+nt+"\nvarying "+tt+" "+rt+" "+nt+";\n#else\nuniform "+tt+" "+rt+" u_"+nt+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+nt+"\n    "+tt+" "+rt+" "+nt+" = u_"+nt+";\n#endif\n"})),vertexSource:et=et.replace(tt,(function(Ne,et,tt,rt,nt){var it="float"===rt?"vec2":"vec4",ot=nt.match(/color/)?"color":it;return at[nt]?"define"===et?"\n#ifndef HAS_UNIFORM_u_"+nt+"\nuniform lowp float u_"+nt+"_t;\nattribute "+tt+" "+it+" a_"+nt+";\nvarying "+tt+" "+rt+" "+nt+";\n#else\nuniform "+tt+" "+rt+" u_"+nt+";\n#endif\n":"vec4"===ot?"\n#ifndef HAS_UNIFORM_u_"+nt+"\n    "+nt+" = a_"+nt+";\n#else\n    "+tt+" "+rt+" "+nt+" = u_"+nt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+nt+"\n    "+nt+" = unpack_mix_"+ot+"(a_"+nt+", u_"+nt+"_t);\n#else\n    "+tt+" "+rt+" "+nt+" = u_"+nt+";\n#endif\n":"define"===et?"\n#ifndef HAS_UNIFORM_u_"+nt+"\nuniform lowp float u_"+nt+"_t;\nattribute "+tt+" "+it+" a_"+nt+";\n#else\nuniform "+tt+" "+rt+" u_"+nt+";\n#endif\n":"vec4"===ot?"\n#ifndef HAS_UNIFORM_u_"+nt+"\n    "+tt+" "+rt+" "+nt+" = a_"+nt+";\n#else\n    "+tt+" "+rt+" "+nt+" = u_"+nt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+nt+"\n    "+tt+" "+rt+" "+nt+" = unpack_mix_"+ot+"(a_"+nt+", u_"+nt+"_t);\n#else\n    "+tt+" "+rt+" "+nt+" = u_"+nt+";\n#endif\n"})),staticAttributes:rt,staticUniforms:ot}}var Tu=Object.freeze({__proto__:null,prelude:js,background:Zs,backgroundPattern:Js,circle:tl,clippingMask:ol,heatmap:sl,heatmapTexture:dl,collisionBox:gl,collisionCircle:yl,debug:vl,fill:_l,fillOutline:bl,fillOutlinePattern:xl,fillPattern:wl,fillExtrusion:kl,fillExtrusionPattern:Sl,hillshadePrepare:Cl,hillshade:Il,line:Al,lineGradient:zl,linePattern:Fl,lineSDF:Hl,raster:du,symbolIcon:vu,symbolSDF:_u,symbolTextAndIcon:wu}),yi=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xi(Ne){for(var et=[],tt=0;tt<Ne.length;tt++)if(null!==Ne[tt]){var rt=Ne[tt].split(" ");et.push(rt.pop())}return et}yi.prototype.bind=function(Ne,et,tt,rt,nt,it,ot,at){this.context=Ne;for(var st=this.boundPaintVertexBuffers.length!==rt.length,ct=0;!st&&ct<rt.length;ct++)this.boundPaintVertexBuffers[ct]!==rt[ct]&&(st=!0);Ne.extVertexArrayObject&&this.vao&&this.boundProgram===et&&this.boundLayoutVertexBuffer===tt&&!st&&this.boundIndexBuffer===nt&&this.boundVertexOffset===it&&this.boundDynamicVertexBuffer===ot&&this.boundDynamicVertexBuffer2===at?(Ne.bindVertexArrayOES.set(this.vao),ot&&ot.bind(),nt&&nt.dynamicDraw&&nt.bind(),at&&at.bind()):this.freshBind(et,tt,rt,nt,it,ot,at)},yi.prototype.freshBind=function(Ne,et,tt,rt,nt,it,ot){var at,st=Ne.numAttributes,ct=this.context,pt=ct.gl;if(ct.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ct.extVertexArrayObject.createVertexArrayOES(),ct.bindVertexArrayOES.set(this.vao),at=0,this.boundProgram=Ne,this.boundLayoutVertexBuffer=et,this.boundPaintVertexBuffers=tt,this.boundIndexBuffer=rt,this.boundVertexOffset=nt,this.boundDynamicVertexBuffer=it,this.boundDynamicVertexBuffer2=ot;else{at=ct.currentNumAttributes||0;for(var ft=st;ft<at;ft++)pt.disableVertexAttribArray(ft)}et.enableAttributes(pt,Ne);for(var dt=0,mt=tt;dt<mt.length;dt+=1)mt[dt].enableAttributes(pt,Ne);it&&it.enableAttributes(pt,Ne),ot&&ot.enableAttributes(pt,Ne),et.bind(),et.setVertexAttribPointers(pt,Ne,nt);for(var yt=0,vt=tt;yt<vt.length;yt+=1){var Rt=vt[yt];Rt.bind(),Rt.setVertexAttribPointers(pt,Ne,nt)}it&&(it.bind(),it.setVertexAttribPointers(pt,Ne,nt)),rt&&rt.bind(),ot&&(ot.bind(),ot.setVertexAttribPointers(pt,Ne,nt)),ct.currentNumAttributes=st},yi.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var bi=function(Ne,et,tt,rt,nt,it){var ot=Ne.gl;this.program=ot.createProgram();for(var at=xi(tt.staticAttributes),st=rt?rt.getBinderAttributes():[],ct=at.concat(st),pt=tt.staticUniforms?xi(tt.staticUniforms):[],ft=rt?rt.getBinderUniforms():[],dt=[],mt=0,yt=pt.concat(ft);mt<yt.length;mt+=1){var vt=yt[mt];dt.indexOf(vt)<0&&dt.push(vt)}var Rt=rt?rt.defines():[];it&&Rt.push("#define OVERDRAW_INSPECTOR;");var Dt=Rt.concat(js.fragmentSource,tt.fragmentSource).join("\n"),Ot=Rt.concat(js.vertexSource,tt.vertexSource).join("\n"),Bt=ot.createShader(ot.FRAGMENT_SHADER);if(ot.isContextLost())this.failedToCreate=!0;else{ot.shaderSource(Bt,Dt),ot.compileShader(Bt),ot.attachShader(this.program,Bt);var er=ot.createShader(ot.VERTEX_SHADER);if(ot.isContextLost())this.failedToCreate=!0;else{ot.shaderSource(er,Ot),ot.compileShader(er),ot.attachShader(this.program,er),this.attributes={};var rr={};this.numAttributes=ct.length;for(var vr=0;vr<this.numAttributes;vr++)ct[vr]&&(ot.bindAttribLocation(this.program,vr,ct[vr]),this.attributes[ct[vr]]=vr);ot.linkProgram(this.program),ot.deleteShader(er),ot.deleteShader(Bt);for(var wr=0;wr<dt.length;wr++){var Sr=dt[wr];if(Sr&&!rr[Sr]){var rn=ot.getUniformLocation(this.program,Sr);rn&&(rr[Sr]=rn)}}this.fixedUniforms=nt(Ne,rr),this.binderUniforms=rt?rt.getUniforms(Ne,rr):[]}}};function wi(Ne,et,tt){var rt=1/pe(tt,1,et.transform.tileZoom),nt=Math.pow(2,tt.tileID.overscaledZ),it=tt.tileSize*Math.pow(2,et.transform.tileZoom)/nt,ot=it*(tt.tileID.canonical.x+tt.tileID.wrap*nt),at=it*tt.tileID.canonical.y;return{u_image:0,u_texsize:tt.imageAtlasTexture.size,u_scale:[rt,Ne.fromScale,Ne.toScale],u_fade:Ne.t,u_pixel_coord_upper:[ot>>16,at>>16],u_pixel_coord_lower:[65535&ot,65535&at]}}bi.prototype.draw=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt){var Rt,Dt=Ne.gl;if(!this.failedToCreate){for(var Ot in Ne.program.set(this.program),Ne.setDepthMode(tt),Ne.setStencilMode(rt),Ne.setColorMode(nt),Ne.setCullFace(it),this.fixedUniforms)this.fixedUniforms[Ot].set(ot[Ot]);mt&&mt.setUniforms(Ne,this.binderUniforms,ft,{zoom:dt});for(var Bt=(Rt={},Rt[Dt.LINES]=2,Rt[Dt.TRIANGLES]=3,Rt[Dt.LINE_STRIP]=1,Rt)[et],er=0,rr=pt.get();er<rr.length;er+=1){var vr=rr[er],wr=vr.vaos||(vr.vaos={});(wr[at]||(wr[at]=new yi)).bind(Ne,this,st,mt?mt.getPaintVertexBuffers():[],ct,vr.vertexOffset,yt,vt),Dt.drawElements(et,vr.primitiveLength*Bt,Dt.UNSIGNED_SHORT,vr.primitiveOffset*Bt*2)}}};var Ti=function(et,tt,rt,nt){var it=tt.style.light,ot=it.properties.get("position"),at=[ot.x,ot.y,ot.z],st=Ne.create$1();"viewport"===it.properties.get("anchor")&&Ne.fromRotation(st,-tt.transform.angle),Ne.transformMat3(at,at,st);var ct=it.properties.get("color");return{u_matrix:et,u_lightpos:at,u_lightintensity:it.properties.get("intensity"),u_lightcolor:[ct.r,ct.g,ct.b],u_vertical_gradient:+rt,u_opacity:nt}},Ei=function(et,tt,rt,nt,it,ot,at){return Ne.extend(Ti(et,tt,rt,nt),wi(ot,tt,at),{u_height_factor:-Math.pow(2,it.overscaledZ)/at.tileSize/8})},Ii=function(Ne){return{u_matrix:Ne}},Pi=function(et,tt,rt,nt){return Ne.extend(Ii(et),wi(rt,tt,nt))},Si=function(Ne,et){return{u_matrix:Ne,u_world:et}},Ci=function(et,tt,rt,nt,it){return Ne.extend(Pi(et,tt,rt,nt),{u_world:it})},zi=function(et,tt,rt,nt){var it,ot,at=et.transform;if("map"===nt.paint.get("circle-pitch-alignment")){var st=pe(rt,1,at.zoom);it=!0,ot=[st,st]}else it=!1,ot=at.pixelsToGLUnits;return{u_camera_to_center_distance:at.cameraToCenterDistance,u_scale_with_map:+("map"===nt.paint.get("circle-pitch-scale")),u_matrix:et.translatePosMatrix(tt.posMatrix,rt,nt.paint.get("circle-translate"),nt.paint.get("circle-translate-anchor")),u_pitch_with_map:+it,u_device_pixel_ratio:Ne.browser.devicePixelRatio,u_extrude_scale:ot}},Di=function(Ne,et,tt){var rt=pe(tt,1,et.zoom),nt=Math.pow(2,et.zoom-tt.tileID.overscaledZ),it=tt.tileID.overscaleFactor();return{u_matrix:Ne,u_camera_to_center_distance:et.cameraToCenterDistance,u_pixels_to_tile_units:rt,u_extrude_scale:[et.pixelsToGLUnits[0]/(rt*nt),et.pixelsToGLUnits[1]/(rt*nt)],u_overscale_factor:it}},Mi=function(Ne,et,tt){return{u_matrix:Ne,u_inv_matrix:et,u_camera_to_center_distance:tt.cameraToCenterDistance,u_viewport_size:[tt.width,tt.height]}},Li=function(Ne,et,tt){return void 0===tt&&(tt=1),{u_matrix:Ne,u_color:et,u_overlay:0,u_overlay_scale:tt}},Ai=function(Ne){return{u_matrix:Ne}},Ri=function(Ne,et,tt,rt){return{u_matrix:Ne,u_extrude_scale:pe(et,1,tt),u_intensity:rt}},ki=function(et,tt,rt){var nt=et.transform;return{u_matrix:Ni(et,tt,rt),u_ratio:1/pe(tt,1,nt.zoom),u_device_pixel_ratio:Ne.browser.devicePixelRatio,u_units_to_pixels:[1/nt.pixelsToGLUnits[0],1/nt.pixelsToGLUnits[1]]}},Bi=function(et,tt,rt){return Ne.extend(ki(et,tt,rt),{u_image:0})},Oi=function(et,tt,rt,nt){var it=et.transform,ot=Ui(tt,it);return{u_matrix:Ni(et,tt,rt),u_texsize:tt.imageAtlasTexture.size,u_ratio:1/pe(tt,1,it.zoom),u_device_pixel_ratio:Ne.browser.devicePixelRatio,u_image:0,u_scale:[ot,nt.fromScale,nt.toScale],u_fade:nt.t,u_units_to_pixels:[1/it.pixelsToGLUnits[0],1/it.pixelsToGLUnits[1]]}},Fi=function(et,tt,rt,nt,it){var ot=et.lineAtlas,at=Ui(tt,et.transform),st="round"===rt.layout.get("line-cap"),ct=ot.getDash(nt.from,st),pt=ot.getDash(nt.to,st),ft=ct.width*it.fromScale,dt=pt.width*it.toScale;return Ne.extend(ki(et,tt,rt),{u_patternscale_a:[at/ft,-ct.height/2],u_patternscale_b:[at/dt,-pt.height/2],u_sdfgamma:ot.width/(256*Math.min(ft,dt)*Ne.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:ct.y,u_tex_y_b:pt.y,u_mix:it.t})};function Ui(Ne,et){return 1/pe(Ne,1,et.tileZoom)}function Ni(Ne,et,tt){return Ne.translatePosMatrix(et.tileID.posMatrix,et,tt.paint.get("line-translate"),tt.paint.get("line-translate-anchor"))}var Zi=function(Ne,et,tt,rt,nt){return{u_matrix:Ne,u_tl_parent:et,u_scale_parent:tt,u_buffer_scale:1,u_fade_t:rt.mix,u_opacity:rt.opacity*nt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:nt.paint.get("raster-brightness-min"),u_brightness_high:nt.paint.get("raster-brightness-max"),u_saturation_factor:(ot=nt.paint.get("raster-saturation"),ot>0?1-1/(1.001-ot):-ot),u_contrast_factor:(it=nt.paint.get("raster-contrast"),it>0?1/(1-it):1+it),u_spin_weights:ji(nt.paint.get("raster-hue-rotate"))};var it,ot};function ji(Ne){Ne*=Math.PI/180;var et=Math.sin(Ne),tt=Math.cos(Ne);return[(2*tt+1)/3,(-Math.sqrt(3)*et-tt+1)/3,(Math.sqrt(3)*et-tt+1)/3]}var Fu,Vi=function(Ne,et,tt,rt,nt,it,ot,at,st,ct){var pt=nt.transform;return{u_is_size_zoom_constant:+("constant"===Ne||"source"===Ne),u_is_size_feature_constant:+("constant"===Ne||"camera"===Ne),u_size_t:et?et.uSizeT:0,u_size:et?et.uSize:0,u_camera_to_center_distance:pt.cameraToCenterDistance,u_pitch:pt.pitch/360*2*Math.PI,u_rotate_symbol:+tt,u_aspect_ratio:pt.width/pt.height,u_fade_change:nt.options.fadeDuration?nt.symbolFadeChange:1,u_matrix:it,u_label_plane_matrix:ot,u_coord_matrix:at,u_is_text:+st,u_pitch_with_map:+rt,u_texsize:ct,u_texture:0}},Gi=function(et,tt,rt,nt,it,ot,at,st,ct,pt,ft){var dt=it.transform;return Ne.extend(Vi(et,tt,rt,nt,it,ot,at,st,ct,pt),{u_gamma_scale:nt?Math.cos(dt._pitch)*dt.cameraToCenterDistance:1,u_device_pixel_ratio:Ne.browser.devicePixelRatio,u_is_halo:+ft})},Wi=function(et,tt,rt,nt,it,ot,at,st,ct,pt){return Ne.extend(Gi(et,tt,rt,nt,it,ot,at,st,!0,ct,!0),{u_texsize_icon:pt,u_texture_icon:1})},Xi=function(Ne,et,tt){return{u_matrix:Ne,u_opacity:et,u_color:tt}},Hi=function(et,tt,rt,nt,it,ot){return Ne.extend(function(Ne,et,tt,rt){var nt=tt.imageManager.getPattern(Ne.from.toString()),it=tt.imageManager.getPattern(Ne.to.toString()),ot=tt.imageManager.getPixelSize(),at=ot.width,st=ot.height,ct=Math.pow(2,rt.tileID.overscaledZ),pt=rt.tileSize*Math.pow(2,tt.transform.tileZoom)/ct,ft=pt*(rt.tileID.canonical.x+rt.tileID.wrap*ct),dt=pt*rt.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:nt.tl,u_pattern_br_a:nt.br,u_pattern_tl_b:it.tl,u_pattern_br_b:it.br,u_texsize:[at,st],u_mix:et.t,u_pattern_size_a:nt.displaySize,u_pattern_size_b:it.displaySize,u_scale_a:et.fromScale,u_scale_b:et.toScale,u_tile_units_to_pixels:1/pe(rt,1,tt.transform.tileZoom),u_pixel_coord_upper:[ft>>16,dt>>16],u_pixel_coord_lower:[65535&ft,65535&dt]}}(nt,ot,rt,it),{u_matrix:et,u_opacity:tt})},ac={fillExtrusion:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_lightpos:new Ne.Uniform3f(et,tt.u_lightpos),u_lightintensity:new Ne.Uniform1f(et,tt.u_lightintensity),u_lightcolor:new Ne.Uniform3f(et,tt.u_lightcolor),u_vertical_gradient:new Ne.Uniform1f(et,tt.u_vertical_gradient),u_opacity:new Ne.Uniform1f(et,tt.u_opacity)}},fillExtrusionPattern:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_lightpos:new Ne.Uniform3f(et,tt.u_lightpos),u_lightintensity:new Ne.Uniform1f(et,tt.u_lightintensity),u_lightcolor:new Ne.Uniform3f(et,tt.u_lightcolor),u_vertical_gradient:new Ne.Uniform1f(et,tt.u_vertical_gradient),u_height_factor:new Ne.Uniform1f(et,tt.u_height_factor),u_image:new Ne.Uniform1i(et,tt.u_image),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_pixel_coord_upper:new Ne.Uniform2f(et,tt.u_pixel_coord_upper),u_pixel_coord_lower:new Ne.Uniform2f(et,tt.u_pixel_coord_lower),u_scale:new Ne.Uniform3f(et,tt.u_scale),u_fade:new Ne.Uniform1f(et,tt.u_fade),u_opacity:new Ne.Uniform1f(et,tt.u_opacity)}},fill:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix)}},fillPattern:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_image:new Ne.Uniform1i(et,tt.u_image),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_pixel_coord_upper:new Ne.Uniform2f(et,tt.u_pixel_coord_upper),u_pixel_coord_lower:new Ne.Uniform2f(et,tt.u_pixel_coord_lower),u_scale:new Ne.Uniform3f(et,tt.u_scale),u_fade:new Ne.Uniform1f(et,tt.u_fade)}},fillOutline:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_world:new Ne.Uniform2f(et,tt.u_world)}},fillOutlinePattern:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_world:new Ne.Uniform2f(et,tt.u_world),u_image:new Ne.Uniform1i(et,tt.u_image),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_pixel_coord_upper:new Ne.Uniform2f(et,tt.u_pixel_coord_upper),u_pixel_coord_lower:new Ne.Uniform2f(et,tt.u_pixel_coord_lower),u_scale:new Ne.Uniform3f(et,tt.u_scale),u_fade:new Ne.Uniform1f(et,tt.u_fade)}},circle:function(et,tt){return{u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_scale_with_map:new Ne.Uniform1i(et,tt.u_scale_with_map),u_pitch_with_map:new Ne.Uniform1i(et,tt.u_pitch_with_map),u_extrude_scale:new Ne.Uniform2f(et,tt.u_extrude_scale),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix)}},collisionBox:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_pixels_to_tile_units:new Ne.Uniform1f(et,tt.u_pixels_to_tile_units),u_extrude_scale:new Ne.Uniform2f(et,tt.u_extrude_scale),u_overscale_factor:new Ne.Uniform1f(et,tt.u_overscale_factor)}},collisionCircle:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_inv_matrix:new Ne.UniformMatrix4f(et,tt.u_inv_matrix),u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_viewport_size:new Ne.Uniform2f(et,tt.u_viewport_size)}},debug:function(et,tt){return{u_color:new Ne.UniformColor(et,tt.u_color),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_overlay:new Ne.Uniform1i(et,tt.u_overlay),u_overlay_scale:new Ne.Uniform1f(et,tt.u_overlay_scale)}},clippingMask:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix)}},heatmap:function(et,tt){return{u_extrude_scale:new Ne.Uniform1f(et,tt.u_extrude_scale),u_intensity:new Ne.Uniform1f(et,tt.u_intensity),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix)}},heatmapTexture:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_world:new Ne.Uniform2f(et,tt.u_world),u_image:new Ne.Uniform1i(et,tt.u_image),u_color_ramp:new Ne.Uniform1i(et,tt.u_color_ramp),u_opacity:new Ne.Uniform1f(et,tt.u_opacity)}},hillshade:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_image:new Ne.Uniform1i(et,tt.u_image),u_latrange:new Ne.Uniform2f(et,tt.u_latrange),u_light:new Ne.Uniform2f(et,tt.u_light),u_shadow:new Ne.UniformColor(et,tt.u_shadow),u_highlight:new Ne.UniformColor(et,tt.u_highlight),u_accent:new Ne.UniformColor(et,tt.u_accent)}},hillshadePrepare:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_image:new Ne.Uniform1i(et,tt.u_image),u_dimension:new Ne.Uniform2f(et,tt.u_dimension),u_zoom:new Ne.Uniform1f(et,tt.u_zoom),u_maxzoom:new Ne.Uniform1f(et,tt.u_maxzoom),u_unpack:new Ne.Uniform4f(et,tt.u_unpack)}},line:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_ratio:new Ne.Uniform1f(et,tt.u_ratio),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_units_to_pixels:new Ne.Uniform2f(et,tt.u_units_to_pixels)}},lineGradient:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_ratio:new Ne.Uniform1f(et,tt.u_ratio),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_units_to_pixels:new Ne.Uniform2f(et,tt.u_units_to_pixels),u_image:new Ne.Uniform1i(et,tt.u_image)}},linePattern:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_ratio:new Ne.Uniform1f(et,tt.u_ratio),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_image:new Ne.Uniform1i(et,tt.u_image),u_units_to_pixels:new Ne.Uniform2f(et,tt.u_units_to_pixels),u_scale:new Ne.Uniform3f(et,tt.u_scale),u_fade:new Ne.Uniform1f(et,tt.u_fade)}},lineSDF:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_ratio:new Ne.Uniform1f(et,tt.u_ratio),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_units_to_pixels:new Ne.Uniform2f(et,tt.u_units_to_pixels),u_patternscale_a:new Ne.Uniform2f(et,tt.u_patternscale_a),u_patternscale_b:new Ne.Uniform2f(et,tt.u_patternscale_b),u_sdfgamma:new Ne.Uniform1f(et,tt.u_sdfgamma),u_image:new Ne.Uniform1i(et,tt.u_image),u_tex_y_a:new Ne.Uniform1f(et,tt.u_tex_y_a),u_tex_y_b:new Ne.Uniform1f(et,tt.u_tex_y_b),u_mix:new Ne.Uniform1f(et,tt.u_mix)}},raster:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_tl_parent:new Ne.Uniform2f(et,tt.u_tl_parent),u_scale_parent:new Ne.Uniform1f(et,tt.u_scale_parent),u_buffer_scale:new Ne.Uniform1f(et,tt.u_buffer_scale),u_fade_t:new Ne.Uniform1f(et,tt.u_fade_t),u_opacity:new Ne.Uniform1f(et,tt.u_opacity),u_image0:new Ne.Uniform1i(et,tt.u_image0),u_image1:new Ne.Uniform1i(et,tt.u_image1),u_brightness_low:new Ne.Uniform1f(et,tt.u_brightness_low),u_brightness_high:new Ne.Uniform1f(et,tt.u_brightness_high),u_saturation_factor:new Ne.Uniform1f(et,tt.u_saturation_factor),u_contrast_factor:new Ne.Uniform1f(et,tt.u_contrast_factor),u_spin_weights:new Ne.Uniform3f(et,tt.u_spin_weights)}},symbolIcon:function(et,tt){return{u_is_size_zoom_constant:new Ne.Uniform1i(et,tt.u_is_size_zoom_constant),u_is_size_feature_constant:new Ne.Uniform1i(et,tt.u_is_size_feature_constant),u_size_t:new Ne.Uniform1f(et,tt.u_size_t),u_size:new Ne.Uniform1f(et,tt.u_size),u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_pitch:new Ne.Uniform1f(et,tt.u_pitch),u_rotate_symbol:new Ne.Uniform1i(et,tt.u_rotate_symbol),u_aspect_ratio:new Ne.Uniform1f(et,tt.u_aspect_ratio),u_fade_change:new Ne.Uniform1f(et,tt.u_fade_change),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_label_plane_matrix:new Ne.UniformMatrix4f(et,tt.u_label_plane_matrix),u_coord_matrix:new Ne.UniformMatrix4f(et,tt.u_coord_matrix),u_is_text:new Ne.Uniform1i(et,tt.u_is_text),u_pitch_with_map:new Ne.Uniform1i(et,tt.u_pitch_with_map),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_texture:new Ne.Uniform1i(et,tt.u_texture)}},symbolSDF:function(et,tt){return{u_is_size_zoom_constant:new Ne.Uniform1i(et,tt.u_is_size_zoom_constant),u_is_size_feature_constant:new Ne.Uniform1i(et,tt.u_is_size_feature_constant),u_size_t:new Ne.Uniform1f(et,tt.u_size_t),u_size:new Ne.Uniform1f(et,tt.u_size),u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_pitch:new Ne.Uniform1f(et,tt.u_pitch),u_rotate_symbol:new Ne.Uniform1i(et,tt.u_rotate_symbol),u_aspect_ratio:new Ne.Uniform1f(et,tt.u_aspect_ratio),u_fade_change:new Ne.Uniform1f(et,tt.u_fade_change),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_label_plane_matrix:new Ne.UniformMatrix4f(et,tt.u_label_plane_matrix),u_coord_matrix:new Ne.UniformMatrix4f(et,tt.u_coord_matrix),u_is_text:new Ne.Uniform1i(et,tt.u_is_text),u_pitch_with_map:new Ne.Uniform1i(et,tt.u_pitch_with_map),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_texture:new Ne.Uniform1i(et,tt.u_texture),u_gamma_scale:new Ne.Uniform1f(et,tt.u_gamma_scale),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_is_halo:new Ne.Uniform1i(et,tt.u_is_halo)}},symbolTextAndIcon:function(et,tt){return{u_is_size_zoom_constant:new Ne.Uniform1i(et,tt.u_is_size_zoom_constant),u_is_size_feature_constant:new Ne.Uniform1i(et,tt.u_is_size_feature_constant),u_size_t:new Ne.Uniform1f(et,tt.u_size_t),u_size:new Ne.Uniform1f(et,tt.u_size),u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_pitch:new Ne.Uniform1f(et,tt.u_pitch),u_rotate_symbol:new Ne.Uniform1i(et,tt.u_rotate_symbol),u_aspect_ratio:new Ne.Uniform1f(et,tt.u_aspect_ratio),u_fade_change:new Ne.Uniform1f(et,tt.u_fade_change),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_label_plane_matrix:new Ne.UniformMatrix4f(et,tt.u_label_plane_matrix),u_coord_matrix:new Ne.UniformMatrix4f(et,tt.u_coord_matrix),u_is_text:new Ne.Uniform1i(et,tt.u_is_text),u_pitch_with_map:new Ne.Uniform1i(et,tt.u_pitch_with_map),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_texsize_icon:new Ne.Uniform2f(et,tt.u_texsize_icon),u_texture:new Ne.Uniform1i(et,tt.u_texture),u_texture_icon:new Ne.Uniform1i(et,tt.u_texture_icon),u_gamma_scale:new Ne.Uniform1f(et,tt.u_gamma_scale),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_is_halo:new Ne.Uniform1i(et,tt.u_is_halo)}},background:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_opacity:new Ne.Uniform1f(et,tt.u_opacity),u_color:new Ne.UniformColor(et,tt.u_color)}},backgroundPattern:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_opacity:new Ne.Uniform1f(et,tt.u_opacity),u_image:new Ne.Uniform1i(et,tt.u_image),u_pattern_tl_a:new Ne.Uniform2f(et,tt.u_pattern_tl_a),u_pattern_br_a:new Ne.Uniform2f(et,tt.u_pattern_br_a),u_pattern_tl_b:new Ne.Uniform2f(et,tt.u_pattern_tl_b),u_pattern_br_b:new Ne.Uniform2f(et,tt.u_pattern_br_b),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_mix:new Ne.Uniform1f(et,tt.u_mix),u_pattern_size_a:new Ne.Uniform2f(et,tt.u_pattern_size_a),u_pattern_size_b:new Ne.Uniform2f(et,tt.u_pattern_size_b),u_scale_a:new Ne.Uniform1f(et,tt.u_scale_a),u_scale_b:new Ne.Uniform1f(et,tt.u_scale_b),u_pixel_coord_upper:new Ne.Uniform2f(et,tt.u_pixel_coord_upper),u_pixel_coord_lower:new Ne.Uniform2f(et,tt.u_pixel_coord_lower),u_tile_units_to_pixels:new Ne.Uniform1f(et,tt.u_tile_units_to_pixels)}}};function Yi(et,tt,rt,nt,it,ot,at){for(var st=et.context,ct=st.gl,pt=et.useProgram("collisionBox"),ft=[],dt=0,mt=0,yt=0;yt<nt.length;yt++){var vt=nt[yt],Rt=tt.getTile(vt),Dt=Rt.getBucket(rt);if(Dt){var Ot=vt.posMatrix;0===it[0]&&0===it[1]||(Ot=et.translatePosMatrix(vt.posMatrix,Rt,it,ot));var Bt=at?Dt.textCollisionBox:Dt.iconCollisionBox,er=Dt.collisionCircleArray;if(er.length>0){var rr=Ne.create(),vr=Ot;Ne.mul(rr,Dt.placementInvProjMatrix,et.transform.glCoordMatrix),Ne.mul(rr,rr,Dt.placementViewportMatrix),ft.push({circleArray:er,circleOffset:mt,transform:vr,invTransform:rr}),mt=dt+=er.length/4}Bt&&pt.draw(st,ct.LINES,It.disabled,Pt.disabled,et.colorModeForRenderPass(),Ct.disabled,Di(Ot,et.transform,Rt),rt.id,Bt.layoutVertexBuffer,Bt.indexBuffer,Bt.segments,null,et.transform.zoom,null,null,Bt.collisionVertexBuffer)}}if(at&&ft.length){var wr=et.useProgram("collisionCircle"),Sr=new Ne.StructArrayLayout2f1f2i16;Sr.resize(4*dt),Sr._trim();for(var rn=0,vn=0,bn=ft;vn<bn.length;vn+=1)for(var Tn=bn[vn],Cn=0;Cn<Tn.circleArray.length/4;Cn++){var In=4*Cn,Mn=Tn.circleArray[In+0],zn=Tn.circleArray[In+1],Ln=Tn.circleArray[In+2],Fn=Tn.circleArray[In+3];Sr.emplace(rn++,Mn,zn,Ln,Fn,0),Sr.emplace(rn++,Mn,zn,Ln,Fn,1),Sr.emplace(rn++,Mn,zn,Ln,Fn,2),Sr.emplace(rn++,Mn,zn,Ln,Fn,3)}(!Fu||Fu.length<2*dt)&&(Fu=function(et){var tt=2*et,rt=new Ne.StructArrayLayout3ui6;rt.resize(tt),rt._trim();for(var nt=0;nt<tt;nt++){var it=6*nt;rt.uint16[it+0]=4*nt+0,rt.uint16[it+1]=4*nt+1,rt.uint16[it+2]=4*nt+2,rt.uint16[it+3]=4*nt+2,rt.uint16[it+4]=4*nt+3,rt.uint16[it+5]=4*nt+0}return rt}(dt));for(var Bn=st.createIndexBuffer(Fu,!0),Nn=st.createVertexBuffer(Sr,Ne.collisionCircleLayout.members,!0),Vn=0,Wn=ft;Vn<Wn.length;Vn+=1){var $n=Wn[Vn],Yn=Mi($n.transform,$n.invTransform,et.transform);wr.draw(st,ct.TRIANGLES,It.disabled,Pt.disabled,et.colorModeForRenderPass(),Ct.disabled,Yn,rt.id,Nn,Bn,Ne.SegmentVector.simpleSegment(0,2*$n.circleOffset,$n.circleArray.length,$n.circleArray.length/2),null,et.transform.zoom,null,null,null)}Nn.destroy(),Bn.destroy()}}var pc=Ne.identity(new Float32Array(16));function Qi(et,tt,rt,nt,it,ot){var at=Ne.getAnchorAlignment(et),st=-(at.horizontalAlign-.5)*tt,ct=-(at.verticalAlign-.5)*rt,pt=Ne.evaluateVariableOffset(et,nt);return new Ne.Point((st/it+pt[0])*ot,(ct/it+pt[1])*ot)}function $i(et,tt,rt,nt,it,ot,at,st,ct,pt,ft){var dt=et.text.placedSymbolArray,mt=et.text.dynamicLayoutVertexArray,yt=et.icon.dynamicLayoutVertexArray,vt={};mt.clear();for(var Rt=0;Rt<dt.length;Rt++){var Dt=dt.get(Rt),Ot=Dt.hidden||!Dt.crossTileID||et.allowVerticalPlacement&&!Dt.placedOrientation?null:nt[Dt.crossTileID];if(Ot){var Bt=new Ne.Point(Dt.anchorX,Dt.anchorY),er=$t(Bt,rt?st:at),rr=te(ot.cameraToCenterDistance,er.signedDistanceFromCamera),vr=it.evaluateSizeForFeature(et.textSizeData,pt,Dt)*rr/Ne.ONE_EM;rt&&(vr*=et.tilePixelRatio/ct);for(var wr=Qi(Ot.anchor,Ot.width,Ot.height,Ot.textOffset,Ot.textBoxScale,vr),Sr=rt?$t(Bt.add(wr),at).point:er.point.add(tt?wr.rotate(-ot.angle):wr),rn=et.allowVerticalPlacement&&Dt.placedOrientation===Ne.WritingMode.vertical?Math.PI/2:0,vn=0;vn<Dt.numGlyphs;vn++)Ne.addDynamicAttributes(mt,Sr,rn);ft&&Dt.associatedIconIndex>=0&&(vt[Dt.associatedIconIndex]={shiftedAnchor:Sr,angle:rn})}else ce(Dt.numGlyphs,mt)}if(ft){yt.clear();for(var bn=et.icon.placedSymbolArray,Tn=0;Tn<bn.length;Tn++){var Cn=bn.get(Tn);if(Cn.hidden)ce(Cn.numGlyphs,yt);else{var In=vt[Tn];if(In)for(var Mn=0;Mn<Cn.numGlyphs;Mn++)Ne.addDynamicAttributes(yt,In.shiftedAnchor,In.angle);else ce(Cn.numGlyphs,yt)}}et.icon.dynamicLayoutVertexBuffer.updateData(yt)}et.text.dynamicLayoutVertexBuffer.updateData(mt)}function to(Ne,et,tt){return tt.iconsInText&&et?"symbolTextAndIcon":Ne?"symbolSDF":"symbolIcon"}function eo(et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt){for(var mt=et.context,yt=mt.gl,vt=et.transform,Rt="map"===st,Dt="map"===ct,Ot=Rt&&"point"!==rt.layout.get("symbol-placement"),Bt=Rt&&!Dt&&!Ot,er=void 0!==rt.layout.get("symbol-sort-key").constantOr(1),rr=et.depthModeForSublayer(0,It.ReadOnly),vr=rt.layout.get("text-variable-anchor"),wr=[],Sr=0,rn=nt;Sr<rn.length;Sr+=1){var vn=rn[Sr],bn=tt.getTile(vn),Tn=bn.getBucket(rt);if(Tn){var Cn=it?Tn.text:Tn.icon;if(Cn&&Cn.segments.get().length){var In=Cn.programConfigurations.get(rt.id),Mn=it||Tn.sdfIcons,zn=it?Tn.textSizeData:Tn.iconSizeData,Ln=Dt||0!==vt.pitch,Fn=et.useProgram(to(Mn,it,Tn),In),Bn=Ne.evaluateSizeForZoom(zn,vt.zoom),Nn=void 0,Vn=[0,0],Wn=void 0,$n=void 0,Yn=null,ii=void 0;if(it)Wn=bn.glyphAtlasTexture,$n=yt.LINEAR,Nn=bn.glyphAtlasTexture.size,Tn.iconsInText&&(Vn=bn.imageAtlasTexture.size,Yn=bn.imageAtlasTexture,ii=Ln||et.options.rotating||et.options.zooming||"composite"===zn.kind||"camera"===zn.kind?yt.LINEAR:yt.NEAREST);else{var qi=1!==rt.layout.get("icon-size").constantOr(0)||Tn.iconsNeedLinear;Wn=bn.imageAtlasTexture,$n=Mn||et.options.rotating||et.options.zooming||qi||Ln?yt.LINEAR:yt.NEAREST,Nn=bn.imageAtlasTexture.size}var uo=pe(bn,1,et.transform.zoom),po=Jt(vn.posMatrix,Dt,Rt,et.transform,uo),vo=Qt(vn.posMatrix,Dt,Rt,et.transform,uo),So=vr&&Tn.hasTextData(),ea="none"!==rt.layout.get("icon-text-fit")&&So&&Tn.hasIconData();Ot&&ie(Tn,vn.posMatrix,et,it,po,vo,Dt,pt);var ta=et.translatePosMatrix(vn.posMatrix,bn,ot,at),ia=Ot||it&&vr||ea?pc:po,sa=et.translatePosMatrix(vo,bn,ot,at,!0),la=Mn&&0!==rt.paint.get(it?"text-halo-width":"icon-halo-width").constantOr(1),fa={program:Fn,buffers:Cn,uniformValues:Mn?Tn.iconsInText?Wi(zn.kind,Bn,Bt,Dt,et,ta,ia,sa,Nn,Vn):Gi(zn.kind,Bn,Bt,Dt,et,ta,ia,sa,it,Nn,!0):Vi(zn.kind,Bn,Bt,Dt,et,ta,ia,sa,it,Nn),atlasTexture:Wn,atlasTextureIcon:Yn,atlasInterpolation:$n,atlasInterpolationIcon:ii,isSDF:Mn,hasHalo:la};if(er)for(var ga=0,_a=Cn.segments.get();ga<_a.length;ga+=1){var Aa=_a[ga];wr.push({segments:new Ne.SegmentVector([Aa]),sortKey:Aa.sortKey,state:fa})}else wr.push({segments:Cn.segments,sortKey:0,state:fa})}}}er&&wr.sort((function(Ne,et){return Ne.sortKey-et.sortKey}));for(var os=0,as=wr;os<as.length;os+=1){var ss=as[os],ls=ss.state;if(mt.activeTexture.set(yt.TEXTURE0),ls.atlasTexture.bind(ls.atlasInterpolation,yt.CLAMP_TO_EDGE),ls.atlasTextureIcon&&(mt.activeTexture.set(yt.TEXTURE1),ls.atlasTextureIcon&&ls.atlasTextureIcon.bind(ls.atlasInterpolationIcon,yt.CLAMP_TO_EDGE)),ls.isSDF){var us=ls.uniformValues;ls.hasHalo&&(us.u_is_halo=1,io(ls.buffers,ss.segments,rt,et,ls.program,rr,ft,dt,us)),us.u_is_halo=0}io(ls.buffers,ss.segments,rt,et,ls.program,rr,ft,dt,ls.uniformValues)}}function io(Ne,et,tt,rt,nt,it,ot,at,st){var ct=rt.context;nt.draw(ct,ct.gl.TRIANGLES,it,ot,at,Ct.disabled,st,tt.id,Ne.layoutVertexBuffer,Ne.indexBuffer,et,tt.paint,rt.transform.zoom,Ne.programConfigurations.get(tt.id),Ne.dynamicLayoutVertexBuffer,Ne.opacityVertexBuffer)}function oo(Ne,et,tt,rt,nt,it,ot){var at,st,ct,pt,ft,dt=Ne.context.gl,mt=tt.paint.get("fill-pattern"),yt=mt&&mt.constantOr(1),vt=tt.getCrossfadeParameters();ot?(st=yt&&!tt.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",at=dt.LINES):(st=yt?"fillPattern":"fill",at=dt.TRIANGLES);for(var Rt=0,Dt=rt;Rt<Dt.length;Rt+=1){var Ot=Dt[Rt],Bt=et.getTile(Ot);if(!yt||Bt.patternsLoaded()){var er=Bt.getBucket(tt);if(er){var rr=er.programConfigurations.get(tt.id),vr=Ne.useProgram(st,rr);yt&&(Ne.context.activeTexture.set(dt.TEXTURE0),Bt.imageAtlasTexture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE),rr.updatePaintBuffers(vt));var wr=mt.constantOr(null);if(wr&&Bt.imageAtlas){var Sr=Bt.imageAtlas,rn=Sr.patternPositions[wr.to.toString()],vn=Sr.patternPositions[wr.from.toString()];rn&&vn&&rr.setConstantPatternPositions(rn,vn)}var bn=Ne.translatePosMatrix(Ot.posMatrix,Bt,tt.paint.get("fill-translate"),tt.paint.get("fill-translate-anchor"));if(ot){pt=er.indexBuffer2,ft=er.segments2;var Tn=[dt.drawingBufferWidth,dt.drawingBufferHeight];ct="fillOutlinePattern"===st&&yt?Ci(bn,Ne,vt,Bt,Tn):Si(bn,Tn)}else pt=er.indexBuffer,ft=er.segments,ct=yt?Pi(bn,Ne,vt,Bt):Ii(bn);vr.draw(Ne.context,at,nt,Ne.stencilModeForClipping(Ot),it,Ct.disabled,ct,tt.id,er.layoutVertexBuffer,pt,ft,tt.paint,Ne.transform.zoom,rr)}}}}function ro(Ne,et,tt,rt,nt,it,ot){for(var at=Ne.context,st=at.gl,ct=tt.paint.get("fill-extrusion-pattern"),pt=ct.constantOr(1),ft=tt.getCrossfadeParameters(),dt=tt.paint.get("fill-extrusion-opacity"),mt=0,yt=rt;mt<yt.length;mt+=1){var vt=yt[mt],Rt=et.getTile(vt),Dt=Rt.getBucket(tt);if(Dt){var Ot=Dt.programConfigurations.get(tt.id),Bt=Ne.useProgram(pt?"fillExtrusionPattern":"fillExtrusion",Ot);pt&&(Ne.context.activeTexture.set(st.TEXTURE0),Rt.imageAtlasTexture.bind(st.LINEAR,st.CLAMP_TO_EDGE),Ot.updatePaintBuffers(ft));var er=ct.constantOr(null);if(er&&Rt.imageAtlas){var rr=Rt.imageAtlas,vr=rr.patternPositions[er.to.toString()],wr=rr.patternPositions[er.from.toString()];vr&&wr&&Ot.setConstantPatternPositions(vr,wr)}var Sr=Ne.translatePosMatrix(vt.posMatrix,Rt,tt.paint.get("fill-extrusion-translate"),tt.paint.get("fill-extrusion-translate-anchor")),rn=tt.paint.get("fill-extrusion-vertical-gradient"),vn=pt?Ei(Sr,Ne,rn,dt,vt,ft,Rt):Ti(Sr,Ne,rn,dt);Bt.draw(at,at.gl.TRIANGLES,nt,it,ot,Ct.backCCW,vn,tt.id,Dt.layoutVertexBuffer,Dt.indexBuffer,Dt.segments,tt.paint,Ne.transform.zoom,Ot)}}}function ao(et,tt,rt,nt,it,ot){var at=et.context,st=at.gl,ct=tt.fbo;if(ct){var pt=et.useProgram("hillshade");at.activeTexture.set(st.TEXTURE0),st.bindTexture(st.TEXTURE_2D,ct.colorAttachment.get());var ft=function(et,tt,rt){var nt=rt.paint.get("hillshade-shadow-color"),it=rt.paint.get("hillshade-highlight-color"),ot=rt.paint.get("hillshade-accent-color"),at=rt.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===rt.paint.get("hillshade-illumination-anchor")&&(at-=et.transform.angle);var st,ct,pt,ft=!et.options.moving;return{u_matrix:et.transform.calculatePosMatrix(tt.tileID.toUnwrapped(),ft),u_image:0,u_latrange:(st=tt.tileID,ct=Math.pow(2,st.canonical.z),pt=st.canonical.y,[new Ne.MercatorCoordinate(0,pt/ct).toLngLat().lat,new Ne.MercatorCoordinate(0,(pt+1)/ct).toLngLat().lat]),u_light:[rt.paint.get("hillshade-exaggeration"),at],u_shadow:nt,u_highlight:it,u_accent:ot}}(et,tt,rt);pt.draw(at,st.TRIANGLES,nt,it,ot,Ct.disabled,ft,rt.id,et.rasterBoundsBuffer,et.quadTriangleIndexBuffer,et.rasterBoundsSegments)}}function no(et,tt,rt,nt,it,ot,at){var st=et.context,ct=st.gl,pt=tt.dem;if(pt&&pt.data){var ft=pt.dim,dt=pt.stride,mt=pt.getPixels();if(st.activeTexture.set(ct.TEXTURE1),st.pixelStoreUnpackPremultiplyAlpha.set(!1),tt.demTexture=tt.demTexture||et.getTileTexture(dt),tt.demTexture){var yt=tt.demTexture;yt.update(mt,{premultiply:!1}),yt.bind(ct.NEAREST,ct.CLAMP_TO_EDGE)}else tt.demTexture=new Ne.Texture(st,mt,ct.RGBA,{premultiply:!1}),tt.demTexture.bind(ct.NEAREST,ct.CLAMP_TO_EDGE);st.activeTexture.set(ct.TEXTURE0);var vt=tt.fbo;if(!vt){var Rt=new Ne.Texture(st,{width:ft,height:ft,data:null},ct.RGBA);Rt.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),(vt=tt.fbo=st.createFramebuffer(ft,ft,!0)).colorAttachment.set(Rt.texture)}st.bindFramebuffer.set(vt.framebuffer),st.viewport.set([0,0,ft,ft]),et.useProgram("hillshadePrepare").draw(st,ct.TRIANGLES,it,ot,at,Ct.disabled,function(et,tt,rt){var nt=tt.stride,it=Ne.create();return Ne.ortho(it,0,Ne.EXTENT,-Ne.EXTENT,0,0,1),Ne.translate(it,it,[0,-Ne.EXTENT,0]),{u_matrix:it,u_image:1,u_dimension:[nt,nt],u_zoom:et.overscaledZ,u_maxzoom:rt,u_unpack:tt.getUnpackVector()}}(tt.tileID,pt,nt),rt.id,et.rasterBoundsBuffer,et.quadTriangleIndexBuffer,et.rasterBoundsSegments),tt.needsHillshadePrepare=!1}}function so(et,tt,rt,nt,it){var ot=nt.paint.get("raster-fade-duration");if(ot>0){var at=Ne.browser.now(),st=(at-et.timeAdded)/ot,ct=tt?(at-tt.timeAdded)/ot:-1,pt=rt.getSource(),ft=it.coveringZoomLevel({tileSize:pt.tileSize,roundZoom:pt.roundZoom}),dt=!tt||Math.abs(tt.tileID.overscaledZ-ft)>Math.abs(et.tileID.overscaledZ-ft),mt=dt&&et.refreshedUponExpiration?1:Ne.clamp(dt?st:1-ct,0,1);return et.refreshedUponExpiration&&st>=1&&(et.refreshedUponExpiration=!1),tt?{opacity:1,mix:1-mt}:{opacity:mt,mix:0}}return{opacity:1,mix:0}}var yc=new Ne.Color(1,0,0,1),_c=new Ne.Color(0,1,0,1),bc=new Ne.Color(0,0,1,1),xc=new Ne.Color(1,0,1,1),wc=new Ne.Color(0,1,1,1);function _o(Ne,et,tt,rt){mo(Ne,0,et+tt/2,Ne.transform.width,tt,rt)}function fo(Ne,et,tt,rt){mo(Ne,et-tt/2,0,tt,Ne.transform.height,rt)}function mo(et,tt,rt,nt,it,ot){var at=et.context,st=at.gl;st.enable(st.SCISSOR_TEST),st.scissor(tt*Ne.browser.devicePixelRatio,rt*Ne.browser.devicePixelRatio,nt*Ne.browser.devicePixelRatio,it*Ne.browser.devicePixelRatio),at.clear({color:ot}),st.disable(st.SCISSOR_TEST)}function go(et,tt,rt){var nt=et.context,it=nt.gl,ot=rt.posMatrix,at=et.useProgram("debug"),st=It.disabled,ct=Pt.disabled,pt=et.colorModeForRenderPass();nt.activeTexture.set(it.TEXTURE0),et.emptyTexture.bind(it.LINEAR,it.CLAMP_TO_EDGE),at.draw(nt,it.LINE_STRIP,st,ct,pt,Ct.disabled,Li(ot,Ne.Color.red),"$debug",et.debugBuffer,et.tileBorderIndexBuffer,et.debugSegments);var ft=tt.getTileByID(rt.key).latestRawTileData,dt=Math.floor((ft&&ft.byteLength||0)/1024),mt=tt.getTile(rt).tileSize,yt=512/Math.min(mt,512)*(rt.overscaledZ/et.transform.zoom)*.5,vt=rt.canonical.toString();rt.overscaledZ!==rt.canonical.z&&(vt+=" => "+rt.overscaledZ),function(Ne,et){Ne.initDebugOverlayCanvas();var tt=Ne.debugOverlayCanvas,rt=Ne.context.gl,nt=Ne.debugOverlayCanvas.getContext("2d");nt.clearRect(0,0,tt.width,tt.height),nt.shadowColor="white",nt.shadowBlur=2,nt.lineWidth=1.5,nt.strokeStyle="white",nt.textBaseline="top",nt.font="bold 36px Open Sans, sans-serif",nt.fillText(et,5,5),nt.strokeText(et,5,5),Ne.debugOverlayTexture.update(tt),Ne.debugOverlayTexture.bind(rt.LINEAR,rt.CLAMP_TO_EDGE)}(et,vt+" "+dt+"kb"),at.draw(nt,it.TRIANGLES,st,ct,St.alphaBlended,Ct.disabled,Li(ot,Ne.Color.transparent,yt),"$debug",et.debugBuffer,et.quadTriangleIndexBuffer,et.debugSegments)}var kc={symbol:function(et,tt,rt,nt,it){if("translucent"===et.renderPass){var ot=Pt.disabled,at=et.colorModeForRenderPass();rt.layout.get("text-variable-anchor")&&function(et,tt,rt,nt,it,ot,at){for(var st=tt.transform,ct="map"===it,pt="map"===ot,ft=0,dt=et;ft<dt.length;ft+=1){var mt=dt[ft],yt=nt.getTile(mt),vt=yt.getBucket(rt);if(vt&&vt.text&&vt.text.segments.get().length){var Rt=Ne.evaluateSizeForZoom(vt.textSizeData,st.zoom),Dt=pe(yt,1,tt.transform.zoom),Ot=Jt(mt.posMatrix,pt,ct,tt.transform,Dt),Bt="none"!==rt.layout.get("icon-text-fit")&&vt.hasIconData();if(Rt){var er=Math.pow(2,st.zoom-yt.tileID.overscaledZ);$i(vt,ct,pt,at,Ne.symbolSize,st,Ot,mt.posMatrix,er,Rt,Bt)}}}}(nt,et,rt,tt,rt.layout.get("text-rotation-alignment"),rt.layout.get("text-pitch-alignment"),it),0!==rt.paint.get("icon-opacity").constantOr(1)&&eo(et,tt,rt,nt,!1,rt.paint.get("icon-translate"),rt.paint.get("icon-translate-anchor"),rt.layout.get("icon-rotation-alignment"),rt.layout.get("icon-pitch-alignment"),rt.layout.get("icon-keep-upright"),ot,at),0!==rt.paint.get("text-opacity").constantOr(1)&&eo(et,tt,rt,nt,!0,rt.paint.get("text-translate"),rt.paint.get("text-translate-anchor"),rt.layout.get("text-rotation-alignment"),rt.layout.get("text-pitch-alignment"),rt.layout.get("text-keep-upright"),ot,at),tt.map.showCollisionBoxes&&(Yi(et,tt,rt,nt,rt.paint.get("text-translate"),rt.paint.get("text-translate-anchor"),!0),Yi(et,tt,rt,nt,rt.paint.get("icon-translate"),rt.paint.get("icon-translate-anchor"),!1))}},circle:function(et,tt,rt,nt){if("translucent"===et.renderPass){var it=rt.paint.get("circle-opacity"),ot=rt.paint.get("circle-stroke-width"),at=rt.paint.get("circle-stroke-opacity"),st=void 0!==rt.layout.get("circle-sort-key").constantOr(1);if(0!==it.constantOr(1)||0!==ot.constantOr(1)&&0!==at.constantOr(1)){for(var ct=et.context,pt=ct.gl,ft=et.depthModeForSublayer(0,It.ReadOnly),dt=Pt.disabled,mt=et.colorModeForRenderPass(),yt=[],vt=0;vt<nt.length;vt++){var Rt=nt[vt],Dt=tt.getTile(Rt),Ot=Dt.getBucket(rt);if(Ot){var Bt=Ot.programConfigurations.get(rt.id),er={programConfiguration:Bt,program:et.useProgram("circle",Bt),layoutVertexBuffer:Ot.layoutVertexBuffer,indexBuffer:Ot.indexBuffer,uniformValues:zi(et,Rt,Dt,rt)};if(st)for(var rr=0,vr=Ot.segments.get();rr<vr.length;rr+=1){var wr=vr[rr];yt.push({segments:new Ne.SegmentVector([wr]),sortKey:wr.sortKey,state:er})}else yt.push({segments:Ot.segments,sortKey:0,state:er})}}st&&yt.sort((function(Ne,et){return Ne.sortKey-et.sortKey}));for(var Sr=0,rn=yt;Sr<rn.length;Sr+=1){var vn=rn[Sr],bn=vn.state;bn.program.draw(ct,pt.TRIANGLES,ft,dt,mt,Ct.disabled,bn.uniformValues,rt.id,bn.layoutVertexBuffer,bn.indexBuffer,vn.segments,rt.paint,et.transform.zoom,bn.programConfiguration)}}}},heatmap:function(et,tt,rt,nt){if(0!==rt.paint.get("heatmap-opacity"))if("offscreen"===et.renderPass){var it=et.context,ot=it.gl,at=Pt.disabled,st=new St([ot.ONE,ot.ONE],Ne.Color.transparent,[!0,!0,!0,!0]);!function(Ne,et,tt){var rt=Ne.gl;Ne.activeTexture.set(rt.TEXTURE1),Ne.viewport.set([0,0,et.width/4,et.height/4]);var nt=tt.heatmapFbo;if(nt)rt.bindTexture(rt.TEXTURE_2D,nt.colorAttachment.get()),Ne.bindFramebuffer.set(nt.framebuffer);else{var it=rt.createTexture();rt.bindTexture(rt.TEXTURE_2D,it),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_S,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_T,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MIN_FILTER,rt.LINEAR),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MAG_FILTER,rt.LINEAR),nt=tt.heatmapFbo=Ne.createFramebuffer(et.width/4,et.height/4,!1),function(Ne,et,tt,rt){var nt=Ne.gl;nt.texImage2D(nt.TEXTURE_2D,0,nt.RGBA,et.width/4,et.height/4,0,nt.RGBA,Ne.extRenderToTextureHalfFloat?Ne.extTextureHalfFloat.HALF_FLOAT_OES:nt.UNSIGNED_BYTE,null),rt.colorAttachment.set(tt)}(Ne,et,it,nt)}}(it,et,rt),it.clear({color:Ne.Color.transparent});for(var ct=0;ct<nt.length;ct++){var pt=nt[ct];if(!tt.hasRenderableParent(pt)){var ft=tt.getTile(pt),dt=ft.getBucket(rt);if(dt){var mt=dt.programConfigurations.get(rt.id);et.useProgram("heatmap",mt).draw(it,ot.TRIANGLES,It.disabled,at,st,Ct.disabled,Ri(pt.posMatrix,ft,et.transform.zoom,rt.paint.get("heatmap-intensity")),rt.id,dt.layoutVertexBuffer,dt.indexBuffer,dt.segments,rt.paint,et.transform.zoom,mt)}}}it.viewport.set([0,0,et.width,et.height])}else"translucent"===et.renderPass&&(et.context.setColorMode(et.colorModeForRenderPass()),function(et,tt){var rt=et.context,nt=rt.gl,it=tt.heatmapFbo;if(it){rt.activeTexture.set(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,it.colorAttachment.get()),rt.activeTexture.set(nt.TEXTURE1);var ot=tt.colorRampTexture;ot||(ot=tt.colorRampTexture=new Ne.Texture(rt,tt.colorRamp,nt.RGBA)),ot.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),et.useProgram("heatmapTexture").draw(rt,nt.TRIANGLES,It.disabled,Pt.disabled,et.colorModeForRenderPass(),Ct.disabled,function(et,tt,rt,nt){var it=Ne.create();Ne.ortho(it,0,et.width,et.height,0,0,1);var ot=et.context.gl;return{u_matrix:it,u_world:[ot.drawingBufferWidth,ot.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:tt.paint.get("heatmap-opacity")}}(et,tt),tt.id,et.viewportBuffer,et.quadTriangleIndexBuffer,et.viewportSegments,tt.paint,et.transform.zoom)}}(et,rt))},line:function(et,tt,rt,nt){if("translucent"===et.renderPass){var it=rt.paint.get("line-opacity"),ot=rt.paint.get("line-width");if(0!==it.constantOr(1)&&0!==ot.constantOr(1)){var at=et.depthModeForSublayer(0,It.ReadOnly),st=et.colorModeForRenderPass(),ct=rt.paint.get("line-dasharray"),pt=rt.paint.get("line-pattern"),ft=pt.constantOr(1),dt=rt.paint.get("line-gradient"),mt=rt.getCrossfadeParameters(),yt=ft?"linePattern":ct?"lineSDF":dt?"lineGradient":"line",vt=et.context,Rt=vt.gl,Dt=!0;if(dt){vt.activeTexture.set(Rt.TEXTURE0);var Ot=rt.gradientTexture;if(!rt.gradient)return;Ot||(Ot=rt.gradientTexture=new Ne.Texture(vt,rt.gradient,Rt.RGBA)),Ot.bind(Rt.LINEAR,Rt.CLAMP_TO_EDGE)}for(var Bt=0,er=nt;Bt<er.length;Bt+=1){var rr=er[Bt],vr=tt.getTile(rr);if(!ft||vr.patternsLoaded()){var wr=vr.getBucket(rt);if(wr){var Sr=wr.programConfigurations.get(rt.id),rn=et.context.program.get(),vn=et.useProgram(yt,Sr),bn=Dt||vn.program!==rn,Tn=pt.constantOr(null);if(Tn&&vr.imageAtlas){var Cn=vr.imageAtlas,In=Cn.patternPositions[Tn.to.toString()],Mn=Cn.patternPositions[Tn.from.toString()];In&&Mn&&Sr.setConstantPatternPositions(In,Mn)}var zn=ft?Oi(et,vr,rt,mt):ct?Fi(et,vr,rt,ct,mt):dt?Bi(et,vr,rt):ki(et,vr,rt);ft?(vt.activeTexture.set(Rt.TEXTURE0),vr.imageAtlasTexture.bind(Rt.LINEAR,Rt.CLAMP_TO_EDGE),Sr.updatePaintBuffers(mt)):ct&&(bn||et.lineAtlas.dirty)&&(vt.activeTexture.set(Rt.TEXTURE0),et.lineAtlas.bind(vt)),vn.draw(vt,Rt.TRIANGLES,at,et.stencilModeForClipping(rr),st,Ct.disabled,zn,rt.id,wr.layoutVertexBuffer,wr.indexBuffer,wr.segments,rt.paint,et.transform.zoom,Sr),Dt=!1}}}}}},fill:function(et,tt,rt,nt){var it=rt.paint.get("fill-color"),ot=rt.paint.get("fill-opacity");if(0!==ot.constantOr(1)){var at=et.colorModeForRenderPass(),st=rt.paint.get("fill-pattern"),ct=et.opaquePassEnabledForLayer()&&!st.constantOr(1)&&1===it.constantOr(Ne.Color.transparent).a&&1===ot.constantOr(0)?"opaque":"translucent";if(et.renderPass===ct){var pt=et.depthModeForSublayer(1,"opaque"===et.renderPass?It.ReadWrite:It.ReadOnly);oo(et,tt,rt,nt,pt,at,!1)}if("translucent"===et.renderPass&&rt.paint.get("fill-antialias")){var ft=et.depthModeForSublayer(rt.getPaintProperty("fill-outline-color")?2:0,It.ReadOnly);oo(et,tt,rt,nt,ft,at,!0)}}},"fill-extrusion":function(Ne,et,tt,rt){var nt=tt.paint.get("fill-extrusion-opacity");if(0!==nt&&"translucent"===Ne.renderPass){var it=new It(Ne.context.gl.LEQUAL,It.ReadWrite,Ne.depthRangeFor3D);if(1!==nt||tt.paint.get("fill-extrusion-pattern").constantOr(1))ro(Ne,et,tt,rt,it,Pt.disabled,St.disabled),ro(Ne,et,tt,rt,it,Ne.stencilModeFor3D(),Ne.colorModeForRenderPass());else{var ot=Ne.colorModeForRenderPass();ro(Ne,et,tt,rt,it,Pt.disabled,ot)}}},hillshade:function(Ne,et,tt,rt){if("offscreen"===Ne.renderPass||"translucent"===Ne.renderPass){for(var nt=Ne.context,it=et.getSource().maxzoom,ot=Ne.depthModeForSublayer(0,It.ReadOnly),at=Ne.colorModeForRenderPass(),st="translucent"===Ne.renderPass?Ne.stencilConfigForOverlap(rt):[{},rt],ct=st[0],pt=0,ft=st[1];pt<ft.length;pt+=1){var dt=ft[pt],mt=et.getTile(dt);mt.needsHillshadePrepare&&"offscreen"===Ne.renderPass?no(Ne,mt,tt,it,ot,Pt.disabled,at):"translucent"===Ne.renderPass&&ao(Ne,mt,tt,ot,ct[dt.overscaledZ],at)}nt.viewport.set([0,0,Ne.width,Ne.height])}},raster:function(Ne,et,tt,rt){if("translucent"===Ne.renderPass&&0!==tt.paint.get("raster-opacity")&&rt.length)for(var nt=Ne.context,it=nt.gl,ot=et.getSource(),at=Ne.useProgram("raster"),st=Ne.colorModeForRenderPass(),ct=ot instanceof rr?[{},rt]:Ne.stencilConfigForOverlap(rt),pt=ct[0],ft=ct[1],dt=ft[ft.length-1].overscaledZ,mt=!Ne.options.moving,yt=0,vt=ft;yt<vt.length;yt+=1){var Rt=vt[yt],Dt=Ne.depthModeForSublayer(Rt.overscaledZ-dt,1===tt.paint.get("raster-opacity")?It.ReadWrite:It.ReadOnly,it.LESS),Ot=et.getTile(Rt),Bt=Ne.transform.calculatePosMatrix(Rt.toUnwrapped(),mt);Ot.registerFadeDuration(tt.paint.get("raster-fade-duration"));var er=et.findLoadedParent(Rt,0),vr=so(Ot,er,et,tt,Ne.transform),wr=void 0,Sr=void 0,rn="nearest"===tt.paint.get("raster-resampling")?it.NEAREST:it.LINEAR;nt.activeTexture.set(it.TEXTURE0),Ot.texture.bind(rn,it.CLAMP_TO_EDGE,it.LINEAR_MIPMAP_NEAREST),nt.activeTexture.set(it.TEXTURE1),er?(er.texture.bind(rn,it.CLAMP_TO_EDGE,it.LINEAR_MIPMAP_NEAREST),wr=Math.pow(2,er.tileID.overscaledZ-Ot.tileID.overscaledZ),Sr=[Ot.tileID.canonical.x*wr%1,Ot.tileID.canonical.y*wr%1]):Ot.texture.bind(rn,it.CLAMP_TO_EDGE,it.LINEAR_MIPMAP_NEAREST);var vn=Zi(Bt,Sr||[0,0],wr||1,vr,tt);ot instanceof rr?at.draw(nt,it.TRIANGLES,Dt,Pt.disabled,st,Ct.disabled,vn,tt.id,ot.boundsBuffer,Ne.quadTriangleIndexBuffer,ot.boundsSegments):at.draw(nt,it.TRIANGLES,Dt,pt[Rt.overscaledZ],st,Ct.disabled,vn,tt.id,Ne.rasterBoundsBuffer,Ne.quadTriangleIndexBuffer,Ne.rasterBoundsSegments)}},background:function(Ne,et,tt){var rt=tt.paint.get("background-color"),nt=tt.paint.get("background-opacity");if(0!==nt){var it=Ne.context,ot=it.gl,at=Ne.transform,st=at.tileSize,ct=tt.paint.get("background-pattern");if(!Ne.isPatternMissing(ct)){var pt=!ct&&1===rt.a&&1===nt&&Ne.opaquePassEnabledForLayer()?"opaque":"translucent";if(Ne.renderPass===pt){var ft=Pt.disabled,dt=Ne.depthModeForSublayer(0,"opaque"===pt?It.ReadWrite:It.ReadOnly),mt=Ne.colorModeForRenderPass(),yt=Ne.useProgram(ct?"backgroundPattern":"background"),vt=at.coveringTiles({tileSize:st});ct&&(it.activeTexture.set(ot.TEXTURE0),Ne.imageManager.bind(Ne.context));for(var Rt=tt.getCrossfadeParameters(),Dt=0,Ot=vt;Dt<Ot.length;Dt+=1){var Bt=Ot[Dt],er=Ne.transform.calculatePosMatrix(Bt.toUnwrapped()),rr=ct?Hi(er,nt,Ne,ct,{tileID:Bt,tileSize:st},Rt):Xi(er,nt,rt);yt.draw(it,ot.TRIANGLES,dt,ft,mt,Ct.disabled,rr,tt.id,Ne.tileExtentBuffer,Ne.quadTriangleIndexBuffer,Ne.tileExtentSegments)}}}}},debug:function(Ne,et,tt){for(var rt=0;rt<tt.length;rt++)go(Ne,et,tt[rt])},custom:function(Ne,et,tt){var rt=Ne.context,nt=tt.implementation;if("offscreen"===Ne.renderPass){var it=nt.prerender;it&&(Ne.setCustomLayerDefaults(),rt.setColorMode(Ne.colorModeForRenderPass()),it.call(nt,rt.gl,Ne.transform.customLayerMatrix()),rt.setDirty(),Ne.setBaseState())}else if("translucent"===Ne.renderPass){Ne.setCustomLayerDefaults(),rt.setColorMode(Ne.colorModeForRenderPass()),rt.setStencilMode(Pt.disabled);var ot="3d"===nt.renderingMode?new It(Ne.context.gl.LEQUAL,It.ReadWrite,Ne.depthRangeFor3D):Ne.depthModeForSublayer(0,It.ReadOnly);rt.setDepthMode(ot),nt.render(rt.gl,Ne.transform.customLayerMatrix()),rt.setDirty(),Ne.setBaseState(),rt.bindFramebuffer.set(null)}}},yo=function(Ne,et){this.context=new zt(Ne),this.transform=et,this._tileTextures={},this.setup(),this.numSublayers=us.maxUnderzooming+us.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Fe,this.gpuTimers={}};yo.prototype.resize=function(et,tt){if(this.width=et*Ne.browser.devicePixelRatio,this.height=tt*Ne.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var rt=0,nt=this.style._order;rt<nt.length;rt+=1)this.style._layers[nt[rt]].resize()},yo.prototype.setup=function(){var et=this.context,tt=new Ne.StructArrayLayout2i4;tt.emplaceBack(0,0),tt.emplaceBack(Ne.EXTENT,0),tt.emplaceBack(0,Ne.EXTENT),tt.emplaceBack(Ne.EXTENT,Ne.EXTENT),this.tileExtentBuffer=et.createVertexBuffer(tt,Us.members),this.tileExtentSegments=Ne.SegmentVector.simpleSegment(0,0,4,2);var rt=new Ne.StructArrayLayout2i4;rt.emplaceBack(0,0),rt.emplaceBack(Ne.EXTENT,0),rt.emplaceBack(0,Ne.EXTENT),rt.emplaceBack(Ne.EXTENT,Ne.EXTENT),this.debugBuffer=et.createVertexBuffer(rt,Us.members),this.debugSegments=Ne.SegmentVector.simpleSegment(0,0,4,5);var nt=new Ne.StructArrayLayout4i8;nt.emplaceBack(0,0,0,0),nt.emplaceBack(Ne.EXTENT,0,Ne.EXTENT,0),nt.emplaceBack(0,Ne.EXTENT,0,Ne.EXTENT),nt.emplaceBack(Ne.EXTENT,Ne.EXTENT,Ne.EXTENT,Ne.EXTENT),this.rasterBoundsBuffer=et.createVertexBuffer(nt,er.members),this.rasterBoundsSegments=Ne.SegmentVector.simpleSegment(0,0,4,2);var it=new Ne.StructArrayLayout2i4;it.emplaceBack(0,0),it.emplaceBack(1,0),it.emplaceBack(0,1),it.emplaceBack(1,1),this.viewportBuffer=et.createVertexBuffer(it,Us.members),this.viewportSegments=Ne.SegmentVector.simpleSegment(0,0,4,2);var ot=new Ne.StructArrayLayout1ui2;ot.emplaceBack(0),ot.emplaceBack(1),ot.emplaceBack(3),ot.emplaceBack(2),ot.emplaceBack(0),this.tileBorderIndexBuffer=et.createIndexBuffer(ot);var at=new Ne.StructArrayLayout3ui6;at.emplaceBack(0,1,2),at.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=et.createIndexBuffer(at),this.emptyTexture=new Ne.Texture(et,{width:1,height:1,data:new Uint8Array([0,0,0,0])},et.gl.RGBA);var st=this.context.gl;this.stencilClearMode=new Pt({func:st.ALWAYS,mask:0},0,255,st.ZERO,st.ZERO,st.ZERO)},yo.prototype.clearStencil=function(){var et=this.context,tt=et.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var rt=Ne.create();Ne.ortho(rt,0,this.width,this.height,0,0,1),Ne.scale(rt,rt,[tt.drawingBufferWidth,tt.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(et,tt.TRIANGLES,It.disabled,this.stencilClearMode,St.disabled,Ct.disabled,Ai(rt),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},yo.prototype._renderTileClippingMasks=function(Ne,et){if(this.currentStencilSource!==Ne.source&&Ne.isTileClipped()&&et&&et.length){this.currentStencilSource=Ne.source;var tt=this.context,rt=tt.gl;this.nextStencilID+et.length>256&&this.clearStencil(),tt.setColorMode(St.disabled),tt.setDepthMode(It.disabled);var nt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var it=0,ot=et;it<ot.length;it+=1){var at=ot[it],st=this._tileClippingMaskIDs[at.key]=this.nextStencilID++;nt.draw(tt,rt.TRIANGLES,It.disabled,new Pt({func:rt.ALWAYS,mask:0},st,255,rt.KEEP,rt.KEEP,rt.REPLACE),St.disabled,Ct.disabled,Ai(at.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},yo.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Ne=this.nextStencilID++,et=this.context.gl;return new Pt({func:et.NOTEQUAL,mask:255},Ne,255,et.KEEP,et.KEEP,et.REPLACE)},yo.prototype.stencilModeForClipping=function(Ne){var et=this.context.gl;return new Pt({func:et.EQUAL,mask:255},this._tileClippingMaskIDs[Ne.key],0,et.KEEP,et.KEEP,et.REPLACE)},yo.prototype.stencilConfigForOverlap=function(Ne){var et,tt=this.context.gl,rt=Ne.sort((function(Ne,et){return et.overscaledZ-Ne.overscaledZ})),nt=rt[rt.length-1].overscaledZ,it=rt[0].overscaledZ-nt+1;if(it>1){this.currentStencilSource=void 0,this.nextStencilID+it>256&&this.clearStencil();for(var ot={},at=0;at<it;at++)ot[at+nt]=new Pt({func:tt.GEQUAL,mask:255},at+this.nextStencilID,255,tt.KEEP,tt.KEEP,tt.REPLACE);return this.nextStencilID+=it,[ot,rt]}return[(et={},et[nt]=Pt.disabled,et),rt]},yo.prototype.colorModeForRenderPass=function(){var et=this.context.gl;return this._showOverdrawInspector?new St([et.CONSTANT_COLOR,et.ONE],new Ne.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?St.unblended:St.alphaBlended},yo.prototype.depthModeForSublayer=function(Ne,et,tt){if(!this.opaquePassEnabledForLayer())return It.disabled;var rt=1-((1+this.currentLayer)*this.numSublayers+Ne)*this.depthEpsilon;return new It(tt||this.context.gl.LEQUAL,et,[rt,rt])},yo.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},yo.prototype.render=function(et,tt){var rt=this;this.style=et,this.options=tt,this.lineAtlas=et.lineAtlas,this.imageManager=et.imageManager,this.glyphManager=et.glyphManager,this.symbolFadeChange=et.placement.symbolFadeChange(Ne.browser.now()),this.imageManager.beginFrame();var nt=this.style._order,it=this.style.sourceCaches;for(var ot in it){var at=it[ot];at.used&&at.prepare(this.context)}var st,ct,pt={},ft={},dt={};for(var mt in it){var yt=it[mt];pt[mt]=yt.getVisibleCoordinates(),ft[mt]=pt[mt].slice().reverse(),dt[mt]=yt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var vt=0;vt<nt.length;vt++)if(this.style._layers[nt[vt]].is3D()){this.opaquePassCutoff=vt;break}this.renderPass="offscreen";for(var Rt=0,Dt=nt;Rt<Dt.length;Rt+=1){var Ot=this.style._layers[Dt[Rt]];if(Ot.hasOffscreenPass()&&!Ot.isHidden(this.transform.zoom)){var Bt=ft[Ot.source];("custom"===Ot.type||Bt.length)&&this.renderLayer(this,it[Ot.source],Ot,Bt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:tt.showOverdrawInspector?Ne.Color.black:Ne.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=tt.showOverdrawInspector,this.depthRangeFor3D=[0,1-(et._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=nt.length-1;this.currentLayer>=0;this.currentLayer--){var er=this.style._layers[nt[this.currentLayer]],rr=it[er.source],vr=pt[er.source];this._renderTileClippingMasks(er,vr),this.renderLayer(this,rr,er,vr)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<nt.length;this.currentLayer++){var wr=this.style._layers[nt[this.currentLayer]],Sr=it[wr.source],rn=("symbol"===wr.type?dt:ft)[wr.source];this._renderTileClippingMasks(wr,pt[wr.source]),this.renderLayer(this,Sr,wr,rn)}this.options.showTileBoundaries&&(Ne.values(this.style._layers).forEach((function(Ne){Ne.source&&!Ne.isHidden(rt.transform.zoom)&&(Ne.source!==(ct&&ct.id)&&(ct=rt.style.sourceCaches[Ne.source]),(!st||st.getSource().maxzoom<ct.getSource().maxzoom)&&(st=ct))})),st&&kc.debug(this,st,st.getVisibleCoordinates())),this.options.showPadding&&function(Ne){var et=Ne.transform.padding;_o(Ne,Ne.transform.height-(et.top||0),3,yc),_o(Ne,et.bottom||0,3,_c),fo(Ne,et.left||0,3,bc),fo(Ne,Ne.transform.width-(et.right||0),3,xc);var tt=Ne.transform.centerPoint;!function(Ne,et,tt,rt){mo(Ne,et-1,tt-10,2,20,rt),mo(Ne,et-10,tt-1,20,2,rt)}(Ne,tt.x,Ne.transform.height-tt.y,wc)}(this),this.context.setDefault()},yo.prototype.renderLayer=function(Ne,et,tt,rt){tt.isHidden(this.transform.zoom)||("background"===tt.type||"custom"===tt.type||rt.length)&&(this.id=tt.id,this.gpuTimingStart(tt),kc[tt.type](Ne,et,tt,rt,this.style.placement.variableOffsets),this.gpuTimingEnd())},yo.prototype.gpuTimingStart=function(Ne){if(this.options.gpuTiming){var et=this.context.extTimerQuery,tt=this.gpuTimers[Ne.id];tt||(tt=this.gpuTimers[Ne.id]={calls:0,cpuTime:0,query:et.createQueryEXT()}),tt.calls++,et.beginQueryEXT(et.TIME_ELAPSED_EXT,tt.query)}},yo.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Ne=this.context.extTimerQuery;Ne.endQueryEXT(Ne.TIME_ELAPSED_EXT)}},yo.prototype.collectGpuTimers=function(){var Ne=this.gpuTimers;return this.gpuTimers={},Ne},yo.prototype.queryGpuTimers=function(Ne){var et={};for(var tt in Ne){var rt=Ne[tt],nt=this.context.extTimerQuery,it=nt.getQueryObjectEXT(rt.query,nt.QUERY_RESULT_EXT)/1e6;nt.deleteQueryEXT(rt.query),et[tt]=it}return et},yo.prototype.translatePosMatrix=function(et,tt,rt,nt,it){if(!rt[0]&&!rt[1])return et;var ot=it?"map"===nt?this.transform.angle:0:"viewport"===nt?-this.transform.angle:0;if(ot){var at=Math.sin(ot),st=Math.cos(ot);rt=[rt[0]*st-rt[1]*at,rt[0]*at+rt[1]*st]}var ct=[it?rt[0]:pe(tt,rt[0],this.transform.zoom),it?rt[1]:pe(tt,rt[1],this.transform.zoom),0],pt=new Float32Array(16);return Ne.translate(pt,et,ct),pt},yo.prototype.saveTileTexture=function(Ne){var et=this._tileTextures[Ne.size[0]];et?et.push(Ne):this._tileTextures[Ne.size[0]]=[Ne]},yo.prototype.getTileTexture=function(Ne){var et=this._tileTextures[Ne];return et&&et.length>0?et.pop():null},yo.prototype.isPatternMissing=function(Ne){if(!Ne)return!1;if(!Ne.from||!Ne.to)return!0;var et=this.imageManager.getPattern(Ne.from.toString()),tt=this.imageManager.getPattern(Ne.to.toString());return!et||!tt},yo.prototype.useProgram=function(Ne,et){this.cache=this.cache||{};var tt=""+Ne+(et?et.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[tt]||(this.cache[tt]=new bi(this.context,Ne,Tu[Ne],et,ac[Ne],this._showOverdrawInspector)),this.cache[tt]},yo.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},yo.prototype.setBaseState=function(){var Ne=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Ne.FUNC_ADD)},yo.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=Ne.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Ne.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},yo.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var xo=function(Ne,et){this.points=Ne,this.planes=et};xo.fromInvProjectionMatrix=function(et,tt,rt){var nt=Math.pow(2,rt),it=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(tt){return Ne.transformMat4([],tt,et)})).map((function(et){return Ne.scale$1([],et,1/et[3]/tt*nt)})),ot=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(et){var tt=Ne.sub([],it[et[0]],it[et[1]]),rt=Ne.sub([],it[et[2]],it[et[1]]),nt=Ne.normalize([],Ne.cross([],tt,rt)),ot=-Ne.dot(nt,it[et[1]]);return nt.concat(ot)}));return new xo(it,ot)};var bo=function(et,tt){this.min=et,this.max=tt,this.center=Ne.scale$2([],Ne.add([],this.min,this.max),.5)};bo.prototype.quadrant=function(et){for(var tt=[et%2==0,et<2],rt=Ne.clone$2(this.min),nt=Ne.clone$2(this.max),it=0;it<tt.length;it++)rt[it]=tt[it]?this.min[it]:this.center[it],nt[it]=tt[it]?this.center[it]:this.max[it];return nt[2]=this.max[2],new bo(rt,nt)},bo.prototype.distanceX=function(Ne){return Math.max(Math.min(this.max[0],Ne[0]),this.min[0])-Ne[0]},bo.prototype.distanceY=function(Ne){return Math.max(Math.min(this.max[1],Ne[1]),this.min[1])-Ne[1]},bo.prototype.intersects=function(et){for(var tt=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],rt=!0,nt=0;nt<et.planes.length;nt++){for(var it=et.planes[nt],ot=0,at=0;at<tt.length;at++)ot+=Ne.dot$1(it,tt[at])>=0;if(0===ot)return 0;ot!==tt.length&&(rt=!1)}if(rt)return 2;for(var st=0;st<3;st++){for(var ct=Number.MAX_VALUE,pt=-Number.MAX_VALUE,ft=0;ft<et.points.length;ft++){var dt=et.points[ft][st]-this.min[st];ct=Math.min(ct,dt),pt=Math.max(pt,dt)}if(pt<0||ct>this.max[st]-this.min[st])return 0}return 1};var wo=function(Ne,et,tt,rt){if(void 0===Ne&&(Ne=0),void 0===et&&(et=0),void 0===tt&&(tt=0),void 0===rt&&(rt=0),isNaN(Ne)||Ne<0||isNaN(et)||et<0||isNaN(tt)||tt<0||isNaN(rt)||rt<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Ne,this.bottom=et,this.left=tt,this.right=rt};wo.prototype.interpolate=function(et,tt,rt){return null!=tt.top&&null!=et.top&&(this.top=Ne.number(et.top,tt.top,rt)),null!=tt.bottom&&null!=et.bottom&&(this.bottom=Ne.number(et.bottom,tt.bottom,rt)),null!=tt.left&&null!=et.left&&(this.left=Ne.number(et.left,tt.left,rt)),null!=tt.right&&null!=et.right&&(this.right=Ne.number(et.right,tt.right,rt)),this},wo.prototype.getCenter=function(et,tt){var rt=Ne.clamp((this.left+et-this.right)/2,0,et),nt=Ne.clamp((this.top+tt-this.bottom)/2,0,tt);return new Ne.Point(rt,nt)},wo.prototype.equals=function(Ne){return this.top===Ne.top&&this.bottom===Ne.bottom&&this.left===Ne.left&&this.right===Ne.right},wo.prototype.clone=function(){return new wo(this.top,this.bottom,this.left,this.right)},wo.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var To=function(et,tt,rt,nt,it){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===it||it,this._minZoom=et||0,this._maxZoom=tt||22,this._minPitch=null==rt?0:rt,this._maxPitch=null==nt?60:nt,this.setMaxBounds(),this.width=0,this.height=0,this._center=new Ne.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wo,this._posMatrixCache={},this._alignedPosMatrixCache={}},Ec={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};To.prototype.clone=function(){var Ne=new To(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Ne.tileSize=this.tileSize,Ne.latRange=this.latRange,Ne.width=this.width,Ne.height=this.height,Ne._center=this._center,Ne.zoom=this.zoom,Ne.angle=this.angle,Ne._fov=this._fov,Ne._pitch=this._pitch,Ne._unmodified=this._unmodified,Ne._edgeInsets=this._edgeInsets.clone(),Ne._calcMatrices(),Ne},Ec.minZoom.get=function(){return this._minZoom},Ec.minZoom.set=function(Ne){this._minZoom!==Ne&&(this._minZoom=Ne,this.zoom=Math.max(this.zoom,Ne))},Ec.maxZoom.get=function(){return this._maxZoom},Ec.maxZoom.set=function(Ne){this._maxZoom!==Ne&&(this._maxZoom=Ne,this.zoom=Math.min(this.zoom,Ne))},Ec.minPitch.get=function(){return this._minPitch},Ec.minPitch.set=function(Ne){this._minPitch!==Ne&&(this._minPitch=Ne,this.pitch=Math.max(this.pitch,Ne))},Ec.maxPitch.get=function(){return this._maxPitch},Ec.maxPitch.set=function(Ne){this._maxPitch!==Ne&&(this._maxPitch=Ne,this.pitch=Math.min(this.pitch,Ne))},Ec.renderWorldCopies.get=function(){return this._renderWorldCopies},Ec.renderWorldCopies.set=function(Ne){void 0===Ne?Ne=!0:null===Ne&&(Ne=!1),this._renderWorldCopies=Ne},Ec.worldSize.get=function(){return this.tileSize*this.scale},Ec.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Ec.size.get=function(){return new Ne.Point(this.width,this.height)},Ec.bearing.get=function(){return-this.angle/Math.PI*180},Ec.bearing.set=function(et){var tt=-Ne.wrap(et,-180,180)*Math.PI/180;this.angle!==tt&&(this._unmodified=!1,this.angle=tt,this._calcMatrices(),this.rotationMatrix=Ne.create$2(),Ne.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Ec.pitch.get=function(){return this._pitch/Math.PI*180},Ec.pitch.set=function(et){var tt=Ne.clamp(et,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==tt&&(this._unmodified=!1,this._pitch=tt,this._calcMatrices())},Ec.fov.get=function(){return this._fov/Math.PI*180},Ec.fov.set=function(Ne){Ne=Math.max(.01,Math.min(60,Ne)),this._fov!==Ne&&(this._unmodified=!1,this._fov=Ne/180*Math.PI,this._calcMatrices())},Ec.zoom.get=function(){return this._zoom},Ec.zoom.set=function(Ne){var et=Math.min(Math.max(Ne,this.minZoom),this.maxZoom);this._zoom!==et&&(this._unmodified=!1,this._zoom=et,this.scale=this.zoomScale(et),this.tileZoom=Math.floor(et),this.zoomFraction=et-this.tileZoom,this._constrain(),this._calcMatrices())},Ec.center.get=function(){return this._center},Ec.center.set=function(Ne){Ne.lat===this._center.lat&&Ne.lng===this._center.lng||(this._unmodified=!1,this._center=Ne,this._constrain(),this._calcMatrices())},Ec.padding.get=function(){return this._edgeInsets.toJSON()},Ec.padding.set=function(Ne){this._edgeInsets.equals(Ne)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,Ne,1),this._calcMatrices())},Ec.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},To.prototype.isPaddingEqual=function(Ne){return this._edgeInsets.equals(Ne)},To.prototype.interpolatePadding=function(Ne,et,tt){this._unmodified=!1,this._edgeInsets.interpolate(Ne,et,tt),this._constrain(),this._calcMatrices()},To.prototype.coveringZoomLevel=function(Ne){var et=(Ne.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Ne.tileSize));return Math.max(0,et)},To.prototype.getVisibleUnwrappedCoordinates=function(et){var tt=[new Ne.UnwrappedTileID(0,et)];if(this._renderWorldCopies)for(var rt=this.pointCoordinate(new Ne.Point(0,0)),nt=this.pointCoordinate(new Ne.Point(this.width,0)),it=this.pointCoordinate(new Ne.Point(this.width,this.height)),ot=this.pointCoordinate(new Ne.Point(0,this.height)),at=Math.floor(Math.min(rt.x,nt.x,it.x,ot.x)),st=Math.floor(Math.max(rt.x,nt.x,it.x,ot.x)),ct=at-1;ct<=st+1;ct++)0!==ct&&tt.push(new Ne.UnwrappedTileID(ct,et));return tt},To.prototype.coveringTiles=function(et){var tt=this.coveringZoomLevel(et),rt=tt;if(void 0!==et.minzoom&&tt<et.minzoom)return[];void 0!==et.maxzoom&&tt>et.maxzoom&&(tt=et.maxzoom);var nt=Ne.MercatorCoordinate.fromLngLat(this.center),it=Math.pow(2,tt),ot=[it*nt.x,it*nt.y,0],at=xo.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,tt),st=et.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(st=tt);var c=function(Ne){return{aabb:new bo([Ne*it,0,0],[(Ne+1)*it,it,0]),zoom:0,x:0,y:0,wrap:Ne,fullyVisible:!1}},ct=[],pt=[],ft=tt,dt=et.reparseOverscaled?rt:tt;if(this._renderWorldCopies)for(var mt=1;mt<=3;mt++)ct.push(c(-mt)),ct.push(c(mt));for(ct.push(c(0));ct.length>0;){var yt=ct.pop(),vt=yt.x,Rt=yt.y,Dt=yt.fullyVisible;if(!Dt){var Ot=yt.aabb.intersects(at);if(0===Ot)continue;Dt=2===Ot}var Bt=yt.aabb.distanceX(ot),er=yt.aabb.distanceY(ot),rr=Math.max(Math.abs(Bt),Math.abs(er));if(yt.zoom===ft||rr>3+(1<<ft-yt.zoom)-2&&yt.zoom>=st)pt.push({tileID:new Ne.OverscaledTileID(yt.zoom===ft?dt:yt.zoom,yt.wrap,yt.zoom,vt,Rt),distanceSq:Ne.sqrLen([ot[0]-.5-vt,ot[1]-.5-Rt])});else for(var vr=0;vr<4;vr++){var wr=(vt<<1)+vr%2,Sr=(Rt<<1)+(vr>>1);ct.push({aabb:yt.aabb.quadrant(vr),zoom:yt.zoom+1,x:wr,y:Sr,wrap:yt.wrap,fullyVisible:Dt})}}return pt.sort((function(Ne,et){return Ne.distanceSq-et.distanceSq})).map((function(Ne){return Ne.tileID}))},To.prototype.resize=function(Ne,et){this.width=Ne,this.height=et,this.pixelsToGLUnits=[2/Ne,-2/et],this._constrain(),this._calcMatrices()},Ec.unmodified.get=function(){return this._unmodified},To.prototype.zoomScale=function(Ne){return Math.pow(2,Ne)},To.prototype.scaleZoom=function(Ne){return Math.log(Ne)/Math.LN2},To.prototype.project=function(et){var tt=Ne.clamp(et.lat,-this.maxValidLatitude,this.maxValidLatitude);return new Ne.Point(Ne.mercatorXfromLng(et.lng)*this.worldSize,Ne.mercatorYfromLat(tt)*this.worldSize)},To.prototype.unproject=function(et){return new Ne.MercatorCoordinate(et.x/this.worldSize,et.y/this.worldSize).toLngLat()},Ec.point.get=function(){return this.project(this.center)},To.prototype.setLocationAtPoint=function(et,tt){var rt=this.pointCoordinate(tt),nt=this.pointCoordinate(this.centerPoint),it=this.locationCoordinate(et),ot=new Ne.MercatorCoordinate(it.x-(rt.x-nt.x),it.y-(rt.y-nt.y));this.center=this.coordinateLocation(ot),this._renderWorldCopies&&(this.center=this.center.wrap())},To.prototype.locationPoint=function(Ne){return this.coordinatePoint(this.locationCoordinate(Ne))},To.prototype.pointLocation=function(Ne){return this.coordinateLocation(this.pointCoordinate(Ne))},To.prototype.locationCoordinate=function(et){return Ne.MercatorCoordinate.fromLngLat(et)},To.prototype.coordinateLocation=function(Ne){return Ne.toLngLat()},To.prototype.pointCoordinate=function(et){var tt=[et.x,et.y,0,1],rt=[et.x,et.y,1,1];Ne.transformMat4(tt,tt,this.pixelMatrixInverse),Ne.transformMat4(rt,rt,this.pixelMatrixInverse);var nt=tt[3],it=rt[3],ot=tt[1]/nt,at=rt[1]/it,st=tt[2]/nt,ct=rt[2]/it,pt=st===ct?0:(0-st)/(ct-st);return new Ne.MercatorCoordinate(Ne.number(tt[0]/nt,rt[0]/it,pt)/this.worldSize,Ne.number(ot,at,pt)/this.worldSize)},To.prototype.coordinatePoint=function(et){var tt=[et.x*this.worldSize,et.y*this.worldSize,0,1];return Ne.transformMat4(tt,tt,this.pixelMatrix),new Ne.Point(tt[0]/tt[3],tt[1]/tt[3])},To.prototype.getBounds=function(){return(new Ne.LngLatBounds).extend(this.pointLocation(new Ne.Point(0,0))).extend(this.pointLocation(new Ne.Point(this.width,0))).extend(this.pointLocation(new Ne.Point(this.width,this.height))).extend(this.pointLocation(new Ne.Point(0,this.height)))},To.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new Ne.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},To.prototype.setMaxBounds=function(Ne){Ne?(this.lngRange=[Ne.getWest(),Ne.getEast()],this.latRange=[Ne.getSouth(),Ne.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},To.prototype.calculatePosMatrix=function(et,tt){void 0===tt&&(tt=!1);var rt=et.key,nt=tt?this._alignedPosMatrixCache:this._posMatrixCache;if(nt[rt])return nt[rt];var it=et.canonical,ot=this.worldSize/this.zoomScale(it.z),at=it.x+Math.pow(2,it.z)*et.wrap,st=Ne.identity(new Float64Array(16));return Ne.translate(st,st,[at*ot,it.y*ot,0]),Ne.scale(st,st,[ot/Ne.EXTENT,ot/Ne.EXTENT,1]),Ne.multiply(st,tt?this.alignedProjMatrix:this.projMatrix,st),nt[rt]=new Float32Array(st),nt[rt]},To.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},To.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var et,tt,rt,nt,it=-90,ot=90,at=-180,st=180,ct=this.size,pt=this._unmodified;if(this.latRange){var ft=this.latRange;it=Ne.mercatorYfromLat(ft[1])*this.worldSize,et=(ot=Ne.mercatorYfromLat(ft[0])*this.worldSize)-it<ct.y?ct.y/(ot-it):0}if(this.lngRange){var dt=this.lngRange;at=Ne.mercatorXfromLng(dt[0])*this.worldSize,tt=(st=Ne.mercatorXfromLng(dt[1])*this.worldSize)-at<ct.x?ct.x/(st-at):0}var mt=this.point,yt=Math.max(tt||0,et||0);if(yt)return this.center=this.unproject(new Ne.Point(tt?(st+at)/2:mt.x,et?(ot+it)/2:mt.y)),this.zoom+=this.scaleZoom(yt),this._unmodified=pt,void(this._constraining=!1);if(this.latRange){var vt=mt.y,Rt=ct.y/2;vt-Rt<it&&(nt=it+Rt),vt+Rt>ot&&(nt=ot-Rt)}if(this.lngRange){var Dt=mt.x,Ot=ct.x/2;Dt-Ot<at&&(rt=at+Ot),Dt+Ot>st&&(rt=st-Ot)}void 0===rt&&void 0===nt||(this.center=this.unproject(new Ne.Point(void 0!==rt?rt:mt.x,void 0!==nt?nt:mt.y))),this._unmodified=pt,this._constraining=!1}},To.prototype._calcMatrices=function(){if(this.height){var et=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var tt=Math.PI/2+this._pitch,rt=this._fov*(.5+et.y/this.height),nt=Math.sin(rt)*this.cameraToCenterDistance/Math.sin(Ne.clamp(Math.PI-tt-rt,.01,Math.PI-.01)),it=this.point,ot=it.x,at=it.y,st=1.01*(Math.cos(Math.PI/2-this._pitch)*nt+this.cameraToCenterDistance),ct=this.height/50,pt=new Float64Array(16);Ne.perspective(pt,this._fov,this.width/this.height,ct,st),pt[8]=2*-et.x/this.width,pt[9]=2*et.y/this.height,Ne.scale(pt,pt,[1,-1,1]),Ne.translate(pt,pt,[0,0,-this.cameraToCenterDistance]),Ne.rotateX(pt,pt,this._pitch),Ne.rotateZ(pt,pt,this.angle),Ne.translate(pt,pt,[-ot,-at,0]),this.mercatorMatrix=Ne.scale([],pt,[this.worldSize,this.worldSize,this.worldSize]),Ne.scale(pt,pt,[1,1,Ne.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=pt,this.invProjMatrix=Ne.invert([],this.projMatrix);var ft=this.width%2/2,dt=this.height%2/2,mt=Math.cos(this.angle),yt=Math.sin(this.angle),vt=ot-Math.round(ot)+mt*ft+yt*dt,Rt=at-Math.round(at)+mt*dt+yt*ft,Dt=new Float64Array(pt);if(Ne.translate(Dt,Dt,[vt>.5?vt-1:vt,Rt>.5?Rt-1:Rt,0]),this.alignedProjMatrix=Dt,pt=Ne.create(),Ne.scale(pt,pt,[this.width/2,-this.height/2,1]),Ne.translate(pt,pt,[1,-1,0]),this.labelPlaneMatrix=pt,pt=Ne.create(),Ne.scale(pt,pt,[1,-1,1]),Ne.translate(pt,pt,[-1,-1,0]),Ne.scale(pt,pt,[2/this.width,2/this.height,1]),this.glCoordMatrix=pt,this.pixelMatrix=Ne.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(pt=Ne.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=pt,this._posMatrixCache={},this._alignedPosMatrixCache={}}},To.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var et=this.pointCoordinate(new Ne.Point(0,0)),tt=[et.x*this.worldSize,et.y*this.worldSize,0,1];return Ne.transformMat4(tt,tt,this.pixelMatrix)[3]/this.cameraToCenterDistance},To.prototype.getCameraPoint=function(){var et=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new Ne.Point(0,et))},To.prototype.getCameraQueryGeometry=function(et){var tt=this.getCameraPoint();if(1===et.length)return[et[0],tt];for(var rt=tt.x,nt=tt.y,it=tt.x,ot=tt.y,at=0,st=et;at<st.length;at+=1){var ct=st[at];rt=Math.min(rt,ct.x),nt=Math.min(nt,ct.y),it=Math.max(it,ct.x),ot=Math.max(ot,ct.y)}return[new Ne.Point(rt,nt),new Ne.Point(it,nt),new Ne.Point(it,ot),new Ne.Point(rt,ot),new Ne.Point(rt,nt)]},Object.defineProperties(To.prototype,Ec);var Io=function(et){var tt,rt,nt,it;this._hashName=et&&encodeURIComponent(et),Ne.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(tt=this._updateHashUnthrottled.bind(this),rt=!1,nt=null,it=function(){nt=null,rt&&(tt(),nt=setTimeout(it,300),rt=!1)},function(){return rt=!0,nt||it(),nt})};Io.prototype.addTo=function(et){return this._map=et,Ne.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Io.prototype.remove=function(){return Ne.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Io.prototype.getHashString=function(et){var tt=this._map.getCenter(),rt=Math.round(100*this._map.getZoom())/100,nt=Math.ceil((rt*Math.LN2+Math.log(512/360/.5))/Math.LN10),it=Math.pow(10,nt),ot=Math.round(tt.lng*it)/it,at=Math.round(tt.lat*it)/it,st=this._map.getBearing(),ct=this._map.getPitch(),pt="";if(pt+=et?"/"+ot+"/"+at+"/"+rt:rt+"/"+at+"/"+ot,(st||ct)&&(pt+="/"+Math.round(10*st)/10),ct&&(pt+="/"+Math.round(ct)),this._hashName){var ft=this._hashName,dt=!1,mt=Ne.window.location.hash.slice(1).split("&").map((function(Ne){var et=Ne.split("=")[0];return et===ft?(dt=!0,et+"="+pt):Ne})).filter((function(Ne){return Ne}));return dt||mt.push(ft+"="+pt),"#"+mt.join("&")}return"#"+pt},Io.prototype._getCurrentHash=function(){var et,tt=this,rt=Ne.window.location.hash.replace("#","");return this._hashName?(rt.split("&").map((function(Ne){return Ne.split("=")})).forEach((function(Ne){Ne[0]===tt._hashName&&(et=Ne)})),(et&&et[1]||"").split("/")):rt.split("/")},Io.prototype._onHashChange=function(){var Ne=this._getCurrentHash();if(Ne.length>=3&&!Ne.some((function(Ne){return isNaN(Ne)}))){var et=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Ne[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Ne[2],+Ne[1]],zoom:+Ne[0],bearing:et,pitch:+(Ne[4]||0)}),!0}return!1},Io.prototype._updateHashUnthrottled=function(){var et=this.getHashString();try{Ne.window.history.replaceState(Ne.window.history.state,"",et)}catch(Ne){}};var Cc={linearity:.3,easing:Ne.bezier(0,0,.3,1)},Ic=Ne.extend({deceleration:2500,maxSpeed:1400},Cc),Ac=Ne.extend({deceleration:20,maxSpeed:1400},Cc),zc=Ne.extend({deceleration:1e3,maxSpeed:360},Cc),Dc=Ne.extend({deceleration:1e3,maxSpeed:90},Cc),Mo=function(Ne){this._map=Ne,this.clear()};function Lo(Ne,et){(!Ne.duration||Ne.duration<et.duration)&&(Ne.duration=et.duration,Ne.easing=et.easing)}function Ao(et,tt,rt){var nt=rt.maxSpeed,it=rt.linearity,ot=rt.deceleration,at=Ne.clamp(et*it/(tt/1e3),-nt,nt),st=Math.abs(at)/(ot*it);return{easing:rt.easing,duration:1e3*st,amount:at*(st/2)}}Mo.prototype.clear=function(){this._inertiaBuffer=[]},Mo.prototype.record=function(et){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:Ne.browser.now(),settings:et})},Mo.prototype._drainInertiaBuffer=function(){for(var et=this._inertiaBuffer,tt=Ne.browser.now();et.length>0&&tt-et[0].time>160;)et.shift()},Mo.prototype._onMoveEnd=function(et){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var tt={zoom:0,bearing:0,pitch:0,pan:new Ne.Point(0,0),pinchAround:void 0,around:void 0},rt=0,nt=this._inertiaBuffer;rt<nt.length;rt+=1){var it=nt[rt].settings;tt.zoom+=it.zoomDelta||0,tt.bearing+=it.bearingDelta||0,tt.pitch+=it.pitchDelta||0,it.panDelta&&tt.pan._add(it.panDelta),it.around&&(tt.around=it.around),it.pinchAround&&(tt.pinchAround=it.pinchAround)}var ot=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,at={};if(tt.pan.mag()){var st=Ao(tt.pan.mag(),ot,Ne.extend({},Ic,et||{}));at.offset=tt.pan.mult(st.amount/tt.pan.mag()),at.center=this._map.transform.center,Lo(at,st)}if(tt.zoom){var ct=Ao(tt.zoom,ot,Ac);at.zoom=this._map.transform.zoom+ct.amount,Lo(at,ct)}if(tt.bearing){var pt=Ao(tt.bearing,ot,zc);at.bearing=this._map.transform.bearing+Ne.clamp(pt.amount,-179,179),Lo(at,pt)}if(tt.pitch){var ft=Ao(tt.pitch,ot,Dc);at.pitch=this._map.transform.pitch+ft.amount,Lo(at,ft)}if(at.zoom||at.bearing){var dt=void 0===tt.pinchAround?tt.around:tt.pinchAround;at.around=dt?this._map.unproject(dt):this._map.getCenter()}return this.clear(),Ne.extend(at,{noMoveStart:!0})}};var Fc=function(et){function o(rt,nt,it,ot){void 0===ot&&(ot={});var at=tt.mousePos(nt.getCanvasContainer(),it),st=nt.unproject(at);et.call(this,rt,Ne.extend({point:at,lngLat:st,originalEvent:it},ot)),this._defaultPrevented=!1,this.target=nt}et&&(o.__proto__=et),(o.prototype=Object.create(et&&et.prototype)).constructor=o;var rt={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},rt.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,rt),o}(Ne.Event),Bc=function(et){function o(rt,nt,it){var ot="touchend"===rt?it.changedTouches:it.touches,at=tt.touchPos(nt.getCanvasContainer(),ot),st=at.map((function(Ne){return nt.unproject(Ne)})),ct=at.reduce((function(Ne,et,tt,rt){return Ne.add(et.div(rt.length))}),new Ne.Point(0,0)),pt=nt.unproject(ct);et.call(this,rt,{points:at,point:ct,lngLats:st,lngLat:pt,originalEvent:it}),this._defaultPrevented=!1}et&&(o.__proto__=et),(o.prototype=Object.create(et&&et.prototype)).constructor=o;var rt={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},rt.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,rt),o}(Ne.Event),Zc=function(Ne){function e(et,tt,rt){Ne.call(this,et,{originalEvent:rt}),this._defaultPrevented=!1}Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e;var et={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},et.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,et),e}(Ne.Event),Oo=function(Ne,et){this._map=Ne,this._clickTolerance=et.clickTolerance};Oo.prototype.reset=function(){delete this._mousedownPos},Oo.prototype.wheel=function(Ne){return this._firePreventable(new Zc(Ne.type,this._map,Ne))},Oo.prototype.mousedown=function(Ne,et){return this._mousedownPos=et,this._firePreventable(new Fc(Ne.type,this._map,Ne))},Oo.prototype.mouseup=function(Ne){this._map.fire(new Fc(Ne.type,this._map,Ne))},Oo.prototype.click=function(Ne,et){this._mousedownPos&&this._mousedownPos.dist(et)>=this._clickTolerance||this._map.fire(new Fc(Ne.type,this._map,Ne))},Oo.prototype.dblclick=function(Ne){return this._firePreventable(new Fc(Ne.type,this._map,Ne))},Oo.prototype.mouseover=function(Ne){this._map.fire(new Fc(Ne.type,this._map,Ne))},Oo.prototype.mouseout=function(Ne){this._map.fire(new Fc(Ne.type,this._map,Ne))},Oo.prototype.touchstart=function(Ne){return this._firePreventable(new Bc(Ne.type,this._map,Ne))},Oo.prototype.touchmove=function(Ne){this._map.fire(new Bc(Ne.type,this._map,Ne))},Oo.prototype.touchend=function(Ne){this._map.fire(new Bc(Ne.type,this._map,Ne))},Oo.prototype.touchcancel=function(Ne){this._map.fire(new Bc(Ne.type,this._map,Ne))},Oo.prototype._firePreventable=function(Ne){if(this._map.fire(Ne),Ne.defaultPrevented)return{}},Oo.prototype.isEnabled=function(){return!0},Oo.prototype.isActive=function(){return!1},Oo.prototype.enable=function(){},Oo.prototype.disable=function(){};var Fo=function(Ne){this._map=Ne};Fo.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Fo.prototype.mousemove=function(Ne){this._map.fire(new Fc(Ne.type,this._map,Ne))},Fo.prototype.mousedown=function(){this._delayContextMenu=!0},Fo.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Fc("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Fo.prototype.contextmenu=function(Ne){this._delayContextMenu?this._contextMenuEvent=Ne:this._map.fire(new Fc(Ne.type,this._map,Ne)),this._map.listens("contextmenu")&&Ne.preventDefault()},Fo.prototype.isEnabled=function(){return!0},Fo.prototype.isActive=function(){return!1},Fo.prototype.enable=function(){},Fo.prototype.disable=function(){};var Uo=function(Ne,et){this._map=Ne,this._el=Ne.getCanvasContainer(),this._container=Ne.getContainer(),this._clickTolerance=et.clickTolerance||1};function No(Ne,et){for(var tt={},rt=0;rt<Ne.length;rt++)tt[Ne[rt].identifier]=et[rt];return tt}Uo.prototype.isEnabled=function(){return!!this._enabled},Uo.prototype.isActive=function(){return!!this._active},Uo.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Uo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Uo.prototype.mousedown=function(Ne,et){this.isEnabled()&&Ne.shiftKey&&0===Ne.button&&(tt.disableDrag(),this._startPos=this._lastPos=et,this._active=!0)},Uo.prototype.mousemoveWindow=function(Ne,et){if(this._active){var rt=et;if(!(this._lastPos.equals(rt)||!this._box&&rt.dist(this._startPos)<this._clickTolerance)){var nt=this._startPos;this._lastPos=rt,this._box||(this._box=tt.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Ne));var it=Math.min(nt.x,rt.x),ot=Math.max(nt.x,rt.x),at=Math.min(nt.y,rt.y),st=Math.max(nt.y,rt.y);tt.setTransform(this._box,"translate("+it+"px,"+at+"px)"),this._box.style.width=ot-it+"px",this._box.style.height=st-at+"px"}}},Uo.prototype.mouseupWindow=function(et,rt){var nt=this;if(this._active&&0===et.button){var it=this._startPos,ot=rt;if(this.reset(),tt.suppressClick(),it.x!==ot.x||it.y!==ot.y)return this._map.fire(new Ne.Event("boxzoomend",{originalEvent:et})),{cameraAnimation:function(Ne){return Ne.fitScreenCoordinates(it,ot,nt._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",et)}},Uo.prototype.keydown=function(Ne){this._active&&27===Ne.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",Ne))},Uo.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(tt.remove(this._box),this._box=null),tt.enableDrag(),delete this._startPos,delete this._lastPos},Uo.prototype._fireEvent=function(et,tt){return this._map.fire(new Ne.Event(et,{originalEvent:tt}))};var Zo=function(Ne){this.reset(),this.numTouches=Ne.numTouches};Zo.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Zo.prototype.touchstart=function(et,tt,rt){(this.centroid||rt.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=et.timeStamp),rt.length===this.numTouches&&(this.centroid=function(et){for(var tt=new Ne.Point(0,0),rt=0,nt=et;rt<nt.length;rt+=1)tt._add(nt[rt]);return tt.div(et.length)}(tt),this.touches=No(rt,tt)))},Zo.prototype.touchmove=function(Ne,et,tt){if(!this.aborted&&this.centroid){var rt=No(tt,et);for(var nt in this.touches){var it=rt[nt];(!it||it.dist(this.touches[nt])>30)&&(this.aborted=!0)}}},Zo.prototype.touchend=function(Ne,et,tt){if((!this.centroid||Ne.timeStamp-this.startTime>500)&&(this.aborted=!0),0===tt.length){var rt=!this.aborted&&this.centroid;if(this.reset(),rt)return rt}};var jo=function(Ne){this.singleTap=new Zo(Ne),this.numTaps=Ne.numTaps,this.reset()};jo.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},jo.prototype.touchstart=function(Ne,et,tt){this.singleTap.touchstart(Ne,et,tt)},jo.prototype.touchmove=function(Ne,et,tt){this.singleTap.touchmove(Ne,et,tt)},jo.prototype.touchend=function(Ne,et,tt){var rt=this.singleTap.touchend(Ne,et,tt);if(rt){var nt=Ne.timeStamp-this.lastTime<500,it=!this.lastTap||this.lastTap.dist(rt)<30;if(nt&&it||this.reset(),this.count++,this.lastTime=Ne.timeStamp,this.lastTap=rt,this.count===this.numTaps)return this.reset(),rt}};var qo=function(){this._zoomIn=new jo({numTouches:1,numTaps:2}),this._zoomOut=new jo({numTouches:2,numTaps:1}),this.reset()};qo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},qo.prototype.touchstart=function(Ne,et,tt){this._zoomIn.touchstart(Ne,et,tt),this._zoomOut.touchstart(Ne,et,tt)},qo.prototype.touchmove=function(Ne,et,tt){this._zoomIn.touchmove(Ne,et,tt),this._zoomOut.touchmove(Ne,et,tt)},qo.prototype.touchend=function(Ne,et,tt){var rt=this,nt=this._zoomIn.touchend(Ne,et,tt),it=this._zoomOut.touchend(Ne,et,tt);return nt?(this._active=!0,Ne.preventDefault(),setTimeout((function(){return rt.reset()}),0),{cameraAnimation:function(et){return et.easeTo({duration:300,zoom:et.getZoom()+1,around:et.unproject(nt)},{originalEvent:Ne})}}):it?(this._active=!0,Ne.preventDefault(),setTimeout((function(){return rt.reset()}),0),{cameraAnimation:function(et){return et.easeTo({duration:300,zoom:et.getZoom()-1,around:et.unproject(it)},{originalEvent:Ne})}}):void 0},qo.prototype.touchcancel=function(){this.reset()},qo.prototype.enable=function(){this._enabled=!0},qo.prototype.disable=function(){this._enabled=!1,this.reset()},qo.prototype.isEnabled=function(){return this._enabled},qo.prototype.isActive=function(){return this._active};var Wc={0:1,2:2},Go=function(Ne){this.reset(),this._clickTolerance=Ne.clickTolerance||1};Go.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Go.prototype._correctButton=function(Ne,et){return!1},Go.prototype._move=function(Ne,et){return{}},Go.prototype.mousedown=function(Ne,et){if(!this._lastPoint){var rt=tt.mouseButton(Ne);this._correctButton(Ne,rt)&&(this._lastPoint=et,this._eventButton=rt)}},Go.prototype.mousemoveWindow=function(Ne,et){var tt=this._lastPoint;if(tt)if(Ne.preventDefault(),function(Ne,et){var tt=Wc[et];return void 0===Ne.buttons||(Ne.buttons&tt)!==tt}(Ne,this._eventButton))this.reset();else if(this._moved||!(et.dist(tt)<this._clickTolerance))return this._moved=!0,this._lastPoint=et,this._move(tt,et)},Go.prototype.mouseupWindow=function(Ne){this._lastPoint&&tt.mouseButton(Ne)===this._eventButton&&(this._moved&&tt.suppressClick(),this.reset())},Go.prototype.enable=function(){this._enabled=!0},Go.prototype.disable=function(){this._enabled=!1,this.reset()},Go.prototype.isEnabled=function(){return this._enabled},Go.prototype.isActive=function(){return this._active};var Gc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.mousedown=function(et,tt){Ne.prototype.mousedown.call(this,et,tt),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(Ne,et){return 0===et&&!Ne.ctrlKey},e.prototype._move=function(Ne,et){return{around:et,panDelta:et.sub(Ne)}},e}(Go),$c=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._correctButton=function(Ne,et){return 0===et&&Ne.ctrlKey||2===et},e.prototype._move=function(Ne,et){var tt=.8*(et.x-Ne.x);if(tt)return this._active=!0,{bearingDelta:tt}},e.prototype.contextmenu=function(Ne){Ne.preventDefault()},e}(Go),Hc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._correctButton=function(Ne,et){return 0===et&&Ne.ctrlKey||2===et},e.prototype._move=function(Ne,et){var tt=-.5*(et.y-Ne.y);if(tt)return this._active=!0,{pitchDelta:tt}},e.prototype.contextmenu=function(Ne){Ne.preventDefault()},e}(Go),Ko=function(Ne){this._minTouches=1,this._clickTolerance=Ne.clickTolerance||1,this.reset()};Ko.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new Ne.Point(0,0)},Ko.prototype.touchstart=function(Ne,et,tt){return this._calculateTransform(Ne,et,tt)},Ko.prototype.touchmove=function(Ne,et,tt){if(this._active)return Ne.preventDefault(),this._calculateTransform(Ne,et,tt)},Ko.prototype.touchend=function(Ne,et,tt){this._calculateTransform(Ne,et,tt),this._active&&tt.length<this._minTouches&&this.reset()},Ko.prototype.touchcancel=function(){this.reset()},Ko.prototype._calculateTransform=function(et,tt,rt){rt.length>0&&(this._active=!0);var nt=No(rt,tt),it=new Ne.Point(0,0),ot=new Ne.Point(0,0),at=0;for(var st in nt){var ct=nt[st],pt=this._touches[st];pt&&(it._add(ct),ot._add(ct.sub(pt)),at++,nt[st]=ct)}if(this._touches=nt,!(at<this._minTouches)&&ot.mag()){var ft=ot.div(at);if(this._sum._add(ft),!(this._sum.mag()<this._clickTolerance))return{around:it.div(at),panDelta:ft}}},Ko.prototype.enable=function(){this._enabled=!0},Ko.prototype.disable=function(){this._enabled=!1,this.reset()},Ko.prototype.isEnabled=function(){return this._enabled},Ko.prototype.isActive=function(){return this._active};var Yo=function(){this.reset()};function Jo(Ne,et,tt){for(var rt=0;rt<Ne.length;rt++)if(Ne[rt].identifier===tt)return et[rt]}function Qo(Ne,et){return Math.log(Ne/et)/Math.LN2}Yo.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Yo.prototype._start=function(Ne){},Yo.prototype._move=function(Ne,et,tt){return{}},Yo.prototype.touchstart=function(Ne,et,tt){this._firstTwoTouches||tt.length<2||(this._firstTwoTouches=[tt[0].identifier,tt[1].identifier],this._start([et[0],et[1]]))},Yo.prototype.touchmove=function(Ne,et,tt){if(this._firstTwoTouches){Ne.preventDefault();var rt=this._firstTwoTouches,nt=rt[1],it=Jo(tt,et,rt[0]),ot=Jo(tt,et,nt);if(it&&ot){var at=this._aroundCenter?null:it.add(ot).div(2);return this._move([it,ot],at,Ne)}}},Yo.prototype.touchend=function(Ne,et,rt){if(this._firstTwoTouches){var nt=this._firstTwoTouches,it=nt[1],ot=Jo(rt,et,nt[0]),at=Jo(rt,et,it);ot&&at||(this._active&&tt.suppressClick(),this.reset())}},Yo.prototype.touchcancel=function(){this.reset()},Yo.prototype.enable=function(Ne){this._enabled=!0,this._aroundCenter=!!Ne&&"center"===Ne.around},Yo.prototype.disable=function(){this._enabled=!1,this.reset()},Yo.prototype.isEnabled=function(){return this._enabled},Yo.prototype.isActive=function(){return this._active};var Xc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.reset=function(){Ne.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(Ne){this._startDistance=this._distance=Ne[0].dist(Ne[1])},e.prototype._move=function(Ne,et){var tt=this._distance;if(this._distance=Ne[0].dist(Ne[1]),this._active||!(Math.abs(Qo(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Qo(this._distance,tt),pinchAround:et}},e}(Yo);function tr(Ne,et){return 180*Ne.angleWith(et)/Math.PI}var Yc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.reset=function(){Ne.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(Ne){this._startVector=this._vector=Ne[0].sub(Ne[1]),this._minDiameter=Ne[0].dist(Ne[1])},e.prototype._move=function(Ne,et){var tt=this._vector;if(this._vector=Ne[0].sub(Ne[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:tr(this._vector,tt),pinchAround:et}},e.prototype._isBelowThreshold=function(Ne){this._minDiameter=Math.min(this._minDiameter,Ne.mag());var et=25/(Math.PI*this._minDiameter)*360,tt=tr(Ne,this._startVector);return Math.abs(tt)<et},e}(Yo);function ir(Ne){return Math.abs(Ne.y)>Math.abs(Ne.x)}var rp=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.reset=function(){Ne.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(Ne){this._lastPoints=Ne,ir(Ne[0].sub(Ne[1]))&&(this._valid=!1)},e.prototype._move=function(Ne,et,tt){var rt=Ne[0].sub(this._lastPoints[0]),nt=Ne[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(rt,nt,tt.timeStamp),this._valid)return this._lastPoints=Ne,this._active=!0,{pitchDelta:(rt.y+nt.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(Ne,et,tt){if(void 0!==this._valid)return this._valid;var rt=Ne.mag()>=2,nt=et.mag()>=2;if(rt||nt){if(!rt||!nt)return void 0===this._firstMove&&(this._firstMove=tt),tt-this._firstMove<100&&void 0;var it=Ne.y>0==et.y>0;return ir(Ne)&&ir(et)&&it}},e}(Yo),ip={panStep:100,bearingStep:15,pitchStep:10},ar=function(){var Ne=ip;this._panStep=Ne.panStep,this._bearingStep=Ne.bearingStep,this._pitchStep=Ne.pitchStep};function nr(Ne){return Ne*(2-Ne)}ar.prototype.reset=function(){this._active=!1},ar.prototype.keydown=function(Ne){var et=this;if(!(Ne.altKey||Ne.ctrlKey||Ne.metaKey)){var tt=0,rt=0,nt=0,it=0,ot=0;switch(Ne.keyCode){case 61:case 107:case 171:case 187:tt=1;break;case 189:case 109:case 173:tt=-1;break;case 37:Ne.shiftKey?rt=-1:(Ne.preventDefault(),it=-1);break;case 39:Ne.shiftKey?rt=1:(Ne.preventDefault(),it=1);break;case 38:Ne.shiftKey?nt=1:(Ne.preventDefault(),ot=-1);break;case 40:Ne.shiftKey?nt=-1:(Ne.preventDefault(),ot=1);break;default:return}return{cameraAnimation:function(at){var st=at.getZoom();at.easeTo({duration:300,easeId:"keyboardHandler",easing:nr,zoom:tt?Math.round(st)+tt*(Ne.shiftKey?2:1):st,bearing:at.getBearing()+rt*et._bearingStep,pitch:at.getPitch()+nt*et._pitchStep,offset:[-it*et._panStep,-ot*et._panStep],center:at.getCenter()},{originalEvent:Ne})}}}},ar.prototype.enable=function(){this._enabled=!0},ar.prototype.disable=function(){this._enabled=!1,this.reset()},ar.prototype.isEnabled=function(){return this._enabled},ar.prototype.isActive=function(){return this._active};var sr=function(et,tt){this._map=et,this._el=et.getCanvasContainer(),this._handler=tt,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,Ne.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};sr.prototype.setZoomRate=function(Ne){this._defaultZoomRate=Ne},sr.prototype.setWheelZoomRate=function(Ne){this._wheelZoomRate=Ne},sr.prototype.isEnabled=function(){return!!this._enabled},sr.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},sr.prototype.isZooming=function(){return!!this._zooming},sr.prototype.enable=function(Ne){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Ne&&"center"===Ne.around)},sr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},sr.prototype.wheel=function(et){if(this.isEnabled()){var tt=et.deltaMode===Ne.window.WheelEvent.DOM_DELTA_LINE?40*et.deltaY:et.deltaY,rt=Ne.browser.now(),nt=rt-(this._lastWheelEventTime||0);this._lastWheelEventTime=rt,0!==tt&&tt%4.000244140625==0?this._type="wheel":0!==tt&&Math.abs(tt)<4?this._type="trackpad":nt>400?(this._type=null,this._lastValue=tt,this._timeout=setTimeout(this._onTimeout,40,et)):this._type||(this._type=Math.abs(nt*tt)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,tt+=this._lastValue)),et.shiftKey&&tt&&(tt/=4),this._type&&(this._lastWheelEvent=et,this._delta-=tt,this._active||this._start(et)),et.preventDefault()}},sr.prototype._onTimeout=function(Ne){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Ne)},sr.prototype._start=function(et){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var rt=tt.mousePos(this._el,et);this._around=Ne.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(rt)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},sr.prototype.renderFrame=function(){return this._onScrollFrame()},sr.prototype._onScrollFrame=function(){var et=this;if(this._frameId&&(this._frameId=null,this.isActive())){var tt=this._map.transform;if(0!==this._delta){var rt="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,nt=2/(1+Math.exp(-Math.abs(this._delta*rt)));this._delta<0&&0!==nt&&(nt=1/nt);var it="number"==typeof this._targetZoom?tt.zoomScale(this._targetZoom):tt.scale;this._targetZoom=Math.min(tt.maxZoom,Math.max(tt.minZoom,tt.scaleZoom(it*nt))),"wheel"===this._type&&(this._startZoom=tt.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var ot,at="number"==typeof this._targetZoom?this._targetZoom:tt.zoom,st=this._startZoom,ct=this._easing,pt=!1;if("wheel"===this._type&&st&&ct){var ft=Math.min((Ne.browser.now()-this._lastWheelEventTime)/200,1),dt=ct(ft);ot=Ne.number(st,at,dt),ft<1?this._frameId||(this._frameId=!0):pt=!0}else ot=at,pt=!0;return this._active=!0,pt&&(this._active=!1,this._finishTimeout=setTimeout((function(){et._zooming=!1,et._handler._triggerRenderFrame(),delete et._targetZoom,delete et._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!pt,zoomDelta:ot-tt.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},sr.prototype._smoothOutEasing=function(et){var tt=Ne.ease;if(this._prevEase){var rt=this._prevEase,nt=(Ne.browser.now()-rt.start)/rt.duration,it=rt.easing(nt+.01)-rt.easing(nt),ot=.27/Math.sqrt(it*it+1e-4)*.01,at=Math.sqrt(.0729-ot*ot);tt=Ne.bezier(ot,at,.25,1)}return this._prevEase={start:Ne.browser.now(),duration:et,easing:tt},tt},sr.prototype.reset=function(){this._active=!1};var lr=function(Ne,et){this._clickZoom=Ne,this._tapZoom=et};lr.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},lr.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},lr.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},lr.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var cr=function(){this.reset()};cr.prototype.reset=function(){this._active=!1},cr.prototype.dblclick=function(Ne,et){return Ne.preventDefault(),{cameraAnimation:function(tt){tt.easeTo({duration:300,zoom:tt.getZoom()+(Ne.shiftKey?-1:1),around:tt.unproject(et)},{originalEvent:Ne})}}},cr.prototype.enable=function(){this._enabled=!0},cr.prototype.disable=function(){this._enabled=!1,this.reset()},cr.prototype.isEnabled=function(){return this._enabled},cr.prototype.isActive=function(){return this._active};var ur=function(){this._tap=new jo({numTouches:1,numTaps:1}),this.reset()};ur.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ur.prototype.touchstart=function(Ne,et,tt){this._swipePoint||(this._tapTime&&Ne.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?tt.length>0&&(this._swipePoint=et[0],this._swipeTouch=tt[0].identifier):this._tap.touchstart(Ne,et,tt))},ur.prototype.touchmove=function(Ne,et,tt){if(this._tapTime){if(this._swipePoint){if(tt[0].identifier!==this._swipeTouch)return;var rt=et[0],nt=rt.y-this._swipePoint.y;return this._swipePoint=rt,Ne.preventDefault(),this._active=!0,{zoomDelta:nt/128}}}else this._tap.touchmove(Ne,et,tt)},ur.prototype.touchend=function(Ne,et,tt){this._tapTime?this._swipePoint&&0===tt.length&&this.reset():this._tap.touchend(Ne,et,tt)&&(this._tapTime=Ne.timeStamp)},ur.prototype.touchcancel=function(){this.reset()},ur.prototype.enable=function(){this._enabled=!0},ur.prototype.disable=function(){this._enabled=!1,this.reset()},ur.prototype.isEnabled=function(){return this._enabled},ur.prototype.isActive=function(){return this._active};var hr=function(Ne,et,tt){this._el=Ne,this._mousePan=et,this._touchPan=tt};hr.prototype.enable=function(Ne){this._inertiaOptions=Ne||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},hr.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},hr.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},hr.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pr=function(Ne,et,tt){this._pitchWithRotate=Ne.pitchWithRotate,this._mouseRotate=et,this._mousePitch=tt};pr.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pr.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pr.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pr.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var dr=function(Ne,et,tt,rt){this._el=Ne,this._touchZoom=et,this._touchRotate=tt,this._tapDragZoom=rt,this._rotationDisabled=!1,this._enabled=!0};dr.prototype.enable=function(Ne){this._touchZoom.enable(Ne),this._rotationDisabled||this._touchRotate.enable(Ne),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},dr.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},dr.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},dr.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},dr.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},dr.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var _r=function(Ne){return Ne.zoom||Ne.drag||Ne.pitch||Ne.rotate},op=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(Ne.Event);function mr(Ne){return Ne.panDelta&&Ne.panDelta.mag()||Ne.zoomDelta||Ne.bearingDelta||Ne.pitchDelta}var gr=function(et,rt){this._map=et,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Mo(et),this._bearingSnap=rt.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(rt),Ne.bindAll(["handleEvent","handleWindowEvent"],this);var nt=this._el;this._listeners=[[nt,"touchstart",{passive:!0}],[nt,"touchmove",{passive:!1}],[nt,"touchend",void 0],[nt,"touchcancel",void 0],[nt,"mousedown",void 0],[nt,"mousemove",void 0],[nt,"mouseup",void 0],[Ne.window.document,"mousemove",{capture:!0}],[Ne.window.document,"mouseup",void 0],[nt,"mouseover",void 0],[nt,"mouseout",void 0],[nt,"dblclick",void 0],[nt,"click",void 0],[nt,"keydown",{capture:!1}],[nt,"keyup",void 0],[nt,"wheel",{passive:!1}],[nt,"contextmenu",void 0],[Ne.window,"blur",void 0]];for(var it=0,ot=this._listeners;it<ot.length;it+=1){var at=ot[it],st=at[0];tt.addEventListener(st,at[1],st===Ne.window.document?this.handleWindowEvent:this.handleEvent,at[2])}};gr.prototype.destroy=function(){for(var et=0,rt=this._listeners;et<rt.length;et+=1){var nt=rt[et],it=nt[0];tt.removeEventListener(it,nt[1],it===Ne.window.document?this.handleWindowEvent:this.handleEvent,nt[2])}},gr.prototype._addDefaultHandlers=function(Ne){var et=this._map,tt=et.getCanvasContainer();this._add("mapEvent",new Oo(et,Ne));var rt=et.boxZoom=new Uo(et,Ne);this._add("boxZoom",rt);var nt=new qo,it=new cr;et.doubleClickZoom=new lr(it,nt),this._add("tapZoom",nt),this._add("clickZoom",it);var ot=new ur;this._add("tapDragZoom",ot);var at=et.touchPitch=new rp;this._add("touchPitch",at);var st=new $c(Ne),ct=new Hc(Ne);et.dragRotate=new pr(Ne,st,ct),this._add("mouseRotate",st,["mousePitch"]),this._add("mousePitch",ct,["mouseRotate"]);var pt=new Gc(Ne),ft=new Ko(Ne);et.dragPan=new hr(tt,pt,ft),this._add("mousePan",pt),this._add("touchPan",ft,["touchZoom","touchRotate"]);var dt=new Yc,mt=new Xc;et.touchZoomRotate=new dr(tt,mt,dt,ot),this._add("touchRotate",dt,["touchPan","touchZoom"]),this._add("touchZoom",mt,["touchPan","touchRotate"]);var yt=et.scrollZoom=new sr(et,this);this._add("scrollZoom",yt,["mousePan"]);var vt=et.keyboard=new ar;this._add("keyboard",vt),this._add("blockableMapEvent",new Fo(et));for(var Rt=0,Dt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Rt<Dt.length;Rt+=1){var Ot=Dt[Rt];Ne.interactive&&Ne[Ot]&&et[Ot].enable(Ne[Ot])}},gr.prototype._add=function(Ne,et,tt){this._handlers.push({handlerName:Ne,handler:et,allowed:tt}),this._handlersById[Ne]=et},gr.prototype.stop=function(){if(!this._updatingCamera){for(var Ne=0,et=this._handlers;Ne<et.length;Ne+=1)et[Ne].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},gr.prototype.isActive=function(){for(var Ne=0,et=this._handlers;Ne<et.length;Ne+=1)if(et[Ne].handler.isActive())return!0;return!1},gr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},gr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},gr.prototype.isMoving=function(){return Boolean(_r(this._eventsInProgress))||this.isZooming()},gr.prototype._blockedByActive=function(Ne,et,tt){for(var rt in Ne)if(rt!==tt&&(!et||et.indexOf(rt)<0))return!0;return!1},gr.prototype.handleWindowEvent=function(Ne){this.handleEvent(Ne,Ne.type+"Window")},gr.prototype._getMapTouches=function(Ne){for(var et=[],tt=0,rt=Ne;tt<rt.length;tt+=1){var nt=rt[tt];this._el.contains(nt.target)&&et.push(nt)}return et},gr.prototype.handleEvent=function(Ne,et){if("blur"!==Ne.type){this._updatingCamera=!0;for(var rt="renderFrame"===Ne.type?void 0:Ne,nt={needsRenderFrame:!1},it={},ot={},at=Ne.touches?this._getMapTouches(Ne.touches):void 0,st=at?tt.touchPos(this._el,at):tt.mousePos(this._el,Ne),ct=0,pt=this._handlers;ct<pt.length;ct+=1){var ft=pt[ct],dt=ft.handlerName,mt=ft.handler,yt=ft.allowed;if(mt.isEnabled()){var vt=void 0;this._blockedByActive(ot,yt,dt)?mt.reset():mt[et||Ne.type]&&(vt=mt[et||Ne.type](Ne,st,at),this.mergeHandlerResult(nt,it,vt,dt,rt),vt&&vt.needsRenderFrame&&this._triggerRenderFrame()),(vt||mt.isActive())&&(ot[dt]=mt)}}var Rt={};for(var Dt in this._previousActiveHandlers)ot[Dt]||(Rt[Dt]=rt);this._previousActiveHandlers=ot,(Object.keys(Rt).length||mr(nt))&&(this._changes.push([nt,it,Rt]),this._triggerRenderFrame()),(Object.keys(ot).length||mr(nt))&&this._map._stop(!0),this._updatingCamera=!1;var Ot=nt.cameraAnimation;Ot&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],Ot(this._map))}else this.stop()},gr.prototype.mergeHandlerResult=function(et,tt,rt,nt,it){if(rt){Ne.extend(et,rt);var ot={handlerName:nt,originalEvent:rt.originalEvent||it};void 0!==rt.zoomDelta&&(tt.zoom=ot),void 0!==rt.panDelta&&(tt.drag=ot),void 0!==rt.pitchDelta&&(tt.pitch=ot),void 0!==rt.bearingDelta&&(tt.rotate=ot)}},gr.prototype._applyChanges=function(){for(var et={},tt={},rt={},nt=0,it=this._changes;nt<it.length;nt+=1){var ot=it[nt],at=ot[0],st=ot[1],ct=ot[2];at.panDelta&&(et.panDelta=(et.panDelta||new Ne.Point(0,0))._add(at.panDelta)),at.zoomDelta&&(et.zoomDelta=(et.zoomDelta||0)+at.zoomDelta),at.bearingDelta&&(et.bearingDelta=(et.bearingDelta||0)+at.bearingDelta),at.pitchDelta&&(et.pitchDelta=(et.pitchDelta||0)+at.pitchDelta),void 0!==at.around&&(et.around=at.around),void 0!==at.pinchAround&&(et.pinchAround=at.pinchAround),at.noInertia&&(et.noInertia=at.noInertia),Ne.extend(tt,st),Ne.extend(rt,ct)}this._updateMapTransform(et,tt,rt),this._changes=[]},gr.prototype._updateMapTransform=function(Ne,et,tt){var rt=this._map,nt=rt.transform;if(!mr(Ne))return this._fireEvents(et,tt);var it=Ne.panDelta,ot=Ne.zoomDelta,at=Ne.bearingDelta,st=Ne.pitchDelta,ct=Ne.around,pt=Ne.pinchAround;void 0!==pt&&(ct=pt),rt._stop(!0),ct=ct||rt.transform.centerPoint;var ft=nt.pointLocation(it?ct.sub(it):ct);at&&(nt.bearing+=at),st&&(nt.pitch+=st),ot&&(nt.zoom+=ot),nt.setLocationAtPoint(ft,ct),this._map._update(),Ne.noInertia||this._inertia.record(Ne),this._fireEvents(et,tt)},gr.prototype._fireEvents=function(et,tt){var rt=this,nt=_r(this._eventsInProgress),it=_r(et),ot={};for(var at in et)this._eventsInProgress[at]||(ot[at+"start"]=et[at].originalEvent),this._eventsInProgress[at]=et[at];for(var st in!nt&&it&&this._fireEvent("movestart",it.originalEvent),ot)this._fireEvent(st,ot[st]);for(var ct in et.rotate&&(this._bearingChanged=!0),it&&this._fireEvent("move",it.originalEvent),et)this._fireEvent(ct,et[ct].originalEvent);var pt,ft={};for(var dt in this._eventsInProgress){var mt=this._eventsInProgress[dt],yt=mt.handlerName,vt=mt.originalEvent;this._handlersById[yt].isActive()||(delete this._eventsInProgress[dt],ft[dt+"end"]=pt=tt[yt]||vt)}for(var Rt in ft)this._fireEvent(Rt,ft[Rt]);var Dt=_r(this._eventsInProgress);if((nt||it)&&!Dt){this._updatingCamera=!0;var Ot=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),y=function(Ne){return 0!==Ne&&-rt._bearingSnap<Ne&&Ne<rt._bearingSnap};Ot?(y(Ot.bearing||this._map.getBearing())&&(Ot.bearing=0),this._map.easeTo(Ot,{originalEvent:pt})):(this._map.fire(new Ne.Event("moveend",{originalEvent:pt})),y(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},gr.prototype._fireEvent=function(et,tt){this._map.fire(new Ne.Event(et,tt?{originalEvent:tt}:{}))},gr.prototype._triggerRenderFrame=function(){var Ne=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame((function(et){delete Ne._frameId,Ne.handleEvent(new op("renderFrame",{timeStamp:et})),Ne._applyChanges()})))};var ap=function(et){function i(tt,rt){et.call(this),this._moving=!1,this._zooming=!1,this.transform=tt,this._bearingSnap=rt.bearingSnap,Ne.bindAll(["_renderFrameCallback"],this)}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.getCenter=function(){return new Ne.LngLat(this.transform.center.lng,this.transform.center.lat)},i.prototype.setCenter=function(Ne,et){return this.jumpTo({center:Ne},et)},i.prototype.panBy=function(et,tt,rt){return et=Ne.Point.convert(et).mult(-1),this.panTo(this.transform.center,Ne.extend({offset:et},tt),rt)},i.prototype.panTo=function(et,tt,rt){return this.easeTo(Ne.extend({center:et},tt),rt)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(Ne,et){return this.jumpTo({zoom:Ne},et),this},i.prototype.zoomTo=function(et,tt,rt){return this.easeTo(Ne.extend({zoom:et},tt),rt)},i.prototype.zoomIn=function(Ne,et){return this.zoomTo(this.getZoom()+1,Ne,et),this},i.prototype.zoomOut=function(Ne,et){return this.zoomTo(this.getZoom()-1,Ne,et),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(Ne,et){return this.jumpTo({bearing:Ne},et),this},i.prototype.getPadding=function(){return this.transform.padding},i.prototype.setPadding=function(Ne,et){return this.jumpTo({padding:Ne},et),this},i.prototype.rotateTo=function(et,tt,rt){return this.easeTo(Ne.extend({bearing:et},tt),rt)},i.prototype.resetNorth=function(et,tt){return this.rotateTo(0,Ne.extend({duration:1e3},et),tt),this},i.prototype.resetNorthPitch=function(et,tt){return this.easeTo(Ne.extend({bearing:0,pitch:0,duration:1e3},et),tt),this},i.prototype.snapToNorth=function(Ne,et){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(Ne,et):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(Ne,et){return this.jumpTo({pitch:Ne},et),this},i.prototype.cameraForBounds=function(et,tt){return et=Ne.LngLatBounds.convert(et),this._cameraForBoxAndBearing(et.getNorthWest(),et.getSouthEast(),0,tt)},i.prototype._cameraForBoxAndBearing=function(et,tt,rt,nt){var it={top:0,bottom:0,right:0,left:0};if("number"==typeof(nt=Ne.extend({padding:it,offset:[0,0],maxZoom:this.transform.maxZoom},nt)).padding){var ot=nt.padding;nt.padding={top:ot,bottom:ot,right:ot,left:ot}}nt.padding=Ne.extend(it,nt.padding);var at=this.transform,st=at.padding,ct=at.project(Ne.LngLat.convert(et)),pt=at.project(Ne.LngLat.convert(tt)),ft=ct.rotate(-rt*Math.PI/180),dt=pt.rotate(-rt*Math.PI/180),mt=new Ne.Point(Math.max(ft.x,dt.x),Math.max(ft.y,dt.y)),yt=new Ne.Point(Math.min(ft.x,dt.x),Math.min(ft.y,dt.y)),vt=mt.sub(yt),Rt=(at.width-(st.left+st.right+nt.padding.left+nt.padding.right))/vt.x,Dt=(at.height-(st.top+st.bottom+nt.padding.top+nt.padding.bottom))/vt.y;if(!(Dt<0||Rt<0)){var Ot=Math.min(at.scaleZoom(at.scale*Math.min(Rt,Dt)),nt.maxZoom),Bt=Ne.Point.convert(nt.offset),er=new Ne.Point(Bt.x+(nt.padding.left-nt.padding.right)/2,Bt.y+(nt.padding.top-nt.padding.bottom)/2).mult(at.scale/at.zoomScale(Ot));return{center:at.unproject(ct.add(pt).div(2).sub(er)),zoom:Ot,bearing:rt}}Ne.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},i.prototype.fitBounds=function(Ne,et,tt){return this._fitInternal(this.cameraForBounds(Ne,et),et,tt)},i.prototype.fitScreenCoordinates=function(et,tt,rt,nt,it){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(Ne.Point.convert(et)),this.transform.pointLocation(Ne.Point.convert(tt)),rt,nt),nt,it)},i.prototype._fitInternal=function(et,tt,rt){return et?(delete(tt=Ne.extend(et,tt)).padding,tt.linear?this.easeTo(tt,rt):this.flyTo(tt,rt)):this},i.prototype.jumpTo=function(et,tt){this.stop();var rt=this.transform,nt=!1,it=!1,ot=!1;return"zoom"in et&&rt.zoom!==+et.zoom&&(nt=!0,rt.zoom=+et.zoom),void 0!==et.center&&(rt.center=Ne.LngLat.convert(et.center)),"bearing"in et&&rt.bearing!==+et.bearing&&(it=!0,rt.bearing=+et.bearing),"pitch"in et&&rt.pitch!==+et.pitch&&(ot=!0,rt.pitch=+et.pitch),null==et.padding||rt.isPaddingEqual(et.padding)||(rt.padding=et.padding),this.fire(new Ne.Event("movestart",tt)).fire(new Ne.Event("move",tt)),nt&&this.fire(new Ne.Event("zoomstart",tt)).fire(new Ne.Event("zoom",tt)).fire(new Ne.Event("zoomend",tt)),it&&this.fire(new Ne.Event("rotatestart",tt)).fire(new Ne.Event("rotate",tt)).fire(new Ne.Event("rotateend",tt)),ot&&this.fire(new Ne.Event("pitchstart",tt)).fire(new Ne.Event("pitch",tt)).fire(new Ne.Event("pitchend",tt)),this.fire(new Ne.Event("moveend",tt))},i.prototype.easeTo=function(et,tt){var rt=this;this._stop(!1,et.easeId),(!1===(et=Ne.extend({offset:[0,0],duration:500,easing:Ne.ease},et)).animate||!et.essential&&Ne.browser.prefersReducedMotion)&&(et.duration=0);var nt=this.transform,it=this.getZoom(),ot=this.getBearing(),at=this.getPitch(),st=this.getPadding(),ct="zoom"in et?+et.zoom:it,pt="bearing"in et?this._normalizeBearing(et.bearing,ot):ot,ft="pitch"in et?+et.pitch:at,dt="padding"in et?et.padding:nt.padding,mt=Ne.Point.convert(et.offset),yt=nt.centerPoint.add(mt),vt=nt.pointLocation(yt),Rt=Ne.LngLat.convert(et.center||vt);this._normalizeCenter(Rt);var Dt,Ot,Bt=nt.project(vt),er=nt.project(Rt).sub(Bt),rr=nt.zoomScale(ct-it);et.around&&(Dt=Ne.LngLat.convert(et.around),Ot=nt.locationPoint(Dt));var vr={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ct!==it,this._rotating=this._rotating||ot!==pt,this._pitching=this._pitching||ft!==at,this._padding=!nt.isPaddingEqual(dt),this._easeId=et.easeId,this._prepareEase(tt,et.noMoveStart,vr),clearTimeout(this._easeEndTimeoutID),this._ease((function(et){if(rt._zooming&&(nt.zoom=Ne.number(it,ct,et)),rt._rotating&&(nt.bearing=Ne.number(ot,pt,et)),rt._pitching&&(nt.pitch=Ne.number(at,ft,et)),rt._padding&&(nt.interpolatePadding(st,dt,et),yt=nt.centerPoint.add(mt)),Dt)nt.setLocationAtPoint(Dt,Ot);else{var vt=nt.zoomScale(nt.zoom-it),Rt=ct>it?Math.min(2,rr):Math.max(.5,rr),vr=Math.pow(Rt,1-et),wr=nt.unproject(Bt.add(er.mult(et*vr)).mult(vt));nt.setLocationAtPoint(nt.renderWorldCopies?wr.wrap():wr,yt)}rt._fireMoveEvents(tt)}),(function(Ne){rt._afterEase(tt,Ne)}),et),this},i.prototype._prepareEase=function(et,tt,rt){void 0===rt&&(rt={}),this._moving=!0,tt||rt.moving||this.fire(new Ne.Event("movestart",et)),this._zooming&&!rt.zooming&&this.fire(new Ne.Event("zoomstart",et)),this._rotating&&!rt.rotating&&this.fire(new Ne.Event("rotatestart",et)),this._pitching&&!rt.pitching&&this.fire(new Ne.Event("pitchstart",et))},i.prototype._fireMoveEvents=function(et){this.fire(new Ne.Event("move",et)),this._zooming&&this.fire(new Ne.Event("zoom",et)),this._rotating&&this.fire(new Ne.Event("rotate",et)),this._pitching&&this.fire(new Ne.Event("pitch",et))},i.prototype._afterEase=function(et,tt){if(!this._easeId||!tt||this._easeId!==tt){delete this._easeId;var rt=this._zooming,nt=this._rotating,it=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,rt&&this.fire(new Ne.Event("zoomend",et)),nt&&this.fire(new Ne.Event("rotateend",et)),it&&this.fire(new Ne.Event("pitchend",et)),this.fire(new Ne.Event("moveend",et))}},i.prototype.flyTo=function(et,tt){var rt=this;if(!et.essential&&Ne.browser.prefersReducedMotion){var nt=Ne.pick(et,["center","zoom","bearing","pitch","around"]);return this.jumpTo(nt,tt)}this.stop(),et=Ne.extend({offset:[0,0],speed:1.2,curve:1.42,easing:Ne.ease},et);var it=this.transform,ot=this.getZoom(),at=this.getBearing(),st=this.getPitch(),ct=this.getPadding(),pt="zoom"in et?Ne.clamp(+et.zoom,it.minZoom,it.maxZoom):ot,ft="bearing"in et?this._normalizeBearing(et.bearing,at):at,dt="pitch"in et?+et.pitch:st,mt="padding"in et?et.padding:it.padding,yt=it.zoomScale(pt-ot),vt=Ne.Point.convert(et.offset),Rt=it.centerPoint.add(vt),Dt=it.pointLocation(Rt),Ot=Ne.LngLat.convert(et.center||Dt);this._normalizeCenter(Ot);var Bt=it.project(Dt),er=it.project(Ot).sub(Bt),rr=et.curve,vr=Math.max(it.width,it.height),wr=vr/yt,Sr=er.mag();if("minZoom"in et){var rn=Ne.clamp(Math.min(et.minZoom,ot,pt),it.minZoom,it.maxZoom),vn=vr/it.zoomScale(rn-ot);rr=Math.sqrt(vn/Sr*2)}var bn=rr*rr;function C(Ne){var et=(wr*wr-vr*vr+(Ne?-1:1)*bn*bn*Sr*Sr)/(2*(Ne?wr:vr)*bn*Sr);return Math.log(Math.sqrt(et*et+1)-et)}function z(Ne){return(Math.exp(Ne)-Math.exp(-Ne))/2}function D(Ne){return(Math.exp(Ne)+Math.exp(-Ne))/2}var Tn=C(0),L=function(Ne){return D(Tn)/D(Tn+rr*Ne)},A=function(Ne){return vr*((D(Tn)*(z(et=Tn+rr*Ne)/D(et))-z(Tn))/bn)/Sr;var et},Cn=(C(1)-Tn)/rr;if(Math.abs(Sr)<1e-6||!isFinite(Cn)){if(Math.abs(vr-wr)<1e-6)return this.easeTo(et,tt);var In=wr<vr?-1:1;Cn=Math.abs(Math.log(wr/vr))/rr,A=function(){return 0},L=function(Ne){return Math.exp(In*rr*Ne)}}return et.duration="duration"in et?+et.duration:1e3*Cn/("screenSpeed"in et?+et.screenSpeed/rr:+et.speed),et.maxDuration&&et.duration>et.maxDuration&&(et.duration=0),this._zooming=!0,this._rotating=at!==ft,this._pitching=dt!==st,this._padding=!it.isPaddingEqual(mt),this._prepareEase(tt,!1),this._ease((function(et){var nt=et*Cn,yt=1/L(nt);it.zoom=1===et?pt:ot+it.scaleZoom(yt),rt._rotating&&(it.bearing=Ne.number(at,ft,et)),rt._pitching&&(it.pitch=Ne.number(st,dt,et)),rt._padding&&(it.interpolatePadding(ct,mt,et),Rt=it.centerPoint.add(vt));var Dt=1===et?Ot:it.unproject(Bt.add(er.mult(A(nt))).mult(yt));it.setLocationAtPoint(it.renderWorldCopies?Dt.wrap():Dt,Rt),rt._fireMoveEvents(tt)}),(function(){return rt._afterEase(tt)}),et),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){return this._stop()},i.prototype._stop=function(Ne,et){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var tt=this._onEaseEnd;delete this._onEaseEnd,tt.call(this,et)}if(!Ne){var rt=this.handlers;rt&&rt.stop()}return this},i.prototype._ease=function(et,tt,rt){!1===rt.animate||0===rt.duration?(et(1),tt()):(this._easeStart=Ne.browser.now(),this._easeOptions=rt,this._onEaseFrame=et,this._onEaseEnd=tt,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var et=Math.min((Ne.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(et)),et<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(et,tt){et=Ne.wrap(et,-180,180);var rt=Math.abs(et-tt);return Math.abs(et-360-tt)<rt&&(et-=360),Math.abs(et+360-tt)<rt&&(et+=360),et},i.prototype._normalizeCenter=function(Ne){var et=this.transform;if(et.renderWorldCopies&&!et.lngRange){var tt=Ne.lng-et.center.lng;Ne.lng+=tt>180?-360:tt<-180?360:0}},i}(Ne.Evented),yr=function(et){void 0===et&&(et={}),this.options=et,Ne.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};yr.prototype.getDefaultPosition=function(){return"bottom-right"},yr.prototype.onAdd=function(Ne){var et=this.options&&this.options.compact;return this._map=Ne,this._container=tt.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=tt.create("div","mapboxgl-ctrl-attrib-inner",this._container),et&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===et&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},yr.prototype.onRemove=function(){tt.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},yr.prototype._updateEditLink=function(){var et=this._editLink;et||(et=this._editLink=this._container.querySelector(".mapbox-improve-map"));var tt=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||Ne.config.ACCESS_TOKEN}];if(et){var rt=tt.reduce((function(Ne,et,rt){return et.value&&(Ne+=et.key+"="+et.value+(rt<tt.length-1?"&":"")),Ne}),"?");et.href=Ne.config.FEEDBACK_URL+"/"+rt+(this._map._hash?this._map._hash.getHashString(!0):""),et.rel="noopener nofollow"}},yr.prototype._updateData=function(Ne){!Ne||"metadata"!==Ne.sourceDataType&&"style"!==Ne.dataType||(this._updateAttributions(),this._updateEditLink())},yr.prototype._updateAttributions=function(){if(this._map.style){var Ne=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Ne=Ne.concat(this.options.customAttribution.map((function(Ne){return"string"!=typeof Ne?"":Ne}))):"string"==typeof this.options.customAttribution&&Ne.push(this.options.customAttribution)),this._map.style.stylesheet){var et=this._map.style.stylesheet;this.styleOwner=et.owner,this.styleId=et.id}var tt=this._map.style.sourceCaches;for(var rt in tt){var nt=tt[rt];if(nt.used){var it=nt.getSource();it.attribution&&Ne.indexOf(it.attribution)<0&&Ne.push(it.attribution)}}Ne.sort((function(Ne,et){return Ne.length-et.length}));var ot=(Ne=Ne.filter((function(et,tt){for(var rt=tt+1;rt<Ne.length;rt++)if(Ne[rt].indexOf(et)>=0)return!1;return!0}))).join(" | ");ot!==this._attribHTML&&(this._attribHTML=ot,Ne.length?(this._innerContainer.innerHTML=ot,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},yr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var xr=function(){Ne.bindAll(["_updateLogo"],this),Ne.bindAll(["_updateCompact"],this)};xr.prototype.onAdd=function(Ne){this._map=Ne,this._container=tt.create("div","mapboxgl-ctrl");var et=tt.create("a","mapboxgl-ctrl-logo");return et.target="_blank",et.rel="noopener nofollow",et.href="https://www.mapbox.com/",et.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),et.setAttribute("rel","noopener nofollow"),this._container.appendChild(et),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},xr.prototype.onRemove=function(){tt.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},xr.prototype.getDefaultPosition=function(){return"bottom-left"},xr.prototype._updateLogo=function(Ne){Ne&&"metadata"!==Ne.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},xr.prototype._logoRequired=function(){if(this._map.style){var Ne=this._map.style.sourceCaches;for(var et in Ne)if(Ne[et].getSource().mapbox_logo)return!0;return!1}},xr.prototype._updateCompact=function(){var Ne=this._container.children;if(Ne.length){var et=Ne[0];this._map.getCanvasContainer().offsetWidth<250?et.classList.add("mapboxgl-compact"):et.classList.remove("mapboxgl-compact")}};var br=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};br.prototype.add=function(Ne){var et=++this._id;return this._queue.push({callback:Ne,id:et,cancelled:!1}),et},br.prototype.remove=function(Ne){for(var et=this._currentlyRunning,tt=0,rt=et?this._queue.concat(et):this._queue;tt<rt.length;tt+=1){var nt=rt[tt];if(nt.id===Ne)return void(nt.cancelled=!0)}},br.prototype.run=function(Ne){void 0===Ne&&(Ne=0);var et=this._currentlyRunning=this._queue;this._queue=[];for(var tt=0,rt=et;tt<rt.length;tt+=1){var nt=rt[tt];if(!nt.cancelled&&(nt.callback(Ne),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},br.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var sp={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},lp=Ne.window.HTMLImageElement,cp=Ne.window.HTMLElement,pp=Ne.window.ImageBitmap,hp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},fp=function(rt){function r(et){var tt=this;if(null!=(et=Ne.extend({},hp,et)).minZoom&&null!=et.maxZoom&&et.minZoom>et.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=et.minPitch&&null!=et.maxPitch&&et.minPitch>et.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=et.minPitch&&et.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=et.maxPitch&&et.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var nt=new To(et.minZoom,et.maxZoom,et.minPitch,et.maxPitch,et.renderWorldCopies);if(rt.call(this,nt,et),this._interactive=et.interactive,this._maxTileCacheSize=et.maxTileCacheSize,this._failIfMajorPerformanceCaveat=et.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=et.preserveDrawingBuffer,this._antialias=et.antialias,this._trackResize=et.trackResize,this._bearingSnap=et.bearingSnap,this._refreshExpiredTiles=et.refreshExpiredTiles,this._fadeDuration=et.fadeDuration,this._crossSourceCollisions=et.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=et.collectResourceTiming,this._renderTaskQueue=new br,this._controls=[],this._mapId=Ne.uniqueId(),this._locale=Ne.extend({},sp,et.locale),this._requestManager=new Ne.RequestManager(et.transformRequest,et.accessToken),"string"==typeof et.container){if(this._container=Ne.window.document.getElementById(et.container),!this._container)throw new Error("Container '"+et.container+"' not found.")}else{if(!(et.container instanceof cp))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=et.container}if(et.maxBounds&&this.setMaxBounds(et.maxBounds),Ne.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return tt._update(!1)})),this.on("moveend",(function(){return tt._update(!1)})),this.on("zoom",(function(){return tt._update(!0)})),void 0!==Ne.window&&(Ne.window.addEventListener("online",this._onWindowOnline,!1),Ne.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new gr(this,et),this._hash=et.hash&&new Io("string"==typeof et.hash&&et.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:et.center,zoom:et.zoom,bearing:et.bearing,pitch:et.pitch}),et.bounds&&(this.resize(),this.fitBounds(et.bounds,Ne.extend({},et.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=et.localIdeographFontFamily,et.style&&this.setStyle(et.style,{localIdeographFontFamily:et.localIdeographFontFamily}),et.attributionControl&&this.addControl(new yr({customAttribution:et.customAttribution})),this.addControl(new xr,et.logoPosition),this.on("style.load",(function(){tt.transform.unmodified&&tt.jumpTo(tt.style.stylesheet)})),this.on("data",(function(et){tt._update("style"===et.dataType),tt.fire(new Ne.Event(et.dataType+"data",et))})),this.on("dataloading",(function(et){tt.fire(new Ne.Event(et.dataType+"dataloading",et))}))}rt&&(r.__proto__=rt),(r.prototype=Object.create(rt&&rt.prototype)).constructor=r;var nt={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return r.prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(et,tt){if(void 0===tt&&et.getDefaultPosition&&(tt=et.getDefaultPosition()),void 0===tt&&(tt="top-right"),!et||!et.onAdd)return this.fire(new Ne.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var rt=et.onAdd(this);this._controls.push(et);var nt=this._controlPositions[tt];return-1!==tt.indexOf("bottom")?nt.insertBefore(rt,nt.firstChild):nt.appendChild(rt),this},r.prototype.removeControl=function(et){if(!et||!et.onRemove)return this.fire(new Ne.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var tt=this._controls.indexOf(et);return tt>-1&&this._controls.splice(tt,1),et.onRemove(this),this},r.prototype.resize=function(et){var tt=this._containerDimensions(),rt=tt[0],nt=tt[1];this._resizeCanvas(rt,nt),this.transform.resize(rt,nt),this.painter.resize(rt,nt);var it=!this._moving;return it&&(this.stop(),this.fire(new Ne.Event("movestart",et)).fire(new Ne.Event("move",et))),this.fire(new Ne.Event("resize",et)),it&&this.fire(new Ne.Event("moveend",et)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(et){return this.transform.setMaxBounds(Ne.LngLatBounds.convert(et)),this._update()},r.prototype.setMinZoom=function(Ne){if((Ne=null==Ne?-2:Ne)>=-2&&Ne<=this.transform.maxZoom)return this.transform.minZoom=Ne,this._update(),this.getZoom()<Ne&&this.setZoom(Ne),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(Ne){if((Ne=null==Ne?22:Ne)>=this.transform.minZoom)return this.transform.maxZoom=Ne,this._update(),this.getZoom()>Ne&&this.setZoom(Ne),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.setMinPitch=function(Ne){if((Ne=null==Ne?0:Ne)<0)throw new Error("minPitch must be greater than or equal to 0");if(Ne>=0&&Ne<=this.transform.maxPitch)return this.transform.minPitch=Ne,this._update(),this.getPitch()<Ne&&this.setPitch(Ne),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},r.prototype.getMinPitch=function(){return this.transform.minPitch},r.prototype.setMaxPitch=function(Ne){if((Ne=null==Ne?60:Ne)>60)throw new Error("maxPitch must be less than or equal to 60");if(Ne>=this.transform.minPitch)return this.transform.maxPitch=Ne,this._update(),this.getPitch()>Ne&&this.setPitch(Ne),this;throw new Error("maxPitch must be greater than the current minPitch")},r.prototype.getMaxPitch=function(){return this.transform.maxPitch},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(Ne){return this.transform.renderWorldCopies=Ne,this._update()},r.prototype.project=function(et){return this.transform.locationPoint(Ne.LngLat.convert(et))},r.prototype.unproject=function(et){return this.transform.pointLocation(Ne.Point.convert(et))},r.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},r.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},r.prototype._createDelegatedListener=function(Ne,et,tt){var rt,nt=this;if("mouseenter"===Ne||"mouseover"===Ne){var it=!1;return{layer:et,listener:tt,delegates:{mousemove:function(rt){var ot=nt.getLayer(et)?nt.queryRenderedFeatures(rt.point,{layers:[et]}):[];ot.length?it||(it=!0,tt.call(nt,new Fc(Ne,nt,rt.originalEvent,{features:ot}))):it=!1},mouseout:function(){it=!1}}}}if("mouseleave"===Ne||"mouseout"===Ne){var ot=!1;return{layer:et,listener:tt,delegates:{mousemove:function(rt){(nt.getLayer(et)?nt.queryRenderedFeatures(rt.point,{layers:[et]}):[]).length?ot=!0:ot&&(ot=!1,tt.call(nt,new Fc(Ne,nt,rt.originalEvent)))},mouseout:function(et){ot&&(ot=!1,tt.call(nt,new Fc(Ne,nt,et.originalEvent)))}}}}return{layer:et,listener:tt,delegates:(rt={},rt[Ne]=function(Ne){var rt=nt.getLayer(et)?nt.queryRenderedFeatures(Ne.point,{layers:[et]}):[];rt.length&&(Ne.features=rt,tt.call(nt,Ne),delete Ne.features)},rt)}},r.prototype.on=function(Ne,et,tt){if(void 0===tt)return rt.prototype.on.call(this,Ne,et);var nt=this._createDelegatedListener(Ne,et,tt);for(var it in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[Ne]=this._delegatedListeners[Ne]||[],this._delegatedListeners[Ne].push(nt),nt.delegates)this.on(it,nt.delegates[it]);return this},r.prototype.once=function(Ne,et,tt){if(void 0===tt)return rt.prototype.once.call(this,Ne,et);var nt=this._createDelegatedListener(Ne,et,tt);for(var it in nt.delegates)this.once(it,nt.delegates[it]);return this},r.prototype.off=function(Ne,et,tt){var nt=this;return void 0===tt?rt.prototype.off.call(this,Ne,et):(this._delegatedListeners&&this._delegatedListeners[Ne]&&function(rt){for(var it=rt[Ne],ot=0;ot<it.length;ot++){var at=it[ot];if(at.layer===et&&at.listener===tt){for(var st in at.delegates)nt.off(st,at.delegates[st]);return it.splice(ot,1),nt}}}(this._delegatedListeners),this)},r.prototype.queryRenderedFeatures=function(et,tt){if(!this.style)return[];var rt;if(void 0!==tt||void 0===et||et instanceof Ne.Point||Array.isArray(et)||(tt=et,et=void 0),tt=tt||{},(et=et||[[0,0],[this.transform.width,this.transform.height]])instanceof Ne.Point||"number"==typeof et[0])rt=[Ne.Point.convert(et)];else{var nt=Ne.Point.convert(et[0]),it=Ne.Point.convert(et[1]);rt=[nt,new Ne.Point(it.x,nt.y),it,new Ne.Point(nt.x,it.y),nt]}return this.style.queryRenderedFeatures(rt,tt,this.transform)},r.prototype.querySourceFeatures=function(Ne,et){return this.style.querySourceFeatures(Ne,et)},r.prototype.setStyle=function(et,tt){return!1!==(tt=Ne.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},tt)).diff&&tt.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&et?(this._diffStyle(et,tt),this):(this._localIdeographFontFamily=tt.localIdeographFontFamily,this._updateStyle(et,tt))},r.prototype._getUIString=function(Ne){var et=this._locale[Ne];if(null==et)throw new Error("Missing UI string '"+Ne+"'");return et},r.prototype._updateStyle=function(Ne,et){return this.style&&(this.style.setEventedParent(null),this.style._remove()),Ne?(this.style=new Vs(this,et||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof Ne?this.style.loadURL(Ne):this.style.loadJSON(Ne),this):(delete this.style,this)},r.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Vs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},r.prototype._diffStyle=function(et,tt){var rt=this;if("string"==typeof et){var nt=this._requestManager.normalizeStyleURL(et),it=this._requestManager.transformRequest(nt,Ne.ResourceType.Style);Ne.getJSON(it,(function(et,nt){et?rt.fire(new Ne.ErrorEvent(et)):nt&&rt._updateDiff(nt,tt)}))}else"object"==typeof et&&this._updateDiff(et,tt)},r.prototype._updateDiff=function(et,tt){try{this.style.setState(et)&&this._update(!0)}catch(rt){Ne.warnOnce("Unable to perform style diff: "+(rt.message||rt.error||rt)+".  Rebuilding the style from scratch."),this._updateStyle(et,tt)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():Ne.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(Ne,et){return this._lazyInitEmptyStyle(),this.style.addSource(Ne,et),this._update(!0)},r.prototype.isSourceLoaded=function(et){var tt=this.style&&this.style.sourceCaches[et];if(void 0!==tt)return tt.loaded();this.fire(new Ne.ErrorEvent(new Error("There is no source with ID '"+et+"'")))},r.prototype.areTilesLoaded=function(){var Ne=this.style&&this.style.sourceCaches;for(var et in Ne){var tt=Ne[et]._tiles;for(var rt in tt){var nt=tt[rt];if("loaded"!==nt.state&&"errored"!==nt.state)return!1}}return!0},r.prototype.addSourceType=function(Ne,et,tt){return this._lazyInitEmptyStyle(),this.style.addSourceType(Ne,et,tt)},r.prototype.removeSource=function(Ne){return this.style.removeSource(Ne),this._update(!0)},r.prototype.getSource=function(Ne){return this.style.getSource(Ne)},r.prototype.addImage=function(et,tt,rt){void 0===rt&&(rt={});var nt=rt.pixelRatio;void 0===nt&&(nt=1);var it=rt.sdf;void 0===it&&(it=!1);var ot=rt.stretchX,at=rt.stretchY,st=rt.content;if(this._lazyInitEmptyStyle(),tt instanceof lp||pp&&tt instanceof pp){var ct=Ne.browser.getImageData(tt);this.style.addImage(et,{data:new Ne.RGBAImage({width:ct.width,height:ct.height},ct.data),pixelRatio:nt,stretchX:ot,stretchY:at,content:st,sdf:it,version:0})}else{if(void 0===tt.width||void 0===tt.height)return this.fire(new Ne.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var pt=tt;this.style.addImage(et,{data:new Ne.RGBAImage({width:tt.width,height:tt.height},new Uint8Array(tt.data)),pixelRatio:nt,stretchX:ot,stretchY:at,content:st,sdf:it,version:0,userImage:pt}),pt.onAdd&&pt.onAdd(this,et)}},r.prototype.updateImage=function(et,tt){var rt=this.style.getImage(et);if(!rt)return this.fire(new Ne.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var nt=tt instanceof lp||pp&&tt instanceof pp?Ne.browser.getImageData(tt):tt,it=nt.width,ot=nt.height,at=nt.data;return void 0===it||void 0===ot?this.fire(new Ne.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):it!==rt.data.width||ot!==rt.data.height?this.fire(new Ne.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(rt.data.replace(at,!(tt instanceof lp||pp&&tt instanceof pp)),void this.style.updateImage(et,rt))},r.prototype.hasImage=function(et){return et?!!this.style.getImage(et):(this.fire(new Ne.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(Ne){this.style.removeImage(Ne)},r.prototype.loadImage=function(et,tt){Ne.getImage(this._requestManager.transformRequest(et,Ne.ResourceType.Image),tt)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(Ne,et){return this._lazyInitEmptyStyle(),this.style.addLayer(Ne,et),this._update(!0)},r.prototype.moveLayer=function(Ne,et){return this.style.moveLayer(Ne,et),this._update(!0)},r.prototype.removeLayer=function(Ne){return this.style.removeLayer(Ne),this._update(!0)},r.prototype.getLayer=function(Ne){return this.style.getLayer(Ne)},r.prototype.setLayerZoomRange=function(Ne,et,tt){return this.style.setLayerZoomRange(Ne,et,tt),this._update(!0)},r.prototype.setFilter=function(Ne,et,tt){return void 0===tt&&(tt={}),this.style.setFilter(Ne,et,tt),this._update(!0)},r.prototype.getFilter=function(Ne){return this.style.getFilter(Ne)},r.prototype.setPaintProperty=function(Ne,et,tt,rt){return void 0===rt&&(rt={}),this.style.setPaintProperty(Ne,et,tt,rt),this._update(!0)},r.prototype.getPaintProperty=function(Ne,et){return this.style.getPaintProperty(Ne,et)},r.prototype.setLayoutProperty=function(Ne,et,tt,rt){return void 0===rt&&(rt={}),this.style.setLayoutProperty(Ne,et,tt,rt),this._update(!0)},r.prototype.getLayoutProperty=function(Ne,et){return this.style.getLayoutProperty(Ne,et)},r.prototype.setLight=function(Ne,et){return void 0===et&&(et={}),this._lazyInitEmptyStyle(),this.style.setLight(Ne,et),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(Ne,et){return this.style.setFeatureState(Ne,et),this._update()},r.prototype.removeFeatureState=function(Ne,et){return this.style.removeFeatureState(Ne,et),this._update()},r.prototype.getFeatureState=function(Ne){return this.style.getFeatureState(Ne)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var Ne=0,et=0;return this._container&&(Ne=this._container.clientWidth||400,et=this._container.clientHeight||300),[Ne,et]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==Ne.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&Ne.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var Ne=this._container;Ne.classList.add("mapboxgl-map"),(this._missingCSSCanary=tt.create("div","mapboxgl-canary",Ne)).style.visibility="hidden",this._detectMissingCSS();var et=this._canvasContainer=tt.create("div","mapboxgl-canvas-container",Ne);this._interactive&&et.classList.add("mapboxgl-interactive"),this._canvas=tt.create("canvas","mapboxgl-canvas",et),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var rt=this._containerDimensions();this._resizeCanvas(rt[0],rt[1]);var nt=this._controlContainer=tt.create("div","mapboxgl-control-container",Ne),it=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(Ne){it[Ne]=tt.create("div","mapboxgl-ctrl-"+Ne,nt)}))},r.prototype._resizeCanvas=function(et,tt){var rt=Ne.browser.devicePixelRatio||1;this._canvas.width=rt*et,this._canvas.height=rt*tt,this._canvas.style.width=et+"px",this._canvas.style.height=tt+"px"},r.prototype._setupPainter=function(){var tt=Ne.extend({},et.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),rt=this._canvas.getContext("webgl",tt)||this._canvas.getContext("experimental-webgl",tt);rt?(this.painter=new yo(rt,this.transform),Ne.webpSupported.testSupport(rt)):this.fire(new Ne.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(et){et.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new Ne.Event("webglcontextlost",{originalEvent:et}))},r.prototype._contextRestored=function(et){this._setupPainter(),this.resize(),this._update(),this.fire(new Ne.Event("webglcontextrestored",{originalEvent:et}))},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(Ne){return this.style?(this._styleDirty=this._styleDirty||Ne,this._sourcesDirty=!0,this.triggerRepaint(),this):this},r.prototype._requestRenderFrame=function(Ne){return this._update(),this._renderTaskQueue.add(Ne)},r.prototype._cancelRenderFrame=function(Ne){this._renderTaskQueue.remove(Ne)},r.prototype._render=function(et){var tt,rt=this,nt=0,it=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(tt=it.createQueryEXT(),it.beginQueryEXT(it.TIME_ELAPSED_EXT,tt),nt=Ne.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(et),!this._removed){var ot=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var at=this.transform.zoom,st=Ne.browser.now();this.style.zoomHistory.update(at,st);var ct=new Ne.EvaluationParameters(at,{now:st,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),pt=ct.crossFadingFactor();1===pt&&pt===this._crossFadingFactor||(ot=!0,this._crossFadingFactor=pt),this.style.update(ct)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new Ne.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new Ne.Event("load"))),this.style&&(this.style.hasTransitions()||ot)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var ft=Ne.browser.now()-nt;it.endQueryEXT(it.TIME_ELAPSED_EXT,tt),setTimeout((function(){var et=it.getQueryObjectEXT(tt,it.QUERY_RESULT_EXT)/1e6;it.deleteQueryEXT(tt),rt.fire(new Ne.Event("gpu-timing-frame",{cpuTime:ft,gpuTime:et}))}),50)}if(this.listens("gpu-timing-layer")){var dt=this.painter.collectGpuTimers();setTimeout((function(){var et=rt.painter.queryGpuTimers(dt);rt.fire(new Ne.Event("gpu-timing-layer",{layerTimes:et}))}),50)}var mt=this._sourcesDirty||this._styleDirty||this._placementDirty;return mt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new Ne.Event("idle")),!this._loaded||this._fullyLoaded||mt||(this._fullyLoaded=!0),this}},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var et=0,tt=this._controls;et<tt.length;et+=1)tt[et].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==Ne.window&&(Ne.window.removeEventListener("resize",this._onWindowResize,!1),Ne.window.removeEventListener("online",this._onWindowOnline,!1));var rt=this.painter.context.gl.getExtension("WEBGL_lose_context");rt&&rt.loseContext(),Cr(this._canvasContainer),Cr(this._controlContainer),Cr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new Ne.Event("remove"))},r.prototype.triggerRepaint=function(){var et=this;this.style&&!this._frame&&(this._frame=Ne.browser.frame((function(Ne){et._frame=null,et._render(Ne)})))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(Ne){this._trackResize&&this.resize({originalEvent:Ne})._update()},nt.showTileBoundaries.get=function(){return!!this._showTileBoundaries},nt.showTileBoundaries.set=function(Ne){this._showTileBoundaries!==Ne&&(this._showTileBoundaries=Ne,this._update())},nt.showPadding.get=function(){return!!this._showPadding},nt.showPadding.set=function(Ne){this._showPadding!==Ne&&(this._showPadding=Ne,this._update())},nt.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},nt.showCollisionBoxes.set=function(Ne){this._showCollisionBoxes!==Ne&&(this._showCollisionBoxes=Ne,Ne?this.style._generateCollisionBoxes():this._update())},nt.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},nt.showOverdrawInspector.set=function(Ne){this._showOverdrawInspector!==Ne&&(this._showOverdrawInspector=Ne,this._update())},nt.repaint.get=function(){return!!this._repaint},nt.repaint.set=function(Ne){this._repaint!==Ne&&(this._repaint=Ne,this.triggerRepaint())},nt.vertices.get=function(){return!!this._vertices},nt.vertices.set=function(Ne){this._vertices=Ne,this._update()},r.prototype._setCacheLimits=function(et,tt){Ne.setCacheLimits(et,tt)},nt.version.get=function(){return Ne.version},Object.defineProperties(r.prototype,nt),r}(ap);function Cr(Ne){Ne.parentNode&&Ne.parentNode.removeChild(Ne)}var dp={showCompass:!0,showZoom:!0,visualizePitch:!1},Dr=function(et){var rt=this;this.options=Ne.extend({},dp,et),this._container=tt.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(Ne){return Ne.preventDefault()})),this.options.showZoom&&(Ne.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(Ne){return rt._map.zoomIn({},{originalEvent:Ne})})),tt.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(Ne){return rt._map.zoomOut({},{originalEvent:Ne})})),tt.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(Ne.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(Ne){rt.options.visualizePitch?rt._map.resetNorthPitch({},{originalEvent:Ne}):rt._map.resetNorth({},{originalEvent:Ne})})),this._compassIcon=tt.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Dr.prototype._updateZoomButtons=function(){var Ne=this._map.getZoom();this._zoomInButton.disabled=Ne===this._map.getMaxZoom(),this._zoomOutButton.disabled=Ne===this._map.getMinZoom()},Dr.prototype._rotateCompassArrow=function(){var Ne=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Ne},Dr.prototype.onAdd=function(Ne){return this._map=Ne,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Mr(this._map,this._compass,this.options.visualizePitch)),this._container},Dr.prototype.onRemove=function(){tt.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Dr.prototype._createButton=function(Ne,et){var rt=tt.create("button",Ne,this._container);return rt.type="button",rt.addEventListener("click",et),rt},Dr.prototype._setButtonTitle=function(Ne,et){var tt=this._map._getUIString("NavigationControl."+et);Ne.title=tt,Ne.setAttribute("aria-label",tt)};var Mr=function(et,rt,nt){void 0===nt&&(nt=!1),this._clickTolerance=10,this.element=rt,this.mouseRotate=new $c({clickTolerance:et.dragRotate._mouseRotate._clickTolerance}),this.map=et,nt&&(this.mousePitch=new Hc({clickTolerance:et.dragRotate._mousePitch._clickTolerance})),Ne.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),tt.addEventListener(rt,"mousedown",this.mousedown),tt.addEventListener(rt,"touchstart",this.touchstart,{passive:!1}),tt.addEventListener(rt,"touchmove",this.touchmove),tt.addEventListener(rt,"touchend",this.touchend),tt.addEventListener(rt,"touchcancel",this.reset)};function Lr(et,tt,rt){if(et=new Ne.LngLat(et.lng,et.lat),tt){var nt=new Ne.LngLat(et.lng-360,et.lat),it=new Ne.LngLat(et.lng+360,et.lat),ot=rt.locationPoint(et).distSqr(tt);rt.locationPoint(nt).distSqr(tt)<ot?et=nt:rt.locationPoint(it).distSqr(tt)<ot&&(et=it)}for(;Math.abs(et.lng-rt.center.lng)>180;){var at=rt.locationPoint(et);if(at.x>=0&&at.y>=0&&at.x<=rt.width&&at.y<=rt.height)break;et.lng>rt.center.lng?et.lng-=360:et.lng+=360}return et}Mr.prototype.down=function(Ne,et){this.mouseRotate.mousedown(Ne,et),this.mousePitch&&this.mousePitch.mousedown(Ne,et),tt.disableDrag()},Mr.prototype.move=function(Ne,et){var tt=this.map,rt=this.mouseRotate.mousemoveWindow(Ne,et);if(rt&&rt.bearingDelta&&tt.setBearing(tt.getBearing()+rt.bearingDelta),this.mousePitch){var nt=this.mousePitch.mousemoveWindow(Ne,et);nt&&nt.pitchDelta&&tt.setPitch(tt.getPitch()+nt.pitchDelta)}},Mr.prototype.off=function(){var Ne=this.element;tt.removeEventListener(Ne,"mousedown",this.mousedown),tt.removeEventListener(Ne,"touchstart",this.touchstart,{passive:!1}),tt.removeEventListener(Ne,"touchmove",this.touchmove),tt.removeEventListener(Ne,"touchend",this.touchend),tt.removeEventListener(Ne,"touchcancel",this.reset),this.offTemp()},Mr.prototype.offTemp=function(){tt.enableDrag(),tt.removeEventListener(Ne.window,"mousemove",this.mousemove),tt.removeEventListener(Ne.window,"mouseup",this.mouseup)},Mr.prototype.mousedown=function(et){this.down(Ne.extend({},et,{ctrlKey:!0,preventDefault:function(){return et.preventDefault()}}),tt.mousePos(this.element,et)),tt.addEventListener(Ne.window,"mousemove",this.mousemove),tt.addEventListener(Ne.window,"mouseup",this.mouseup)},Mr.prototype.mousemove=function(Ne){this.move(Ne,tt.mousePos(this.element,Ne))},Mr.prototype.mouseup=function(Ne){this.mouseRotate.mouseupWindow(Ne),this.mousePitch&&this.mousePitch.mouseupWindow(Ne),this.offTemp()},Mr.prototype.touchstart=function(Ne){1!==Ne.targetTouches.length?this.reset():(this._startPos=this._lastPos=tt.touchPos(this.element,Ne.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Ne.preventDefault()}},this._startPos))},Mr.prototype.touchmove=function(Ne){1!==Ne.targetTouches.length?this.reset():(this._lastPos=tt.touchPos(this.element,Ne.targetTouches)[0],this.move({preventDefault:function(){return Ne.preventDefault()}},this._lastPos))},Mr.prototype.touchend=function(Ne){0===Ne.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Mr.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var mp={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Rr(Ne,et,tt){var rt=Ne.classList;for(var nt in mp)rt.remove("mapboxgl-"+tt+"-anchor-"+nt);rt.add("mapboxgl-"+tt+"-anchor-"+et)}var gp,yp=function(et){function o(rt,nt){var it=this;if(et.call(this),(rt instanceof Ne.window.HTMLElement||nt)&&(rt=Ne.extend({element:rt},nt)),Ne.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=rt&&rt.anchor||"center",this._color=rt&&rt.color||"#3FB1CE",this._scale=rt&&rt.scale||1,this._draggable=rt&&rt.draggable||!1,this._state="inactive",this._rotation=rt&&rt.rotation||0,this._rotationAlignment=rt&&rt.rotationAlignment||"auto",this._pitchAlignment=rt&&rt.pitchAlignment&&"auto"!==rt.pitchAlignment?rt.pitchAlignment:this._rotationAlignment,rt&&rt.element)this._element=rt.element,this._offset=Ne.Point.convert(rt&&rt.offset||[0,0]);else{this._defaultMarker=!0,this._element=tt.create("div"),this._element.setAttribute("aria-label","Map marker");var ot=tt.createNS("http://www.w3.org/2000/svg","svg");ot.setAttributeNS(null,"display","block"),ot.setAttributeNS(null,"height","41px"),ot.setAttributeNS(null,"width","27px"),ot.setAttributeNS(null,"viewBox","0 0 27 41");var at=tt.createNS("http://www.w3.org/2000/svg","g");at.setAttributeNS(null,"stroke","none"),at.setAttributeNS(null,"stroke-width","1"),at.setAttributeNS(null,"fill","none"),at.setAttributeNS(null,"fill-rule","evenodd");var st=tt.createNS("http://www.w3.org/2000/svg","g");st.setAttributeNS(null,"fill-rule","nonzero");var ct=tt.createNS("http://www.w3.org/2000/svg","g");ct.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ct.setAttributeNS(null,"fill","#000000");for(var pt=0,ft=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];pt<ft.length;pt+=1){var dt=ft[pt],mt=tt.createNS("http://www.w3.org/2000/svg","ellipse");mt.setAttributeNS(null,"opacity","0.04"),mt.setAttributeNS(null,"cx","10.5"),mt.setAttributeNS(null,"cy","5.80029008"),mt.setAttributeNS(null,"rx",dt.rx),mt.setAttributeNS(null,"ry",dt.ry),ct.appendChild(mt)}var yt=tt.createNS("http://www.w3.org/2000/svg","g");yt.setAttributeNS(null,"fill",this._color);var vt=tt.createNS("http://www.w3.org/2000/svg","path");vt.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),yt.appendChild(vt);var Rt=tt.createNS("http://www.w3.org/2000/svg","g");Rt.setAttributeNS(null,"opacity","0.25"),Rt.setAttributeNS(null,"fill","#000000");var Dt=tt.createNS("http://www.w3.org/2000/svg","path");Dt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Rt.appendChild(Dt);var Ot=tt.createNS("http://www.w3.org/2000/svg","g");Ot.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Ot.setAttributeNS(null,"fill","#FFFFFF");var Bt=tt.createNS("http://www.w3.org/2000/svg","g");Bt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var er=tt.createNS("http://www.w3.org/2000/svg","circle");er.setAttributeNS(null,"fill","#000000"),er.setAttributeNS(null,"opacity","0.25"),er.setAttributeNS(null,"cx","5.5"),er.setAttributeNS(null,"cy","5.5"),er.setAttributeNS(null,"r","5.4999962");var rr=tt.createNS("http://www.w3.org/2000/svg","circle");rr.setAttributeNS(null,"fill","#FFFFFF"),rr.setAttributeNS(null,"cx","5.5"),rr.setAttributeNS(null,"cy","5.5"),rr.setAttributeNS(null,"r","5.4999962"),Bt.appendChild(er),Bt.appendChild(rr),st.appendChild(ct),st.appendChild(yt),st.appendChild(Rt),st.appendChild(Ot),st.appendChild(Bt),ot.appendChild(st),ot.setAttributeNS(null,"height",41*this._scale+"px"),ot.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(ot),this._offset=Ne.Point.convert(rt&&rt.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(Ne){Ne.preventDefault()})),this._element.addEventListener("mousedown",(function(Ne){Ne.preventDefault()})),this._element.addEventListener("focus",(function(){var Ne=it._map.getContainer();Ne.scrollTop=0,Ne.scrollLeft=0})),Rr(this._element,this._anchor,"marker"),this._popup=null}return et&&(o.__proto__=et),(o.prototype=Object.create(et&&et.prototype)).constructor=o,o.prototype.addTo=function(Ne){return this.remove(),this._map=Ne,Ne.getCanvasContainer().appendChild(this._element),Ne.on("move",this._update),Ne.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},o.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),tt.remove(this._element),this._popup&&this._popup.remove(),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(et){return this._lngLat=Ne.LngLat.convert(et),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},o.prototype.getElement=function(){return this._element},o.prototype.setPopup=function(Ne){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),Ne){if(!("offset"in Ne.options)){var et=Math.sqrt(Math.pow(13.5,2)/2);Ne.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[et,-1*(24.6+et)],"bottom-right":[-et,-1*(24.6+et)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=Ne,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},o.prototype._onKeyPress=function(Ne){var et=Ne.code,tt=Ne.charCode||Ne.keyCode;"Space"!==et&&"Enter"!==et&&32!==tt&&13!==tt||this.togglePopup()},o.prototype._onMapClick=function(Ne){var et=Ne.originalEvent.target,tt=this._element;this._popup&&(et===tt||tt.contains(et))&&this.togglePopup()},o.prototype.getPopup=function(){return this._popup},o.prototype.togglePopup=function(){var Ne=this._popup;return Ne?(Ne.isOpen()?Ne.remove():Ne.addTo(this._map),this):this},o.prototype._update=function(Ne){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Lr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var et="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?et="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(et="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var rt="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?rt="rotateX(0deg)":"map"===this._pitchAlignment&&(rt="rotateX("+this._map.getPitch()+"deg)"),Ne&&"moveend"!==Ne.type||(this._pos=this._pos.round()),tt.setTransform(this._element,mp[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+rt+" "+et)}},o.prototype.getOffset=function(){return this._offset},o.prototype.setOffset=function(et){return this._offset=Ne.Point.convert(et),this._update(),this},o.prototype._onMove=function(et){this._pos=et.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new Ne.Event("dragstart"))),this.fire(new Ne.Event("drag"))},o.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new Ne.Event("dragend")),this._state="inactive"},o.prototype._addDragHandler=function(Ne){this._element.contains(Ne.originalEvent.target)&&(Ne.preventDefault(),this._positionDelta=Ne.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},o.prototype.setDraggable=function(Ne){return this._draggable=!!Ne,this._map&&(Ne?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},o.prototype.isDraggable=function(){return this._draggable},o.prototype.setRotation=function(Ne){return this._rotation=Ne||0,this._update(),this},o.prototype.getRotation=function(){return this._rotation},o.prototype.setRotationAlignment=function(Ne){return this._rotationAlignment=Ne||"auto",this._update(),this},o.prototype.getRotationAlignment=function(){return this._rotationAlignment},o.prototype.setPitchAlignment=function(Ne){return this._pitchAlignment=Ne&&"auto"!==Ne?Ne:this._rotationAlignment,this._update(),this},o.prototype.getPitchAlignment=function(){return this._pitchAlignment},o}(Ne.Evented),vp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},_p=0,bp=!1,xp=function(et){function o(tt){et.call(this),this.options=Ne.extend({},vp,tt),Ne.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return et&&(o.__proto__=et),(o.prototype=Object.create(et&&et.prototype)).constructor=o,o.prototype.onAdd=function(et){var rt;return this._map=et,this._container=tt.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),rt=this._setupUI,void 0!==gp?rt(gp):void 0!==Ne.window.navigator.permissions?Ne.window.navigator.permissions.query({name:"geolocation"}).then((function(Ne){rt(gp="denied"!==Ne.state)})):rt(gp=!!Ne.window.navigator.geolocation),this._container},o.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(Ne.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),tt.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,_p=0,bp=!1},o.prototype._isOutOfMapMaxBounds=function(Ne){var et=this._map.getMaxBounds(),tt=Ne.coords;return et&&(tt.longitude<et.getWest()||tt.longitude>et.getEast()||tt.latitude<et.getSouth()||tt.latitude>et.getNorth())},o.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},o.prototype._onSuccess=function(et){if(this._map){if(this._isOutOfMapMaxBounds(et))return this._setErrorState(),this.fire(new Ne.Event("outofmaxbounds",et)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=et,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(et),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(et),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new Ne.Event("geolocate",et)),this._finish()}},o.prototype._updateCamera=function(et){var tt=new Ne.LngLat(et.coords.longitude,et.coords.latitude),rt=et.coords.accuracy,nt=this._map.getBearing(),it=Ne.extend({bearing:nt},this.options.fitBoundsOptions);this._map.fitBounds(tt.toBounds(rt),it,{geolocateSource:!0})},o.prototype._updateMarker=function(et){if(et){var tt=new Ne.LngLat(et.coords.longitude,et.coords.latitude);this._accuracyCircleMarker.setLngLat(tt).addTo(this._map),this._userLocationDotMarker.setLngLat(tt).addTo(this._map),this._accuracy=et.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},o.prototype._updateCircleRadius=function(){var Ne=this._map._container.clientHeight/2,et=this._map.unproject([0,Ne]),tt=this._map.unproject([1,Ne]),rt=et.distanceTo(tt),nt=Math.ceil(2*this._accuracy/rt);this._circleElement.style.width=nt+"px",this._circleElement.style.height=nt+"px"},o.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},o.prototype._onError=function(et){if(this._map){if(this.options.trackUserLocation)if(1===et.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var tt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=tt,this._geolocateButton.setAttribute("aria-label",tt),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===et.code&&bp)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new Ne.Event("error",et)),this._finish()}},o.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},o.prototype._setupUI=function(et){var rt=this;if(this._container.addEventListener("contextmenu",(function(Ne){return Ne.preventDefault()})),this._geolocateButton=tt.create("button","mapboxgl-ctrl-geolocate",this._container),tt.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===et){Ne.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var nt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=nt,this._geolocateButton.setAttribute("aria-label",nt)}else{var it=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=it,this._geolocateButton.setAttribute("aria-label",it)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=tt.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new yp(this._dotElement),this._circleElement=tt.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new yp({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(et){et.geolocateSource||"ACTIVE_LOCK"!==rt._watchState||et.originalEvent&&"resize"===et.originalEvent.type||(rt._watchState="BACKGROUND",rt._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),rt._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),rt.fire(new Ne.Event("trackuserlocationend")))}))},o.prototype.trigger=function(){if(!this._setup)return Ne.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new Ne.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":_p--,bp=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new Ne.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new Ne.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var et;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++_p>1?(et={maximumAge:6e5,timeout:0},bp=!0):(et=this.options.positionOptions,bp=!1),this._geolocationWatchID=Ne.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,et)}}else Ne.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},o.prototype._clearWatch=function(){Ne.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},o}(Ne.Evented),wp={maxWidth:100,unit:"metric"},jr=function(et){this.options=Ne.extend({},wp,et),Ne.bindAll(["_onMove","setUnit"],this)};function qr(Ne,et,tt){var rt=tt&&tt.maxWidth||100,nt=Ne._container.clientHeight/2,it=Ne.unproject([0,nt]),ot=Ne.unproject([rt,nt]),at=it.distanceTo(ot);if(tt&&"imperial"===tt.unit){var st=3.2808*at;st>5280?Vr(et,rt,st/5280,Ne._getUIString("ScaleControl.Miles")):Vr(et,rt,st,Ne._getUIString("ScaleControl.Feet"))}else tt&&"nautical"===tt.unit?Vr(et,rt,at/1852,Ne._getUIString("ScaleControl.NauticalMiles")):at>=1e3?Vr(et,rt,at/1e3,Ne._getUIString("ScaleControl.Kilometers")):Vr(et,rt,at,Ne._getUIString("ScaleControl.Meters"))}function Vr(Ne,et,tt,rt){var nt,it,ot,at=(nt=tt,(it=Math.pow(10,(""+Math.floor(nt)).length-1))*(ot=(ot=nt/it)>=10?10:ot>=5?5:ot>=3?3:ot>=2?2:ot>=1?1:function(Ne){var et=Math.pow(10,Math.ceil(-Math.log(Ne)/Math.LN10));return Math.round(Ne*et)/et}(ot)));Ne.style.width=et*(at/tt)+"px",Ne.innerHTML=at+"&nbsp;"+rt}jr.prototype.getDefaultPosition=function(){return"bottom-left"},jr.prototype._onMove=function(){qr(this._map,this._container,this.options)},jr.prototype.onAdd=function(Ne){return this._map=Ne,this._container=tt.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Ne.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},jr.prototype.onRemove=function(){tt.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},jr.prototype.setUnit=function(Ne){this.options.unit=Ne,qr(this._map,this._container,this.options)};var Gr=function(et){this._fullscreen=!1,et&&et.container&&(et.container instanceof Ne.window.HTMLElement?this._container=et.container:Ne.warnOnce("Full screen control 'container' must be a DOM element.")),Ne.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in Ne.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in Ne.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in Ne.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in Ne.window.document&&(this._fullscreenchange="MSFullscreenChange")};Gr.prototype.onAdd=function(et){return this._map=et,this._container||(this._container=this._map.getContainer()),this._controlContainer=tt.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",Ne.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Gr.prototype.onRemove=function(){tt.remove(this._controlContainer),this._map=null,Ne.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._checkFullscreenSupport=function(){return!!(Ne.window.document.fullscreenEnabled||Ne.window.document.mozFullScreenEnabled||Ne.window.document.msFullscreenEnabled||Ne.window.document.webkitFullscreenEnabled)},Gr.prototype._setupUI=function(){var et=this._fullscreenButton=tt.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);tt.create("span","mapboxgl-ctrl-icon",et).setAttribute("aria-hidden",!0),et.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),Ne.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._updateTitle=function(){var Ne=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Ne),this._fullscreenButton.title=Ne},Gr.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Gr.prototype._isFullscreen=function(){return this._fullscreen},Gr.prototype._changeIcon=function(){(Ne.window.document.fullscreenElement||Ne.window.document.mozFullScreenElement||Ne.window.document.webkitFullscreenElement||Ne.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Gr.prototype._onClickFullscreen=function(){this._isFullscreen()?Ne.window.document.exitFullscreen?Ne.window.document.exitFullscreen():Ne.window.document.mozCancelFullScreen?Ne.window.document.mozCancelFullScreen():Ne.window.document.msExitFullscreen?Ne.window.document.msExitFullscreen():Ne.window.document.webkitCancelFullScreen&&Ne.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var kp={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Sp=function(et){function o(tt){et.call(this),this.options=Ne.extend(Object.create(kp),tt),Ne.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return et&&(o.__proto__=et),(o.prototype=Object.create(et&&et.prototype)).constructor=o,o.prototype.addTo=function(et){return this._map&&this.remove(),this._map=et,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new Ne.Event("open")),this},o.prototype.isOpen=function(){return!!this._map},o.prototype.remove=function(){return this._content&&tt.remove(this._content),this._container&&(tt.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new Ne.Event("close")),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(et){return this._lngLat=Ne.LngLat.convert(et),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},o.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},o.prototype.getElement=function(){return this._container},o.prototype.setText=function(et){return this.setDOMContent(Ne.window.document.createTextNode(et))},o.prototype.setHTML=function(et){var tt,rt=Ne.window.document.createDocumentFragment(),nt=Ne.window.document.createElement("body");for(nt.innerHTML=et;tt=nt.firstChild;)rt.appendChild(tt);return this.setDOMContent(rt)},o.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},o.prototype.setMaxWidth=function(Ne){return this.options.maxWidth=Ne,this._update(),this},o.prototype.setDOMContent=function(Ne){return this._createContent(),this._content.appendChild(Ne),this._update(),this},o.prototype.addClassName=function(Ne){this._container&&this._container.classList.add(Ne)},o.prototype.removeClassName=function(Ne){this._container&&this._container.classList.remove(Ne)},o.prototype.toggleClassName=function(Ne){if(this._container)return this._container.classList.toggle(Ne)},o.prototype._createContent=function(){this._content&&tt.remove(this._content),this._content=tt.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=tt.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},o.prototype._onMouseUp=function(Ne){this._update(Ne.point)},o.prototype._onMouseMove=function(Ne){this._update(Ne.point)},o.prototype._onDrag=function(Ne){this._update(Ne.point)},o.prototype._update=function(et){var rt=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=tt.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=tt.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(Ne){return rt._container.classList.add(Ne)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Lr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||et)){var nt=this._pos=this._trackPointer&&et?et:this._map.project(this._lngLat),it=this.options.anchor,ot=function e(et){if(et){if("number"==typeof et){var tt=Math.round(Math.sqrt(.5*Math.pow(et,2)));return{center:new Ne.Point(0,0),top:new Ne.Point(0,et),"top-left":new Ne.Point(tt,tt),"top-right":new Ne.Point(-tt,tt),bottom:new Ne.Point(0,-et),"bottom-left":new Ne.Point(tt,-tt),"bottom-right":new Ne.Point(-tt,-tt),left:new Ne.Point(et,0),right:new Ne.Point(-et,0)}}if(et instanceof Ne.Point||Array.isArray(et)){var rt=Ne.Point.convert(et);return{center:rt,top:rt,"top-left":rt,"top-right":rt,bottom:rt,"bottom-left":rt,"bottom-right":rt,left:rt,right:rt}}return{center:Ne.Point.convert(et.center||[0,0]),top:Ne.Point.convert(et.top||[0,0]),"top-left":Ne.Point.convert(et["top-left"]||[0,0]),"top-right":Ne.Point.convert(et["top-right"]||[0,0]),bottom:Ne.Point.convert(et.bottom||[0,0]),"bottom-left":Ne.Point.convert(et["bottom-left"]||[0,0]),"bottom-right":Ne.Point.convert(et["bottom-right"]||[0,0]),left:Ne.Point.convert(et.left||[0,0]),right:Ne.Point.convert(et.right||[0,0])}}return e(new Ne.Point(0,0))}(this.options.offset);if(!it){var at,st=this._container.offsetWidth,ct=this._container.offsetHeight;at=nt.y+ot.bottom.y<ct?["top"]:nt.y>this._map.transform.height-ct?["bottom"]:[],nt.x<st/2?at.push("left"):nt.x>this._map.transform.width-st/2&&at.push("right"),it=0===at.length?"bottom":at.join("-")}var pt=nt.add(ot[it]).round();tt.setTransform(this._container,mp[it]+" translate("+pt.x+"px,"+pt.y+"px)"),Rr(this._container,it,"popup")}},o.prototype._onClose=function(){this.remove()},o}(Ne.Evented),Ep={version:Ne.version,supported:et,setRTLTextPlugin:Ne.setRTLTextPlugin,getRTLTextPluginStatus:Ne.getRTLTextPluginStatus,Map:fp,NavigationControl:Dr,GeolocateControl:xp,AttributionControl:yr,ScaleControl:jr,FullscreenControl:Gr,Popup:Sp,Marker:yp,Style:Vs,LngLat:Ne.LngLat,LngLatBounds:Ne.LngLatBounds,Point:Ne.Point,MercatorCoordinate:Ne.MercatorCoordinate,Evented:Ne.Evented,config:Ne.config,prewarm:function(){Ft().acquire(fs)},clearPrewarmedResources:function(){var Ne=gs;Ne&&(Ne.isPreloaded()&&1===Ne.numActive()?(Ne.release(fs),gs=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return Ne.config.ACCESS_TOKEN},set accessToken(et){Ne.config.ACCESS_TOKEN=et},get baseApiUrl(){return Ne.config.API_URL},set baseApiUrl(et){Ne.config.API_URL=et},get workerCount(){return kt.workerCount},set workerCount(Ne){kt.workerCount=Ne},get maxParallelImageRequests(){return Ne.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(et){Ne.config.MAX_PARALLEL_IMAGE_REQUESTS=et},clearStorage:function(et){Ne.clearTileCache(et)},workerUrl:""};return Ep})),tt}()},7084:function(Ne){Ne.exports=function(){"use strict";function _defineProperties(Ne,et){for(var tt=0;tt<et.length;tt++){var rt=et[tt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(Ne,rt.key,rt)}}function _createClass(Ne,et,tt){return et&&_defineProperties(Ne.prototype,et),tt&&_defineProperties(Ne,tt),Ne}function _unsupportedIterableToArray(Ne,et){if(Ne){if("string"==typeof Ne)return _arrayLikeToArray(Ne,et);var tt=Object.prototype.toString.call(Ne).slice(8,-1);return"Object"===tt&&Ne.constructor&&(tt=Ne.constructor.name),"Map"===tt||"Set"===tt?Array.from(Ne):"Arguments"===tt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt)?_arrayLikeToArray(Ne,et):void 0}}function _arrayLikeToArray(Ne,et){(null==et||et>Ne.length)&&(et=Ne.length);for(var tt=0,rt=new Array(et);tt<et;tt++)rt[tt]=Ne[tt];return rt}function _createForOfIteratorHelperLoose(Ne){var et=0;if("undefined"==typeof Symbol||null==Ne[Symbol.iterator]){if(Array.isArray(Ne)||(Ne=_unsupportedIterableToArray(Ne)))return function(){return et>=Ne.length?{done:!0}:{done:!1,value:Ne[et++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(et=Ne[Symbol.iterator]()).next.bind(et)}function createCommonjsModule(Ne,et){return Ne(et={exports:{}},et.exports),et.exports}var Ne=createCommonjsModule((function(Ne){function getDefaults(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function changeDefaults(et){Ne.exports.defaults=et}Ne.exports={defaults:getDefaults(),getDefaults,changeDefaults}})),et=(Ne.defaults,Ne.getDefaults,Ne.changeDefaults,/[&<>"']/),tt=/[&<>"']/g,rt=/[<>"']|&(?!#?\w+;)/,nt=/[<>"']|&(?!#?\w+;)/g,it={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ot=function getEscapeReplacement(Ne){return it[Ne]};function escape(Ne,it){if(it){if(et.test(Ne))return Ne.replace(tt,ot)}else if(rt.test(Ne))return Ne.replace(nt,ot);return Ne}var at=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function unescape(Ne){return Ne.replace(at,(function(Ne,et){return"colon"===(et=et.toLowerCase())?":":"#"===et.charAt(0)?"x"===et.charAt(1)?String.fromCharCode(parseInt(et.substring(2),16)):String.fromCharCode(+et.substring(1)):""}))}var st=/(^|[^\[])\^/g;function edit(Ne,et){Ne=Ne.source||Ne,et=et||"";var tt={replace:function replace(et,rt){return rt=(rt=rt.source||rt).replace(st,"$1"),Ne=Ne.replace(et,rt),tt},getRegex:function getRegex(){return new RegExp(Ne,et)}};return tt}var ct=/[^\w:]/g,pt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function cleanUrl(Ne,et,tt){if(Ne){var rt;try{rt=decodeURIComponent(unescape(tt)).replace(ct,"").toLowerCase()}catch(Ne){return null}if(0===rt.indexOf("javascript:")||0===rt.indexOf("vbscript:")||0===rt.indexOf("data:"))return null}et&&!pt.test(tt)&&(tt=resolveUrl(et,tt));try{tt=encodeURI(tt).replace(/%25/g,"%")}catch(Ne){return null}return tt}var ft={},dt=/^[^:]+:\/*[^/]*$/,mt=/^([^:]+:)[\s\S]*$/,yt=/^([^:]+:\/*[^/]*)[\s\S]*$/;function resolveUrl(Ne,et){ft[" "+Ne]||(dt.test(Ne)?ft[" "+Ne]=Ne+"/":ft[" "+Ne]=rtrim(Ne,"/",!0));var tt=-1===(Ne=ft[" "+Ne]).indexOf(":");return"//"===et.substring(0,2)?tt?et:Ne.replace(mt,"$1")+et:"/"===et.charAt(0)?tt?et:Ne.replace(yt,"$1")+et:Ne+et}function merge(Ne){for(var et,tt,rt=1;rt<arguments.length;rt++)for(tt in et=arguments[rt])Object.prototype.hasOwnProperty.call(et,tt)&&(Ne[tt]=et[tt]);return Ne}function splitCells(Ne,et){var tt=Ne.replace(/\|/g,(function(Ne,et,tt){for(var rt=!1,nt=et;--nt>=0&&"\\"===tt[nt];)rt=!rt;return rt?"|":" |"})).split(/ \|/),rt=0;if(tt.length>et)tt.splice(et);else for(;tt.length<et;)tt.push("");for(;rt<tt.length;rt++)tt[rt]=tt[rt].trim().replace(/\\\|/g,"|");return tt}function rtrim(Ne,et,tt){var rt=Ne.length;if(0===rt)return"";for(var nt=0;nt<rt;){var it=Ne.charAt(rt-nt-1);if(it!==et||tt){if(it===et||!tt)break;nt++}else nt++}return Ne.substr(0,rt-nt)}function findClosingBracket(Ne,et){if(-1===Ne.indexOf(et[1]))return-1;for(var tt=Ne.length,rt=0,nt=0;nt<tt;nt++)if("\\"===Ne[nt])nt++;else if(Ne[nt]===et[0])rt++;else if(Ne[nt]===et[1]&&--rt<0)return nt;return-1}function checkSanitizeDeprecation(Ne){Ne&&Ne.sanitize&&!Ne.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}var vt={escape,unescape,edit,cleanUrl,resolveUrl,noopTest:{exec:function noopTest(){}},merge,splitCells,rtrim,findClosingBracket,checkSanitizeDeprecation},Rt=Ne.defaults,Dt=vt.rtrim,Ot=vt.splitCells,Bt=vt.escape,er=vt.findClosingBracket;function outputLink(Ne,et,tt){var rt=et.href,nt=et.title?Bt(et.title):null;return"!"!==Ne[0].charAt(0)?{type:"link",raw:tt,href:rt,title:nt,text:Ne[1]}:{type:"image",raw:tt,text:Bt(Ne[1]),href:rt,title:nt}}function indentCodeCompensation(Ne,et){var tt=Ne.match(/^(\s+)(?:```)/);if(null===tt)return et;var rt=tt[1];return et.split("\n").map((function(Ne){var et=Ne.match(/^\s+/);return null===et?Ne:et[0].length>=rt.length?Ne.slice(rt.length):Ne})).join("\n")}var rr=function(){function Tokenizer(Ne){this.options=Ne||Rt}var Ne=Tokenizer.prototype;return Ne.space=function space(Ne){var et=this.rules.block.newline.exec(Ne);if(et)return et[0].length>1?{type:"space",raw:et[0]}:{raw:"\n"}},Ne.code=function code(Ne,et){var tt=this.rules.block.code.exec(Ne);if(tt){var rt=et[et.length-1];if(rt&&"paragraph"===rt.type)return{raw:tt[0],text:tt[0].trimRight()};var nt=tt[0].replace(/^ {4}/gm,"");return{type:"code",raw:tt[0],codeBlockStyle:"indented",text:this.options.pedantic?nt:Dt(nt,"\n")}}},Ne.fences=function fences(Ne){var et=this.rules.block.fences.exec(Ne);if(et){var tt=et[0],rt=indentCodeCompensation(tt,et[3]||"");return{type:"code",raw:tt,lang:et[2]?et[2].trim():et[2],text:rt}}},Ne.heading=function heading(Ne){var et=this.rules.block.heading.exec(Ne);if(et)return{type:"heading",raw:et[0],depth:et[1].length,text:et[2]}},Ne.nptable=function nptable(Ne){var et=this.rules.block.nptable.exec(Ne);if(et){var tt={type:"table",header:Ot(et[1].replace(/^ *| *\| *$/g,"")),align:et[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:et[3]?et[3].replace(/\n$/,"").split("\n"):[],raw:et[0]};if(tt.header.length===tt.align.length){var rt,nt=tt.align.length;for(rt=0;rt<nt;rt++)/^ *-+: *$/.test(tt.align[rt])?tt.align[rt]="right":/^ *:-+: *$/.test(tt.align[rt])?tt.align[rt]="center":/^ *:-+ *$/.test(tt.align[rt])?tt.align[rt]="left":tt.align[rt]=null;for(nt=tt.cells.length,rt=0;rt<nt;rt++)tt.cells[rt]=Ot(tt.cells[rt],tt.header.length);return tt}}},Ne.hr=function hr(Ne){var et=this.rules.block.hr.exec(Ne);if(et)return{type:"hr",raw:et[0]}},Ne.blockquote=function blockquote(Ne){var et=this.rules.block.blockquote.exec(Ne);if(et){var tt=et[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:et[0],text:tt}}},Ne.list=function list(Ne){var et=this.rules.block.list.exec(Ne);if(et){for(var tt,rt,nt,it,ot,at,st,ct=et[0],pt=et[2],ft=pt.length>1,list={type:"list",raw:ct,ordered:ft,start:ft?+pt:"",loose:!1,items:[]},dt=et[0].match(this.rules.block.item),mt=!1,yt=dt.length,vt=0;vt<yt;vt++)ct=tt=dt[vt],rt=tt.length,~(tt=tt.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(rt-=tt.length,tt=this.options.pedantic?tt.replace(/^ {1,4}/gm,""):tt.replace(new RegExp("^ {1,"+rt+"}","gm"),"")),vt!==yt-1&&(nt=this.rules.block.bullet.exec(dt[vt+1])[0],(pt.length>1?1===nt.length:nt.length>1||this.options.smartLists&&nt!==pt)&&(it=dt.slice(vt+1).join("\n"),list.raw=list.raw.substring(0,list.raw.length-it.length),vt=yt-1)),ot=mt||/\n\n(?!\s*$)/.test(tt),vt!==yt-1&&(mt="\n"===tt.charAt(tt.length-1),ot||(ot=mt)),ot&&(list.loose=!0),st=void 0,(at=/^\[[ xX]\] /.test(tt))&&(st=" "!==tt[1],tt=tt.replace(/^\[[ xX]\] +/,"")),list.items.push({type:"list_item",raw:ct,task:at,checked:st,loose:ot,text:tt});return list}},Ne.html=function html(Ne){var et=this.rules.block.html.exec(Ne);if(et)return{type:this.options.sanitize?"paragraph":"html",raw:et[0],pre:!this.options.sanitizer&&("pre"===et[1]||"script"===et[1]||"style"===et[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(et[0]):Bt(et[0]):et[0]}},Ne.def=function def(Ne){var et=this.rules.block.def.exec(Ne);if(et)return et[3]&&(et[3]=et[3].substring(1,et[3].length-1)),{tag:et[1].toLowerCase().replace(/\s+/g," "),raw:et[0],href:et[2],title:et[3]}},Ne.table=function table(Ne){var et=this.rules.block.table.exec(Ne);if(et){var tt={type:"table",header:Ot(et[1].replace(/^ *| *\| *$/g,"")),align:et[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:et[3]?et[3].replace(/\n$/,"").split("\n"):[]};if(tt.header.length===tt.align.length){tt.raw=et[0];var rt,nt=tt.align.length;for(rt=0;rt<nt;rt++)/^ *-+: *$/.test(tt.align[rt])?tt.align[rt]="right":/^ *:-+: *$/.test(tt.align[rt])?tt.align[rt]="center":/^ *:-+ *$/.test(tt.align[rt])?tt.align[rt]="left":tt.align[rt]=null;for(nt=tt.cells.length,rt=0;rt<nt;rt++)tt.cells[rt]=Ot(tt.cells[rt].replace(/^ *\| *| *\| *$/g,""),tt.header.length);return tt}}},Ne.lheading=function lheading(Ne){var et=this.rules.block.lheading.exec(Ne);if(et)return{type:"heading",raw:et[0],depth:"="===et[2].charAt(0)?1:2,text:et[1]}},Ne.paragraph=function paragraph(Ne){var et=this.rules.block.paragraph.exec(Ne);if(et)return{type:"paragraph",raw:et[0],text:"\n"===et[1].charAt(et[1].length-1)?et[1].slice(0,-1):et[1]}},Ne.text=function text(Ne,et){var tt=this.rules.block.text.exec(Ne);if(tt){var rt=et[et.length-1];return rt&&"text"===rt.type?{raw:tt[0],text:tt[0]}:{type:"text",raw:tt[0],text:tt[0]}}},Ne.escape=function escape(Ne){var et=this.rules.inline.escape.exec(Ne);if(et)return{type:"escape",raw:et[0],text:Bt(et[1])}},Ne.tag=function tag(Ne,et,tt){var rt=this.rules.inline.tag.exec(Ne);if(rt)return!et&&/^<a /i.test(rt[0])?et=!0:et&&/^<\/a>/i.test(rt[0])&&(et=!1),!tt&&/^<(pre|code|kbd|script)(\s|>)/i.test(rt[0])?tt=!0:tt&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(rt[0])&&(tt=!1),{type:this.options.sanitize?"text":"html",raw:rt[0],inLink:et,inRawBlock:tt,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(rt[0]):Bt(rt[0]):rt[0]}},Ne.link=function link(Ne){var et=this.rules.inline.link.exec(Ne);if(et){var tt=er(et[2],"()");if(tt>-1){var rt=(0===et[0].indexOf("!")?5:4)+et[1].length+tt;et[2]=et[2].substring(0,tt),et[0]=et[0].substring(0,rt).trim(),et[3]=""}var nt=et[2],it="";if(this.options.pedantic){var link=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(nt);link?(nt=link[1],it=link[3]):it=""}else it=et[3]?et[3].slice(1,-1):"";return outputLink(et,{href:(nt=nt.trim().replace(/^<([\s\S]*)>$/,"$1"))?nt.replace(this.rules.inline._escapes,"$1"):nt,title:it?it.replace(this.rules.inline._escapes,"$1"):it},et[0])}},Ne.reflink=function reflink(Ne,et){var tt;if((tt=this.rules.inline.reflink.exec(Ne))||(tt=this.rules.inline.nolink.exec(Ne))){var rt=(tt[2]||tt[1]).replace(/\s+/g," ");if(!(rt=et[rt.toLowerCase()])||!rt.href){var nt=tt[0].charAt(0);return{type:"text",raw:nt,text:nt}}return outputLink(tt,rt,tt[0])}},Ne.strong=function strong(Ne){var et=this.rules.inline.strong.exec(Ne);if(et)return{type:"strong",raw:et[0],text:et[4]||et[3]||et[2]||et[1]}},Ne.em=function em(Ne){var et=this.rules.inline.em.exec(Ne);if(et)return{type:"em",raw:et[0],text:et[6]||et[5]||et[4]||et[3]||et[2]||et[1]}},Ne.codespan=function codespan(Ne){var et=this.rules.inline.code.exec(Ne);if(et){var tt=et[2].replace(/\n/g," "),rt=/[^ ]/.test(tt),nt=tt.startsWith(" ")&&tt.endsWith(" ");return rt&&nt&&(tt=tt.substring(1,tt.length-1)),tt=Bt(tt,!0),{type:"codespan",raw:et[0],text:tt}}},Ne.br=function br(Ne){var et=this.rules.inline.br.exec(Ne);if(et)return{type:"br",raw:et[0]}},Ne.del=function del(Ne){var et=this.rules.inline.del.exec(Ne);if(et)return{type:"del",raw:et[0],text:et[1]}},Ne.autolink=function autolink(Ne,et){var tt,rt,nt=this.rules.inline.autolink.exec(Ne);if(nt)return rt="@"===nt[2]?"mailto:"+(tt=Bt(this.options.mangle?et(nt[1]):nt[1])):tt=Bt(nt[1]),{type:"link",raw:nt[0],text:tt,href:rt,tokens:[{type:"text",raw:tt,text:tt}]}},Ne.url=function url(Ne,et){var tt;if(tt=this.rules.inline.url.exec(Ne)){var rt,nt;if("@"===tt[2])nt="mailto:"+(rt=Bt(this.options.mangle?et(tt[0]):tt[0]));else{var it;do{it=tt[0],tt[0]=this.rules.inline._backpedal.exec(tt[0])[0]}while(it!==tt[0]);rt=Bt(tt[0]),nt="www."===tt[1]?"http://"+rt:rt}return{type:"link",raw:tt[0],text:rt,href:nt,tokens:[{type:"text",raw:rt,text:rt}]}}},Ne.inlineText=function inlineText(Ne,et,tt){var rt,nt=this.rules.inline.text.exec(Ne);if(nt)return rt=et?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(nt[0]):Bt(nt[0]):nt[0]:Bt(this.options.smartypants?tt(nt[0]):nt[0]),{type:"text",raw:nt[0],text:rt}},Tokenizer}(),vr=vt.noopTest,wr=vt.edit,Sr=vt.merge,rn={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:vr,table:vr,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};rn.def=wr(rn.def).replace("label",rn._label).replace("title",rn._title).getRegex(),rn.bullet=/(?:[*+-]|\d{1,9}\.)/,rn.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,rn.item=wr(rn.item,"gm").replace(/bull/g,rn.bullet).getRegex(),rn.list=wr(rn.list).replace(/bull/g,rn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+rn.def.source+")").getRegex(),rn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",rn._comment=/<!--(?!-?>)[\s\S]*?-->/,rn.html=wr(rn.html,"i").replace("comment",rn._comment).replace("tag",rn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rn.paragraph=wr(rn._paragraph).replace("hr",rn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",rn._tag).getRegex(),rn.blockquote=wr(rn.blockquote).replace("paragraph",rn.paragraph).getRegex(),rn.normal=Sr({},rn),rn.gfm=Sr({},rn.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),rn.gfm.nptable=wr(rn.gfm.nptable).replace("hr",rn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",rn._tag).getRegex(),rn.gfm.table=wr(rn.gfm.table).replace("hr",rn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",rn._tag).getRegex(),rn.pedantic=Sr({},rn.normal,{html:wr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",rn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:vr,paragraph:wr(rn.normal._paragraph).replace("hr",rn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",rn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var vn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:vr,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\s,punctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\s,punctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:vr,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+\\-./:;<=>?@\\[^_{|}~"};vn.em=wr(vn.em).replace(/punctuation/g,vn._punctuation).getRegex(),vn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,vn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,vn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,vn.autolink=wr(vn.autolink).replace("scheme",vn._scheme).replace("email",vn._email).getRegex(),vn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,vn.tag=wr(vn.tag).replace("comment",rn._comment).replace("attribute",vn._attribute).getRegex(),vn._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,vn._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,vn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,vn.link=wr(vn.link).replace("label",vn._label).replace("href",vn._href).replace("title",vn._title).getRegex(),vn.reflink=wr(vn.reflink).replace("label",vn._label).getRegex(),vn.normal=Sr({},vn),vn.pedantic=Sr({},vn.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:wr(/^!?\[(label)\]\((.*?)\)/).replace("label",vn._label).getRegex(),reflink:wr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",vn._label).getRegex()}),vn.gfm=Sr({},vn.normal,{escape:wr(vn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),vn.gfm.url=wr(vn.gfm.url,"i").replace("email",vn.gfm._extended_email).getRegex(),vn.breaks=Sr({},vn.gfm,{br:wr(vn.br).replace("{2,}","*").getRegex(),text:wr(vn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var bn={block:rn,inline:vn},Tn=Ne.defaults,Cn=bn.block,In=bn.inline;function smartypants(Ne){return Ne.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function mangle(Ne){var et,tt,rt="",nt=Ne.length;for(et=0;et<nt;et++)tt=Ne.charCodeAt(et),Math.random()>.5&&(tt="x"+tt.toString(16)),rt+="&#"+tt+";";return rt}var Mn=function(){function Lexer(Ne){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ne||Tn,this.options.tokenizer=this.options.tokenizer||new rr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var et={block:Cn.normal,inline:In.normal};this.options.pedantic?(et.block=Cn.pedantic,et.inline=In.pedantic):this.options.gfm&&(et.block=Cn.gfm,this.options.breaks?et.inline=In.breaks:et.inline=In.gfm),this.tokenizer.rules=et}Lexer.lex=function lex(Ne,et){return new Lexer(et).lex(Ne)};var Ne=Lexer.prototype;return Ne.lex=function lex(Ne){return Ne=Ne.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(Ne,this.tokens,!0),this.inline(this.tokens),this.tokens},Ne.blockTokens=function blockTokens(Ne,et,tt){var rt,nt,it,ot;for(void 0===et&&(et=[]),void 0===tt&&(tt=!0),Ne=Ne.replace(/^ +$/gm,"");Ne;)if(rt=this.tokenizer.space(Ne))Ne=Ne.substring(rt.raw.length),rt.type&&et.push(rt);else if(rt=this.tokenizer.code(Ne,et))Ne=Ne.substring(rt.raw.length),rt.type?et.push(rt):((ot=et[et.length-1]).raw+="\n"+rt.raw,ot.text+="\n"+rt.text);else if(rt=this.tokenizer.fences(Ne))Ne=Ne.substring(rt.raw.length),et.push(rt);else if(rt=this.tokenizer.heading(Ne))Ne=Ne.substring(rt.raw.length),et.push(rt);else if(rt=this.tokenizer.nptable(Ne))Ne=Ne.substring(rt.raw.length),et.push(rt);else if(rt=this.tokenizer.hr(Ne))Ne=Ne.substring(rt.raw.length),et.push(rt);else if(rt=this.tokenizer.blockquote(Ne))Ne=Ne.substring(rt.raw.length),rt.tokens=this.blockTokens(rt.text,[],tt),et.push(rt);else if(rt=this.tokenizer.list(Ne)){for(Ne=Ne.substring(rt.raw.length),it=rt.items.length,nt=0;nt<it;nt++)rt.items[nt].tokens=this.blockTokens(rt.items[nt].text,[],!1);et.push(rt)}else if(rt=this.tokenizer.html(Ne))Ne=Ne.substring(rt.raw.length),et.push(rt);else if(tt&&(rt=this.tokenizer.def(Ne)))Ne=Ne.substring(rt.raw.length),this.tokens.links[rt.tag]||(this.tokens.links[rt.tag]={href:rt.href,title:rt.title});else if(rt=this.tokenizer.table(Ne))Ne=Ne.substring(rt.raw.length),et.push(rt);else if(rt=this.tokenizer.lheading(Ne))Ne=Ne.substring(rt.raw.length),et.push(rt);else if(tt&&(rt=this.tokenizer.paragraph(Ne)))Ne=Ne.substring(rt.raw.length),et.push(rt);else if(rt=this.tokenizer.text(Ne,et))Ne=Ne.substring(rt.raw.length),rt.type?et.push(rt):((ot=et[et.length-1]).raw+="\n"+rt.raw,ot.text+="\n"+rt.text);else if(Ne){var at="Infinite loop on byte: "+Ne.charCodeAt(0);if(this.options.silent){console.error(at);break}throw new Error(at)}return et},Ne.inline=function inline(Ne){var et,tt,rt,nt,it,ot,at=Ne.length;for(et=0;et<at;et++)switch((ot=Ne[et]).type){case"paragraph":case"text":case"heading":ot.tokens=[],this.inlineTokens(ot.text,ot.tokens);break;case"table":for(ot.tokens={header:[],cells:[]},nt=ot.header.length,tt=0;tt<nt;tt++)ot.tokens.header[tt]=[],this.inlineTokens(ot.header[tt],ot.tokens.header[tt]);for(nt=ot.cells.length,tt=0;tt<nt;tt++)for(it=ot.cells[tt],ot.tokens.cells[tt]=[],rt=0;rt<it.length;rt++)ot.tokens.cells[tt][rt]=[],this.inlineTokens(it[rt],ot.tokens.cells[tt][rt]);break;case"blockquote":this.inline(ot.tokens);break;case"list":for(nt=ot.items.length,tt=0;tt<nt;tt++)this.inline(ot.items[tt].tokens)}return Ne},Ne.inlineTokens=function inlineTokens(Ne,et,tt,rt){var nt;for(void 0===et&&(et=[]),void 0===tt&&(tt=!1),void 0===rt&&(rt=!1);Ne;)if(nt=this.tokenizer.escape(Ne))Ne=Ne.substring(nt.raw.length),et.push(nt);else if(nt=this.tokenizer.tag(Ne,tt,rt))Ne=Ne.substring(nt.raw.length),tt=nt.inLink,rt=nt.inRawBlock,et.push(nt);else if(nt=this.tokenizer.link(Ne))Ne=Ne.substring(nt.raw.length),"link"===nt.type&&(nt.tokens=this.inlineTokens(nt.text,[],!0,rt)),et.push(nt);else if(nt=this.tokenizer.reflink(Ne,this.tokens.links))Ne=Ne.substring(nt.raw.length),"link"===nt.type&&(nt.tokens=this.inlineTokens(nt.text,[],!0,rt)),et.push(nt);else if(nt=this.tokenizer.strong(Ne))Ne=Ne.substring(nt.raw.length),nt.tokens=this.inlineTokens(nt.text,[],tt,rt),et.push(nt);else if(nt=this.tokenizer.em(Ne))Ne=Ne.substring(nt.raw.length),nt.tokens=this.inlineTokens(nt.text,[],tt,rt),et.push(nt);else if(nt=this.tokenizer.codespan(Ne))Ne=Ne.substring(nt.raw.length),et.push(nt);else if(nt=this.tokenizer.br(Ne))Ne=Ne.substring(nt.raw.length),et.push(nt);else if(nt=this.tokenizer.del(Ne))Ne=Ne.substring(nt.raw.length),nt.tokens=this.inlineTokens(nt.text,[],tt,rt),et.push(nt);else if(nt=this.tokenizer.autolink(Ne,mangle))Ne=Ne.substring(nt.raw.length),et.push(nt);else if(tt||!(nt=this.tokenizer.url(Ne,mangle))){if(nt=this.tokenizer.inlineText(Ne,rt,smartypants))Ne=Ne.substring(nt.raw.length),et.push(nt);else if(Ne){var it="Infinite loop on byte: "+Ne.charCodeAt(0);if(this.options.silent){console.error(it);break}throw new Error(it)}}else Ne=Ne.substring(nt.raw.length),et.push(nt);return et},_createClass(Lexer,null,[{key:"rules",get:function get(){return{block:Cn,inline:In}}}]),Lexer}(),zn=Ne.defaults,Ln=vt.cleanUrl,Fn=vt.escape,Bn=function(){function Renderer(Ne){this.options=Ne||zn}var Ne=Renderer.prototype;return Ne.code=function code(Ne,et,tt){var rt=(et||"").match(/\S*/)[0];if(this.options.highlight){var nt=this.options.highlight(Ne,rt);null!=nt&&nt!==Ne&&(tt=!0,Ne=nt)}return rt?'<pre><code class="'+this.options.langPrefix+Fn(rt,!0)+'">'+(tt?Ne:Fn(Ne,!0))+"</code></pre>\n":"<pre><code>"+(tt?Ne:Fn(Ne,!0))+"</code></pre>\n"},Ne.blockquote=function blockquote(Ne){return"<blockquote>\n"+Ne+"</blockquote>\n"},Ne.html=function html(Ne){return Ne},Ne.heading=function heading(Ne,et,tt,rt){return this.options.headerIds?"<h"+et+' id="'+this.options.headerPrefix+rt.slug(tt)+'">'+Ne+"</h"+et+">\n":"<h"+et+">"+Ne+"</h"+et+">\n"},Ne.hr=function hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Ne.list=function list(Ne,et,tt){var rt=et?"ol":"ul";return"<"+rt+(et&&1!==tt?' start="'+tt+'"':"")+">\n"+Ne+"</"+rt+">\n"},Ne.listitem=function listitem(Ne){return"<li>"+Ne+"</li>\n"},Ne.checkbox=function checkbox(Ne){return"<input "+(Ne?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ne.paragraph=function paragraph(Ne){return"<p>"+Ne+"</p>\n"},Ne.table=function table(Ne,et){return et&&(et="<tbody>"+et+"</tbody>"),"<table>\n<thead>\n"+Ne+"</thead>\n"+et+"</table>\n"},Ne.tablerow=function tablerow(Ne){return"<tr>\n"+Ne+"</tr>\n"},Ne.tablecell=function tablecell(Ne,et){var tt=et.header?"th":"td";return(et.align?"<"+tt+' align="'+et.align+'">':"<"+tt+">")+Ne+"</"+tt+">\n"},Ne.strong=function strong(Ne){return"<strong>"+Ne+"</strong>"},Ne.em=function em(Ne){return"<em>"+Ne+"</em>"},Ne.codespan=function codespan(Ne){return"<code>"+Ne+"</code>"},Ne.br=function br(){return this.options.xhtml?"<br/>":"<br>"},Ne.del=function del(Ne){return"<del>"+Ne+"</del>"},Ne.link=function link(Ne,et,tt){if(null===(Ne=Ln(this.options.sanitize,this.options.baseUrl,Ne)))return tt;var rt='<a href="'+Fn(Ne)+'"';return et&&(rt+=' title="'+et+'"'),rt+=">"+tt+"</a>"},Ne.image=function image(Ne,et,tt){if(null===(Ne=Ln(this.options.sanitize,this.options.baseUrl,Ne)))return tt;var rt='<img src="'+Ne+'" alt="'+tt+'"';return et&&(rt+=' title="'+et+'"'),rt+=this.options.xhtml?"/>":">"},Ne.text=function text(Ne){return Ne},Renderer}(),Nn=function(){function TextRenderer(){}var Ne=TextRenderer.prototype;return Ne.strong=function strong(Ne){return Ne},Ne.em=function em(Ne){return Ne},Ne.codespan=function codespan(Ne){return Ne},Ne.del=function del(Ne){return Ne},Ne.html=function html(Ne){return Ne},Ne.text=function text(Ne){return Ne},Ne.link=function link(Ne,et,tt){return""+tt},Ne.image=function image(Ne,et,tt){return""+tt},Ne.br=function br(){return""},TextRenderer}(),Vn=function(){function Slugger(){this.seen={}}return Slugger.prototype.slug=function slug(Ne){var slug=Ne.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(slug)){var et=slug;do{this.seen[et]++,slug=et+"-"+this.seen[et]}while(this.seen.hasOwnProperty(slug))}return this.seen[slug]=0,slug},Slugger}(),Wn=Ne.defaults,$n=vt.unescape,Yn=function(){function Parser(Ne){this.options=Ne||Wn,this.options.renderer=this.options.renderer||new Bn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Nn,this.slugger=new Vn}Parser.parse=function parse(Ne,et){return new Parser(et).parse(Ne)};var Ne=Parser.prototype;return Ne.parse=function parse(Ne,et){void 0===et&&(et=!0);var tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Dt,Ot,Bt,er="",rr=Ne.length;for(tt=0;tt<rr;tt++)switch((ft=Ne[tt]).type){case"space":continue;case"hr":er+=this.renderer.hr();continue;case"heading":er+=this.renderer.heading(this.parseInline(ft.tokens),ft.depth,$n(this.parseInline(ft.tokens,this.textRenderer)),this.slugger);continue;case"code":er+=this.renderer.code(ft.text,ft.lang,ft.escaped);continue;case"table":for(ct="",st="",it=ft.header.length,rt=0;rt<it;rt++)st+=this.renderer.tablecell(this.parseInline(ft.tokens.header[rt]),{header:!0,align:ft.align[rt]});for(ct+=this.renderer.tablerow(st),pt="",it=ft.cells.length,rt=0;rt<it;rt++){for(st="",ot=(at=ft.tokens.cells[rt]).length,nt=0;nt<ot;nt++)st+=this.renderer.tablecell(this.parseInline(at[nt]),{header:!1,align:ft.align[nt]});pt+=this.renderer.tablerow(st)}er+=this.renderer.table(ct,pt);continue;case"blockquote":pt=this.parse(ft.tokens),er+=this.renderer.blockquote(pt);continue;case"list":for(dt=ft.ordered,mt=ft.start,yt=ft.loose,it=ft.items.length,pt="",rt=0;rt<it;rt++)Dt=(Rt=ft.items[rt]).checked,Ot=Rt.task,vt="",Rt.task&&(Bt=this.renderer.checkbox(Dt),yt?Rt.tokens.length>0&&"text"===Rt.tokens[0].type?(Rt.tokens[0].text=Bt+" "+Rt.tokens[0].text,Rt.tokens[0].tokens&&Rt.tokens[0].tokens.length>0&&"text"===Rt.tokens[0].tokens[0].type&&(Rt.tokens[0].tokens[0].text=Bt+" "+Rt.tokens[0].tokens[0].text)):Rt.tokens.unshift({type:"text",text:Bt}):vt+=Bt),vt+=this.parse(Rt.tokens,yt),pt+=this.renderer.listitem(vt,Ot,Dt);er+=this.renderer.list(pt,dt,mt);continue;case"html":er+=this.renderer.html(ft.text);continue;case"paragraph":er+=this.renderer.paragraph(this.parseInline(ft.tokens));continue;case"text":for(pt=ft.tokens?this.parseInline(ft.tokens):ft.text;tt+1<rr&&"text"===Ne[tt+1].type;)pt+="\n"+((ft=Ne[++tt]).tokens?this.parseInline(ft.tokens):ft.text);er+=et?this.renderer.paragraph(pt):pt;continue;default:var vr='Token with "'+ft.type+'" type was not found.';if(this.options.silent)return void console.error(vr);throw new Error(vr)}return er},Ne.parseInline=function parseInline(Ne,et){et=et||this.renderer;var tt,rt,nt="",it=Ne.length;for(tt=0;tt<it;tt++)switch((rt=Ne[tt]).type){case"escape":case"text":nt+=et.text(rt.text);break;case"html":nt+=et.html(rt.text);break;case"link":nt+=et.link(rt.href,rt.title,this.parseInline(rt.tokens,et));break;case"image":nt+=et.image(rt.href,rt.title,rt.text);break;case"strong":nt+=et.strong(this.parseInline(rt.tokens,et));break;case"em":nt+=et.em(this.parseInline(rt.tokens,et));break;case"codespan":nt+=et.codespan(rt.text);break;case"br":nt+=et.br();break;case"del":nt+=et.del(this.parseInline(rt.tokens,et));break;default:var ot='Token with "'+rt.type+'" type was not found.';if(this.options.silent)return void console.error(ot);throw new Error(ot)}return nt},Parser}(),ii=vt.merge,qi=vt.checkSanitizeDeprecation,uo=vt.escape,po=Ne.getDefaults,vo=Ne.changeDefaults,So=Ne.defaults;function marked(Ne,et,tt){if(null==Ne)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Ne)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected");if("function"==typeof et&&(tt=et,et=null),et=ii({},marked.defaults,et||{}),qi(et),tt){var rt,nt=et.highlight;try{rt=Mn.lex(Ne,et)}catch(Ne){return tt(Ne)}var it=function done(Ne){var it;if(!Ne)try{it=Yn.parse(rt,et)}catch(et){Ne=et}return et.highlight=nt,Ne?tt(Ne):tt(null,it)};if(!nt||nt.length<3)return it();if(delete et.highlight,!rt.length)return it();var ot=0;return marked.walkTokens(rt,(function(Ne){"code"===Ne.type&&(ot++,nt(Ne.text,Ne.lang,(function(et,tt){if(et)return it(et);null!=tt&&tt!==Ne.text&&(Ne.text=tt,Ne.escaped=!0),0==--ot&&it()})))})),void(0===ot&&it())}try{var at=Mn.lex(Ne,et);return et.walkTokens&&marked.walkTokens(at,et.walkTokens),Yn.parse(at,et)}catch(Ne){if(Ne.message+="\nPlease report this to https://github.com/markedjs/marked.",et.silent)return"<p>An error occurred:</p><pre>"+uo(Ne.message+"",!0)+"</pre>";throw Ne}}return marked.options=marked.setOptions=function(Ne){return ii(marked.defaults,Ne),vo(marked.defaults),marked},marked.getDefaults=po,marked.defaults=So,marked.use=function(Ne){var et=ii({},Ne);if(Ne.renderer&&function(){var tt=marked.defaults.renderer||new Bn,rt=function _loop(et){var rt=tt[et];tt[et]=function(){for(var nt=arguments.length,it=new Array(nt),ot=0;ot<nt;ot++)it[ot]=arguments[ot];var at=Ne.renderer[et].apply(tt,it);return!1===at&&(at=rt.apply(tt,it)),at}};for(var nt in Ne.renderer)rt(nt);et.renderer=tt}(),Ne.tokenizer&&function(){var tt=marked.defaults.tokenizer||new rr,rt=function _loop2(et){var rt=tt[et];tt[et]=function(){for(var nt=arguments.length,it=new Array(nt),ot=0;ot<nt;ot++)it[ot]=arguments[ot];var at=Ne.tokenizer[et].apply(tt,it);return!1===at&&(at=rt.apply(tt,it)),at}};for(var nt in Ne.tokenizer)rt(nt);et.tokenizer=tt}(),Ne.walkTokens){var tt=marked.defaults.walkTokens;et.walkTokens=function(et){Ne.walkTokens(et),tt&&tt(et)}}marked.setOptions(et)},marked.walkTokens=function(Ne,et){for(var tt,rt=_createForOfIteratorHelperLoose(Ne);!(tt=rt()).done;){var nt=tt.value;switch(et(nt),nt.type){case"table":for(var it,ot=_createForOfIteratorHelperLoose(nt.tokens.header);!(it=ot()).done;){var at=it.value;marked.walkTokens(at,et)}for(var st,ct=_createForOfIteratorHelperLoose(nt.tokens.cells);!(st=ct()).done;)for(var pt,ft=_createForOfIteratorHelperLoose(st.value);!(pt=ft()).done;){var dt=pt.value;marked.walkTokens(dt,et)}break;case"list":marked.walkTokens(nt.items,et);break;default:nt.tokens&&marked.walkTokens(nt.tokens,et)}}},marked.Parser=Yn,marked.parser=Yn.parse,marked.Renderer=Bn,marked.TextRenderer=Nn,marked.Lexer=Mn,marked.lexer=Mn.lex,marked.Tokenizer=rr,marked.Slugger=Vn,marked.parse=marked,marked}()},7418:Ne=>{"use strict";var et=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;function toObject(Ne){if(null==Ne)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Ne)}Ne.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var Ne=new String("abc");if(Ne[5]="de","5"===Object.getOwnPropertyNames(Ne)[0])return!1;for(var et={},tt=0;tt<10;tt++)et["_"+String.fromCharCode(tt)]=tt;if("0123456789"!==Object.getOwnPropertyNames(et).map((function(Ne){return et[Ne]})).join(""))return!1;var rt={};return"abcdefghijklmnopqrst".split("").forEach((function(Ne){rt[Ne]=Ne})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},rt)).join("")}catch(Ne){return!1}}()?Object.assign:function(Ne,nt){for(var it,ot,at=toObject(Ne),st=1;st<arguments.length;st++){for(var ct in it=Object(arguments[st]))tt.call(it,ct)&&(at[ct]=it[ct]);if(et){ot=et(it);for(var pt=0;pt<ot.length;pt++)rt.call(it,ot[pt])&&(at[ot[pt]]=it[ot[pt]])}}return at}},3614:(Ne,et,tt)=>{"use strict";Ne.exports=Pbf;var rt=tt(645);function Pbf(Ne){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(Ne)?Ne:new Uint8Array(Ne||0),this.pos=0,this.type=0,this.length=this.buf.length}Pbf.Varint=0,Pbf.Fixed64=1,Pbf.Bytes=2,Pbf.Fixed32=5;var nt=4294967296,it=1/nt,ot="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function readPackedEnd(Ne){return Ne.type===Pbf.Bytes?Ne.readVarint()+Ne.pos:Ne.pos+1}function toNum(Ne,et,tt){return tt?4294967296*et+(Ne>>>0):4294967296*(et>>>0)+(Ne>>>0)}function makeRoomForExtraLength(Ne,et,tt){var rt=et<=16383?1:et<=2097151?2:et<=268435455?3:Math.floor(Math.log(et)/(7*Math.LN2));tt.realloc(rt);for(var nt=tt.pos-1;nt>=Ne;nt--)tt.buf[nt+rt]=tt.buf[nt]}function writePackedVarint(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeVarint(Ne[tt])}function writePackedSVarint(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeSVarint(Ne[tt])}function writePackedFloat(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeFloat(Ne[tt])}function writePackedDouble(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeDouble(Ne[tt])}function writePackedBoolean(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeBoolean(Ne[tt])}function writePackedFixed32(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeFixed32(Ne[tt])}function writePackedSFixed32(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeSFixed32(Ne[tt])}function writePackedFixed64(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeFixed64(Ne[tt])}function writePackedSFixed64(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeSFixed64(Ne[tt])}function readUInt32(Ne,et){return(Ne[et]|Ne[et+1]<<8|Ne[et+2]<<16)+16777216*Ne[et+3]}function writeInt32(Ne,et,tt){Ne[tt]=et,Ne[tt+1]=et>>>8,Ne[tt+2]=et>>>16,Ne[tt+3]=et>>>24}function readInt32(Ne,et){return(Ne[et]|Ne[et+1]<<8|Ne[et+2]<<16)+(Ne[et+3]<<24)}Pbf.prototype={destroy:function(){this.buf=null},readFields:function(Ne,et,tt){for(tt=tt||this.length;this.pos<tt;){var rt=this.readVarint(),nt=rt>>3,it=this.pos;this.type=7&rt,Ne(nt,et,this),this.pos===it&&this.skip(rt)}return et},readMessage:function(Ne,et){return this.readFields(Ne,et,this.readVarint()+this.pos)},readFixed32:function(){var Ne=readUInt32(this.buf,this.pos);return this.pos+=4,Ne},readSFixed32:function(){var Ne=readInt32(this.buf,this.pos);return this.pos+=4,Ne},readFixed64:function(){var Ne=readUInt32(this.buf,this.pos)+readUInt32(this.buf,this.pos+4)*nt;return this.pos+=8,Ne},readSFixed64:function(){var Ne=readUInt32(this.buf,this.pos)+readInt32(this.buf,this.pos+4)*nt;return this.pos+=8,Ne},readFloat:function(){var Ne=rt.read(this.buf,this.pos,!0,23,4);return this.pos+=4,Ne},readDouble:function(){var Ne=rt.read(this.buf,this.pos,!0,52,8);return this.pos+=8,Ne},readVarint:function(Ne){var et,tt,rt=this.buf;return et=127&(tt=rt[this.pos++]),tt<128?et:(et|=(127&(tt=rt[this.pos++]))<<7,tt<128?et:(et|=(127&(tt=rt[this.pos++]))<<14,tt<128?et:(et|=(127&(tt=rt[this.pos++]))<<21,tt<128?et:function readVarintRemainder(Ne,et,tt){var rt,nt,it=tt.buf;if(nt=it[tt.pos++],rt=(112&nt)>>4,nt<128)return toNum(Ne,rt,et);if(nt=it[tt.pos++],rt|=(127&nt)<<3,nt<128)return toNum(Ne,rt,et);if(nt=it[tt.pos++],rt|=(127&nt)<<10,nt<128)return toNum(Ne,rt,et);if(nt=it[tt.pos++],rt|=(127&nt)<<17,nt<128)return toNum(Ne,rt,et);if(nt=it[tt.pos++],rt|=(127&nt)<<24,nt<128)return toNum(Ne,rt,et);if(nt=it[tt.pos++],rt|=(1&nt)<<31,nt<128)return toNum(Ne,rt,et);throw new Error("Expected varint not more than 10 bytes")}(et|=(15&(tt=rt[this.pos]))<<28,Ne,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var Ne=this.readVarint();return Ne%2==1?(Ne+1)/-2:Ne/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var Ne=this.readVarint()+this.pos,et=this.pos;return this.pos=Ne,Ne-et>=12&&ot?function readUtf8TextDecoder(Ne,et,tt){return ot.decode(Ne.subarray(et,tt))}(this.buf,et,Ne):function readUtf8(Ne,et,tt){var rt="",nt=et;for(;nt<tt;){var it,ot,at,st=Ne[nt],ct=null,pt=st>239?4:st>223?3:st>191?2:1;if(nt+pt>tt)break;1===pt?st<128&&(ct=st):2===pt?128==(192&(it=Ne[nt+1]))&&(ct=(31&st)<<6|63&it)<=127&&(ct=null):3===pt?(it=Ne[nt+1],ot=Ne[nt+2],128==(192&it)&&128==(192&ot)&&((ct=(15&st)<<12|(63&it)<<6|63&ot)<=2047||ct>=55296&&ct<=57343)&&(ct=null)):4===pt&&(it=Ne[nt+1],ot=Ne[nt+2],at=Ne[nt+3],128==(192&it)&&128==(192&ot)&&128==(192&at)&&((ct=(15&st)<<18|(63&it)<<12|(63&ot)<<6|63&at)<=65535||ct>=1114112)&&(ct=null)),null===ct?(ct=65533,pt=1):ct>65535&&(ct-=65536,rt+=String.fromCharCode(ct>>>10&1023|55296),ct=56320|1023&ct),rt+=String.fromCharCode(ct),nt+=pt}return rt}(this.buf,et,Ne)},readBytes:function(){var Ne=this.readVarint()+this.pos,et=this.buf.subarray(this.pos,Ne);return this.pos=Ne,et},readPackedVarint:function(Ne,et){if(this.type!==Pbf.Bytes)return Ne.push(this.readVarint(et));var tt=readPackedEnd(this);for(Ne=Ne||[];this.pos<tt;)Ne.push(this.readVarint(et));return Ne},readPackedSVarint:function(Ne){if(this.type!==Pbf.Bytes)return Ne.push(this.readSVarint());var et=readPackedEnd(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readSVarint());return Ne},readPackedBoolean:function(Ne){if(this.type!==Pbf.Bytes)return Ne.push(this.readBoolean());var et=readPackedEnd(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readBoolean());return Ne},readPackedFloat:function(Ne){if(this.type!==Pbf.Bytes)return Ne.push(this.readFloat());var et=readPackedEnd(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readFloat());return Ne},readPackedDouble:function(Ne){if(this.type!==Pbf.Bytes)return Ne.push(this.readDouble());var et=readPackedEnd(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readDouble());return Ne},readPackedFixed32:function(Ne){if(this.type!==Pbf.Bytes)return Ne.push(this.readFixed32());var et=readPackedEnd(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readFixed32());return Ne},readPackedSFixed32:function(Ne){if(this.type!==Pbf.Bytes)return Ne.push(this.readSFixed32());var et=readPackedEnd(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readSFixed32());return Ne},readPackedFixed64:function(Ne){if(this.type!==Pbf.Bytes)return Ne.push(this.readFixed64());var et=readPackedEnd(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readFixed64());return Ne},readPackedSFixed64:function(Ne){if(this.type!==Pbf.Bytes)return Ne.push(this.readSFixed64());var et=readPackedEnd(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readSFixed64());return Ne},skip:function(Ne){var et=7&Ne;if(et===Pbf.Varint)for(;this.buf[this.pos++]>127;);else if(et===Pbf.Bytes)this.pos=this.readVarint()+this.pos;else if(et===Pbf.Fixed32)this.pos+=4;else{if(et!==Pbf.Fixed64)throw new Error("Unimplemented type: "+et);this.pos+=8}},writeTag:function(Ne,et){this.writeVarint(Ne<<3|et)},realloc:function(Ne){for(var et=this.length||16;et<this.pos+Ne;)et*=2;if(et!==this.length){var tt=new Uint8Array(et);tt.set(this.buf),this.buf=tt,this.length=et}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(Ne){this.realloc(4),writeInt32(this.buf,Ne,this.pos),this.pos+=4},writeSFixed32:function(Ne){this.realloc(4),writeInt32(this.buf,Ne,this.pos),this.pos+=4},writeFixed64:function(Ne){this.realloc(8),writeInt32(this.buf,-1&Ne,this.pos),writeInt32(this.buf,Math.floor(Ne*it),this.pos+4),this.pos+=8},writeSFixed64:function(Ne){this.realloc(8),writeInt32(this.buf,-1&Ne,this.pos),writeInt32(this.buf,Math.floor(Ne*it),this.pos+4),this.pos+=8},writeVarint:function(Ne){(Ne=+Ne||0)>268435455||Ne<0?function writeBigVarint(Ne,et){var tt,rt;Ne>=0?(tt=Ne%4294967296|0,rt=Ne/4294967296|0):(rt=~(-Ne/4294967296),4294967295^(tt=~(-Ne%4294967296))?tt=tt+1|0:(tt=0,rt=rt+1|0));if(Ne>=0x10000000000000000||Ne<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");et.realloc(10),function writeBigVarintLow(Ne,et,tt){tt.buf[tt.pos++]=127&Ne|128,Ne>>>=7,tt.buf[tt.pos++]=127&Ne|128,Ne>>>=7,tt.buf[tt.pos++]=127&Ne|128,Ne>>>=7,tt.buf[tt.pos++]=127&Ne|128,Ne>>>=7,tt.buf[tt.pos]=127&Ne}(tt,0,et),function writeBigVarintHigh(Ne,et){var tt=(7&Ne)<<4;if(et.buf[et.pos++]|=tt|((Ne>>>=3)?128:0),!Ne)return;if(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),!Ne)return;if(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),!Ne)return;if(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),!Ne)return;if(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),!Ne)return;et.buf[et.pos++]=127&Ne}(rt,et)}(Ne,this):(this.realloc(4),this.buf[this.pos++]=127&Ne|(Ne>127?128:0),Ne<=127||(this.buf[this.pos++]=127&(Ne>>>=7)|(Ne>127?128:0),Ne<=127||(this.buf[this.pos++]=127&(Ne>>>=7)|(Ne>127?128:0),Ne<=127||(this.buf[this.pos++]=Ne>>>7&127))))},writeSVarint:function(Ne){this.writeVarint(Ne<0?2*-Ne-1:2*Ne)},writeBoolean:function(Ne){this.writeVarint(Boolean(Ne))},writeString:function(Ne){Ne=String(Ne),this.realloc(4*Ne.length),this.pos++;var et=this.pos;this.pos=function writeUtf8(Ne,et,tt){for(var rt,nt,it=0;it<et.length;it++){if((rt=et.charCodeAt(it))>55295&&rt<57344){if(!nt){rt>56319||it+1===et.length?(Ne[tt++]=239,Ne[tt++]=191,Ne[tt++]=189):nt=rt;continue}if(rt<56320){Ne[tt++]=239,Ne[tt++]=191,Ne[tt++]=189,nt=rt;continue}rt=nt-55296<<10|rt-56320|65536,nt=null}else nt&&(Ne[tt++]=239,Ne[tt++]=191,Ne[tt++]=189,nt=null);rt<128?Ne[tt++]=rt:(rt<2048?Ne[tt++]=rt>>6|192:(rt<65536?Ne[tt++]=rt>>12|224:(Ne[tt++]=rt>>18|240,Ne[tt++]=rt>>12&63|128),Ne[tt++]=rt>>6&63|128),Ne[tt++]=63&rt|128)}return tt}(this.buf,Ne,this.pos);var tt=this.pos-et;tt>=128&&makeRoomForExtraLength(et,tt,this),this.pos=et-1,this.writeVarint(tt),this.pos+=tt},writeFloat:function(Ne){this.realloc(4),rt.write(this.buf,Ne,this.pos,!0,23,4),this.pos+=4},writeDouble:function(Ne){this.realloc(8),rt.write(this.buf,Ne,this.pos,!0,52,8),this.pos+=8},writeBytes:function(Ne){var et=Ne.length;this.writeVarint(et),this.realloc(et);for(var tt=0;tt<et;tt++)this.buf[this.pos++]=Ne[tt]},writeRawMessage:function(Ne,et){this.pos++;var tt=this.pos;Ne(et,this);var rt=this.pos-tt;rt>=128&&makeRoomForExtraLength(tt,rt,this),this.pos=tt-1,this.writeVarint(rt),this.pos+=rt},writeMessage:function(Ne,et,tt){this.writeTag(Ne,Pbf.Bytes),this.writeRawMessage(et,tt)},writePackedVarint:function(Ne,et){et.length&&this.writeMessage(Ne,writePackedVarint,et)},writePackedSVarint:function(Ne,et){et.length&&this.writeMessage(Ne,writePackedSVarint,et)},writePackedBoolean:function(Ne,et){et.length&&this.writeMessage(Ne,writePackedBoolean,et)},writePackedFloat:function(Ne,et){et.length&&this.writeMessage(Ne,writePackedFloat,et)},writePackedDouble:function(Ne,et){et.length&&this.writeMessage(Ne,writePackedDouble,et)},writePackedFixed32:function(Ne,et){et.length&&this.writeMessage(Ne,writePackedFixed32,et)},writePackedSFixed32:function(Ne,et){et.length&&this.writeMessage(Ne,writePackedSFixed32,et)},writePackedFixed64:function(Ne,et){et.length&&this.writeMessage(Ne,writePackedFixed64,et)},writePackedSFixed64:function(Ne,et){et.length&&this.writeMessage(Ne,writePackedSFixed64,et)},writeBytesField:function(Ne,et){this.writeTag(Ne,Pbf.Bytes),this.writeBytes(et)},writeFixed32Field:function(Ne,et){this.writeTag(Ne,Pbf.Fixed32),this.writeFixed32(et)},writeSFixed32Field:function(Ne,et){this.writeTag(Ne,Pbf.Fixed32),this.writeSFixed32(et)},writeFixed64Field:function(Ne,et){this.writeTag(Ne,Pbf.Fixed64),this.writeFixed64(et)},writeSFixed64Field:function(Ne,et){this.writeTag(Ne,Pbf.Fixed64),this.writeSFixed64(et)},writeVarintField:function(Ne,et){this.writeTag(Ne,Pbf.Varint),this.writeVarint(et)},writeSVarintField:function(Ne,et){this.writeTag(Ne,Pbf.Varint),this.writeSVarint(et)},writeStringField:function(Ne,et){this.writeTag(Ne,Pbf.Bytes),this.writeString(et)},writeFloatField:function(Ne,et){this.writeTag(Ne,Pbf.Fixed32),this.writeFloat(et)},writeDoubleField:function(Ne,et){this.writeTag(Ne,Pbf.Fixed64),this.writeDouble(et)},writeBooleanField:function(Ne,et){this.writeVarintField(Ne,Boolean(et))}}},2703:(Ne,et,tt)=>{"use strict";var rt=tt(414);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,Ne.exports=function(){function shim(Ne,et,tt,nt,it,ot){if(ot!==rt){var at=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw at.name="Invariant Violation",at}}function getShim(){return shim}shim.isRequired=shim;var Ne={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return Ne.PropTypes=Ne,Ne}},5697:(Ne,et,tt)=>{Ne.exports=tt(2703)()},414:Ne=>{"use strict";Ne.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8698:(Ne,et,tt)=>{"use strict";var rt=tt(7418),nt=tt(7294);function q(Ne){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+Ne,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+Ne+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var it="function"==typeof Symbol&&Symbol.for,ot=it?Symbol.for("react.portal"):60106,at=it?Symbol.for("react.fragment"):60107,st=it?Symbol.for("react.strict_mode"):60108,ct=it?Symbol.for("react.profiler"):60114,pt=it?Symbol.for("react.provider"):60109,ft=it?Symbol.for("react.context"):60110,dt=it?Symbol.for("react.concurrent_mode"):60111,mt=it?Symbol.for("react.forward_ref"):60112,yt=it?Symbol.for("react.suspense"):60113,vt=it?Symbol.for("react.suspense_list"):60120,Rt=it?Symbol.for("react.memo"):60115,Dt=it?Symbol.for("react.lazy"):60116,Ot=it?Symbol.for("react.block"):60121,Bt=it?Symbol.for("react.fundamental"):60117,er=it?Symbol.for("react.scope"):60119;function C(Ne){if(null==Ne)return null;if("function"==typeof Ne)return Ne.displayName||Ne.name||null;if("string"==typeof Ne)return Ne;switch(Ne){case at:return"Fragment";case ot:return"Portal";case ct:return"Profiler";case st:return"StrictMode";case yt:return"Suspense";case vt:return"SuspenseList"}if("object"==typeof Ne)switch(Ne.$$typeof){case ft:return"Context.Consumer";case pt:return"Context.Provider";case mt:var et=Ne.render;return et=et.displayName||et.name||"",Ne.displayName||(""!==et?"ForwardRef("+et+")":"ForwardRef");case Rt:return C(Ne.type);case Ot:return C(Ne.render);case Dt:if(Ne=1===Ne._status?Ne._result:null)return C(Ne)}return null}var rr=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;rr.hasOwnProperty("ReactCurrentDispatcher")||(rr.ReactCurrentDispatcher={current:null}),rr.hasOwnProperty("ReactCurrentBatchConfig")||(rr.ReactCurrentBatchConfig={suspense:null});var vr={};function E(Ne,et){for(var tt=0|Ne._threadCount;tt<=et;tt++)Ne[tt]=Ne._currentValue2,Ne._threadCount=tt+1}for(var wr=new Uint16Array(16),Sr=0;15>Sr;Sr++)wr[Sr]=Sr+1;wr[15]=0;var rn=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vn=Object.prototype.hasOwnProperty,bn={},Tn={};function ua(Ne){return!!vn.call(Tn,Ne)||!vn.call(bn,Ne)&&(rn.test(Ne)?Tn[Ne]=!0:(bn[Ne]=!0,!1))}function J(Ne,et,tt,rt,nt,it){this.acceptsBooleans=2===et||3===et||4===et,this.attributeName=rt,this.attributeNamespace=nt,this.mustUseProperty=tt,this.propertyName=Ne,this.type=et,this.sanitizeURL=it}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(Ne){Cn[Ne]=new J(Ne,0,!1,Ne,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(Ne){var et=Ne[0];Cn[et]=new J(et,1,!1,Ne[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(Ne){Cn[Ne]=new J(Ne,2,!1,Ne.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(Ne){Cn[Ne]=new J(Ne,2,!1,Ne,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(Ne){Cn[Ne]=new J(Ne,3,!1,Ne.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(Ne){Cn[Ne]=new J(Ne,3,!0,Ne,null,!1)})),["capture","download"].forEach((function(Ne){Cn[Ne]=new J(Ne,4,!1,Ne,null,!1)})),["cols","rows","size","span"].forEach((function(Ne){Cn[Ne]=new J(Ne,6,!1,Ne,null,!1)})),["rowSpan","start"].forEach((function(Ne){Cn[Ne]=new J(Ne,5,!1,Ne.toLowerCase(),null,!1)}));var In=/[\-:]([a-z])/g;function M(Ne){return Ne[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(Ne){var et=Ne.replace(In,M);Cn[et]=new J(et,1,!1,Ne,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(Ne){var et=Ne.replace(In,M);Cn[et]=new J(et,1,!1,Ne,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(Ne){var et=Ne.replace(In,M);Cn[et]=new J(et,1,!1,Ne,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(Ne){Cn[Ne]=new J(Ne,1,!1,Ne.toLowerCase(),null,!1)})),Cn.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(Ne){Cn[Ne]=new J(Ne,1,!1,Ne.toLowerCase(),null,!0)}));var Mn=/["'&<>]/;function N(Ne){if("boolean"==typeof Ne||"number"==typeof Ne)return""+Ne;Ne=""+Ne;var et=Mn.exec(Ne);if(et){var tt,rt="",nt=0;for(tt=et.index;tt<Ne.length;tt++){switch(Ne.charCodeAt(tt)){case 34:et="&quot;";break;case 38:et="&amp;";break;case 39:et="&#x27;";break;case 60:et="&lt;";break;case 62:et="&gt;";break;default:continue}nt!==tt&&(rt+=Ne.substring(nt,tt)),nt=tt+1,rt+=et}Ne=nt!==tt?rt+Ne.substring(nt,tt):rt}return Ne}function ya(Ne,et){var tt,rt=Cn.hasOwnProperty(Ne)?Cn[Ne]:null;return(tt="style"!==Ne)&&(tt=null!==rt?0===rt.type:2<Ne.length&&("o"===Ne[0]||"O"===Ne[0])&&("n"===Ne[1]||"N"===Ne[1])),tt||function wa(Ne,et,tt,rt){if(null==et||function va(Ne,et,tt,rt){if(null!==tt&&0===tt.type)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return!rt&&(null!==tt?!tt.acceptsBooleans:"data-"!==(Ne=Ne.toLowerCase().slice(0,5))&&"aria-"!==Ne);default:return!1}}(Ne,et,tt,rt))return!0;if(rt)return!1;if(null!==tt)switch(tt.type){case 3:return!et;case 4:return!1===et;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}(Ne,et,rt,!1)?"":null!==rt?(Ne=rt.attributeName,3===(tt=rt.type)||4===tt&&!0===et?Ne+'=""':(rt.sanitizeURL&&(et=""+et),Ne+'="'+N(et)+'"')):ua(Ne)?Ne+'="'+N(et)+'"':""}var zn="function"==typeof Object.is?Object.is:function za(Ne,et){return Ne===et&&(0!==Ne||1/Ne==1/et)||Ne!=Ne&&et!=et},Ln=null,Fn=null,Bn=null,Nn=!1,Vn=!1,Wn=null,$n=0;function W(){if(null===Ln)throw Error(q(321));return Ln}function Ba(){if(0<$n)throw Error(q(312));return{memoizedState:null,queue:null,next:null}}function Ca(){return null===Bn?null===Fn?(Nn=!1,Fn=Bn=Ba()):(Nn=!0,Bn=Fn):null===Bn.next?(Nn=!1,Bn=Bn.next=Ba()):(Nn=!0,Bn=Bn.next),Bn}function Da(Ne,et,tt,rt){for(;Vn;)Vn=!1,$n+=1,Bn=null,tt=Ne(et,rt);return Fn=Ln=null,$n=0,Bn=Wn=null,tt}function Ea(Ne,et){return"function"==typeof et?et(Ne):et}function Fa(Ne,et,tt){if(Ln=W(),Bn=Ca(),Nn){var rt=Bn.queue;if(et=rt.dispatch,null!==Wn&&void 0!==(tt=Wn.get(rt))){Wn.delete(rt),rt=Bn.memoizedState;do{rt=Ne(rt,tt.action),tt=tt.next}while(null!==tt);return Bn.memoizedState=rt,[rt,et]}return[Bn.memoizedState,et]}return Ne=Ne===Ea?"function"==typeof et?et():et:void 0!==tt?tt(et):et,Bn.memoizedState=Ne,Ne=(Ne=Bn.queue={last:null,dispatch:null}).dispatch=Ga.bind(null,Ln,Ne),[Bn.memoizedState,Ne]}function Ga(Ne,et,tt){if(!(25>$n))throw Error(q(301));if(Ne===Ln)if(Vn=!0,Ne={action:tt,next:null},null===Wn&&(Wn=new Map),void 0===(tt=Wn.get(et)))Wn.set(et,Ne);else{for(et=tt;null!==et.next;)et=et.next;et.next=Ne}}function Ha(){}var Yn=0,ii={readContext:function(Ne){var et=Yn;return E(Ne,et),Ne[et]},useContext:function(Ne){W();var et=Yn;return E(Ne,et),Ne[et]},useMemo:function(Ne,et){if(Ln=W(),et=void 0===et?null:et,null!==(Bn=Ca())){var tt=Bn.memoizedState;if(null!==tt&&null!==et){e:{var rt=tt[1];if(null===rt)rt=!1;else{for(var nt=0;nt<rt.length&&nt<et.length;nt++)if(!zn(et[nt],rt[nt])){rt=!1;break e}rt=!0}}if(rt)return tt[0]}}return Ne=Ne(),Bn.memoizedState=[Ne,et],Ne},useReducer:Fa,useRef:function(Ne){Ln=W();var et=(Bn=Ca()).memoizedState;return null===et?(Ne={current:Ne},Bn.memoizedState=Ne):et},useState:function(Ne){return Fa(Ea,Ne)},useLayoutEffect:function(){},useCallback:function(Ne){return Ne},useImperativeHandle:Ha,useEffect:Ha,useDebugValue:Ha,useResponder:function(Ne,et){return{props:et,responder:Ne}},useDeferredValue:function(Ne){return W(),Ne},useTransition:function(){return W(),[function(Ne){Ne()},!1]}},qi="http://www.w3.org/1999/xhtml";function Ka(Ne){switch(Ne){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var uo={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},po=rt({menuitem:!0},uo),vo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},So=["Webkit","ms","Moz","O"];Object.keys(vo).forEach((function(Ne){So.forEach((function(et){et=et+Ne.charAt(0).toUpperCase()+Ne.substring(1),vo[et]=vo[Ne]}))}));var ea=/([A-Z])/g,ta=/^ms-/,ia=nt.Children.toArray,sa=rr.ReactCurrentDispatcher,la={listing:!0,pre:!0,textarea:!0},fa=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ga={},_a={};var Aa=Object.prototype.hasOwnProperty,os={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Ya(Ne,et){if(void 0===Ne)throw Error(q(152,C(et)||"Component"))}function Za(Ne,et,tt){function d(nt,it){var ot=it.prototype&&it.prototype.isReactComponent,at=function pa(Ne,et,tt,rt){if(rt&&"object"==typeof(rt=Ne.contextType)&&null!==rt)return E(rt,tt),rt[tt];if(Ne=Ne.contextTypes){for(var nt in tt={},Ne)tt[nt]=et[nt];et=tt}else et=vr;return et}(it,et,tt,ot),st=[],ct=!1,pt={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===st)return null},enqueueReplaceState:function(Ne,et){ct=!0,st=[et]},enqueueSetState:function(Ne,et){if(null===st)return null;st.push(et)}};if(ot){if(ot=new it(nt.props,at,pt),"function"==typeof it.getDerivedStateFromProps){var ft=it.getDerivedStateFromProps.call(null,nt.props,ot.state);null!=ft&&(ot.state=rt({},ot.state,ft))}}else if(Ln={},ot=it(nt.props,at,pt),null==(ot=Da(it,nt.props,ot,at))||null==ot.render)return void Ya(Ne=ot,it);if(ot.props=nt.props,ot.context=at,ot.updater=pt,void 0===(pt=ot.state)&&(ot.state=pt=null),"function"==typeof ot.UNSAFE_componentWillMount||"function"==typeof ot.componentWillMount)if("function"==typeof ot.componentWillMount&&"function"!=typeof it.getDerivedStateFromProps&&ot.componentWillMount(),"function"==typeof ot.UNSAFE_componentWillMount&&"function"!=typeof it.getDerivedStateFromProps&&ot.UNSAFE_componentWillMount(),st.length){pt=st;var dt=ct;if(st=null,ct=!1,dt&&1===pt.length)ot.state=pt[0];else{ft=dt?pt[0]:ot.state;var mt=!0;for(dt=dt?1:0;dt<pt.length;dt++){var yt=pt[dt];null!=(yt="function"==typeof yt?yt.call(ot,ft,nt.props,at):yt)&&(mt?(mt=!1,ft=rt({},ft,yt)):rt(ft,yt))}ot.state=ft}}else st=null;if(Ya(Ne=ot.render(),it),"function"==typeof ot.getChildContext&&"object"==typeof(nt=it.childContextTypes)){var vt=ot.getChildContext();for(var Rt in vt)if(!(Rt in nt))throw Error(q(108,C(it)||"Unknown",Rt))}vt&&(et=rt({},et,vt))}for(;nt.isValidElement(Ne);){var it=Ne,ot=it.type;if("function"!=typeof ot)break;d(it,ot)}return{child:Ne,context:et}}var as=function(){function a(Ne,et){nt.isValidElement(Ne)?Ne.type!==at?Ne=[Ne]:(Ne=Ne.props.children,Ne=nt.isValidElement(Ne)?[Ne]:ia(Ne)):Ne=ia(Ne),Ne={type:null,domNamespace:qi,children:Ne,childIndex:0,context:vr,footer:""};var tt=wr[0];if(0===tt){var rt=wr,it=2*(tt=rt.length);if(!(65536>=it))throw Error(q(304));var ot=new Uint16Array(it);for(ot.set(rt),(wr=ot)[0]=tt+1,rt=tt;rt<it-1;rt++)wr[rt]=rt+1;wr[it-1]=0}else wr[0]=wr[tt];this.threadID=tt,this.stack=[Ne],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=et,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var Ne=a.prototype;return Ne.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var Ne=this.threadID;wr[Ne]=wr[0],wr[0]=Ne}},Ne.pushProvider=function(Ne){var et=++this.contextIndex,tt=Ne.type._context,rt=this.threadID;E(tt,rt);var nt=tt[rt];this.contextStack[et]=tt,this.contextValueStack[et]=nt,tt[rt]=Ne.props.value},Ne.popProvider=function(){var Ne=this.contextIndex,et=this.contextStack[Ne],tt=this.contextValueStack[Ne];this.contextStack[Ne]=null,this.contextValueStack[Ne]=null,this.contextIndex--,et[this.threadID]=tt},Ne.clearProviders=function(){for(var Ne=this.contextIndex;0<=Ne;Ne--)this.contextStack[Ne][this.threadID]=this.contextValueStack[Ne]},Ne.read=function(Ne){if(this.exhausted)return null;var et=Yn;Yn=this.threadID;var tt=sa.current;sa.current=ii;try{for(var rt=[""],nt=!1;rt[0].length<Ne;){if(0===this.stack.length){this.exhausted=!0;var it=this.threadID;wr[it]=wr[0],wr[0]=it;break}var ot=this.stack[this.stack.length-1];if(nt||ot.childIndex>=ot.children.length){var at=ot.footer;if(""!==at&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===ot.type)this.currentSelectValue=null;else if(null!=ot.type&&null!=ot.type.type&&ot.type.type.$$typeof===pt)this.popProvider(ot.type);else if(ot.type===yt){this.suspenseDepth--;var st=rt.pop();if(nt){nt=!1;var ct=ot.fallbackFrame;if(!ct)throw Error(q(303));this.stack.push(ct),rt[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}rt[this.suspenseDepth]+=st}rt[this.suspenseDepth]+=at}else{var ft=ot.children[ot.childIndex++],dt="";try{dt+=this.render(ft,ot.context,ot.domNamespace)}catch(Ne){if(null!=Ne&&"function"==typeof Ne.then)throw Error(q(294));throw Ne}rt.length<=this.suspenseDepth&&rt.push(""),rt[this.suspenseDepth]+=dt}}return rt[0]}finally{sa.current=tt,Yn=et}},Ne.render=function(Ne,et,tt){if("string"==typeof Ne||"number"==typeof Ne)return""===(tt=""+Ne)?"":this.makeStaticMarkup?N(tt):this.previousWasTextNode?"\x3c!-- --\x3e"+N(tt):(this.previousWasTextNode=!0,N(tt));if(Ne=(et=Za(Ne,et,this.threadID)).child,et=et.context,null===Ne||!1===Ne)return"";if(!nt.isValidElement(Ne)){if(null!=Ne&&null!=Ne.$$typeof){if((tt=Ne.$$typeof)===ot)throw Error(q(257));throw Error(q(258,tt.toString()))}return Ne=ia(Ne),this.stack.push({type:null,domNamespace:tt,children:Ne,childIndex:0,context:et,footer:""}),""}var it=Ne.type;if("string"==typeof it)return this.renderDOM(Ne,et,tt);switch(it){case st:case dt:case ct:case vt:case at:return Ne=ia(Ne.props.children),this.stack.push({type:null,domNamespace:tt,children:Ne,childIndex:0,context:et,footer:""}),"";case yt:throw Error(q(294))}if("object"==typeof it&&null!==it)switch(it.$$typeof){case mt:Ln={};var Ot=it.render(Ne.props,Ne.ref);return Ot=Da(it.render,Ne.props,Ot,Ne.ref),Ot=ia(Ot),this.stack.push({type:null,domNamespace:tt,children:Ot,childIndex:0,context:et,footer:""}),"";case Rt:return Ne=[nt.createElement(it.type,rt({ref:Ne.ref},Ne.props))],this.stack.push({type:null,domNamespace:tt,children:Ne,childIndex:0,context:et,footer:""}),"";case pt:return tt={type:Ne,domNamespace:tt,children:it=ia(Ne.props.children),childIndex:0,context:et,footer:""},this.pushProvider(Ne),this.stack.push(tt),"";case ft:it=Ne.type,Ot=Ne.props;var rr=this.threadID;return E(it,rr),it=ia(Ot.children(it[rr])),this.stack.push({type:Ne,domNamespace:tt,children:it,childIndex:0,context:et,footer:""}),"";case Bt:throw Error(q(338));case Dt:switch(function na(Ne){if(-1===Ne._status){Ne._status=0;var et=Ne._ctor;et=et(),Ne._result=et,et.then((function(et){0===Ne._status&&(et=et.default,Ne._status=1,Ne._result=et)}),(function(et){0===Ne._status&&(Ne._status=2,Ne._result=et)}))}}(it=Ne.type),it._status){case 1:return Ne=[nt.createElement(it._result,rt({ref:Ne.ref},Ne.props))],this.stack.push({type:null,domNamespace:tt,children:Ne,childIndex:0,context:et,footer:""}),"";case 2:throw it._result;default:throw Error(q(295))}case er:throw Error(q(343))}throw Error(q(130,null==it?it:typeof it,""))},Ne.renderDOM=function(Ne,et,tt){var it=Ne.type.toLowerCase();if(tt===qi&&Ka(it),!ga.hasOwnProperty(it)){if(!fa.test(it))throw Error(q(65,it));ga[it]=!0}var ot=Ne.props;if("input"===it)ot=rt({type:void 0},ot,{defaultChecked:void 0,defaultValue:void 0,value:null!=ot.value?ot.value:ot.defaultValue,checked:null!=ot.checked?ot.checked:ot.defaultChecked});else if("textarea"===it){var at=ot.value;if(null==at){at=ot.defaultValue;var st=ot.children;if(null!=st){if(null!=at)throw Error(q(92));if(Array.isArray(st)){if(!(1>=st.length))throw Error(q(93));st=st[0]}at=""+st}null==at&&(at="")}ot=rt({},ot,{value:void 0,children:""+at})}else if("select"===it)this.currentSelectValue=null!=ot.value?ot.value:ot.defaultValue,ot=rt({},ot,{value:void 0});else if("option"===it){st=this.currentSelectValue;var ct=function Va(Ne){if(null==Ne)return Ne;var et="";return nt.Children.forEach(Ne,(function(Ne){null!=Ne&&(et+=Ne)})),et}(ot.children);if(null!=st){var pt=null!=ot.value?ot.value+"":ct;if(at=!1,Array.isArray(st)){for(var ft=0;ft<st.length;ft++)if(""+st[ft]===pt){at=!0;break}}else at=""+st===pt;ot=rt({selected:void 0,children:void 0},ot,{selected:at,children:ct})}}if(at=ot){if(po[it]&&(null!=at.children||null!=at.dangerouslySetInnerHTML))throw Error(q(137,it,""));if(null!=at.dangerouslySetInnerHTML){if(null!=at.children)throw Error(q(60));if("object"!=typeof at.dangerouslySetInnerHTML||!("__html"in at.dangerouslySetInnerHTML))throw Error(q(61))}if(null!=at.style&&"object"!=typeof at.style)throw Error(q(62,""))}for(Bt in at=ot,st=this.makeStaticMarkup,ct=1===this.stack.length,pt="<"+Ne.type,at)if(Aa.call(at,Bt)){var dt=at[Bt];if(null!=dt){if("style"===Bt){ft=void 0;var mt="",yt="";for(ft in dt)if(dt.hasOwnProperty(ft)){var vt=0===ft.indexOf("--"),Rt=dt[ft];if(null!=Rt){if(vt)var Dt=ft;else if(Dt=ft,_a.hasOwnProperty(Dt))Dt=_a[Dt];else{var Ot=Dt.replace(ea,"-$1").toLowerCase().replace(ta,"-ms-");Dt=_a[Dt]=Ot}mt+=yt+Dt+":",yt=ft,mt+=vt=null==Rt||"boolean"==typeof Rt||""===Rt?"":vt||"number"!=typeof Rt||0===Rt||vo.hasOwnProperty(yt)&&vo[yt]?(""+Rt).trim():Rt+"px",yt=";"}}dt=mt||null}ft=null;e:if(vt=it,Rt=at,-1===vt.indexOf("-"))vt="string"==typeof Rt.is;else switch(vt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":vt=!1;break e;default:vt=!0}vt?os.hasOwnProperty(Bt)||(ft=ua(ft=Bt)&&null!=dt?ft+'="'+N(dt)+'"':""):ft=ya(Bt,dt),ft&&(pt+=" "+ft)}}st||ct&&(pt+=' data-reactroot=""');var Bt=pt;at="",uo.hasOwnProperty(it)?Bt+="/>":(Bt+=">",at="</"+Ne.type+">");e:{if(null!=(st=ot.dangerouslySetInnerHTML)){if(null!=st.__html){st=st.__html;break e}}else if("string"==typeof(st=ot.children)||"number"==typeof st){st=N(st);break e}st=null}return null!=st?(ot=[],la.hasOwnProperty(it)&&"\n"===st.charAt(0)&&(Bt+="\n"),Bt+=st):ot=ia(ot.children),Ne=Ne.type,tt=null==tt||"http://www.w3.org/1999/xhtml"===tt?Ka(Ne):"http://www.w3.org/2000/svg"===tt&&"foreignObject"===Ne?"http://www.w3.org/1999/xhtml":tt,this.stack.push({domNamespace:tt,type:it,children:ot,childIndex:0,context:et,footer:at}),this.previousWasTextNode=!1,Bt},a}(),ss={renderToString:function(Ne){Ne=new as(Ne,!1);try{return Ne.read(1/0)}finally{Ne.destroy()}},renderToStaticMarkup:function(Ne){Ne=new as(Ne,!0);try{return Ne.read(1/0)}finally{Ne.destroy()}},renderToNodeStream:function(){throw Error(q(207))},renderToStaticNodeStream:function(){throw Error(q(208))},version:"16.13.1"};Ne.exports=ss.default||ss},4448:(Ne,et,tt)=>{"use strict";var rt=tt(7294),nt=tt(7418),it=tt(3840);function u(Ne){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+Ne,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+Ne+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!rt)throw Error(u(227));function ba(Ne,et,tt,rt,nt,it,ot,at,st){var ct=Array.prototype.slice.call(arguments,3);try{et.apply(tt,ct)}catch(Ne){this.onError(Ne)}}var ot=!1,at=null,st=!1,ct=null,pt={onError:function(Ne){ot=!0,at=Ne}};function ja(Ne,et,tt,rt,nt,it,st,ct,ft){ot=!1,at=null,ba.apply(pt,arguments)}var ft=null,dt=null,mt=null;function oa(Ne,et,tt){var rt=Ne.type||"unknown-event";Ne.currentTarget=mt(tt),function ka(Ne,et,tt,rt,nt,it,pt,ft,dt){if(ja.apply(this,arguments),ot){if(!ot)throw Error(u(198));var mt=at;ot=!1,at=null,st||(st=!0,ct=mt)}}(rt,et,void 0,Ne),Ne.currentTarget=null}var yt=null,vt={};function ra(){if(yt)for(var Ne in vt){var et=vt[Ne],tt=yt.indexOf(Ne);if(!(-1<tt))throw Error(u(96,Ne));if(!Rt[tt]){if(!et.extractEvents)throw Error(u(97,Ne));for(var rt in Rt[tt]=et,tt=et.eventTypes){var nt=void 0,it=tt[rt],ot=et,at=rt;if(Dt.hasOwnProperty(at))throw Error(u(99,at));Dt[at]=it;var st=it.phasedRegistrationNames;if(st){for(nt in st)st.hasOwnProperty(nt)&&ua(st[nt],ot,at);nt=!0}else it.registrationName?(ua(it.registrationName,ot,at),nt=!0):nt=!1;if(!nt)throw Error(u(98,rt,Ne))}}}}function ua(Ne,et,tt){if(Ot[Ne])throw Error(u(100,Ne));Ot[Ne]=et,Bt[Ne]=et.eventTypes[tt].dependencies}var Rt=[],Dt={},Ot={},Bt={};function xa(Ne){var et,tt=!1;for(et in Ne)if(Ne.hasOwnProperty(et)){var rt=Ne[et];if(!vt.hasOwnProperty(et)||vt[et]!==rt){if(vt[et])throw Error(u(102,et));vt[et]=rt,tt=!0}}tt&&ra()}var er=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),rr=null,vr=null,wr=null;function Ca(Ne){if(Ne=dt(Ne)){if("function"!=typeof rr)throw Error(u(280));var et=Ne.stateNode;et&&(et=ft(et),rr(Ne.stateNode,Ne.type,et))}}function Da(Ne){vr?wr?wr.push(Ne):wr=[Ne]:vr=Ne}function Ea(){if(vr){var Ne=vr,et=wr;if(wr=vr=null,Ca(Ne),et)for(Ne=0;Ne<et.length;Ne++)Ca(et[Ne])}}function Fa(Ne,et){return Ne(et)}function Ga(Ne,et,tt,rt,nt){return Ne(et,tt,rt,nt)}function Ha(){}var Sr=Fa,rn=!1,vn=!1;function La(){null===vr&&null===wr||(Ha(),Ea())}function Ma(Ne,et,tt){if(vn)return Ne(et,tt);vn=!0;try{return Sr(Ne,et,tt)}finally{vn=!1,La()}}var bn=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tn=Object.prototype.hasOwnProperty,Cn={},In={};function v(Ne,et,tt,rt,nt,it){this.acceptsBooleans=2===et||3===et||4===et,this.attributeName=rt,this.attributeNamespace=nt,this.mustUseProperty=tt,this.propertyName=Ne,this.type=et,this.sanitizeURL=it}var Mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(Ne){Mn[Ne]=new v(Ne,0,!1,Ne,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(Ne){var et=Ne[0];Mn[et]=new v(et,1,!1,Ne[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(Ne){Mn[Ne]=new v(Ne,2,!1,Ne.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(Ne){Mn[Ne]=new v(Ne,2,!1,Ne,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(Ne){Mn[Ne]=new v(Ne,3,!1,Ne.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(Ne){Mn[Ne]=new v(Ne,3,!0,Ne,null,!1)})),["capture","download"].forEach((function(Ne){Mn[Ne]=new v(Ne,4,!1,Ne,null,!1)})),["cols","rows","size","span"].forEach((function(Ne){Mn[Ne]=new v(Ne,6,!1,Ne,null,!1)})),["rowSpan","start"].forEach((function(Ne){Mn[Ne]=new v(Ne,5,!1,Ne.toLowerCase(),null,!1)}));var zn=/[\-:]([a-z])/g;function Va(Ne){return Ne[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(Ne){var et=Ne.replace(zn,Va);Mn[et]=new v(et,1,!1,Ne,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(Ne){var et=Ne.replace(zn,Va);Mn[et]=new v(et,1,!1,Ne,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(Ne){var et=Ne.replace(zn,Va);Mn[et]=new v(et,1,!1,Ne,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(Ne){Mn[Ne]=new v(Ne,1,!1,Ne.toLowerCase(),null,!1)})),Mn.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(Ne){Mn[Ne]=new v(Ne,1,!1,Ne.toLowerCase(),null,!0)}));var Ln=rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Xa(Ne,et,tt,rt){var nt=Mn.hasOwnProperty(et)?Mn[et]:null;(null!==nt?0===nt.type:!rt&&(2<et.length&&("o"===et[0]||"O"===et[0])&&("n"===et[1]||"N"===et[1])))||(function Ta(Ne,et,tt,rt){if(null==et||function Sa(Ne,et,tt,rt){if(null!==tt&&0===tt.type)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return!rt&&(null!==tt?!tt.acceptsBooleans:"data-"!==(Ne=Ne.toLowerCase().slice(0,5))&&"aria-"!==Ne);default:return!1}}(Ne,et,tt,rt))return!0;if(rt)return!1;if(null!==tt)switch(tt.type){case 3:return!et;case 4:return!1===et;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}(et,tt,nt,rt)&&(tt=null),rt||null===nt?function Ra(Ne){return!!Tn.call(In,Ne)||!Tn.call(Cn,Ne)&&(bn.test(Ne)?In[Ne]=!0:(Cn[Ne]=!0,!1))}(et)&&(null===tt?Ne.removeAttribute(et):Ne.setAttribute(et,""+tt)):nt.mustUseProperty?Ne[nt.propertyName]=null===tt?3!==nt.type&&"":tt:(et=nt.attributeName,rt=nt.attributeNamespace,null===tt?Ne.removeAttribute(et):(tt=3===(nt=nt.type)||4===nt&&!0===tt?"":""+tt,rt?Ne.setAttributeNS(rt,et,tt):Ne.setAttribute(et,tt))))}Ln.hasOwnProperty("ReactCurrentDispatcher")||(Ln.ReactCurrentDispatcher={current:null}),Ln.hasOwnProperty("ReactCurrentBatchConfig")||(Ln.ReactCurrentBatchConfig={suspense:null});var Fn=/^(.*)[\\\/]/,Bn="function"==typeof Symbol&&Symbol.for,Nn=Bn?Symbol.for("react.element"):60103,Vn=Bn?Symbol.for("react.portal"):60106,Wn=Bn?Symbol.for("react.fragment"):60107,$n=Bn?Symbol.for("react.strict_mode"):60108,Yn=Bn?Symbol.for("react.profiler"):60114,ii=Bn?Symbol.for("react.provider"):60109,qi=Bn?Symbol.for("react.context"):60110,uo=Bn?Symbol.for("react.concurrent_mode"):60111,po=Bn?Symbol.for("react.forward_ref"):60112,vo=Bn?Symbol.for("react.suspense"):60113,So=Bn?Symbol.for("react.suspense_list"):60120,ea=Bn?Symbol.for("react.memo"):60115,ta=Bn?Symbol.for("react.lazy"):60116,ia=Bn?Symbol.for("react.block"):60121,sa="function"==typeof Symbol&&Symbol.iterator;function nb(Ne){return null===Ne||"object"!=typeof Ne?null:"function"==typeof(Ne=sa&&Ne[sa]||Ne["@@iterator"])?Ne:null}function pb(Ne){if(null==Ne)return null;if("function"==typeof Ne)return Ne.displayName||Ne.name||null;if("string"==typeof Ne)return Ne;switch(Ne){case Wn:return"Fragment";case Vn:return"Portal";case Yn:return"Profiler";case $n:return"StrictMode";case vo:return"Suspense";case So:return"SuspenseList"}if("object"==typeof Ne)switch(Ne.$$typeof){case qi:return"Context.Consumer";case ii:return"Context.Provider";case po:var et=Ne.render;return et=et.displayName||et.name||"",Ne.displayName||(""!==et?"ForwardRef("+et+")":"ForwardRef");case ea:return pb(Ne.type);case ia:return pb(Ne.render);case ta:if(Ne=1===Ne._status?Ne._result:null)return pb(Ne)}return null}function qb(Ne){var et="";do{e:switch(Ne.tag){case 3:case 4:case 6:case 7:case 10:case 9:var tt="";break e;default:var rt=Ne._debugOwner,nt=Ne._debugSource,it=pb(Ne.type);tt=null,rt&&(tt=pb(rt.type)),rt=it,it="",nt?it=" (at "+nt.fileName.replace(Fn,"")+":"+nt.lineNumber+")":tt&&(it=" (created by "+tt+")"),tt="\n    in "+(rt||"Unknown")+it}et+=tt,Ne=Ne.return}while(Ne);return et}function rb(Ne){switch(typeof Ne){case"boolean":case"number":case"object":case"string":case"undefined":return Ne;default:return""}}function sb(Ne){var et=Ne.type;return(Ne=Ne.nodeName)&&"input"===Ne.toLowerCase()&&("checkbox"===et||"radio"===et)}function xb(Ne){Ne._valueTracker||(Ne._valueTracker=function tb(Ne){var et=sb(Ne)?"checked":"value",tt=Object.getOwnPropertyDescriptor(Ne.constructor.prototype,et),rt=""+Ne[et];if(!Ne.hasOwnProperty(et)&&void 0!==tt&&"function"==typeof tt.get&&"function"==typeof tt.set){var nt=tt.get,it=tt.set;return Object.defineProperty(Ne,et,{configurable:!0,get:function(){return nt.call(this)},set:function(Ne){rt=""+Ne,it.call(this,Ne)}}),Object.defineProperty(Ne,et,{enumerable:tt.enumerable}),{getValue:function(){return rt},setValue:function(Ne){rt=""+Ne},stopTracking:function(){Ne._valueTracker=null,delete Ne[et]}}}}(Ne))}function yb(Ne){if(!Ne)return!1;var et=Ne._valueTracker;if(!et)return!0;var tt=et.getValue(),rt="";return Ne&&(rt=sb(Ne)?Ne.checked?"true":"false":Ne.value),(Ne=rt)!==tt&&(et.setValue(Ne),!0)}function zb(Ne,et){var tt=et.checked;return nt({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=tt?tt:Ne._wrapperState.initialChecked})}function Ab(Ne,et){var tt=null==et.defaultValue?"":et.defaultValue,rt=null!=et.checked?et.checked:et.defaultChecked;tt=rb(null!=et.value?et.value:tt),Ne._wrapperState={initialChecked:rt,initialValue:tt,controlled:"checkbox"===et.type||"radio"===et.type?null!=et.checked:null!=et.value}}function Bb(Ne,et){null!=(et=et.checked)&&Xa(Ne,"checked",et,!1)}function Cb(Ne,et){Bb(Ne,et);var tt=rb(et.value),rt=et.type;if(null!=tt)"number"===rt?(0===tt&&""===Ne.value||Ne.value!=tt)&&(Ne.value=""+tt):Ne.value!==""+tt&&(Ne.value=""+tt);else if("submit"===rt||"reset"===rt)return void Ne.removeAttribute("value");et.hasOwnProperty("value")?Db(Ne,et.type,tt):et.hasOwnProperty("defaultValue")&&Db(Ne,et.type,rb(et.defaultValue)),null==et.checked&&null!=et.defaultChecked&&(Ne.defaultChecked=!!et.defaultChecked)}function Eb(Ne,et,tt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var rt=et.type;if(!("submit"!==rt&&"reset"!==rt||void 0!==et.value&&null!==et.value))return;et=""+Ne._wrapperState.initialValue,tt||et===Ne.value||(Ne.value=et),Ne.defaultValue=et}""!==(tt=Ne.name)&&(Ne.name=""),Ne.defaultChecked=!!Ne._wrapperState.initialChecked,""!==tt&&(Ne.name=tt)}function Db(Ne,et,tt){"number"===et&&Ne.ownerDocument.activeElement===Ne||(null==tt?Ne.defaultValue=""+Ne._wrapperState.initialValue:Ne.defaultValue!==""+tt&&(Ne.defaultValue=""+tt))}function Gb(Ne,et){return Ne=nt({children:void 0},et),(et=function Fb(Ne){var et="";return rt.Children.forEach(Ne,(function(Ne){null!=Ne&&(et+=Ne)})),et}(et.children))&&(Ne.children=et),Ne}function Hb(Ne,et,tt,rt){if(Ne=Ne.options,et){et={};for(var nt=0;nt<tt.length;nt++)et["$"+tt[nt]]=!0;for(tt=0;tt<Ne.length;tt++)nt=et.hasOwnProperty("$"+Ne[tt].value),Ne[tt].selected!==nt&&(Ne[tt].selected=nt),nt&&rt&&(Ne[tt].defaultSelected=!0)}else{for(tt=""+rb(tt),et=null,nt=0;nt<Ne.length;nt++){if(Ne[nt].value===tt)return Ne[nt].selected=!0,void(rt&&(Ne[nt].defaultSelected=!0));null!==et||Ne[nt].disabled||(et=Ne[nt])}null!==et&&(et.selected=!0)}}function Ib(Ne,et){if(null!=et.dangerouslySetInnerHTML)throw Error(u(91));return nt({},et,{value:void 0,defaultValue:void 0,children:""+Ne._wrapperState.initialValue})}function Jb(Ne,et){var tt=et.value;if(null==tt){if(tt=et.children,et=et.defaultValue,null!=tt){if(null!=et)throw Error(u(92));if(Array.isArray(tt)){if(!(1>=tt.length))throw Error(u(93));tt=tt[0]}et=tt}null==et&&(et=""),tt=et}Ne._wrapperState={initialValue:rb(tt)}}function Kb(Ne,et){var tt=rb(et.value),rt=rb(et.defaultValue);null!=tt&&((tt=""+tt)!==Ne.value&&(Ne.value=tt),null==et.defaultValue&&Ne.defaultValue!==tt&&(Ne.defaultValue=tt)),null!=rt&&(Ne.defaultValue=""+rt)}function Lb(Ne){var et=Ne.textContent;et===Ne._wrapperState.initialValue&&""!==et&&null!==et&&(Ne.value=et)}var la="http://www.w3.org/1999/xhtml",fa="http://www.w3.org/2000/svg";function Nb(Ne){switch(Ne){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ob(Ne,et){return null==Ne||"http://www.w3.org/1999/xhtml"===Ne?Nb(et):"http://www.w3.org/2000/svg"===Ne&&"foreignObject"===et?"http://www.w3.org/1999/xhtml":Ne}var ga,_a,Aa=(_a=function(Ne,et){if(Ne.namespaceURI!==fa||"innerHTML"in Ne)Ne.innerHTML=et;else{for((ga=ga||document.createElement("div")).innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=ga.firstChild;Ne.firstChild;)Ne.removeChild(Ne.firstChild);for(;et.firstChild;)Ne.appendChild(et.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(Ne,et,tt,rt){MSApp.execUnsafeLocalFunction((function(){return _a(Ne,et)}))}:_a);function Rb(Ne,et){if(et){var tt=Ne.firstChild;if(tt&&tt===Ne.lastChild&&3===tt.nodeType)return void(tt.nodeValue=et)}Ne.textContent=et}function Sb(Ne,et){var tt={};return tt[Ne.toLowerCase()]=et.toLowerCase(),tt["Webkit"+Ne]="webkit"+et,tt["Moz"+Ne]="moz"+et,tt}var os={animationend:Sb("Animation","AnimationEnd"),animationiteration:Sb("Animation","AnimationIteration"),animationstart:Sb("Animation","AnimationStart"),transitionend:Sb("Transition","TransitionEnd")},as={},ss={};function Wb(Ne){if(as[Ne])return as[Ne];if(!os[Ne])return Ne;var et,tt=os[Ne];for(et in tt)if(tt.hasOwnProperty(et)&&et in ss)return as[Ne]=tt[et];return Ne}er&&(ss=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);var ls=Wb("animationend"),us=Wb("animationiteration"),fs=Wb("animationstart"),gs=Wb("transitionend"),vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xs=new("function"==typeof WeakMap?WeakMap:Map);function cc(Ne){var et=xs.get(Ne);return void 0===et&&(et=new Map,xs.set(Ne,et)),et}function dc(Ne){var et=Ne,tt=Ne;if(Ne.alternate)for(;et.return;)et=et.return;else{Ne=et;do{0!=(1026&(et=Ne).effectTag)&&(tt=et.return),Ne=et.return}while(Ne)}return 3===et.tag?tt:null}function ec(Ne){if(13===Ne.tag){var et=Ne.memoizedState;if(null===et&&(null!==(Ne=Ne.alternate)&&(et=Ne.memoizedState)),null!==et)return et.dehydrated}return null}function fc(Ne){if(dc(Ne)!==Ne)throw Error(u(188))}function hc(Ne){if(Ne=function gc(Ne){var et=Ne.alternate;if(!et){if(null===(et=dc(Ne)))throw Error(u(188));return et!==Ne?null:Ne}for(var tt=Ne,rt=et;;){var nt=tt.return;if(null===nt)break;var it=nt.alternate;if(null===it){if(null!==(rt=nt.return)){tt=rt;continue}break}if(nt.child===it.child){for(it=nt.child;it;){if(it===tt)return fc(nt),Ne;if(it===rt)return fc(nt),et;it=it.sibling}throw Error(u(188))}if(tt.return!==rt.return)tt=nt,rt=it;else{for(var ot=!1,at=nt.child;at;){if(at===tt){ot=!0,tt=nt,rt=it;break}if(at===rt){ot=!0,rt=nt,tt=it;break}at=at.sibling}if(!ot){for(at=it.child;at;){if(at===tt){ot=!0,tt=it,rt=nt;break}if(at===rt){ot=!0,rt=it,tt=nt;break}at=at.sibling}if(!ot)throw Error(u(189))}}if(tt.alternate!==rt)throw Error(u(190))}if(3!==tt.tag)throw Error(u(188));return tt.stateNode.current===tt?Ne:et}(Ne),!Ne)return null;for(var et=Ne;;){if(5===et.tag||6===et.tag)return et;if(et.child)et.child.return=et,et=et.child;else{if(et===Ne)break;for(;!et.sibling;){if(!et.return||et.return===Ne)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}}return null}function ic(Ne,et){if(null==et)throw Error(u(30));return null==Ne?et:Array.isArray(Ne)?Array.isArray(et)?(Ne.push.apply(Ne,et),Ne):(Ne.push(et),Ne):Array.isArray(et)?[Ne].concat(et):[Ne,et]}function jc(Ne,et,tt){Array.isArray(Ne)?Ne.forEach(et,tt):Ne&&et.call(tt,Ne)}var Ss=null;function lc(Ne){if(Ne){var et=Ne._dispatchListeners,tt=Ne._dispatchInstances;if(Array.isArray(et))for(var rt=0;rt<et.length&&!Ne.isPropagationStopped();rt++)oa(Ne,et[rt],tt[rt]);else et&&oa(Ne,et,tt);Ne._dispatchListeners=null,Ne._dispatchInstances=null,Ne.isPersistent()||Ne.constructor.release(Ne)}}function mc(Ne){if(null!==Ne&&(Ss=ic(Ss,Ne)),Ne=Ss,Ss=null,Ne){if(jc(Ne,lc),Ss)throw Error(u(95));if(st)throw Ne=ct,st=!1,ct=null,Ne}}function nc(Ne){return(Ne=Ne.target||Ne.srcElement||window).correspondingUseElement&&(Ne=Ne.correspondingUseElement),3===Ne.nodeType?Ne.parentNode:Ne}function oc(Ne){if(!er)return!1;var et=(Ne="on"+Ne)in document;return et||((et=document.createElement("div")).setAttribute(Ne,"return;"),et="function"==typeof et[Ne]),et}var Es=[];function qc(Ne){Ne.topLevelType=null,Ne.nativeEvent=null,Ne.targetInst=null,Ne.ancestors.length=0,10>Es.length&&Es.push(Ne)}function rc(Ne,et,tt,rt){if(Es.length){var nt=Es.pop();return nt.topLevelType=Ne,nt.eventSystemFlags=rt,nt.nativeEvent=et,nt.targetInst=tt,nt}return{topLevelType:Ne,eventSystemFlags:rt,nativeEvent:et,targetInst:tt,ancestors:[]}}function sc(Ne){var et=Ne.targetInst,tt=et;do{if(!tt){Ne.ancestors.push(tt);break}var rt=tt;if(3===rt.tag)rt=rt.stateNode.containerInfo;else{for(;rt.return;)rt=rt.return;rt=3!==rt.tag?null:rt.stateNode.containerInfo}if(!rt)break;5!==(et=tt.tag)&&6!==et||Ne.ancestors.push(tt),tt=tc(rt)}while(tt);for(tt=0;tt<Ne.ancestors.length;tt++){et=Ne.ancestors[tt];var nt=nc(Ne.nativeEvent);rt=Ne.topLevelType;var it=Ne.nativeEvent,ot=Ne.eventSystemFlags;0===tt&&(ot|=64);for(var at=null,st=0;st<Rt.length;st++){var ct=Rt[st];ct&&(ct=ct.extractEvents(rt,et,it,nt,ot))&&(at=ic(at,ct))}mc(at)}}function uc(Ne,et,tt){if(!tt.has(Ne)){switch(Ne){case"scroll":vc(et,"scroll",!0);break;case"focus":case"blur":vc(et,"focus",!0),vc(et,"blur",!0),tt.set("blur",null),tt.set("focus",null);break;case"cancel":case"close":oc(Ne)&&vc(et,Ne,!0);break;case"invalid":case"submit":case"reset":break;default:-1===vs.indexOf(Ne)&&F(Ne,et)}tt.set(Ne,null)}}var Cs,Ps,As,Rs=!1,Ms=[],zs=null,Ls=null,Os=null,Fs=new Map,Bs=new Map,Ns=[],Vs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Us="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Kc(Ne,et,tt,rt,nt){return{blockedOn:Ne,topLevelType:et,eventSystemFlags:32|tt,nativeEvent:nt,container:rt}}function Lc(Ne,et){switch(Ne){case"focus":case"blur":zs=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Fs.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(et.pointerId)}}function Mc(Ne,et,tt,rt,nt,it){return null===Ne||Ne.nativeEvent!==it?(Ne=Kc(et,tt,rt,nt,it),null!==et&&(null!==(et=Nc(et))&&Ps(et)),Ne):(Ne.eventSystemFlags|=rt,Ne)}function Pc(Ne){var et=tc(Ne.target);if(null!==et){var tt=dc(et);if(null!==tt)if(13===(et=tt.tag)){if(null!==(et=ec(tt)))return Ne.blockedOn=et,void it.unstable_runWithPriority(Ne.priority,(function(){As(tt)}))}else if(3===et&&tt.stateNode.hydrate)return void(Ne.blockedOn=3===tt.tag?tt.stateNode.containerInfo:null)}Ne.blockedOn=null}function Qc(Ne){if(null!==Ne.blockedOn)return!1;var et=Rc(Ne.topLevelType,Ne.eventSystemFlags,Ne.container,Ne.nativeEvent);if(null!==et){var tt=Nc(et);return null!==tt&&Ps(tt),Ne.blockedOn=et,!1}return!0}function Sc(Ne,et,tt){Qc(Ne)&&tt.delete(et)}function Tc(){for(Rs=!1;0<Ms.length;){var Ne=Ms[0];if(null!==Ne.blockedOn){null!==(Ne=Nc(Ne.blockedOn))&&Cs(Ne);break}var et=Rc(Ne.topLevelType,Ne.eventSystemFlags,Ne.container,Ne.nativeEvent);null!==et?Ne.blockedOn=et:Ms.shift()}null!==zs&&Qc(zs)&&(zs=null),null!==Ls&&Qc(Ls)&&(Ls=null),null!==Os&&Qc(Os)&&(Os=null),Fs.forEach(Sc),Bs.forEach(Sc)}function Uc(Ne,et){Ne.blockedOn===et&&(Ne.blockedOn=null,Rs||(Rs=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Tc)))}function Vc(Ne){function b(et){return Uc(et,Ne)}if(0<Ms.length){Uc(Ms[0],Ne);for(var et=1;et<Ms.length;et++){var tt=Ms[et];tt.blockedOn===Ne&&(tt.blockedOn=null)}}for(null!==zs&&Uc(zs,Ne),null!==Ls&&Uc(Ls,Ne),null!==Os&&Uc(Os,Ne),Fs.forEach(b),Bs.forEach(b),et=0;et<Ns.length;et++)(tt=Ns[et]).blockedOn===Ne&&(tt.blockedOn=null);for(;0<Ns.length&&null===(et=Ns[0]).blockedOn;)Pc(et),null===et.blockedOn&&Ns.shift()}var js={},Zs=new Map,Js=new Map,tl=["abort","abort",ls,"animationEnd",us,"animationIteration",fs,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",gs,"transitionEnd","waiting","waiting"];function ad(Ne,et){for(var tt=0;tt<Ne.length;tt+=2){var rt=Ne[tt],nt=Ne[tt+1],it="on"+(nt[0].toUpperCase()+nt.slice(1));it={phasedRegistrationNames:{bubbled:it,captured:it+"Capture"},dependencies:[rt],eventPriority:et},Js.set(rt,et),Zs.set(rt,it),js[nt]=it}}ad("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),ad("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),ad(tl,2);for(var ol="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),sl=0;sl<ol.length;sl++)Js.set(ol[sl],0);var dl=it.unstable_UserBlockingPriority,gl=it.unstable_runWithPriority,yl=!0;function F(Ne,et){vc(et,Ne,!1)}function vc(Ne,et,tt){var rt=Js.get(et);switch(void 0===rt?2:rt){case 0:rt=gd.bind(null,et,1,Ne);break;case 1:rt=hd.bind(null,et,1,Ne);break;default:rt=id.bind(null,et,1,Ne)}tt?Ne.addEventListener(et,rt,!0):Ne.addEventListener(et,rt,!1)}function gd(Ne,et,tt,rt){rn||Ha();var nt=id,it=rn;rn=!0;try{Ga(nt,Ne,et,tt,rt)}finally{(rn=it)||La()}}function hd(Ne,et,tt,rt){gl(dl,id.bind(null,Ne,et,tt,rt))}function id(Ne,et,tt,rt){if(yl)if(0<Ms.length&&-1<Vs.indexOf(Ne))Ne=Kc(null,Ne,et,tt,rt),Ms.push(Ne);else{var nt=Rc(Ne,et,tt,rt);if(null===nt)Lc(Ne,rt);else if(-1<Vs.indexOf(Ne))Ne=Kc(nt,Ne,et,tt,rt),Ms.push(Ne);else if(!function Oc(Ne,et,tt,rt,nt){switch(et){case"focus":return zs=Mc(zs,Ne,et,tt,rt,nt),!0;case"dragenter":return Ls=Mc(Ls,Ne,et,tt,rt,nt),!0;case"mouseover":return Os=Mc(Os,Ne,et,tt,rt,nt),!0;case"pointerover":var it=nt.pointerId;return Fs.set(it,Mc(Fs.get(it)||null,Ne,et,tt,rt,nt)),!0;case"gotpointercapture":return it=nt.pointerId,Bs.set(it,Mc(Bs.get(it)||null,Ne,et,tt,rt,nt)),!0}return!1}(nt,Ne,et,tt,rt)){Lc(Ne,rt),Ne=rc(Ne,rt,null,et);try{Ma(sc,Ne)}finally{qc(Ne)}}}}function Rc(Ne,et,tt,rt){if(null!==(tt=tc(tt=nc(rt)))){var nt=dc(tt);if(null===nt)tt=null;else{var it=nt.tag;if(13===it){if(null!==(tt=ec(nt)))return tt;tt=null}else if(3===it){if(nt.stateNode.hydrate)return 3===nt.tag?nt.stateNode.containerInfo:null;tt=null}else nt!==tt&&(tt=null)}}Ne=rc(Ne,rt,tt,et);try{Ma(sc,Ne)}finally{qc(Ne)}return null}var vl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_l=["Webkit","ms","Moz","O"];function ld(Ne,et,tt){return null==et||"boolean"==typeof et||""===et?"":tt||"number"!=typeof et||0===et||vl.hasOwnProperty(Ne)&&vl[Ne]?(""+et).trim():et+"px"}function md(Ne,et){for(var tt in Ne=Ne.style,et)if(et.hasOwnProperty(tt)){var rt=0===tt.indexOf("--"),nt=ld(tt,et[tt],rt);"float"===tt&&(tt="cssFloat"),rt?Ne.setProperty(tt,nt):Ne[tt]=nt}}Object.keys(vl).forEach((function(Ne){_l.forEach((function(et){et=et+Ne.charAt(0).toUpperCase()+Ne.substring(1),vl[et]=vl[Ne]}))}));var bl=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function od(Ne,et){if(et){if(bl[Ne]&&(null!=et.children||null!=et.dangerouslySetInnerHTML))throw Error(u(137,Ne,""));if(null!=et.dangerouslySetInnerHTML){if(null!=et.children)throw Error(u(60));if("object"!=typeof et.dangerouslySetInnerHTML||!("__html"in et.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=et.style&&"object"!=typeof et.style)throw Error(u(62,""))}}function pd(Ne,et){if(-1===Ne.indexOf("-"))return"string"==typeof et.is;switch(Ne){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=la;function rd(Ne,et){var tt=cc(Ne=9===Ne.nodeType||11===Ne.nodeType?Ne:Ne.ownerDocument);et=Bt[et];for(var rt=0;rt<et.length;rt++)uc(et[rt],Ne,tt)}function sd(){}function td(Ne){if(void 0===(Ne=Ne||("undefined"!=typeof document?document:void 0)))return null;try{return Ne.activeElement||Ne.body}catch(et){return Ne.body}}function ud(Ne){for(;Ne&&Ne.firstChild;)Ne=Ne.firstChild;return Ne}function vd(Ne,et){var tt,rt=ud(Ne);for(Ne=0;rt;){if(3===rt.nodeType){if(tt=Ne+rt.textContent.length,Ne<=et&&tt>=et)return{node:rt,offset:et-Ne};Ne=tt}e:{for(;rt;){if(rt.nextSibling){rt=rt.nextSibling;break e}rt=rt.parentNode}rt=void 0}rt=ud(rt)}}function wd(Ne,et){return!(!Ne||!et)&&(Ne===et||(!Ne||3!==Ne.nodeType)&&(et&&3===et.nodeType?wd(Ne,et.parentNode):"contains"in Ne?Ne.contains(et):!!Ne.compareDocumentPosition&&!!(16&Ne.compareDocumentPosition(et))))}function xd(){for(var Ne=window,et=td();et instanceof Ne.HTMLIFrameElement;){try{var tt="string"==typeof et.contentWindow.location.href}catch(Ne){tt=!1}if(!tt)break;et=td((Ne=et.contentWindow).document)}return et}function yd(Ne){var et=Ne&&Ne.nodeName&&Ne.nodeName.toLowerCase();return et&&("input"===et&&("text"===Ne.type||"search"===Ne.type||"tel"===Ne.type||"url"===Ne.type||"password"===Ne.type)||"textarea"===et||"true"===Ne.contentEditable)}var wl="$?",kl="$!",Sl=null,Cl=null;function Fd(Ne,et){switch(Ne){case"button":case"input":case"select":case"textarea":return!!et.autoFocus}return!1}function Gd(Ne,et){return"textarea"===Ne||"option"===Ne||"noscript"===Ne||"string"==typeof et.children||"number"==typeof et.children||"object"==typeof et.dangerouslySetInnerHTML&&null!==et.dangerouslySetInnerHTML&&null!=et.dangerouslySetInnerHTML.__html}var Il="function"==typeof setTimeout?setTimeout:void 0,Al="function"==typeof clearTimeout?clearTimeout:void 0;function Jd(Ne){for(;null!=Ne;Ne=Ne.nextSibling){var et=Ne.nodeType;if(1===et||3===et)break}return Ne}function Kd(Ne){Ne=Ne.previousSibling;for(var et=0;Ne;){if(8===Ne.nodeType){var tt=Ne.data;if("$"===tt||tt===kl||tt===wl){if(0===et)return Ne;et--}else"/$"===tt&&et++}Ne=Ne.previousSibling}return null}var zl=Math.random().toString(36).slice(2),Fl="__reactInternalInstance$"+zl,Hl="__reactEventHandlers$"+zl,du="__reactContainere$"+zl;function tc(Ne){var et=Ne[Fl];if(et)return et;for(var tt=Ne.parentNode;tt;){if(et=tt[du]||tt[Fl]){if(tt=et.alternate,null!==et.child||null!==tt&&null!==tt.child)for(Ne=Kd(Ne);null!==Ne;){if(tt=Ne[Fl])return tt;Ne=Kd(Ne)}return et}tt=(Ne=tt).parentNode}return null}function Nc(Ne){return!(Ne=Ne[Fl]||Ne[du])||5!==Ne.tag&&6!==Ne.tag&&13!==Ne.tag&&3!==Ne.tag?null:Ne}function Pd(Ne){if(5===Ne.tag||6===Ne.tag)return Ne.stateNode;throw Error(u(33))}function Qd(Ne){return Ne[Hl]||null}function Rd(Ne){do{Ne=Ne.return}while(Ne&&5!==Ne.tag);return Ne||null}function Sd(Ne,et){var tt=Ne.stateNode;if(!tt)return null;var rt=ft(tt);if(!rt)return null;tt=rt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(rt=!("button"===(Ne=Ne.type)||"input"===Ne||"select"===Ne||"textarea"===Ne)),Ne=!rt;break e;default:Ne=!1}if(Ne)return null;if(tt&&"function"!=typeof tt)throw Error(u(231,et,typeof tt));return tt}function Td(Ne,et,tt){(et=Sd(Ne,tt.dispatchConfig.phasedRegistrationNames[et]))&&(tt._dispatchListeners=ic(tt._dispatchListeners,et),tt._dispatchInstances=ic(tt._dispatchInstances,Ne))}function Ud(Ne){if(Ne&&Ne.dispatchConfig.phasedRegistrationNames){for(var et=Ne._targetInst,tt=[];et;)tt.push(et),et=Rd(et);for(et=tt.length;0<et--;)Td(tt[et],"captured",Ne);for(et=0;et<tt.length;et++)Td(tt[et],"bubbled",Ne)}}function Vd(Ne,et,tt){Ne&&tt&&tt.dispatchConfig.registrationName&&(et=Sd(Ne,tt.dispatchConfig.registrationName))&&(tt._dispatchListeners=ic(tt._dispatchListeners,et),tt._dispatchInstances=ic(tt._dispatchInstances,Ne))}function Wd(Ne){Ne&&Ne.dispatchConfig.registrationName&&Vd(Ne._targetInst,null,Ne)}function Xd(Ne){jc(Ne,Ud)}var vu=null,_u=null,wu=null;function ae(){if(wu)return wu;var Ne,et,tt=_u,rt=tt.length,nt="value"in vu?vu.value:vu.textContent,it=nt.length;for(Ne=0;Ne<rt&&tt[Ne]===nt[Ne];Ne++);var ot=rt-Ne;for(et=1;et<=ot&&tt[rt-et]===nt[it-et];et++);return wu=nt.slice(Ne,1<et?1-et:void 0)}function be(){return!0}function ce(){return!1}function G(Ne,et,tt,rt){for(var nt in this.dispatchConfig=Ne,this._targetInst=et,this.nativeEvent=tt,Ne=this.constructor.Interface)Ne.hasOwnProperty(nt)&&((et=Ne[nt])?this[nt]=et(tt):"target"===nt?this.target=rt:this[nt]=tt[nt]);return this.isDefaultPrevented=(null!=tt.defaultPrevented?tt.defaultPrevented:!1===tt.returnValue)?be:ce,this.isPropagationStopped=ce,this}function ee(Ne,et,tt,rt){if(this.eventPool.length){var nt=this.eventPool.pop();return this.call(nt,Ne,et,tt,rt),nt}return new this(Ne,et,tt,rt)}function fe(Ne){if(!(Ne instanceof this))throw Error(u(279));Ne.destructor(),10>this.eventPool.length&&this.eventPool.push(Ne)}function de(Ne){Ne.eventPool=[],Ne.getPooled=ee,Ne.release=fe}nt(G.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Ne=this.nativeEvent;Ne&&(Ne.preventDefault?Ne.preventDefault():"unknown"!=typeof Ne.returnValue&&(Ne.returnValue=!1),this.isDefaultPrevented=be)},stopPropagation:function(){var Ne=this.nativeEvent;Ne&&(Ne.stopPropagation?Ne.stopPropagation():"unknown"!=typeof Ne.cancelBubble&&(Ne.cancelBubble=!0),this.isPropagationStopped=be)},persist:function(){this.isPersistent=be},isPersistent:ce,destructor:function(){var Ne,et=this.constructor.Interface;for(Ne in et)this[Ne]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),G.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(Ne){return Ne.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},G.extend=function(Ne){function b(){}function c(){return et.apply(this,arguments)}var et=this;b.prototype=et.prototype;var tt=new b;return nt(tt,c.prototype),c.prototype=tt,c.prototype.constructor=c,c.Interface=nt({},et.Interface,Ne),c.extend=et.extend,de(c),c},de(G);var Tu=G.extend({data:null}),Fu=G.extend({data:null}),ac=[9,13,27,32],pc=er&&"CompositionEvent"in window,yc=null;er&&"documentMode"in document&&(yc=document.documentMode);var _c=er&&"TextEvent"in window&&!yc,bc=er&&(!pc||yc&&8<yc&&11>=yc),xc=String.fromCharCode(32),wc={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},kc=!1;function qe(Ne,et){switch(Ne){case"keyup":return-1!==ac.indexOf(et.keyCode);case"keydown":return 229!==et.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function re(Ne){return"object"==typeof(Ne=Ne.detail)&&"data"in Ne?Ne.data:null}var Ec=!1;var Cc={eventTypes:wc,extractEvents:function(Ne,et,tt,rt){var nt;if(pc)e:{switch(Ne){case"compositionstart":var it=wc.compositionStart;break e;case"compositionend":it=wc.compositionEnd;break e;case"compositionupdate":it=wc.compositionUpdate;break e}it=void 0}else Ec?qe(Ne,tt)&&(it=wc.compositionEnd):"keydown"===Ne&&229===tt.keyCode&&(it=wc.compositionStart);return it?(bc&&"ko"!==tt.locale&&(Ec||it!==wc.compositionStart?it===wc.compositionEnd&&Ec&&(nt=ae()):(_u="value"in(vu=rt)?vu.value:vu.textContent,Ec=!0)),it=Tu.getPooled(it,et,tt,rt),nt?it.data=nt:null!==(nt=re(tt))&&(it.data=nt),Xd(it),nt=it):nt=null,(Ne=_c?function te(Ne,et){switch(Ne){case"compositionend":return re(et);case"keypress":return 32!==et.which?null:(kc=!0,xc);case"textInput":return(Ne=et.data)===xc&&kc?null:Ne;default:return null}}(Ne,tt):function ue(Ne,et){if(Ec)return"compositionend"===Ne||!pc&&qe(Ne,et)?(Ne=ae(),wu=_u=vu=null,Ec=!1,Ne):null;switch(Ne){default:return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return bc&&"ko"!==et.locale?null:et.data}}(Ne,tt))?((et=Fu.getPooled(wc.beforeInput,et,tt,rt)).data=Ne,Xd(et)):et=null,null===nt?et:null===et?nt:[nt,et]}},Ic={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(Ne){var et=Ne&&Ne.nodeName&&Ne.nodeName.toLowerCase();return"input"===et?!!Ic[Ne.type]:"textarea"===et}var Ac={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ze(Ne,et,tt){return(Ne=G.getPooled(Ac.change,Ne,et,tt)).type="change",Da(tt),Xd(Ne),Ne}var zc=null,Dc=null;function Ce(Ne){mc(Ne)}function De(Ne){if(yb(Pd(Ne)))return Ne}function Ee(Ne,et){if("change"===Ne)return et}var Fc=!1;function Ge(){zc&&(zc.detachEvent("onpropertychange",He),Dc=zc=null)}function He(Ne){if("value"===Ne.propertyName&&De(Dc))if(Ne=ze(Dc,Ne,nc(Ne)),rn)mc(Ne);else{rn=!0;try{Fa(Ce,Ne)}finally{rn=!1,La()}}}function Ie(Ne,et,tt){"focus"===Ne?(Ge(),Dc=tt,(zc=et).attachEvent("onpropertychange",He)):"blur"===Ne&&Ge()}function Je(Ne){if("selectionchange"===Ne||"keyup"===Ne||"keydown"===Ne)return De(Dc)}function Ke(Ne,et){if("click"===Ne)return De(et)}function Le(Ne,et){if("input"===Ne||"change"===Ne)return De(et)}er&&(Fc=oc("input")&&(!document.documentMode||9<document.documentMode));var Bc={eventTypes:Ac,_isInputEventSupported:Fc,extractEvents:function(Ne,et,tt,rt){var nt=et?Pd(et):window,it=nt.nodeName&&nt.nodeName.toLowerCase();if("select"===it||"input"===it&&"file"===nt.type)var ot=Ee;else if(xe(nt))if(Fc)ot=Le;else{ot=Je;var at=Ie}else(it=nt.nodeName)&&"input"===it.toLowerCase()&&("checkbox"===nt.type||"radio"===nt.type)&&(ot=Ke);if(ot&&(ot=ot(Ne,et)))return ze(ot,tt,rt);at&&at(Ne,nt,et),"blur"===Ne&&(Ne=nt._wrapperState)&&Ne.controlled&&"number"===nt.type&&Db(nt,"number",nt.value)}},Zc=G.extend({view:null,detail:null}),Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pe(Ne){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(Ne):!!(Ne=Wc[Ne])&&!!et[Ne]}function Qe(){return Pe}var Gc=0,$c=0,Hc=!1,Xc=!1,Yc=Zc.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Qe,button:null,buttons:null,relatedTarget:function(Ne){return Ne.relatedTarget||(Ne.fromElement===Ne.srcElement?Ne.toElement:Ne.fromElement)},movementX:function(Ne){if("movementX"in Ne)return Ne.movementX;var et=Gc;return Gc=Ne.screenX,Hc?"mousemove"===Ne.type?Ne.screenX-et:0:(Hc=!0,0)},movementY:function(Ne){if("movementY"in Ne)return Ne.movementY;var et=$c;return $c=Ne.screenY,Xc?"mousemove"===Ne.type?Ne.screenY-et:0:(Xc=!0,0)}}),rp=Yc.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ip={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},op={eventTypes:ip,extractEvents:function(Ne,et,tt,rt,nt){var it="mouseover"===Ne||"pointerover"===Ne,ot="mouseout"===Ne||"pointerout"===Ne;if(it&&0==(32&nt)&&(tt.relatedTarget||tt.fromElement)||!ot&&!it)return null;(it=rt.window===rt?rt:(it=rt.ownerDocument)?it.defaultView||it.parentWindow:window,ot)?(ot=et,null!==(et=(et=tt.relatedTarget||tt.toElement)?tc(et):null)&&(et!==dc(et)||5!==et.tag&&6!==et.tag)&&(et=null)):ot=null;if(ot===et)return null;if("mouseout"===Ne||"mouseover"===Ne)var at=Yc,st=ip.mouseLeave,ct=ip.mouseEnter,pt="mouse";else"pointerout"!==Ne&&"pointerover"!==Ne||(at=rp,st=ip.pointerLeave,ct=ip.pointerEnter,pt="pointer");if(Ne=null==ot?it:Pd(ot),it=null==et?it:Pd(et),(st=at.getPooled(st,ot,tt,rt)).type=pt+"leave",st.target=Ne,st.relatedTarget=it,(tt=at.getPooled(ct,et,tt,rt)).type=pt+"enter",tt.target=it,tt.relatedTarget=Ne,pt=et,(rt=ot)&&pt)e:{for(ct=pt,ot=0,Ne=at=rt;Ne;Ne=Rd(Ne))ot++;for(Ne=0,et=ct;et;et=Rd(et))Ne++;for(;0<ot-Ne;)at=Rd(at),ot--;for(;0<Ne-ot;)ct=Rd(ct),Ne--;for(;ot--;){if(at===ct||at===ct.alternate)break e;at=Rd(at),ct=Rd(ct)}at=null}else at=null;for(ct=at,at=[];rt&&rt!==ct&&(null===(ot=rt.alternate)||ot!==ct);)at.push(rt),rt=Rd(rt);for(rt=[];pt&&pt!==ct&&(null===(ot=pt.alternate)||ot!==ct);)rt.push(pt),pt=Rd(pt);for(pt=0;pt<at.length;pt++)Vd(at[pt],"bubbled",st);for(pt=rt.length;0<pt--;)Vd(rt[pt],"captured",tt);return 0==(64&nt)?[st]:[st,tt]}};var ap="function"==typeof Object.is?Object.is:function Ze(Ne,et){return Ne===et&&(0!==Ne||1/Ne==1/et)||Ne!=Ne&&et!=et},sp=Object.prototype.hasOwnProperty;function bf(Ne,et){if(ap(Ne,et))return!0;if("object"!=typeof Ne||null===Ne||"object"!=typeof et||null===et)return!1;var tt=Object.keys(Ne),rt=Object.keys(et);if(tt.length!==rt.length)return!1;for(rt=0;rt<tt.length;rt++)if(!sp.call(et,tt[rt])||!ap(Ne[tt[rt]],et[tt[rt]]))return!1;return!0}var lp=er&&"documentMode"in document&&11>=document.documentMode,cp={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},pp=null,hp=null,fp=null,dp=!1;function jf(Ne,et){var tt=et.window===et?et.document:9===et.nodeType?et:et.ownerDocument;return dp||null==pp||pp!==td(tt)?null:("selectionStart"in(tt=pp)&&yd(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:tt={anchorNode:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset},fp&&bf(fp,tt)?null:(fp=tt,(Ne=G.getPooled(cp.select,hp,Ne,et)).type="select",Ne.target=pp,Xd(Ne),Ne))}var mp={eventTypes:cp,extractEvents:function(Ne,et,tt,rt,nt,it){if(!(it=!(nt=it||(rt.window===rt?rt.document:9===rt.nodeType?rt:rt.ownerDocument)))){e:{nt=cc(nt),it=Bt.onSelect;for(var ot=0;ot<it.length;ot++)if(!nt.has(it[ot])){nt=!1;break e}nt=!0}it=!nt}if(it)return null;switch(nt=et?Pd(et):window,Ne){case"focus":(xe(nt)||"true"===nt.contentEditable)&&(pp=nt,hp=et,fp=null);break;case"blur":fp=hp=pp=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":return dp=!1,jf(tt,rt);case"selectionchange":if(lp)break;case"keydown":case"keyup":return jf(tt,rt)}return null}},gp=G.extend({animationName:null,elapsedTime:null,pseudoElement:null}),yp=G.extend({clipboardData:function(Ne){return"clipboardData"in Ne?Ne.clipboardData:window.clipboardData}}),vp=Zc.extend({relatedTarget:null});function of(Ne){var et=Ne.keyCode;return"charCode"in Ne?0===(Ne=Ne.charCode)&&13===et&&(Ne=13):Ne=et,10===Ne&&(Ne=13),32<=Ne||13===Ne?Ne:0}var _p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xp=Zc.extend({key:function(Ne){if(Ne.key){var et=_p[Ne.key]||Ne.key;if("Unidentified"!==et)return et}return"keypress"===Ne.type?13===(Ne=of(Ne))?"Enter":String.fromCharCode(Ne):"keydown"===Ne.type||"keyup"===Ne.type?bp[Ne.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Qe,charCode:function(Ne){return"keypress"===Ne.type?of(Ne):0},keyCode:function(Ne){return"keydown"===Ne.type||"keyup"===Ne.type?Ne.keyCode:0},which:function(Ne){return"keypress"===Ne.type?of(Ne):"keydown"===Ne.type||"keyup"===Ne.type?Ne.keyCode:0}}),wp=Yc.extend({dataTransfer:null}),kp=Zc.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Qe}),Sp=G.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ep=Yc.extend({deltaX:function(Ne){return"deltaX"in Ne?Ne.deltaX:"wheelDeltaX"in Ne?-Ne.wheelDeltaX:0},deltaY:function(Ne){return"deltaY"in Ne?Ne.deltaY:"wheelDeltaY"in Ne?-Ne.wheelDeltaY:"wheelDelta"in Ne?-Ne.wheelDelta:0},deltaZ:null,deltaMode:null}),Tp={eventTypes:js,extractEvents:function(Ne,et,tt,rt){var nt=Zs.get(Ne);if(!nt)return null;switch(Ne){case"keypress":if(0===of(tt))return null;case"keydown":case"keyup":Ne=xp;break;case"blur":case"focus":Ne=vp;break;case"click":if(2===tt.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=kp;break;case ls:case us:case fs:Ne=gp;break;case gs:Ne=Sp;break;case"scroll":Ne=Zc;break;case"wheel":Ne=Ep;break;case"copy":case"cut":case"paste":Ne=yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=rp;break;default:Ne=G}return Xd(et=Ne.getPooled(nt,et,tt,rt)),et}};if(yt)throw Error(u(101));yt=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),ra(),ft=Qd,dt=Nc,mt=Pd,xa({SimpleEventPlugin:Tp,EnterLeaveEventPlugin:op,ChangeEventPlugin:Bc,SelectEventPlugin:mp,BeforeInputEventPlugin:Cc});var Cp=[],Pp=-1;function H(Ne){0>Pp||(Ne.current=Cp[Pp],Cp[Pp]=null,Pp--)}function I(Ne,et){Pp++,Cp[Pp]=Ne.current,Ne.current=et}var Ip={},Ap={current:Ip},Rp={current:!1},Mp=Ip;function Cf(Ne,et){var tt=Ne.type.contextTypes;if(!tt)return Ip;var rt=Ne.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===et)return rt.__reactInternalMemoizedMaskedChildContext;var nt,it={};for(nt in tt)it[nt]=et[nt];return rt&&((Ne=Ne.stateNode).__reactInternalMemoizedUnmaskedChildContext=et,Ne.__reactInternalMemoizedMaskedChildContext=it),it}function L(Ne){return null!=(Ne=Ne.childContextTypes)}function Df(){H(Rp),H(Ap)}function Ef(Ne,et,tt){if(Ap.current!==Ip)throw Error(u(168));I(Ap,et),I(Rp,tt)}function Ff(Ne,et,tt){var rt=Ne.stateNode;if(Ne=et.childContextTypes,"function"!=typeof rt.getChildContext)return tt;for(var it in rt=rt.getChildContext())if(!(it in Ne))throw Error(u(108,pb(et)||"Unknown",it));return nt({},tt,{},rt)}function Gf(Ne){return Ne=(Ne=Ne.stateNode)&&Ne.__reactInternalMemoizedMergedChildContext||Ip,Mp=Ap.current,I(Ap,Ne),I(Rp,Rp.current),!0}function Hf(Ne,et,tt){var rt=Ne.stateNode;if(!rt)throw Error(u(169));tt?(Ne=Ff(Ne,et,Mp),rt.__reactInternalMemoizedMergedChildContext=Ne,H(Rp),H(Ap),I(Ap,Ne)):H(Rp),I(Rp,tt)}var zp=it.unstable_runWithPriority,Lp=it.unstable_scheduleCallback,Dp=it.unstable_cancelCallback,Op=it.unstable_requestPaint,Fp=it.unstable_now,Bp=it.unstable_getCurrentPriorityLevel,Np=it.unstable_ImmediatePriority,Vp=it.unstable_UserBlockingPriority,Up=it.unstable_NormalPriority,jp=it.unstable_LowPriority,Zp=it.unstable_IdlePriority,qp={},Wp=it.unstable_shouldYield,Gp=void 0!==Op?Op:function(){},$p=null,Hp=null,Xp=!1,Kp=Fp(),Yp=1e4>Kp?Fp:function(){return Fp()-Kp};function ag(){switch(Bp()){case Np:return 99;case Vp:return 98;case Up:return 97;case jp:return 96;case Zp:return 95;default:throw Error(u(332))}}function bg(Ne){switch(Ne){case 99:return Np;case 98:return Vp;case 97:return Up;case 96:return jp;case 95:return Zp;default:throw Error(u(332))}}function cg(Ne,et){return Ne=bg(Ne),zp(Ne,et)}function dg(Ne,et,tt){return Ne=bg(Ne),Lp(Ne,et,tt)}function eg(Ne){return null===$p?($p=[Ne],Hp=Lp(Np,fg)):$p.push(Ne),qp}function gg(){if(null!==Hp){var Ne=Hp;Hp=null,Dp(Ne)}fg()}function fg(){if(!Xp&&null!==$p){Xp=!0;var Ne=0;try{var et=$p;cg(99,(function(){for(;Ne<et.length;Ne++){var tt=et[Ne];do{tt=tt(!0)}while(null!==tt)}})),$p=null}catch(et){throw null!==$p&&($p=$p.slice(Ne+1)),Lp(Np,gg),et}finally{Xp=!1}}}function hg(Ne,et,tt){return 1073741821-(1+((1073741821-Ne+et/10)/(tt/=10)|0))*tt}function ig(Ne,et){if(Ne&&Ne.defaultProps)for(var tt in et=nt({},et),Ne=Ne.defaultProps)void 0===et[tt]&&(et[tt]=Ne[tt]);return et}var Jp={current:null},Qp=null,rh=null,ah=null;function ng(){ah=rh=Qp=null}function og(Ne){var et=Jp.current;H(Jp),Ne.type._context._currentValue=et}function pg(Ne,et){for(;null!==Ne;){var tt=Ne.alternate;if(Ne.childExpirationTime<et)Ne.childExpirationTime=et,null!==tt&&tt.childExpirationTime<et&&(tt.childExpirationTime=et);else{if(!(null!==tt&&tt.childExpirationTime<et))break;tt.childExpirationTime=et}Ne=Ne.return}}function qg(Ne,et){Qp=Ne,ah=rh=null,null!==(Ne=Ne.dependencies)&&null!==Ne.firstContext&&(Ne.expirationTime>=et&&(gf=!0),Ne.firstContext=null)}function sg(Ne,et){if(ah!==Ne&&!1!==et&&0!==et)if("number"==typeof et&&1073741823!==et||(ah=Ne,et=1073741823),et={context:Ne,observedBits:et,next:null},null===rh){if(null===Qp)throw Error(u(308));rh=et,Qp.dependencies={expirationTime:0,firstContext:et,responders:null}}else rh=rh.next=et;return Ne._currentValue}var sh=!1;function ug(Ne){Ne.updateQueue={baseState:Ne.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function vg(Ne,et){Ne=Ne.updateQueue,et.updateQueue===Ne&&(et.updateQueue={baseState:Ne.baseState,baseQueue:Ne.baseQueue,shared:Ne.shared,effects:Ne.effects})}function wg(Ne,et){return(Ne={expirationTime:Ne,suspenseConfig:et,tag:0,payload:null,callback:null,next:null}).next=Ne}function xg(Ne,et){if(null!==(Ne=Ne.updateQueue)){var tt=(Ne=Ne.shared).pending;null===tt?et.next=et:(et.next=tt.next,tt.next=et),Ne.pending=et}}function yg(Ne,et){var tt=Ne.alternate;null!==tt&&vg(tt,Ne),null===(tt=(Ne=Ne.updateQueue).baseQueue)?(Ne.baseQueue=et.next=et,et.next=et):(et.next=tt.next,tt.next=et)}function zg(Ne,et,tt,rt){var it=Ne.updateQueue;sh=!1;var ot=it.baseQueue,at=it.shared.pending;if(null!==at){if(null!==ot){var st=ot.next;ot.next=at.next,at.next=st}ot=at,it.shared.pending=null,null!==(st=Ne.alternate)&&(null!==(st=st.updateQueue)&&(st.baseQueue=at))}if(null!==ot){st=ot.next;var ct=it.baseState,pt=0,ft=null,dt=null,mt=null;if(null!==st)for(var yt=st;;){if((at=yt.expirationTime)<rt){var vt={expirationTime:yt.expirationTime,suspenseConfig:yt.suspenseConfig,tag:yt.tag,payload:yt.payload,callback:yt.callback,next:null};null===mt?(dt=mt=vt,ft=ct):mt=mt.next=vt,at>pt&&(pt=at)}else{null!==mt&&(mt=mt.next={expirationTime:1073741823,suspenseConfig:yt.suspenseConfig,tag:yt.tag,payload:yt.payload,callback:yt.callback,next:null}),Ag(at,yt.suspenseConfig);e:{var Rt=Ne,Dt=yt;switch(at=et,vt=tt,Dt.tag){case 1:if("function"==typeof(Rt=Dt.payload)){ct=Rt.call(vt,ct,at);break e}ct=Rt;break e;case 3:Rt.effectTag=-4097&Rt.effectTag|64;case 0:if(null==(at="function"==typeof(Rt=Dt.payload)?Rt.call(vt,ct,at):Rt))break e;ct=nt({},ct,at);break e;case 2:sh=!0}}null!==yt.callback&&(Ne.effectTag|=32,null===(at=it.effects)?it.effects=[yt]:at.push(yt))}if(null===(yt=yt.next)||yt===st){if(null===(at=it.shared.pending))break;yt=ot.next=at.next,at.next=st,it.baseQueue=ot=at,it.shared.pending=null}}null===mt?ft=ct:mt.next=dt,it.baseState=ft,it.baseQueue=mt,Bg(pt),Ne.expirationTime=pt,Ne.memoizedState=ct}}function Cg(Ne,et,tt){if(Ne=et.effects,et.effects=null,null!==Ne)for(et=0;et<Ne.length;et++){var rt=Ne[et],nt=rt.callback;if(null!==nt){if(rt.callback=null,rt=nt,nt=tt,"function"!=typeof rt)throw Error(u(191,rt));rt.call(nt)}}}var lh=Ln.ReactCurrentBatchConfig,ph=(new rt.Component).refs;function Fg(Ne,et,tt,rt){tt=null==(tt=tt(rt,et=Ne.memoizedState))?et:nt({},et,tt),Ne.memoizedState=tt,0===Ne.expirationTime&&(Ne.updateQueue.baseState=tt)}var mh={isMounted:function(Ne){return!!(Ne=Ne._reactInternalFiber)&&dc(Ne)===Ne},enqueueSetState:function(Ne,et,tt){Ne=Ne._reactInternalFiber;var rt=Gg(),nt=lh.suspense;(nt=wg(rt=Hg(rt,Ne,nt),nt)).payload=et,null!=tt&&(nt.callback=tt),xg(Ne,nt),Ig(Ne,rt)},enqueueReplaceState:function(Ne,et,tt){Ne=Ne._reactInternalFiber;var rt=Gg(),nt=lh.suspense;(nt=wg(rt=Hg(rt,Ne,nt),nt)).tag=1,nt.payload=et,null!=tt&&(nt.callback=tt),xg(Ne,nt),Ig(Ne,rt)},enqueueForceUpdate:function(Ne,et){Ne=Ne._reactInternalFiber;var tt=Gg(),rt=lh.suspense;(rt=wg(tt=Hg(tt,Ne,rt),rt)).tag=2,null!=et&&(rt.callback=et),xg(Ne,rt),Ig(Ne,tt)}};function Kg(Ne,et,tt,rt,nt,it,ot){return"function"==typeof(Ne=Ne.stateNode).shouldComponentUpdate?Ne.shouldComponentUpdate(rt,it,ot):!et.prototype||!et.prototype.isPureReactComponent||(!bf(tt,rt)||!bf(nt,it))}function Lg(Ne,et,tt){var rt=!1,nt=Ip,it=et.contextType;return"object"==typeof it&&null!==it?it=sg(it):(nt=L(et)?Mp:Ap.current,it=(rt=null!=(rt=et.contextTypes))?Cf(Ne,nt):Ip),et=new et(tt,it),Ne.memoizedState=null!==et.state&&void 0!==et.state?et.state:null,et.updater=mh,Ne.stateNode=et,et._reactInternalFiber=Ne,rt&&((Ne=Ne.stateNode).__reactInternalMemoizedUnmaskedChildContext=nt,Ne.__reactInternalMemoizedMaskedChildContext=it),et}function Mg(Ne,et,tt,rt){Ne=et.state,"function"==typeof et.componentWillReceiveProps&&et.componentWillReceiveProps(tt,rt),"function"==typeof et.UNSAFE_componentWillReceiveProps&&et.UNSAFE_componentWillReceiveProps(tt,rt),et.state!==Ne&&mh.enqueueReplaceState(et,et.state,null)}function Ng(Ne,et,tt,rt){var nt=Ne.stateNode;nt.props=tt,nt.state=Ne.memoizedState,nt.refs=ph,ug(Ne);var it=et.contextType;"object"==typeof it&&null!==it?nt.context=sg(it):(it=L(et)?Mp:Ap.current,nt.context=Cf(Ne,it)),zg(Ne,tt,nt,rt),nt.state=Ne.memoizedState,"function"==typeof(it=et.getDerivedStateFromProps)&&(Fg(Ne,et,it,tt),nt.state=Ne.memoizedState),"function"==typeof et.getDerivedStateFromProps||"function"==typeof nt.getSnapshotBeforeUpdate||"function"!=typeof nt.UNSAFE_componentWillMount&&"function"!=typeof nt.componentWillMount||(et=nt.state,"function"==typeof nt.componentWillMount&&nt.componentWillMount(),"function"==typeof nt.UNSAFE_componentWillMount&&nt.UNSAFE_componentWillMount(),et!==nt.state&&mh.enqueueReplaceState(nt,nt.state,null),zg(Ne,tt,nt,rt),nt.state=Ne.memoizedState),"function"==typeof nt.componentDidMount&&(Ne.effectTag|=4)}var _h=Array.isArray;function Pg(Ne,et,tt){if(null!==(Ne=tt.ref)&&"function"!=typeof Ne&&"object"!=typeof Ne){if(tt._owner){if(tt=tt._owner){if(1!==tt.tag)throw Error(u(309));var rt=tt.stateNode}if(!rt)throw Error(u(147,Ne));var nt=""+Ne;return null!==et&&null!==et.ref&&"function"==typeof et.ref&&et.ref._stringRef===nt?et.ref:(et=function(Ne){var et=rt.refs;et===ph&&(et=rt.refs={}),null===Ne?delete et[nt]:et[nt]=Ne},et._stringRef=nt,et)}if("string"!=typeof Ne)throw Error(u(284));if(!tt._owner)throw Error(u(290,Ne))}return Ne}function Qg(Ne,et){if("textarea"!==Ne.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(et)?"object with keys {"+Object.keys(et).join(", ")+"}":et,""))}function Rg(Ne){function b(et,tt){if(Ne){var rt=et.lastEffect;null!==rt?(rt.nextEffect=tt,et.lastEffect=tt):et.firstEffect=et.lastEffect=tt,tt.nextEffect=null,tt.effectTag=8}}function c(et,tt){if(!Ne)return null;for(;null!==tt;)b(et,tt),tt=tt.sibling;return null}function d(Ne,et){for(Ne=new Map;null!==et;)null!==et.key?Ne.set(et.key,et):Ne.set(et.index,et),et=et.sibling;return Ne}function e(Ne,et){return(Ne=Sg(Ne,et)).index=0,Ne.sibling=null,Ne}function f(et,tt,rt){return et.index=rt,Ne?null!==(rt=et.alternate)?(rt=rt.index)<tt?(et.effectTag=2,tt):rt:(et.effectTag=2,tt):tt}function g(et){return Ne&&null===et.alternate&&(et.effectTag=2),et}function h(Ne,et,tt,rt){return null===et||6!==et.tag?((et=Tg(tt,Ne.mode,rt)).return=Ne,et):((et=e(et,tt)).return=Ne,et)}function k(Ne,et,tt,rt){return null!==et&&et.elementType===tt.type?((rt=e(et,tt.props)).ref=Pg(Ne,et,tt),rt.return=Ne,rt):((rt=Ug(tt.type,tt.key,tt.props,null,Ne.mode,rt)).ref=Pg(Ne,et,tt),rt.return=Ne,rt)}function l(Ne,et,tt,rt){return null===et||4!==et.tag||et.stateNode.containerInfo!==tt.containerInfo||et.stateNode.implementation!==tt.implementation?((et=Vg(tt,Ne.mode,rt)).return=Ne,et):((et=e(et,tt.children||[])).return=Ne,et)}function m(Ne,et,tt,rt,nt){return null===et||7!==et.tag?((et=Wg(tt,Ne.mode,rt,nt)).return=Ne,et):((et=e(et,tt)).return=Ne,et)}function p(Ne,et,tt){if("string"==typeof et||"number"==typeof et)return(et=Tg(""+et,Ne.mode,tt)).return=Ne,et;if("object"==typeof et&&null!==et){switch(et.$$typeof){case Nn:return(tt=Ug(et.type,et.key,et.props,null,Ne.mode,tt)).ref=Pg(Ne,null,et),tt.return=Ne,tt;case Vn:return(et=Vg(et,Ne.mode,tt)).return=Ne,et}if(_h(et)||nb(et))return(et=Wg(et,Ne.mode,tt,null)).return=Ne,et;Qg(Ne,et)}return null}function x(Ne,et,tt,rt){var nt=null!==et?et.key:null;if("string"==typeof tt||"number"==typeof tt)return null!==nt?null:h(Ne,et,""+tt,rt);if("object"==typeof tt&&null!==tt){switch(tt.$$typeof){case Nn:return tt.key===nt?tt.type===Wn?m(Ne,et,tt.props.children,rt,nt):k(Ne,et,tt,rt):null;case Vn:return tt.key===nt?l(Ne,et,tt,rt):null}if(_h(tt)||nb(tt))return null!==nt?null:m(Ne,et,tt,rt,null);Qg(Ne,tt)}return null}function z(Ne,et,tt,rt,nt){if("string"==typeof rt||"number"==typeof rt)return h(et,Ne=Ne.get(tt)||null,""+rt,nt);if("object"==typeof rt&&null!==rt){switch(rt.$$typeof){case Nn:return Ne=Ne.get(null===rt.key?tt:rt.key)||null,rt.type===Wn?m(et,Ne,rt.props.children,nt,rt.key):k(et,Ne,rt,nt);case Vn:return l(et,Ne=Ne.get(null===rt.key?tt:rt.key)||null,rt,nt)}if(_h(rt)||nb(rt))return m(et,Ne=Ne.get(tt)||null,rt,nt,null);Qg(et,rt)}return null}function ca(et,tt,rt,nt){for(var it=null,ot=null,at=tt,st=tt=0,ct=null;null!==at&&st<rt.length;st++){at.index>st?(ct=at,at=null):ct=at.sibling;var pt=x(et,at,rt[st],nt);if(null===pt){null===at&&(at=ct);break}Ne&&at&&null===pt.alternate&&b(et,at),tt=f(pt,tt,st),null===ot?it=pt:ot.sibling=pt,ot=pt,at=ct}if(st===rt.length)return c(et,at),it;if(null===at){for(;st<rt.length;st++)null!==(at=p(et,rt[st],nt))&&(tt=f(at,tt,st),null===ot?it=at:ot.sibling=at,ot=at);return it}for(at=d(et,at);st<rt.length;st++)null!==(ct=z(at,et,st,rt[st],nt))&&(Ne&&null!==ct.alternate&&at.delete(null===ct.key?st:ct.key),tt=f(ct,tt,st),null===ot?it=ct:ot.sibling=ct,ot=ct);return Ne&&at.forEach((function(Ne){return b(et,Ne)})),it}function D(et,tt,rt,nt){var it=nb(rt);if("function"!=typeof it)throw Error(u(150));if(null==(rt=it.call(rt)))throw Error(u(151));for(var ot=it=null,at=tt,st=tt=0,ct=null,pt=rt.next();null!==at&&!pt.done;st++,pt=rt.next()){at.index>st?(ct=at,at=null):ct=at.sibling;var ft=x(et,at,pt.value,nt);if(null===ft){null===at&&(at=ct);break}Ne&&at&&null===ft.alternate&&b(et,at),tt=f(ft,tt,st),null===ot?it=ft:ot.sibling=ft,ot=ft,at=ct}if(pt.done)return c(et,at),it;if(null===at){for(;!pt.done;st++,pt=rt.next())null!==(pt=p(et,pt.value,nt))&&(tt=f(pt,tt,st),null===ot?it=pt:ot.sibling=pt,ot=pt);return it}for(at=d(et,at);!pt.done;st++,pt=rt.next())null!==(pt=z(at,et,st,pt.value,nt))&&(Ne&&null!==pt.alternate&&at.delete(null===pt.key?st:pt.key),tt=f(pt,tt,st),null===ot?it=pt:ot.sibling=pt,ot=pt);return Ne&&at.forEach((function(Ne){return b(et,Ne)})),it}return function(Ne,et,tt,rt){var nt="object"==typeof tt&&null!==tt&&tt.type===Wn&&null===tt.key;nt&&(tt=tt.props.children);var it="object"==typeof tt&&null!==tt;if(it)switch(tt.$$typeof){case Nn:e:{for(it=tt.key,nt=et;null!==nt;){if(nt.key===it){if(7===nt.tag){if(tt.type===Wn){c(Ne,nt.sibling),(et=e(nt,tt.props.children)).return=Ne,Ne=et;break e}}else if(nt.elementType===tt.type){c(Ne,nt.sibling),(et=e(nt,tt.props)).ref=Pg(Ne,nt,tt),et.return=Ne,Ne=et;break e}c(Ne,nt);break}b(Ne,nt),nt=nt.sibling}tt.type===Wn?((et=Wg(tt.props.children,Ne.mode,rt,tt.key)).return=Ne,Ne=et):((rt=Ug(tt.type,tt.key,tt.props,null,Ne.mode,rt)).ref=Pg(Ne,et,tt),rt.return=Ne,Ne=rt)}return g(Ne);case Vn:e:{for(nt=tt.key;null!==et;){if(et.key===nt){if(4===et.tag&&et.stateNode.containerInfo===tt.containerInfo&&et.stateNode.implementation===tt.implementation){c(Ne,et.sibling),(et=e(et,tt.children||[])).return=Ne,Ne=et;break e}c(Ne,et);break}b(Ne,et),et=et.sibling}(et=Vg(tt,Ne.mode,rt)).return=Ne,Ne=et}return g(Ne)}if("string"==typeof tt||"number"==typeof tt)return tt=""+tt,null!==et&&6===et.tag?(c(Ne,et.sibling),(et=e(et,tt)).return=Ne,Ne=et):(c(Ne,et),(et=Tg(tt,Ne.mode,rt)).return=Ne,Ne=et),g(Ne);if(_h(tt))return ca(Ne,et,tt,rt);if(nb(tt))return D(Ne,et,tt,rt);if(it&&Qg(Ne,tt),void 0===tt&&!nt)switch(Ne.tag){case 1:case 0:throw Ne=Ne.type,Error(u(152,Ne.displayName||Ne.name||"Component"))}return c(Ne,et)}}var bh=Rg(!0),kh=Rg(!1),Ph={},Oh={current:Ph},jh={current:Ph},qh={current:Ph};function ch(Ne){if(Ne===Ph)throw Error(u(174));return Ne}function dh(Ne,et){switch(I(qh,et),I(jh,Ne),I(Oh,Ph),Ne=et.nodeType){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:Ob(null,"");break;default:et=Ob(et=(Ne=8===Ne?et.parentNode:et).namespaceURI||null,Ne=Ne.tagName)}H(Oh),I(Oh,et)}function eh(){H(Oh),H(jh),H(qh)}function fh(Ne){ch(qh.current);var et=ch(Oh.current),tt=Ob(et,Ne.type);et!==tt&&(I(jh,Ne),I(Oh,tt))}function gh(Ne){jh.current===Ne&&(H(Oh),H(jh))}var Yh={current:0};function hh(Ne){for(var et=Ne;null!==et;){if(13===et.tag){var tt=et.memoizedState;if(null!==tt&&(null===(tt=tt.dehydrated)||tt.data===wl||tt.data===kl))return et}else if(19===et.tag&&void 0!==et.memoizedProps.revealOrder){if(0!=(64&et.effectTag))return et}else if(null!==et.child){et.child.return=et,et=et.child;continue}if(et===Ne)break;for(;null===et.sibling;){if(null===et.return||et.return===Ne)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}function ih(Ne,et){return{responder:Ne,props:et}}var Qh=Ln.ReactCurrentDispatcher,ef=Ln.ReactCurrentBatchConfig,tf=0,rf=null,nf=null,af=null,sf=!1;function Q(){throw Error(u(321))}function nh(Ne,et){if(null===et)return!1;for(var tt=0;tt<et.length&&tt<Ne.length;tt++)if(!ap(Ne[tt],et[tt]))return!1;return!0}function oh(Ne,et,tt,rt,nt,it){if(tf=it,rf=et,et.memoizedState=null,et.updateQueue=null,et.expirationTime=0,Qh.current=null===Ne||null===Ne.memoizedState?uf:cf,Ne=tt(rt,nt),et.expirationTime===tf){it=0;do{if(et.expirationTime=0,!(25>it))throw Error(u(301));it+=1,af=nf=null,et.updateQueue=null,Qh.current=pf,Ne=tt(rt,nt)}while(et.expirationTime===tf)}if(Qh.current=lf,et=null!==nf&&null!==nf.next,tf=0,af=nf=rf=null,sf=!1,et)throw Error(u(300));return Ne}function th(){var Ne={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===af?rf.memoizedState=af=Ne:af=af.next=Ne,af}function uh(){if(null===nf){var Ne=rf.alternate;Ne=null!==Ne?Ne.memoizedState:null}else Ne=nf.next;var et=null===af?rf.memoizedState:af.next;if(null!==et)af=et,nf=Ne;else{if(null===Ne)throw Error(u(310));Ne={memoizedState:(nf=Ne).memoizedState,baseState:nf.baseState,baseQueue:nf.baseQueue,queue:nf.queue,next:null},null===af?rf.memoizedState=af=Ne:af=af.next=Ne}return af}function vh(Ne,et){return"function"==typeof et?et(Ne):et}function wh(Ne){var et=uh(),tt=et.queue;if(null===tt)throw Error(u(311));tt.lastRenderedReducer=Ne;var rt=nf,nt=rt.baseQueue,it=tt.pending;if(null!==it){if(null!==nt){var ot=nt.next;nt.next=it.next,it.next=ot}rt.baseQueue=nt=it,tt.pending=null}if(null!==nt){nt=nt.next,rt=rt.baseState;var at=ot=it=null,st=nt;do{var ct=st.expirationTime;if(ct<tf){var pt={expirationTime:st.expirationTime,suspenseConfig:st.suspenseConfig,action:st.action,eagerReducer:st.eagerReducer,eagerState:st.eagerState,next:null};null===at?(ot=at=pt,it=rt):at=at.next=pt,ct>rf.expirationTime&&(rf.expirationTime=ct,Bg(ct))}else null!==at&&(at=at.next={expirationTime:1073741823,suspenseConfig:st.suspenseConfig,action:st.action,eagerReducer:st.eagerReducer,eagerState:st.eagerState,next:null}),Ag(ct,st.suspenseConfig),rt=st.eagerReducer===Ne?st.eagerState:Ne(rt,st.action);st=st.next}while(null!==st&&st!==nt);null===at?it=rt:at.next=ot,ap(rt,et.memoizedState)||(gf=!0),et.memoizedState=rt,et.baseState=it,et.baseQueue=at,tt.lastRenderedState=rt}return[et.memoizedState,tt.dispatch]}function xh(Ne){var et=uh(),tt=et.queue;if(null===tt)throw Error(u(311));tt.lastRenderedReducer=Ne;var rt=tt.dispatch,nt=tt.pending,it=et.memoizedState;if(null!==nt){tt.pending=null;var ot=nt=nt.next;do{it=Ne(it,ot.action),ot=ot.next}while(ot!==nt);ap(it,et.memoizedState)||(gf=!0),et.memoizedState=it,null===et.baseQueue&&(et.baseState=it),tt.lastRenderedState=it}return[it,rt]}function yh(Ne){var et=th();return"function"==typeof Ne&&(Ne=Ne()),et.memoizedState=et.baseState=Ne,Ne=(Ne=et.queue={pending:null,dispatch:null,lastRenderedReducer:vh,lastRenderedState:Ne}).dispatch=zh.bind(null,rf,Ne),[et.memoizedState,Ne]}function Ah(Ne,et,tt,rt){return Ne={tag:Ne,create:et,destroy:tt,deps:rt,next:null},null===(et=rf.updateQueue)?(et={lastEffect:null},rf.updateQueue=et,et.lastEffect=Ne.next=Ne):null===(tt=et.lastEffect)?et.lastEffect=Ne.next=Ne:(rt=tt.next,tt.next=Ne,Ne.next=rt,et.lastEffect=Ne),Ne}function Bh(){return uh().memoizedState}function Ch(Ne,et,tt,rt){var nt=th();rf.effectTag|=Ne,nt.memoizedState=Ah(1|et,tt,void 0,void 0===rt?null:rt)}function Dh(Ne,et,tt,rt){var nt=uh();rt=void 0===rt?null:rt;var it=void 0;if(null!==nf){var ot=nf.memoizedState;if(it=ot.destroy,null!==rt&&nh(rt,ot.deps))return void Ah(et,tt,it,rt)}rf.effectTag|=Ne,nt.memoizedState=Ah(1|et,tt,it,rt)}function Eh(Ne,et){return Ch(516,4,Ne,et)}function Fh(Ne,et){return Dh(516,4,Ne,et)}function Gh(Ne,et){return Dh(4,2,Ne,et)}function Hh(Ne,et){return"function"==typeof et?(Ne=Ne(),et(Ne),function(){et(null)}):null!=et?(Ne=Ne(),et.current=Ne,function(){et.current=null}):void 0}function Ih(Ne,et,tt){return tt=null!=tt?tt.concat([Ne]):null,Dh(4,2,Hh.bind(null,et,Ne),tt)}function Jh(){}function Kh(Ne,et){return th().memoizedState=[Ne,void 0===et?null:et],Ne}function Lh(Ne,et){var tt=uh();et=void 0===et?null:et;var rt=tt.memoizedState;return null!==rt&&null!==et&&nh(et,rt[1])?rt[0]:(tt.memoizedState=[Ne,et],Ne)}function Mh(Ne,et){var tt=uh();et=void 0===et?null:et;var rt=tt.memoizedState;return null!==rt&&null!==et&&nh(et,rt[1])?rt[0]:(Ne=Ne(),tt.memoizedState=[Ne,et],Ne)}function Nh(Ne,et,tt){var rt=ag();cg(98>rt?98:rt,(function(){Ne(!0)})),cg(97<rt?97:rt,(function(){var rt=ef.suspense;ef.suspense=void 0===et?null:et;try{Ne(!1),tt()}finally{ef.suspense=rt}}))}function zh(Ne,et,tt){var rt=Gg(),nt=lh.suspense;nt={expirationTime:rt=Hg(rt,Ne,nt),suspenseConfig:nt,action:tt,eagerReducer:null,eagerState:null,next:null};var it=et.pending;if(null===it?nt.next=nt:(nt.next=it.next,it.next=nt),et.pending=nt,it=Ne.alternate,Ne===rf||null!==it&&it===rf)sf=!0,nt.expirationTime=tf,rf.expirationTime=tf;else{if(0===Ne.expirationTime&&(null===it||0===it.expirationTime)&&null!==(it=et.lastRenderedReducer))try{var ot=et.lastRenderedState,at=it(ot,tt);if(nt.eagerReducer=it,nt.eagerState=at,ap(at,ot))return}catch(Ne){}Ig(Ne,rt)}}var lf={readContext:sg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useResponder:Q,useDeferredValue:Q,useTransition:Q},uf={readContext:sg,useCallback:Kh,useContext:sg,useEffect:Eh,useImperativeHandle:function(Ne,et,tt){return tt=null!=tt?tt.concat([Ne]):null,Ch(4,2,Hh.bind(null,et,Ne),tt)},useLayoutEffect:function(Ne,et){return Ch(4,2,Ne,et)},useMemo:function(Ne,et){var tt=th();return et=void 0===et?null:et,Ne=Ne(),tt.memoizedState=[Ne,et],Ne},useReducer:function(Ne,et,tt){var rt=th();return et=void 0!==tt?tt(et):et,rt.memoizedState=rt.baseState=et,Ne=(Ne=rt.queue={pending:null,dispatch:null,lastRenderedReducer:Ne,lastRenderedState:et}).dispatch=zh.bind(null,rf,Ne),[rt.memoizedState,Ne]},useRef:function(Ne){return Ne={current:Ne},th().memoizedState=Ne},useState:yh,useDebugValue:Jh,useResponder:ih,useDeferredValue:function(Ne,et){var tt=yh(Ne),rt=tt[0],nt=tt[1];return Eh((function(){var tt=ef.suspense;ef.suspense=void 0===et?null:et;try{nt(Ne)}finally{ef.suspense=tt}}),[Ne,et]),rt},useTransition:function(Ne){var et=yh(!1),tt=et[0];return et=et[1],[Kh(Nh.bind(null,et,Ne),[et,Ne]),tt]}},cf={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:wh,useRef:Bh,useState:function(){return wh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(Ne,et){var tt=wh(vh),rt=tt[0],nt=tt[1];return Fh((function(){var tt=ef.suspense;ef.suspense=void 0===et?null:et;try{nt(Ne)}finally{ef.suspense=tt}}),[Ne,et]),rt},useTransition:function(Ne){var et=wh(vh),tt=et[0];return et=et[1],[Lh(Nh.bind(null,et,Ne),[et,Ne]),tt]}},pf={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:xh,useRef:Bh,useState:function(){return xh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(Ne,et){var tt=xh(vh),rt=tt[0],nt=tt[1];return Fh((function(){var tt=ef.suspense;ef.suspense=void 0===et?null:et;try{nt(Ne)}finally{ef.suspense=tt}}),[Ne,et]),rt},useTransition:function(Ne){var et=xh(vh),tt=et[0];return et=et[1],[Lh(Nh.bind(null,et,Ne),[et,Ne]),tt]}},hf=null,ff=null,df=!1;function Rh(Ne,et){var tt=Sh(5,null,null,0);tt.elementType="DELETED",tt.type="DELETED",tt.stateNode=et,tt.return=Ne,tt.effectTag=8,null!==Ne.lastEffect?(Ne.lastEffect.nextEffect=tt,Ne.lastEffect=tt):Ne.firstEffect=Ne.lastEffect=tt}function Th(Ne,et){switch(Ne.tag){case 5:var tt=Ne.type;return null!==(et=1!==et.nodeType||tt.toLowerCase()!==et.nodeName.toLowerCase()?null:et)&&(Ne.stateNode=et,!0);case 6:return null!==(et=""===Ne.pendingProps||3!==et.nodeType?null:et)&&(Ne.stateNode=et,!0);default:return!1}}function Uh(Ne){if(df){var et=ff;if(et){var tt=et;if(!Th(Ne,et)){if(!(et=Jd(tt.nextSibling))||!Th(Ne,et))return Ne.effectTag=-1025&Ne.effectTag|2,df=!1,void(hf=Ne);Rh(hf,tt)}hf=Ne,ff=Jd(et.firstChild)}else Ne.effectTag=-1025&Ne.effectTag|2,df=!1,hf=Ne}}function Vh(Ne){for(Ne=Ne.return;null!==Ne&&5!==Ne.tag&&3!==Ne.tag&&13!==Ne.tag;)Ne=Ne.return;hf=Ne}function Wh(Ne){if(Ne!==hf)return!1;if(!df)return Vh(Ne),df=!0,!1;var et=Ne.type;if(5!==Ne.tag||"head"!==et&&"body"!==et&&!Gd(et,Ne.memoizedProps))for(et=ff;et;)Rh(Ne,et),et=Jd(et.nextSibling);if(Vh(Ne),13===Ne.tag){if(!(Ne=null!==(Ne=Ne.memoizedState)?Ne.dehydrated:null))throw Error(u(317));e:{for(Ne=Ne.nextSibling,et=0;Ne;){if(8===Ne.nodeType){var tt=Ne.data;if("/$"===tt){if(0===et){ff=Jd(Ne.nextSibling);break e}et--}else"$"!==tt&&tt!==kl&&tt!==wl||et++}Ne=Ne.nextSibling}ff=null}}else ff=hf?Jd(Ne.stateNode.nextSibling):null;return!0}function Xh(){ff=hf=null,df=!1}var mf=Ln.ReactCurrentOwner,gf=!1;function R(Ne,et,tt,rt){et.child=null===Ne?kh(et,null,tt,rt):bh(et,Ne.child,tt,rt)}function Zh(Ne,et,tt,rt,nt){tt=tt.render;var it=et.ref;return qg(et,nt),rt=oh(Ne,et,tt,rt,it,nt),null===Ne||gf?(et.effectTag|=1,R(Ne,et,rt,nt),et.child):(et.updateQueue=Ne.updateQueue,et.effectTag&=-517,Ne.expirationTime<=nt&&(Ne.expirationTime=0),$h(Ne,et,nt))}function ai(Ne,et,tt,rt,nt,it){if(null===Ne){var ot=tt.type;return"function"!=typeof ot||bi(ot)||void 0!==ot.defaultProps||null!==tt.compare||void 0!==tt.defaultProps?((Ne=Ug(tt.type,null,rt,null,et.mode,it)).ref=et.ref,Ne.return=et,et.child=Ne):(et.tag=15,et.type=ot,ci(Ne,et,ot,rt,nt,it))}return ot=Ne.child,nt<it&&(nt=ot.memoizedProps,(tt=null!==(tt=tt.compare)?tt:bf)(nt,rt)&&Ne.ref===et.ref)?$h(Ne,et,it):(et.effectTag|=1,(Ne=Sg(ot,rt)).ref=et.ref,Ne.return=et,et.child=Ne)}function ci(Ne,et,tt,rt,nt,it){return null!==Ne&&bf(Ne.memoizedProps,rt)&&Ne.ref===et.ref&&(gf=!1,nt<it)?(et.expirationTime=Ne.expirationTime,$h(Ne,et,it)):di(Ne,et,tt,rt,it)}function ei(Ne,et){var tt=et.ref;(null===Ne&&null!==tt||null!==Ne&&Ne.ref!==tt)&&(et.effectTag|=128)}function di(Ne,et,tt,rt,nt){var it=L(tt)?Mp:Ap.current;return it=Cf(et,it),qg(et,nt),tt=oh(Ne,et,tt,rt,it,nt),null===Ne||gf?(et.effectTag|=1,R(Ne,et,tt,nt),et.child):(et.updateQueue=Ne.updateQueue,et.effectTag&=-517,Ne.expirationTime<=nt&&(Ne.expirationTime=0),$h(Ne,et,nt))}function fi(Ne,et,tt,rt,nt){if(L(tt)){var it=!0;Gf(et)}else it=!1;if(qg(et,nt),null===et.stateNode)null!==Ne&&(Ne.alternate=null,et.alternate=null,et.effectTag|=2),Lg(et,tt,rt),Ng(et,tt,rt,nt),rt=!0;else if(null===Ne){var ot=et.stateNode,at=et.memoizedProps;ot.props=at;var st=ot.context,ct=tt.contextType;"object"==typeof ct&&null!==ct?ct=sg(ct):ct=Cf(et,ct=L(tt)?Mp:Ap.current);var pt=tt.getDerivedStateFromProps,ft="function"==typeof pt||"function"==typeof ot.getSnapshotBeforeUpdate;ft||"function"!=typeof ot.UNSAFE_componentWillReceiveProps&&"function"!=typeof ot.componentWillReceiveProps||(at!==rt||st!==ct)&&Mg(et,ot,rt,ct),sh=!1;var dt=et.memoizedState;ot.state=dt,zg(et,rt,ot,nt),st=et.memoizedState,at!==rt||dt!==st||Rp.current||sh?("function"==typeof pt&&(Fg(et,tt,pt,rt),st=et.memoizedState),(at=sh||Kg(et,tt,at,rt,dt,st,ct))?(ft||"function"!=typeof ot.UNSAFE_componentWillMount&&"function"!=typeof ot.componentWillMount||("function"==typeof ot.componentWillMount&&ot.componentWillMount(),"function"==typeof ot.UNSAFE_componentWillMount&&ot.UNSAFE_componentWillMount()),"function"==typeof ot.componentDidMount&&(et.effectTag|=4)):("function"==typeof ot.componentDidMount&&(et.effectTag|=4),et.memoizedProps=rt,et.memoizedState=st),ot.props=rt,ot.state=st,ot.context=ct,rt=at):("function"==typeof ot.componentDidMount&&(et.effectTag|=4),rt=!1)}else ot=et.stateNode,vg(Ne,et),at=et.memoizedProps,ot.props=et.type===et.elementType?at:ig(et.type,at),st=ot.context,"object"==typeof(ct=tt.contextType)&&null!==ct?ct=sg(ct):ct=Cf(et,ct=L(tt)?Mp:Ap.current),(ft="function"==typeof(pt=tt.getDerivedStateFromProps)||"function"==typeof ot.getSnapshotBeforeUpdate)||"function"!=typeof ot.UNSAFE_componentWillReceiveProps&&"function"!=typeof ot.componentWillReceiveProps||(at!==rt||st!==ct)&&Mg(et,ot,rt,ct),sh=!1,st=et.memoizedState,ot.state=st,zg(et,rt,ot,nt),dt=et.memoizedState,at!==rt||st!==dt||Rp.current||sh?("function"==typeof pt&&(Fg(et,tt,pt,rt),dt=et.memoizedState),(pt=sh||Kg(et,tt,at,rt,st,dt,ct))?(ft||"function"!=typeof ot.UNSAFE_componentWillUpdate&&"function"!=typeof ot.componentWillUpdate||("function"==typeof ot.componentWillUpdate&&ot.componentWillUpdate(rt,dt,ct),"function"==typeof ot.UNSAFE_componentWillUpdate&&ot.UNSAFE_componentWillUpdate(rt,dt,ct)),"function"==typeof ot.componentDidUpdate&&(et.effectTag|=4),"function"==typeof ot.getSnapshotBeforeUpdate&&(et.effectTag|=256)):("function"!=typeof ot.componentDidUpdate||at===Ne.memoizedProps&&st===Ne.memoizedState||(et.effectTag|=4),"function"!=typeof ot.getSnapshotBeforeUpdate||at===Ne.memoizedProps&&st===Ne.memoizedState||(et.effectTag|=256),et.memoizedProps=rt,et.memoizedState=dt),ot.props=rt,ot.state=dt,ot.context=ct,rt=pt):("function"!=typeof ot.componentDidUpdate||at===Ne.memoizedProps&&st===Ne.memoizedState||(et.effectTag|=4),"function"!=typeof ot.getSnapshotBeforeUpdate||at===Ne.memoizedProps&&st===Ne.memoizedState||(et.effectTag|=256),rt=!1);return gi(Ne,et,tt,rt,it,nt)}function gi(Ne,et,tt,rt,nt,it){ei(Ne,et);var ot=0!=(64&et.effectTag);if(!rt&&!ot)return nt&&Hf(et,tt,!1),$h(Ne,et,it);rt=et.stateNode,mf.current=et;var at=ot&&"function"!=typeof tt.getDerivedStateFromError?null:rt.render();return et.effectTag|=1,null!==Ne&&ot?(et.child=bh(et,Ne.child,null,it),et.child=bh(et,null,at,it)):R(Ne,et,at,it),et.memoizedState=rt.state,nt&&Hf(et,tt,!0),et.child}function hi(Ne){var et=Ne.stateNode;et.pendingContext?Ef(0,et.pendingContext,et.pendingContext!==et.context):et.context&&Ef(0,et.context,!1),dh(Ne,et.containerInfo)}var yf,vf,_f,xf={dehydrated:null,retryTime:0};function ji(Ne,et,tt){var rt,nt=et.mode,it=et.pendingProps,ot=Yh.current,at=!1;if((rt=0!=(64&et.effectTag))||(rt=0!=(2&ot)&&(null===Ne||null!==Ne.memoizedState)),rt?(at=!0,et.effectTag&=-65):null!==Ne&&null===Ne.memoizedState||void 0===it.fallback||!0===it.unstable_avoidThisFallback||(ot|=1),I(Yh,1&ot),null===Ne){if(void 0!==it.fallback&&Uh(et),at){if(at=it.fallback,(it=Wg(null,nt,0,null)).return=et,0==(2&et.mode))for(Ne=null!==et.memoizedState?et.child.child:et.child,it.child=Ne;null!==Ne;)Ne.return=it,Ne=Ne.sibling;return(tt=Wg(at,nt,tt,null)).return=et,it.sibling=tt,et.memoizedState=xf,et.child=it,tt}return nt=it.children,et.memoizedState=null,et.child=kh(et,null,nt,tt)}if(null!==Ne.memoizedState){if(nt=(Ne=Ne.child).sibling,at){if(it=it.fallback,(tt=Sg(Ne,Ne.pendingProps)).return=et,0==(2&et.mode)&&(at=null!==et.memoizedState?et.child.child:et.child)!==Ne.child)for(tt.child=at;null!==at;)at.return=tt,at=at.sibling;return(nt=Sg(nt,it)).return=et,tt.sibling=nt,tt.childExpirationTime=0,et.memoizedState=xf,et.child=tt,nt}return tt=bh(et,Ne.child,it.children,tt),et.memoizedState=null,et.child=tt}if(Ne=Ne.child,at){if(at=it.fallback,(it=Wg(null,nt,0,null)).return=et,it.child=Ne,null!==Ne&&(Ne.return=it),0==(2&et.mode))for(Ne=null!==et.memoizedState?et.child.child:et.child,it.child=Ne;null!==Ne;)Ne.return=it,Ne=Ne.sibling;return(tt=Wg(at,nt,tt,null)).return=et,it.sibling=tt,tt.effectTag|=2,it.childExpirationTime=0,et.memoizedState=xf,et.child=it,tt}return et.memoizedState=null,et.child=bh(et,Ne,it.children,tt)}function ki(Ne,et){Ne.expirationTime<et&&(Ne.expirationTime=et);var tt=Ne.alternate;null!==tt&&tt.expirationTime<et&&(tt.expirationTime=et),pg(Ne.return,et)}function li(Ne,et,tt,rt,nt,it){var ot=Ne.memoizedState;null===ot?Ne.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:rt,tail:tt,tailExpiration:0,tailMode:nt,lastEffect:it}:(ot.isBackwards=et,ot.rendering=null,ot.renderingStartTime=0,ot.last=rt,ot.tail=tt,ot.tailExpiration=0,ot.tailMode=nt,ot.lastEffect=it)}function mi(Ne,et,tt){var rt=et.pendingProps,nt=rt.revealOrder,it=rt.tail;if(R(Ne,et,rt.children,tt),0!=(2&(rt=Yh.current)))rt=1&rt|2,et.effectTag|=64;else{if(null!==Ne&&0!=(64&Ne.effectTag))e:for(Ne=et.child;null!==Ne;){if(13===Ne.tag)null!==Ne.memoizedState&&ki(Ne,tt);else if(19===Ne.tag)ki(Ne,tt);else if(null!==Ne.child){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===et)break e;for(;null===Ne.sibling;){if(null===Ne.return||Ne.return===et)break e;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}rt&=1}if(I(Yh,rt),0==(2&et.mode))et.memoizedState=null;else switch(nt){case"forwards":for(tt=et.child,nt=null;null!==tt;)null!==(Ne=tt.alternate)&&null===hh(Ne)&&(nt=tt),tt=tt.sibling;null===(tt=nt)?(nt=et.child,et.child=null):(nt=tt.sibling,tt.sibling=null),li(et,!1,nt,tt,it,et.lastEffect);break;case"backwards":for(tt=null,nt=et.child,et.child=null;null!==nt;){if(null!==(Ne=nt.alternate)&&null===hh(Ne)){et.child=nt;break}Ne=nt.sibling,nt.sibling=tt,tt=nt,nt=Ne}li(et,!0,tt,null,it,et.lastEffect);break;case"together":li(et,!1,null,null,void 0,et.lastEffect);break;default:et.memoizedState=null}return et.child}function $h(Ne,et,tt){null!==Ne&&(et.dependencies=Ne.dependencies);var rt=et.expirationTime;if(0!==rt&&Bg(rt),et.childExpirationTime<tt)return null;if(null!==Ne&&et.child!==Ne.child)throw Error(u(153));if(null!==et.child){for(tt=Sg(Ne=et.child,Ne.pendingProps),et.child=tt,tt.return=et;null!==Ne.sibling;)Ne=Ne.sibling,(tt=tt.sibling=Sg(Ne,Ne.pendingProps)).return=et;tt.sibling=null}return et.child}function ri(Ne,et){switch(Ne.tailMode){case"hidden":et=Ne.tail;for(var tt=null;null!==et;)null!==et.alternate&&(tt=et),et=et.sibling;null===tt?Ne.tail=null:tt.sibling=null;break;case"collapsed":tt=Ne.tail;for(var rt=null;null!==tt;)null!==tt.alternate&&(rt=tt),tt=tt.sibling;null===rt?et||null===Ne.tail?Ne.tail=null:Ne.tail.sibling=null:rt.sibling=null}}function si(Ne,et,tt){var rt=et.pendingProps;switch(et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return L(et.type)&&Df(),null;case 3:return eh(),H(Rp),H(Ap),(tt=et.stateNode).pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),null!==Ne&&null!==Ne.child||!Wh(et)||(et.effectTag|=4),null;case 5:gh(et),tt=ch(qh.current);var it=et.type;if(null!==Ne&&null!=et.stateNode)vf(Ne,et,it,rt,tt),Ne.ref!==et.ref&&(et.effectTag|=128);else{if(!rt){if(null===et.stateNode)throw Error(u(166));return null}if(Ne=ch(Oh.current),Wh(et)){rt=et.stateNode,it=et.type;var ot=et.memoizedProps;switch(rt[Fl]=et,rt[Hl]=ot,it){case"iframe":case"object":case"embed":F("load",rt);break;case"video":case"audio":for(Ne=0;Ne<vs.length;Ne++)F(vs[Ne],rt);break;case"source":F("error",rt);break;case"img":case"image":case"link":F("error",rt),F("load",rt);break;case"form":F("reset",rt),F("submit",rt);break;case"details":F("toggle",rt);break;case"input":Ab(rt,ot),F("invalid",rt),rd(tt,"onChange");break;case"select":rt._wrapperState={wasMultiple:!!ot.multiple},F("invalid",rt),rd(tt,"onChange");break;case"textarea":Jb(rt,ot),F("invalid",rt),rd(tt,"onChange")}for(var at in od(it,ot),Ne=null,ot)if(ot.hasOwnProperty(at)){var st=ot[at];"children"===at?"string"==typeof st?rt.textContent!==st&&(Ne=["children",st]):"number"==typeof st&&rt.textContent!==""+st&&(Ne=["children",""+st]):Ot.hasOwnProperty(at)&&null!=st&&rd(tt,at)}switch(it){case"input":xb(rt),Eb(rt,ot,!0);break;case"textarea":xb(rt),Lb(rt);break;case"select":case"option":break;default:"function"==typeof ot.onClick&&(rt.onclick=sd)}tt=Ne,et.updateQueue=tt,null!==tt&&(et.effectTag|=4)}else{switch(at=9===tt.nodeType?tt:tt.ownerDocument,Ne===xl&&(Ne=Nb(it)),Ne===xl?"script"===it?((Ne=at.createElement("div")).innerHTML="<script><\/script>",Ne=Ne.removeChild(Ne.firstChild)):"string"==typeof rt.is?Ne=at.createElement(it,{is:rt.is}):(Ne=at.createElement(it),"select"===it&&(at=Ne,rt.multiple?at.multiple=!0:rt.size&&(at.size=rt.size))):Ne=at.createElementNS(Ne,it),Ne[Fl]=et,Ne[Hl]=rt,yf(Ne,et),et.stateNode=Ne,at=pd(it,rt),it){case"iframe":case"object":case"embed":F("load",Ne),st=rt;break;case"video":case"audio":for(st=0;st<vs.length;st++)F(vs[st],Ne);st=rt;break;case"source":F("error",Ne),st=rt;break;case"img":case"image":case"link":F("error",Ne),F("load",Ne),st=rt;break;case"form":F("reset",Ne),F("submit",Ne),st=rt;break;case"details":F("toggle",Ne),st=rt;break;case"input":Ab(Ne,rt),st=zb(Ne,rt),F("invalid",Ne),rd(tt,"onChange");break;case"option":st=Gb(Ne,rt);break;case"select":Ne._wrapperState={wasMultiple:!!rt.multiple},st=nt({},rt,{value:void 0}),F("invalid",Ne),rd(tt,"onChange");break;case"textarea":Jb(Ne,rt),st=Ib(Ne,rt),F("invalid",Ne),rd(tt,"onChange");break;default:st=rt}od(it,st);var ct=st;for(ot in ct)if(ct.hasOwnProperty(ot)){var pt=ct[ot];"style"===ot?md(Ne,pt):"dangerouslySetInnerHTML"===ot?null!=(pt=pt?pt.__html:void 0)&&Aa(Ne,pt):"children"===ot?"string"==typeof pt?("textarea"!==it||""!==pt)&&Rb(Ne,pt):"number"==typeof pt&&Rb(Ne,""+pt):"suppressContentEditableWarning"!==ot&&"suppressHydrationWarning"!==ot&&"autoFocus"!==ot&&(Ot.hasOwnProperty(ot)?null!=pt&&rd(tt,ot):null!=pt&&Xa(Ne,ot,pt,at))}switch(it){case"input":xb(Ne),Eb(Ne,rt,!1);break;case"textarea":xb(Ne),Lb(Ne);break;case"option":null!=rt.value&&Ne.setAttribute("value",""+rb(rt.value));break;case"select":Ne.multiple=!!rt.multiple,null!=(tt=rt.value)?Hb(Ne,!!rt.multiple,tt,!1):null!=rt.defaultValue&&Hb(Ne,!!rt.multiple,rt.defaultValue,!0);break;default:"function"==typeof st.onClick&&(Ne.onclick=sd)}Fd(it,rt)&&(et.effectTag|=4)}null!==et.ref&&(et.effectTag|=128)}return null;case 6:if(Ne&&null!=et.stateNode)_f(0,et,Ne.memoizedProps,rt);else{if("string"!=typeof rt&&null===et.stateNode)throw Error(u(166));tt=ch(qh.current),ch(Oh.current),Wh(et)?(tt=et.stateNode,rt=et.memoizedProps,tt[Fl]=et,tt.nodeValue!==rt&&(et.effectTag|=4)):((tt=(9===tt.nodeType?tt:tt.ownerDocument).createTextNode(rt))[Fl]=et,et.stateNode=tt)}return null;case 13:return H(Yh),rt=et.memoizedState,0!=(64&et.effectTag)?(et.expirationTime=tt,et):(tt=null!==rt,rt=!1,null===Ne?void 0!==et.memoizedProps.fallback&&Wh(et):(rt=null!==(it=Ne.memoizedState),tt||null===it||null!==(it=Ne.child.sibling)&&(null!==(ot=et.firstEffect)?(et.firstEffect=it,it.nextEffect=ot):(et.firstEffect=et.lastEffect=it,it.nextEffect=null),it.effectTag=8)),tt&&!rt&&0!=(2&et.mode)&&(null===Ne&&!0!==et.memoizedProps.unstable_avoidThisFallback||0!=(1&Yh.current)?Uf===Mf&&(Uf=zf):(Uf!==Mf&&Uf!==zf||(Uf=Lf),0!==Xf&&null!==Bf&&(xi(Bf,Vf),yi(Bf,Xf)))),(tt||rt)&&(et.effectTag|=4),null);case 4:return eh(),null;case 10:return og(et),null;case 19:if(H(Yh),null===(rt=et.memoizedState))return null;if(it=0!=(64&et.effectTag),null===(ot=rt.rendering)){if(it)ri(rt,!1);else if(Uf!==Mf||null!==Ne&&0!=(64&Ne.effectTag))for(ot=et.child;null!==ot;){if(null!==(Ne=hh(ot))){for(et.effectTag|=64,ri(rt,!1),null!==(it=Ne.updateQueue)&&(et.updateQueue=it,et.effectTag|=4),null===rt.lastEffect&&(et.firstEffect=null),et.lastEffect=rt.lastEffect,rt=et.child;null!==rt;)ot=tt,(it=rt).effectTag&=2,it.nextEffect=null,it.firstEffect=null,it.lastEffect=null,null===(Ne=it.alternate)?(it.childExpirationTime=0,it.expirationTime=ot,it.child=null,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null):(it.childExpirationTime=Ne.childExpirationTime,it.expirationTime=Ne.expirationTime,it.child=Ne.child,it.memoizedProps=Ne.memoizedProps,it.memoizedState=Ne.memoizedState,it.updateQueue=Ne.updateQueue,ot=Ne.dependencies,it.dependencies=null===ot?null:{expirationTime:ot.expirationTime,firstContext:ot.firstContext,responders:ot.responders}),rt=rt.sibling;return I(Yh,1&Yh.current|2),et.child}ot=ot.sibling}}else{if(!it)if(null!==(Ne=hh(ot))){if(et.effectTag|=64,it=!0,null!==(tt=Ne.updateQueue)&&(et.updateQueue=tt,et.effectTag|=4),ri(rt,!0),null===rt.tail&&"hidden"===rt.tailMode&&!ot.alternate)return null!==(et=et.lastEffect=rt.lastEffect)&&(et.nextEffect=null),null}else 2*Yp()-rt.renderingStartTime>rt.tailExpiration&&1<tt&&(et.effectTag|=64,it=!0,ri(rt,!1),et.expirationTime=et.childExpirationTime=tt-1);rt.isBackwards?(ot.sibling=et.child,et.child=ot):(null!==(tt=rt.last)?tt.sibling=ot:et.child=ot,rt.last=ot)}return null!==rt.tail?(0===rt.tailExpiration&&(rt.tailExpiration=Yp()+500),tt=rt.tail,rt.rendering=tt,rt.tail=tt.sibling,rt.lastEffect=et.lastEffect,rt.renderingStartTime=Yp(),tt.sibling=null,et=Yh.current,I(Yh,it?1&et|2:1&et),tt):null}throw Error(u(156,et.tag))}function zi(Ne){switch(Ne.tag){case 1:L(Ne.type)&&Df();var et=Ne.effectTag;return 4096&et?(Ne.effectTag=-4097&et|64,Ne):null;case 3:if(eh(),H(Rp),H(Ap),0!=(64&(et=Ne.effectTag)))throw Error(u(285));return Ne.effectTag=-4097&et|64,Ne;case 5:return gh(Ne),null;case 13:return H(Yh),4096&(et=Ne.effectTag)?(Ne.effectTag=-4097&et|64,Ne):null;case 19:return H(Yh),null;case 4:return eh(),null;case 10:return og(Ne),null;default:return null}}function Ai(Ne,et){return{value:Ne,source:et,stack:qb(et)}}yf=function(Ne,et){for(var tt=et.child;null!==tt;){if(5===tt.tag||6===tt.tag)Ne.appendChild(tt.stateNode);else if(4!==tt.tag&&null!==tt.child){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;null===tt.sibling;){if(null===tt.return||tt.return===et)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}},vf=function(Ne,et,tt,rt,it){var ot=Ne.memoizedProps;if(ot!==rt){var at,st,ct=et.stateNode;switch(ch(Oh.current),Ne=null,tt){case"input":ot=zb(ct,ot),rt=zb(ct,rt),Ne=[];break;case"option":ot=Gb(ct,ot),rt=Gb(ct,rt),Ne=[];break;case"select":ot=nt({},ot,{value:void 0}),rt=nt({},rt,{value:void 0}),Ne=[];break;case"textarea":ot=Ib(ct,ot),rt=Ib(ct,rt),Ne=[];break;default:"function"!=typeof ot.onClick&&"function"==typeof rt.onClick&&(ct.onclick=sd)}for(at in od(tt,rt),tt=null,ot)if(!rt.hasOwnProperty(at)&&ot.hasOwnProperty(at)&&null!=ot[at])if("style"===at)for(st in ct=ot[at])ct.hasOwnProperty(st)&&(tt||(tt={}),tt[st]="");else"dangerouslySetInnerHTML"!==at&&"children"!==at&&"suppressContentEditableWarning"!==at&&"suppressHydrationWarning"!==at&&"autoFocus"!==at&&(Ot.hasOwnProperty(at)?Ne||(Ne=[]):(Ne=Ne||[]).push(at,null));for(at in rt){var pt=rt[at];if(ct=null!=ot?ot[at]:void 0,rt.hasOwnProperty(at)&&pt!==ct&&(null!=pt||null!=ct))if("style"===at)if(ct){for(st in ct)!ct.hasOwnProperty(st)||pt&&pt.hasOwnProperty(st)||(tt||(tt={}),tt[st]="");for(st in pt)pt.hasOwnProperty(st)&&ct[st]!==pt[st]&&(tt||(tt={}),tt[st]=pt[st])}else tt||(Ne||(Ne=[]),Ne.push(at,tt)),tt=pt;else"dangerouslySetInnerHTML"===at?(pt=pt?pt.__html:void 0,ct=ct?ct.__html:void 0,null!=pt&&ct!==pt&&(Ne=Ne||[]).push(at,pt)):"children"===at?ct===pt||"string"!=typeof pt&&"number"!=typeof pt||(Ne=Ne||[]).push(at,""+pt):"suppressContentEditableWarning"!==at&&"suppressHydrationWarning"!==at&&(Ot.hasOwnProperty(at)?(null!=pt&&rd(it,at),Ne||ct===pt||(Ne=[])):(Ne=Ne||[]).push(at,pt))}tt&&(Ne=Ne||[]).push("style",tt),it=Ne,(et.updateQueue=it)&&(et.effectTag|=4)}},_f=function(Ne,et,tt,rt){tt!==rt&&(et.effectTag|=4)};var wf="function"==typeof WeakSet?WeakSet:Set;function Ci(Ne,et){var tt=et.source,rt=et.stack;null===rt&&null!==tt&&(rt=qb(tt)),null!==tt&&pb(tt.type),et=et.value,null!==Ne&&1===Ne.tag&&pb(Ne.type);try{console.error(et)}catch(Ne){setTimeout((function(){throw Ne}))}}function Fi(Ne){var et=Ne.ref;if(null!==et)if("function"==typeof et)try{et(null)}catch(et){Ei(Ne,et)}else et.current=null}function Gi(Ne,et){switch(et.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&et.effectTag&&null!==Ne){var tt=Ne.memoizedProps,rt=Ne.memoizedState;et=(Ne=et.stateNode).getSnapshotBeforeUpdate(et.elementType===et.type?tt:ig(et.type,tt),rt),Ne.__reactInternalSnapshotBeforeUpdate=et}return}throw Error(u(163))}function Hi(Ne,et){if(null!==(et=null!==(et=et.updateQueue)?et.lastEffect:null)){var tt=et=et.next;do{if((tt.tag&Ne)===Ne){var rt=tt.destroy;tt.destroy=void 0,void 0!==rt&&rt()}tt=tt.next}while(tt!==et)}}function Ii(Ne,et){if(null!==(et=null!==(et=et.updateQueue)?et.lastEffect:null)){var tt=et=et.next;do{if((tt.tag&Ne)===Ne){var rt=tt.create;tt.destroy=rt()}tt=tt.next}while(tt!==et)}}function Ji(Ne,et,tt){switch(tt.tag){case 0:case 11:case 15:case 22:return void Ii(3,tt);case 1:if(Ne=tt.stateNode,4&tt.effectTag)if(null===et)Ne.componentDidMount();else{var rt=tt.elementType===tt.type?et.memoizedProps:ig(tt.type,et.memoizedProps);Ne.componentDidUpdate(rt,et.memoizedState,Ne.__reactInternalSnapshotBeforeUpdate)}return void(null!==(et=tt.updateQueue)&&Cg(tt,et,Ne));case 3:if(null!==(et=tt.updateQueue)){if(Ne=null,null!==tt.child)switch(tt.child.tag){case 5:case 1:Ne=tt.child.stateNode}Cg(tt,et,Ne)}return;case 5:return Ne=tt.stateNode,void(null===et&&4&tt.effectTag&&Fd(tt.type,tt.memoizedProps)&&Ne.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===tt.memoizedState&&(tt=tt.alternate,null!==tt&&(tt=tt.memoizedState,null!==tt&&(tt=tt.dehydrated,null!==tt&&Vc(tt)))))}throw Error(u(163))}function Ki(Ne,et,tt){switch("function"==typeof Id&&Id(et),et.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(Ne=et.updateQueue)&&null!==(Ne=Ne.lastEffect)){var rt=Ne.next;cg(97<tt?97:tt,(function(){var Ne=rt;do{var tt=Ne.destroy;if(void 0!==tt){var nt=et;try{tt()}catch(Ne){Ei(nt,Ne)}}Ne=Ne.next}while(Ne!==rt)}))}break;case 1:Fi(et),"function"==typeof(tt=et.stateNode).componentWillUnmount&&function Di(Ne,et){try{et.props=Ne.memoizedProps,et.state=Ne.memoizedState,et.componentWillUnmount()}catch(et){Ei(Ne,et)}}(et,tt);break;case 5:Fi(et);break;case 4:Mi(Ne,et,tt)}}function Ni(Ne){var et=Ne.alternate;Ne.return=null,Ne.child=null,Ne.memoizedState=null,Ne.updateQueue=null,Ne.dependencies=null,Ne.alternate=null,Ne.firstEffect=null,Ne.lastEffect=null,Ne.pendingProps=null,Ne.memoizedProps=null,Ne.stateNode=null,null!==et&&Ni(et)}function Oi(Ne){return 5===Ne.tag||3===Ne.tag||4===Ne.tag}function Pi(Ne){e:{for(var et=Ne.return;null!==et;){if(Oi(et)){var tt=et;break e}et=et.return}throw Error(u(160))}switch(et=tt.stateNode,tt.tag){case 5:var rt=!1;break;case 3:case 4:et=et.containerInfo,rt=!0;break;default:throw Error(u(161))}16&tt.effectTag&&(Rb(et,""),tt.effectTag&=-17);e:t:for(tt=Ne;;){for(;null===tt.sibling;){if(null===tt.return||Oi(tt.return)){tt=null;break e}tt=tt.return}for(tt.sibling.return=tt.return,tt=tt.sibling;5!==tt.tag&&6!==tt.tag&&18!==tt.tag;){if(2&tt.effectTag)continue t;if(null===tt.child||4===tt.tag)continue t;tt.child.return=tt,tt=tt.child}if(!(2&tt.effectTag)){tt=tt.stateNode;break e}}rt?Qi(Ne,tt,et):Ri(Ne,tt,et)}function Qi(Ne,et,tt){var rt=Ne.tag,nt=5===rt||6===rt;if(nt)Ne=nt?Ne.stateNode:Ne.stateNode.instance,et?8===tt.nodeType?tt.parentNode.insertBefore(Ne,et):tt.insertBefore(Ne,et):(8===tt.nodeType?(et=tt.parentNode).insertBefore(Ne,tt):(et=tt).appendChild(Ne),null!=(tt=tt._reactRootContainer)||null!==et.onclick||(et.onclick=sd));else if(4!==rt&&null!==(Ne=Ne.child))for(Qi(Ne,et,tt),Ne=Ne.sibling;null!==Ne;)Qi(Ne,et,tt),Ne=Ne.sibling}function Ri(Ne,et,tt){var rt=Ne.tag,nt=5===rt||6===rt;if(nt)Ne=nt?Ne.stateNode:Ne.stateNode.instance,et?tt.insertBefore(Ne,et):tt.appendChild(Ne);else if(4!==rt&&null!==(Ne=Ne.child))for(Ri(Ne,et,tt),Ne=Ne.sibling;null!==Ne;)Ri(Ne,et,tt),Ne=Ne.sibling}function Mi(Ne,et,tt){for(var rt,nt,it=et,ot=!1;;){if(!ot){ot=it.return;e:for(;;){if(null===ot)throw Error(u(160));switch(rt=ot.stateNode,ot.tag){case 5:nt=!1;break e;case 3:case 4:rt=rt.containerInfo,nt=!0;break e}ot=ot.return}ot=!0}if(5===it.tag||6===it.tag){e:for(var at=Ne,st=it,ct=tt,pt=st;;)if(Ki(at,pt,ct),null!==pt.child&&4!==pt.tag)pt.child.return=pt,pt=pt.child;else{if(pt===st)break e;for(;null===pt.sibling;){if(null===pt.return||pt.return===st)break e;pt=pt.return}pt.sibling.return=pt.return,pt=pt.sibling}nt?(at=rt,st=it.stateNode,8===at.nodeType?at.parentNode.removeChild(st):at.removeChild(st)):rt.removeChild(it.stateNode)}else if(4===it.tag){if(null!==it.child){rt=it.stateNode.containerInfo,nt=!0,it.child.return=it,it=it.child;continue}}else if(Ki(Ne,it,tt),null!==it.child){it.child.return=it,it=it.child;continue}if(it===et)break;for(;null===it.sibling;){if(null===it.return||it.return===et)return;4===(it=it.return).tag&&(ot=!1)}it.sibling.return=it.return,it=it.sibling}}function Si(Ne,et){switch(et.tag){case 0:case 11:case 14:case 15:case 22:return void Hi(3,et);case 1:case 12:case 17:return;case 5:var tt=et.stateNode;if(null!=tt){var rt=et.memoizedProps,nt=null!==Ne?Ne.memoizedProps:rt;Ne=et.type;var it=et.updateQueue;if(et.updateQueue=null,null!==it){for(tt[Hl]=rt,"input"===Ne&&"radio"===rt.type&&null!=rt.name&&Bb(tt,rt),pd(Ne,nt),et=pd(Ne,rt),nt=0;nt<it.length;nt+=2){var ot=it[nt],at=it[nt+1];"style"===ot?md(tt,at):"dangerouslySetInnerHTML"===ot?Aa(tt,at):"children"===ot?Rb(tt,at):Xa(tt,ot,at,et)}switch(Ne){case"input":Cb(tt,rt);break;case"textarea":Kb(tt,rt);break;case"select":et=tt._wrapperState.wasMultiple,tt._wrapperState.wasMultiple=!!rt.multiple,null!=(Ne=rt.value)?Hb(tt,!!rt.multiple,Ne,!1):et!==!!rt.multiple&&(null!=rt.defaultValue?Hb(tt,!!rt.multiple,rt.defaultValue,!0):Hb(tt,!!rt.multiple,rt.multiple?[]:"",!1))}}}return;case 6:if(null===et.stateNode)throw Error(u(162));return void(et.stateNode.nodeValue=et.memoizedProps);case 3:return void((et=et.stateNode).hydrate&&(et.hydrate=!1,Vc(et.containerInfo)));case 13:if(tt=et,null===et.memoizedState?rt=!1:(rt=!0,tt=et.child,Yf=Yp()),null!==tt)e:for(Ne=tt;;){if(5===Ne.tag)it=Ne.stateNode,rt?"function"==typeof(it=it.style).setProperty?it.setProperty("display","none","important"):it.display="none":(it=Ne.stateNode,nt=null!=(nt=Ne.memoizedProps.style)&&nt.hasOwnProperty("display")?nt.display:null,it.style.display=ld("display",nt));else if(6===Ne.tag)Ne.stateNode.nodeValue=rt?"":Ne.memoizedProps;else{if(13===Ne.tag&&null!==Ne.memoizedState&&null===Ne.memoizedState.dehydrated){(it=Ne.child.sibling).return=Ne,Ne=it;continue}if(null!==Ne.child){Ne.child.return=Ne,Ne=Ne.child;continue}}if(Ne===tt)break;for(;null===Ne.sibling;){if(null===Ne.return||Ne.return===tt)break e;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}return void Ui(et);case 19:return void Ui(et)}throw Error(u(163))}function Ui(Ne){var et=Ne.updateQueue;if(null!==et){Ne.updateQueue=null;var tt=Ne.stateNode;null===tt&&(tt=Ne.stateNode=new wf),et.forEach((function(et){var rt=Vi.bind(null,Ne,et);tt.has(et)||(tt.add(et),et.then(rt,rt))}))}}var kf="function"==typeof WeakMap?WeakMap:Map;function Xi(Ne,et,tt){(tt=wg(tt,null)).tag=3,tt.payload={element:null};var rt=et.value;return tt.callback=function(){Qf||(Qf=!0,ed=rt),Ci(Ne,et)},tt}function $i(Ne,et,tt){(tt=wg(tt,null)).tag=3;var rt=Ne.type.getDerivedStateFromError;if("function"==typeof rt){var nt=et.value;tt.payload=function(){return Ci(Ne,et),rt(nt)}}var it=Ne.stateNode;return null!==it&&"function"==typeof it.componentDidCatch&&(tt.callback=function(){"function"!=typeof rt&&(null===nd?nd=new Set([this]):nd.add(this),Ci(Ne,et));var tt=et.stack;this.componentDidCatch(et.value,{componentStack:null!==tt?tt:""})}),tt}var Sf,Tf=Math.ceil,Pf=Ln.ReactCurrentDispatcher,If=Ln.ReactCurrentOwner,Af=16,Rf=32,Mf=0,zf=3,Lf=4,Of=0,Bf=null,Nf=null,Vf=0,Uf=Mf,Zf=null,qf=1073741823,Wf=1073741823,$f=null,Xf=0,Kf=!1,Yf=0,Jf=null,Qf=!1,ed=null,nd=null,cd=!1,fd=null,dd=90,_d=null,bd=0,kd=null,Ed=0;function Gg(){return 0!=(48&Of)?1073741821-(Yp()/10|0):0!==Ed?Ed:Ed=1073741821-(Yp()/10|0)}function Hg(Ne,et,tt){if(0==(2&(et=et.mode)))return 1073741823;var rt=ag();if(0==(4&et))return 99===rt?1073741823:1073741822;if(0!=(Of&Af))return Vf;if(null!==tt)Ne=hg(Ne,0|tt.timeoutMs||5e3,250);else switch(rt){case 99:Ne=1073741823;break;case 98:Ne=hg(Ne,150,100);break;case 97:case 96:Ne=hg(Ne,5e3,250);break;case 95:Ne=2;break;default:throw Error(u(326))}return null!==Bf&&Ne===Vf&&--Ne,Ne}function Ig(Ne,et){if(50<bd)throw bd=0,kd=null,Error(u(185));if(null!==(Ne=xj(Ne,et))){var tt=ag();1073741823===et?0!=(8&Of)&&0==(48&Of)?yj(Ne):(Z(Ne),0===Of&&gg()):Z(Ne),0==(4&Of)||98!==tt&&99!==tt||(null===_d?_d=new Map([[Ne,et]]):(void 0===(tt=_d.get(Ne))||tt>et)&&_d.set(Ne,et))}}function xj(Ne,et){Ne.expirationTime<et&&(Ne.expirationTime=et);var tt=Ne.alternate;null!==tt&&tt.expirationTime<et&&(tt.expirationTime=et);var rt=Ne.return,nt=null;if(null===rt&&3===Ne.tag)nt=Ne.stateNode;else for(;null!==rt;){if(tt=rt.alternate,rt.childExpirationTime<et&&(rt.childExpirationTime=et),null!==tt&&tt.childExpirationTime<et&&(tt.childExpirationTime=et),null===rt.return&&3===rt.tag){nt=rt.stateNode;break}rt=rt.return}return null!==nt&&(Bf===nt&&(Bg(et),Uf===Lf&&xi(nt,Vf)),yi(nt,et)),nt}function zj(Ne){var et=Ne.lastExpiredTime;if(0!==et)return et;if(!Aj(Ne,et=Ne.firstPendingTime))return et;var tt=Ne.lastPingedTime;return 2>=(Ne=tt>(Ne=Ne.nextKnownPendingLevel)?tt:Ne)&&et!==Ne?0:Ne}function Z(Ne){if(0!==Ne.lastExpiredTime)Ne.callbackExpirationTime=1073741823,Ne.callbackPriority=99,Ne.callbackNode=eg(yj.bind(null,Ne));else{var et=zj(Ne),tt=Ne.callbackNode;if(0===et)null!==tt&&(Ne.callbackNode=null,Ne.callbackExpirationTime=0,Ne.callbackPriority=90);else{var rt=Gg();if(1073741823===et?rt=99:1===et||2===et?rt=95:rt=0>=(rt=10*(1073741821-et)-10*(1073741821-rt))?99:250>=rt?98:5250>=rt?97:95,null!==tt){var nt=Ne.callbackPriority;if(Ne.callbackExpirationTime===et&&nt>=rt)return;tt!==qp&&Dp(tt)}Ne.callbackExpirationTime=et,Ne.callbackPriority=rt,et=1073741823===et?eg(yj.bind(null,Ne)):dg(rt,Bj.bind(null,Ne),{timeout:10*(1073741821-et)-Yp()}),Ne.callbackNode=et}}}function Bj(Ne,et){if(Ed=0,et)return Cj(Ne,et=Gg()),Z(Ne),null;var tt=zj(Ne);if(0!==tt){if(et=Ne.callbackNode,0!=(48&Of))throw Error(u(327));if(Dj(),Ne===Bf&&tt===Vf||Ej(Ne,tt),null!==Nf){var rt=Of;Of|=Af;for(var nt=Fj();;)try{Gj();break}catch(et){Hj(Ne,et)}if(ng(),Of=rt,Pf.current=nt,1===Uf)throw et=Zf,Ej(Ne,tt),xi(Ne,tt),Z(Ne),et;if(null===Nf)switch(nt=Ne.finishedWork=Ne.current.alternate,Ne.finishedExpirationTime=tt,rt=Uf,Bf=null,rt){case Mf:case 1:throw Error(u(345));case 2:Cj(Ne,2<tt?2:tt);break;case zf:if(xi(Ne,tt),tt===(rt=Ne.lastSuspendedTime)&&(Ne.nextKnownPendingLevel=Ij(nt)),1073741823===qf&&10<(nt=Yf+500-Yp())){if(Kf){var it=Ne.lastPingedTime;if(0===it||it>=tt){Ne.lastPingedTime=tt,Ej(Ne,tt);break}}if(0!==(it=zj(Ne))&&it!==tt)break;if(0!==rt&&rt!==tt){Ne.lastPingedTime=rt;break}Ne.timeoutHandle=Il(Jj.bind(null,Ne),nt);break}Jj(Ne);break;case Lf:if(xi(Ne,tt),tt===(rt=Ne.lastSuspendedTime)&&(Ne.nextKnownPendingLevel=Ij(nt)),Kf&&(0===(nt=Ne.lastPingedTime)||nt>=tt)){Ne.lastPingedTime=tt,Ej(Ne,tt);break}if(0!==(nt=zj(Ne))&&nt!==tt)break;if(0!==rt&&rt!==tt){Ne.lastPingedTime=rt;break}if(1073741823!==Wf?rt=10*(1073741821-Wf)-Yp():1073741823===qf?rt=0:(rt=10*(1073741821-qf)-5e3,0>(rt=(nt=Yp())-rt)&&(rt=0),(tt=10*(1073741821-tt)-nt)<(rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*Tf(rt/1960))-rt)&&(rt=tt)),10<rt){Ne.timeoutHandle=Il(Jj.bind(null,Ne),rt);break}Jj(Ne);break;case 5:if(1073741823!==qf&&null!==$f){it=qf;var ot=$f;if(0>=(rt=0|ot.busyMinDurationMs)?rt=0:(nt=0|ot.busyDelayMs,rt=(it=Yp()-(10*(1073741821-it)-(0|ot.timeoutMs||5e3)))<=nt?0:nt+rt-it),10<rt){xi(Ne,tt),Ne.timeoutHandle=Il(Jj.bind(null,Ne),rt);break}}Jj(Ne);break;default:throw Error(u(329))}if(Z(Ne),Ne.callbackNode===et)return Bj.bind(null,Ne)}}return null}function yj(Ne){var et=Ne.lastExpiredTime;if(et=0!==et?et:1073741823,0!=(48&Of))throw Error(u(327));if(Dj(),Ne===Bf&&et===Vf||Ej(Ne,et),null!==Nf){var tt=Of;Of|=Af;for(var rt=Fj();;)try{Kj();break}catch(et){Hj(Ne,et)}if(ng(),Of=tt,Pf.current=rt,1===Uf)throw tt=Zf,Ej(Ne,et),xi(Ne,et),Z(Ne),tt;if(null!==Nf)throw Error(u(261));Ne.finishedWork=Ne.current.alternate,Ne.finishedExpirationTime=et,Bf=null,Jj(Ne),Z(Ne)}return null}function Mj(Ne,et){var tt=Of;Of|=1;try{return Ne(et)}finally{0===(Of=tt)&&gg()}}function Nj(Ne,et){var tt=Of;Of&=-2,Of|=8;try{return Ne(et)}finally{0===(Of=tt)&&gg()}}function Ej(Ne,et){Ne.finishedWork=null,Ne.finishedExpirationTime=0;var tt=Ne.timeoutHandle;if(-1!==tt&&(Ne.timeoutHandle=-1,Al(tt)),null!==Nf)for(tt=Nf.return;null!==tt;){var rt=tt;switch(rt.tag){case 1:null!=(rt=rt.type.childContextTypes)&&Df();break;case 3:eh(),H(Rp),H(Ap);break;case 5:gh(rt);break;case 4:eh();break;case 13:case 19:H(Yh);break;case 10:og(rt)}tt=tt.return}Bf=Ne,Nf=Sg(Ne.current,null),Vf=et,Uf=Mf,Zf=null,Wf=qf=1073741823,$f=null,Xf=0,Kf=!1}function Hj(Ne,et){for(;;){try{if(ng(),Qh.current=lf,sf)for(var tt=rf.memoizedState;null!==tt;){var rt=tt.queue;null!==rt&&(rt.pending=null),tt=tt.next}if(tf=0,af=nf=rf=null,sf=!1,null===Nf||null===Nf.return)return Uf=1,Zf=et,Nf=null;e:{var nt=Ne,it=Nf.return,ot=Nf,at=et;if(et=Vf,ot.effectTag|=2048,ot.firstEffect=ot.lastEffect=null,null!==at&&"object"==typeof at&&"function"==typeof at.then){var st=at;if(0==(2&ot.mode)){var ct=ot.alternate;ct?(ot.updateQueue=ct.updateQueue,ot.memoizedState=ct.memoizedState,ot.expirationTime=ct.expirationTime):(ot.updateQueue=null,ot.memoizedState=null)}var pt=0!=(1&Yh.current),ft=it;do{var dt;if(dt=13===ft.tag){var mt=ft.memoizedState;if(null!==mt)dt=null!==mt.dehydrated;else{var yt=ft.memoizedProps;dt=void 0!==yt.fallback&&(!0!==yt.unstable_avoidThisFallback||!pt)}}if(dt){var vt=ft.updateQueue;if(null===vt){var Rt=new Set;Rt.add(st),ft.updateQueue=Rt}else vt.add(st);if(0==(2&ft.mode)){if(ft.effectTag|=64,ot.effectTag&=-2981,1===ot.tag)if(null===ot.alternate)ot.tag=17;else{var Dt=wg(1073741823,null);Dt.tag=2,xg(ot,Dt)}ot.expirationTime=1073741823;break e}at=void 0,ot=et;var Ot=nt.pingCache;if(null===Ot?(Ot=nt.pingCache=new kf,at=new Set,Ot.set(st,at)):void 0===(at=Ot.get(st))&&(at=new Set,Ot.set(st,at)),!at.has(ot)){at.add(ot);var Bt=Oj.bind(null,nt,st,ot);st.then(Bt,Bt)}ft.effectTag|=4096,ft.expirationTime=et;break e}ft=ft.return}while(null!==ft);at=Error((pb(ot.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+qb(ot))}5!==Uf&&(Uf=2),at=Ai(at,ot),ft=it;do{switch(ft.tag){case 3:st=at,ft.effectTag|=4096,ft.expirationTime=et,yg(ft,Xi(ft,st,et));break e;case 1:st=at;var er=ft.type,rr=ft.stateNode;if(0==(64&ft.effectTag)&&("function"==typeof er.getDerivedStateFromError||null!==rr&&"function"==typeof rr.componentDidCatch&&(null===nd||!nd.has(rr)))){ft.effectTag|=4096,ft.expirationTime=et,yg(ft,$i(ft,st,et));break e}}ft=ft.return}while(null!==ft)}Nf=Pj(Nf)}catch(Ne){et=Ne;continue}break}}function Fj(){var Ne=Pf.current;return Pf.current=lf,null===Ne?lf:Ne}function Ag(Ne,et){Ne<qf&&2<Ne&&(qf=Ne),null!==et&&Ne<Wf&&2<Ne&&(Wf=Ne,$f=et)}function Bg(Ne){Ne>Xf&&(Xf=Ne)}function Kj(){for(;null!==Nf;)Nf=Qj(Nf)}function Gj(){for(;null!==Nf&&!Wp();)Nf=Qj(Nf)}function Qj(Ne){var et=Sf(Ne.alternate,Ne,Vf);return Ne.memoizedProps=Ne.pendingProps,null===et&&(et=Pj(Ne)),If.current=null,et}function Pj(Ne){Nf=Ne;do{var et=Nf.alternate;if(Ne=Nf.return,0==(2048&Nf.effectTag)){if(et=si(et,Nf,Vf),1===Vf||1!==Nf.childExpirationTime){for(var tt=0,rt=Nf.child;null!==rt;){var nt=rt.expirationTime,it=rt.childExpirationTime;nt>tt&&(tt=nt),it>tt&&(tt=it),rt=rt.sibling}Nf.childExpirationTime=tt}if(null!==et)return et;null!==Ne&&0==(2048&Ne.effectTag)&&(null===Ne.firstEffect&&(Ne.firstEffect=Nf.firstEffect),null!==Nf.lastEffect&&(null!==Ne.lastEffect&&(Ne.lastEffect.nextEffect=Nf.firstEffect),Ne.lastEffect=Nf.lastEffect),1<Nf.effectTag&&(null!==Ne.lastEffect?Ne.lastEffect.nextEffect=Nf:Ne.firstEffect=Nf,Ne.lastEffect=Nf))}else{if(null!==(et=zi(Nf)))return et.effectTag&=2047,et;null!==Ne&&(Ne.firstEffect=Ne.lastEffect=null,Ne.effectTag|=2048)}if(null!==(et=Nf.sibling))return et;Nf=Ne}while(null!==Nf);return Uf===Mf&&(Uf=5),null}function Ij(Ne){var et=Ne.expirationTime;return et>(Ne=Ne.childExpirationTime)?et:Ne}function Jj(Ne){var et=ag();return cg(99,Sj.bind(null,Ne,et)),null}function Sj(Ne,et){do{Dj()}while(null!==fd);if(0!=(48&Of))throw Error(u(327));var tt=Ne.finishedWork,rt=Ne.finishedExpirationTime;if(null===tt)return null;if(Ne.finishedWork=null,Ne.finishedExpirationTime=0,tt===Ne.current)throw Error(u(177));Ne.callbackNode=null,Ne.callbackExpirationTime=0,Ne.callbackPriority=90,Ne.nextKnownPendingLevel=0;var nt=Ij(tt);if(Ne.firstPendingTime=nt,rt<=Ne.lastSuspendedTime?Ne.firstSuspendedTime=Ne.lastSuspendedTime=Ne.nextKnownPendingLevel=0:rt<=Ne.firstSuspendedTime&&(Ne.firstSuspendedTime=rt-1),rt<=Ne.lastPingedTime&&(Ne.lastPingedTime=0),rt<=Ne.lastExpiredTime&&(Ne.lastExpiredTime=0),Ne===Bf&&(Nf=Bf=null,Vf=0),1<tt.effectTag?null!==tt.lastEffect?(tt.lastEffect.nextEffect=tt,nt=tt.firstEffect):nt=tt:nt=tt.firstEffect,null!==nt){var it=Of;Of|=Rf,If.current=null,Sl=yl;var ot=xd();if(yd(ot)){if("selectionStart"in ot)var at={start:ot.selectionStart,end:ot.selectionEnd};else e:{var st=(at=(at=ot.ownerDocument)&&at.defaultView||window).getSelection&&at.getSelection();if(st&&0!==st.rangeCount){at=st.anchorNode;var ct=st.anchorOffset,pt=st.focusNode;st=st.focusOffset;try{at.nodeType,pt.nodeType}catch(Ne){at=null;break e}var ft=0,dt=-1,mt=-1,yt=0,vt=0,Rt=ot,Dt=null;t:for(;;){for(var Ot;Rt!==at||0!==ct&&3!==Rt.nodeType||(dt=ft+ct),Rt!==pt||0!==st&&3!==Rt.nodeType||(mt=ft+st),3===Rt.nodeType&&(ft+=Rt.nodeValue.length),null!==(Ot=Rt.firstChild);)Dt=Rt,Rt=Ot;for(;;){if(Rt===ot)break t;if(Dt===at&&++yt===ct&&(dt=ft),Dt===pt&&++vt===st&&(mt=ft),null!==(Ot=Rt.nextSibling))break;Dt=(Rt=Dt).parentNode}Rt=Ot}at=-1===dt||-1===mt?null:{start:dt,end:mt}}else at=null}at=at||{start:0,end:0}}else at=null;Cl={activeElementDetached:null,focusedElem:ot,selectionRange:at},yl=!1,Jf=nt;do{try{Tj()}catch(Ne){if(null===Jf)throw Error(u(330));Ei(Jf,Ne),Jf=Jf.nextEffect}}while(null!==Jf);Jf=nt;do{try{for(ot=Ne,at=et;null!==Jf;){var Bt=Jf.effectTag;if(16&Bt&&Rb(Jf.stateNode,""),128&Bt){var er=Jf.alternate;if(null!==er){var rr=er.ref;null!==rr&&("function"==typeof rr?rr(null):rr.current=null)}}switch(1038&Bt){case 2:Pi(Jf),Jf.effectTag&=-3;break;case 6:Pi(Jf),Jf.effectTag&=-3,Si(Jf.alternate,Jf);break;case 1024:Jf.effectTag&=-1025;break;case 1028:Jf.effectTag&=-1025,Si(Jf.alternate,Jf);break;case 4:Si(Jf.alternate,Jf);break;case 8:Mi(ot,ct=Jf,at),Ni(ct)}Jf=Jf.nextEffect}}catch(Ne){if(null===Jf)throw Error(u(330));Ei(Jf,Ne),Jf=Jf.nextEffect}}while(null!==Jf);if(rr=Cl,er=xd(),Bt=rr.focusedElem,at=rr.selectionRange,er!==Bt&&Bt&&Bt.ownerDocument&&wd(Bt.ownerDocument.documentElement,Bt)){null!==at&&yd(Bt)&&(er=at.start,void 0===(rr=at.end)&&(rr=er),"selectionStart"in Bt?(Bt.selectionStart=er,Bt.selectionEnd=Math.min(rr,Bt.value.length)):(rr=(er=Bt.ownerDocument||document)&&er.defaultView||window).getSelection&&(rr=rr.getSelection(),ct=Bt.textContent.length,ot=Math.min(at.start,ct),at=void 0===at.end?ot:Math.min(at.end,ct),!rr.extend&&ot>at&&(ct=at,at=ot,ot=ct),ct=vd(Bt,ot),pt=vd(Bt,at),ct&&pt&&(1!==rr.rangeCount||rr.anchorNode!==ct.node||rr.anchorOffset!==ct.offset||rr.focusNode!==pt.node||rr.focusOffset!==pt.offset)&&((er=er.createRange()).setStart(ct.node,ct.offset),rr.removeAllRanges(),ot>at?(rr.addRange(er),rr.extend(pt.node,pt.offset)):(er.setEnd(pt.node,pt.offset),rr.addRange(er))))),er=[];for(rr=Bt;rr=rr.parentNode;)1===rr.nodeType&&er.push({element:rr,left:rr.scrollLeft,top:rr.scrollTop});for("function"==typeof Bt.focus&&Bt.focus(),Bt=0;Bt<er.length;Bt++)(rr=er[Bt]).element.scrollLeft=rr.left,rr.element.scrollTop=rr.top}yl=!!Sl,Cl=Sl=null,Ne.current=tt,Jf=nt;do{try{for(Bt=Ne;null!==Jf;){var vr=Jf.effectTag;if(36&vr&&Ji(Bt,Jf.alternate,Jf),128&vr){er=void 0;var wr=Jf.ref;if(null!==wr){var Sr=Jf.stateNode;Jf.tag,er=Sr,"function"==typeof wr?wr(er):wr.current=er}}Jf=Jf.nextEffect}}catch(Ne){if(null===Jf)throw Error(u(330));Ei(Jf,Ne),Jf=Jf.nextEffect}}while(null!==Jf);Jf=null,Gp(),Of=it}else Ne.current=tt;if(cd)cd=!1,fd=Ne,dd=et;else for(Jf=nt;null!==Jf;)et=Jf.nextEffect,Jf.nextEffect=null,Jf=et;if(0===(et=Ne.firstPendingTime)&&(nd=null),1073741823===et?Ne===kd?bd++:(bd=0,kd=Ne):bd=0,"function"==typeof Cd&&Cd(tt.stateNode,rt),Z(Ne),Qf)throw Qf=!1,Ne=ed,ed=null,Ne;return 0!=(8&Of)||gg(),null}function Tj(){for(;null!==Jf;){var Ne=Jf.effectTag;0!=(256&Ne)&&Gi(Jf.alternate,Jf),0==(512&Ne)||cd||(cd=!0,dg(97,(function(){return Dj(),null}))),Jf=Jf.nextEffect}}function Dj(){if(90!==dd){var Ne=97<dd?97:dd;return dd=90,cg(Ne,Vj)}}function Vj(){if(null===fd)return!1;var Ne=fd;if(fd=null,0!=(48&Of))throw Error(u(331));var et=Of;for(Of|=Rf,Ne=Ne.current.firstEffect;null!==Ne;){try{var tt=Ne;if(0!=(512&tt.effectTag))switch(tt.tag){case 0:case 11:case 15:case 22:Hi(5,tt),Ii(5,tt)}}catch(et){if(null===Ne)throw Error(u(330));Ei(Ne,et)}tt=Ne.nextEffect,Ne.nextEffect=null,Ne=tt}return Of=et,gg(),!0}function Wj(Ne,et,tt){xg(Ne,et=Xi(Ne,et=Ai(tt,et),1073741823)),null!==(Ne=xj(Ne,1073741823))&&Z(Ne)}function Ei(Ne,et){if(3===Ne.tag)Wj(Ne,Ne,et);else for(var tt=Ne.return;null!==tt;){if(3===tt.tag){Wj(tt,Ne,et);break}if(1===tt.tag){var rt=tt.stateNode;if("function"==typeof tt.type.getDerivedStateFromError||"function"==typeof rt.componentDidCatch&&(null===nd||!nd.has(rt))){xg(tt,Ne=$i(tt,Ne=Ai(et,Ne),1073741823)),null!==(tt=xj(tt,1073741823))&&Z(tt);break}}tt=tt.return}}function Oj(Ne,et,tt){var rt=Ne.pingCache;null!==rt&&rt.delete(et),Bf===Ne&&Vf===tt?Uf===Lf||Uf===zf&&1073741823===qf&&Yp()-Yf<500?Ej(Ne,Vf):Kf=!0:Aj(Ne,tt)&&(0!==(et=Ne.lastPingedTime)&&et<tt||(Ne.lastPingedTime=tt,Z(Ne)))}function Vi(Ne,et){var tt=Ne.stateNode;null!==tt&&tt.delete(et),0===(et=0)&&(et=Hg(et=Gg(),Ne,null)),null!==(Ne=xj(Ne,et))&&Z(Ne)}Sf=function(Ne,et,tt){var rt=et.expirationTime;if(null!==Ne){var nt=et.pendingProps;if(Ne.memoizedProps!==nt||Rp.current)gf=!0;else{if(rt<tt){switch(gf=!1,et.tag){case 3:hi(et),Xh();break;case 5:if(fh(et),4&et.mode&&1!==tt&&nt.hidden)return et.expirationTime=et.childExpirationTime=1,null;break;case 1:L(et.type)&&Gf(et);break;case 4:dh(et,et.stateNode.containerInfo);break;case 10:rt=et.memoizedProps.value,nt=et.type._context,I(Jp,nt._currentValue),nt._currentValue=rt;break;case 13:if(null!==et.memoizedState)return 0!==(rt=et.child.childExpirationTime)&&rt>=tt?ji(Ne,et,tt):(I(Yh,1&Yh.current),null!==(et=$h(Ne,et,tt))?et.sibling:null);I(Yh,1&Yh.current);break;case 19:if(rt=et.childExpirationTime>=tt,0!=(64&Ne.effectTag)){if(rt)return mi(Ne,et,tt);et.effectTag|=64}if(null!==(nt=et.memoizedState)&&(nt.rendering=null,nt.tail=null),I(Yh,Yh.current),!rt)return null}return $h(Ne,et,tt)}gf=!1}}else gf=!1;switch(et.expirationTime=0,et.tag){case 2:if(rt=et.type,null!==Ne&&(Ne.alternate=null,et.alternate=null,et.effectTag|=2),Ne=et.pendingProps,nt=Cf(et,Ap.current),qg(et,tt),nt=oh(null,et,rt,Ne,nt,tt),et.effectTag|=1,"object"==typeof nt&&null!==nt&&"function"==typeof nt.render&&void 0===nt.$$typeof){if(et.tag=1,et.memoizedState=null,et.updateQueue=null,L(rt)){var it=!0;Gf(et)}else it=!1;et.memoizedState=null!==nt.state&&void 0!==nt.state?nt.state:null,ug(et);var ot=rt.getDerivedStateFromProps;"function"==typeof ot&&Fg(et,rt,ot,Ne),nt.updater=mh,et.stateNode=nt,nt._reactInternalFiber=et,Ng(et,rt,Ne,tt),et=gi(null,et,rt,!0,it,tt)}else et.tag=0,R(null,et,nt,tt),et=et.child;return et;case 16:e:{if(nt=et.elementType,null!==Ne&&(Ne.alternate=null,et.alternate=null,et.effectTag|=2),Ne=et.pendingProps,function ob(Ne){if(-1===Ne._status){Ne._status=0;var et=Ne._ctor;et=et(),Ne._result=et,et.then((function(et){0===Ne._status&&(et=et.default,Ne._status=1,Ne._result=et)}),(function(et){0===Ne._status&&(Ne._status=2,Ne._result=et)}))}}(nt),1!==nt._status)throw nt._result;switch(nt=nt._result,et.type=nt,it=et.tag=function Xj(Ne){if("function"==typeof Ne)return bi(Ne)?1:0;if(null!=Ne){if((Ne=Ne.$$typeof)===po)return 11;if(Ne===ea)return 14}return 2}(nt),Ne=ig(nt,Ne),it){case 0:et=di(null,et,nt,Ne,tt);break e;case 1:et=fi(null,et,nt,Ne,tt);break e;case 11:et=Zh(null,et,nt,Ne,tt);break e;case 14:et=ai(null,et,nt,ig(nt.type,Ne),rt,tt);break e}throw Error(u(306,nt,""))}return et;case 0:return rt=et.type,nt=et.pendingProps,di(Ne,et,rt,nt=et.elementType===rt?nt:ig(rt,nt),tt);case 1:return rt=et.type,nt=et.pendingProps,fi(Ne,et,rt,nt=et.elementType===rt?nt:ig(rt,nt),tt);case 3:if(hi(et),rt=et.updateQueue,null===Ne||null===rt)throw Error(u(282));if(rt=et.pendingProps,nt=null!==(nt=et.memoizedState)?nt.element:null,vg(Ne,et),zg(et,rt,null,tt),(rt=et.memoizedState.element)===nt)Xh(),et=$h(Ne,et,tt);else{if((nt=et.stateNode.hydrate)&&(ff=Jd(et.stateNode.containerInfo.firstChild),hf=et,nt=df=!0),nt)for(tt=kh(et,null,rt,tt),et.child=tt;tt;)tt.effectTag=-3&tt.effectTag|1024,tt=tt.sibling;else R(Ne,et,rt,tt),Xh();et=et.child}return et;case 5:return fh(et),null===Ne&&Uh(et),rt=et.type,nt=et.pendingProps,it=null!==Ne?Ne.memoizedProps:null,ot=nt.children,Gd(rt,nt)?ot=null:null!==it&&Gd(rt,it)&&(et.effectTag|=16),ei(Ne,et),4&et.mode&&1!==tt&&nt.hidden?(et.expirationTime=et.childExpirationTime=1,et=null):(R(Ne,et,ot,tt),et=et.child),et;case 6:return null===Ne&&Uh(et),null;case 13:return ji(Ne,et,tt);case 4:return dh(et,et.stateNode.containerInfo),rt=et.pendingProps,null===Ne?et.child=bh(et,null,rt,tt):R(Ne,et,rt,tt),et.child;case 11:return rt=et.type,nt=et.pendingProps,Zh(Ne,et,rt,nt=et.elementType===rt?nt:ig(rt,nt),tt);case 7:return R(Ne,et,et.pendingProps,tt),et.child;case 8:case 12:return R(Ne,et,et.pendingProps.children,tt),et.child;case 10:e:{rt=et.type._context,nt=et.pendingProps,ot=et.memoizedProps,it=nt.value;var at=et.type._context;if(I(Jp,at._currentValue),at._currentValue=it,null!==ot)if(at=ot.value,0===(it=ap(at,it)?0:0|("function"==typeof rt._calculateChangedBits?rt._calculateChangedBits(at,it):1073741823))){if(ot.children===nt.children&&!Rp.current){et=$h(Ne,et,tt);break e}}else for(null!==(at=et.child)&&(at.return=et);null!==at;){var st=at.dependencies;if(null!==st){ot=at.child;for(var ct=st.firstContext;null!==ct;){if(ct.context===rt&&0!=(ct.observedBits&it)){1===at.tag&&((ct=wg(tt,null)).tag=2,xg(at,ct)),at.expirationTime<tt&&(at.expirationTime=tt),null!==(ct=at.alternate)&&ct.expirationTime<tt&&(ct.expirationTime=tt),pg(at.return,tt),st.expirationTime<tt&&(st.expirationTime=tt);break}ct=ct.next}}else ot=10===at.tag&&at.type===et.type?null:at.child;if(null!==ot)ot.return=at;else for(ot=at;null!==ot;){if(ot===et){ot=null;break}if(null!==(at=ot.sibling)){at.return=ot.return,ot=at;break}ot=ot.return}at=ot}R(Ne,et,nt.children,tt),et=et.child}return et;case 9:return nt=et.type,rt=(it=et.pendingProps).children,qg(et,tt),rt=rt(nt=sg(nt,it.unstable_observedBits)),et.effectTag|=1,R(Ne,et,rt,tt),et.child;case 14:return it=ig(nt=et.type,et.pendingProps),ai(Ne,et,nt,it=ig(nt.type,it),rt,tt);case 15:return ci(Ne,et,et.type,et.pendingProps,rt,tt);case 17:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:ig(rt,nt),null!==Ne&&(Ne.alternate=null,et.alternate=null,et.effectTag|=2),et.tag=1,L(rt)?(Ne=!0,Gf(et)):Ne=!1,qg(et,tt),Lg(et,rt,nt),Ng(et,rt,nt,tt),gi(null,et,rt,!0,Ne,tt);case 19:return mi(Ne,et,tt)}throw Error(u(156,et.tag))};var Cd=null,Id=null;function Zj(Ne,et,tt,rt){this.tag=Ne,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Sh(Ne,et,tt,rt){return new Zj(Ne,et,tt,rt)}function bi(Ne){return!(!(Ne=Ne.prototype)||!Ne.isReactComponent)}function Sg(Ne,et){var tt=Ne.alternate;return null===tt?((tt=Sh(Ne.tag,et,Ne.key,Ne.mode)).elementType=Ne.elementType,tt.type=Ne.type,tt.stateNode=Ne.stateNode,tt.alternate=Ne,Ne.alternate=tt):(tt.pendingProps=et,tt.effectTag=0,tt.nextEffect=null,tt.firstEffect=null,tt.lastEffect=null),tt.childExpirationTime=Ne.childExpirationTime,tt.expirationTime=Ne.expirationTime,tt.child=Ne.child,tt.memoizedProps=Ne.memoizedProps,tt.memoizedState=Ne.memoizedState,tt.updateQueue=Ne.updateQueue,et=Ne.dependencies,tt.dependencies=null===et?null:{expirationTime:et.expirationTime,firstContext:et.firstContext,responders:et.responders},tt.sibling=Ne.sibling,tt.index=Ne.index,tt.ref=Ne.ref,tt}function Ug(Ne,et,tt,rt,nt,it){var ot=2;if(rt=Ne,"function"==typeof Ne)bi(Ne)&&(ot=1);else if("string"==typeof Ne)ot=5;else e:switch(Ne){case Wn:return Wg(tt.children,nt,it,et);case uo:ot=8,nt|=7;break;case $n:ot=8,nt|=1;break;case Yn:return(Ne=Sh(12,tt,et,8|nt)).elementType=Yn,Ne.type=Yn,Ne.expirationTime=it,Ne;case vo:return(Ne=Sh(13,tt,et,nt)).type=vo,Ne.elementType=vo,Ne.expirationTime=it,Ne;case So:return(Ne=Sh(19,tt,et,nt)).elementType=So,Ne.expirationTime=it,Ne;default:if("object"==typeof Ne&&null!==Ne)switch(Ne.$$typeof){case ii:ot=10;break e;case qi:ot=9;break e;case po:ot=11;break e;case ea:ot=14;break e;case ta:ot=16,rt=null;break e;case ia:ot=22;break e}throw Error(u(130,null==Ne?Ne:typeof Ne,""))}return(et=Sh(ot,tt,et,nt)).elementType=Ne,et.type=rt,et.expirationTime=it,et}function Wg(Ne,et,tt,rt){return(Ne=Sh(7,Ne,rt,et)).expirationTime=tt,Ne}function Tg(Ne,et,tt){return(Ne=Sh(6,Ne,null,et)).expirationTime=tt,Ne}function Vg(Ne,et,tt){return(et=Sh(4,null!==Ne.children?Ne.children:[],Ne.key,et)).expirationTime=tt,et.stateNode={containerInfo:Ne.containerInfo,pendingChildren:null,implementation:Ne.implementation},et}function ak(Ne,et,tt){this.tag=et,this.current=null,this.containerInfo=Ne,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=tt,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Aj(Ne,et){var tt=Ne.firstSuspendedTime;return Ne=Ne.lastSuspendedTime,0!==tt&&tt>=et&&Ne<=et}function xi(Ne,et){var tt=Ne.firstSuspendedTime,rt=Ne.lastSuspendedTime;tt<et&&(Ne.firstSuspendedTime=et),(rt>et||0===tt)&&(Ne.lastSuspendedTime=et),et<=Ne.lastPingedTime&&(Ne.lastPingedTime=0),et<=Ne.lastExpiredTime&&(Ne.lastExpiredTime=0)}function yi(Ne,et){et>Ne.firstPendingTime&&(Ne.firstPendingTime=et);var tt=Ne.firstSuspendedTime;0!==tt&&(et>=tt?Ne.firstSuspendedTime=Ne.lastSuspendedTime=Ne.nextKnownPendingLevel=0:et>=Ne.lastSuspendedTime&&(Ne.lastSuspendedTime=et+1),et>Ne.nextKnownPendingLevel&&(Ne.nextKnownPendingLevel=et))}function Cj(Ne,et){var tt=Ne.lastExpiredTime;(0===tt||tt>et)&&(Ne.lastExpiredTime=et)}function bk(Ne,et,tt,rt){var nt=et.current,it=Gg(),ot=lh.suspense;it=Hg(it,nt,ot);e:if(tt){t:{if(dc(tt=tt._reactInternalFiber)!==tt||1!==tt.tag)throw Error(u(170));var at=tt;do{switch(at.tag){case 3:at=at.stateNode.context;break t;case 1:if(L(at.type)){at=at.stateNode.__reactInternalMemoizedMergedChildContext;break t}}at=at.return}while(null!==at);throw Error(u(171))}if(1===tt.tag){var st=tt.type;if(L(st)){tt=Ff(tt,st,at);break e}}tt=at}else tt=Ip;return null===et.context?et.context=tt:et.pendingContext=tt,(et=wg(it,ot)).payload={element:Ne},null!==(rt=void 0===rt?null:rt)&&(et.callback=rt),xg(nt,et),Ig(nt,it),it}function ck(Ne){return(Ne=Ne.current).child?(Ne.child.tag,Ne.child.stateNode):null}function dk(Ne,et){null!==(Ne=Ne.memoizedState)&&null!==Ne.dehydrated&&Ne.retryTime<et&&(Ne.retryTime=et)}function ek(Ne,et){dk(Ne,et),(Ne=Ne.alternate)&&dk(Ne,et)}function fk(Ne,et,tt){var rt=new ak(Ne,et,tt=null!=tt&&!0===tt.hydrate),nt=Sh(3,null,null,2===et?7:1===et?3:0);rt.current=nt,nt.stateNode=rt,ug(nt),Ne[du]=rt.current,tt&&0!==et&&function Jc(Ne,et){var tt=cc(et);Vs.forEach((function(Ne){uc(Ne,et,tt)})),Us.forEach((function(Ne){uc(Ne,et,tt)}))}(0,9===Ne.nodeType?Ne:Ne.ownerDocument),this._internalRoot=rt}function gk(Ne){return!(!Ne||1!==Ne.nodeType&&9!==Ne.nodeType&&11!==Ne.nodeType&&(8!==Ne.nodeType||" react-mount-point-unstable "!==Ne.nodeValue))}function ik(Ne,et,tt,rt,nt){var it=tt._reactRootContainer;if(it){var ot=it._internalRoot;if("function"==typeof nt){var at=nt;nt=function(){var Ne=ck(ot);at.call(Ne)}}bk(et,ot,Ne,nt)}else{if(it=tt._reactRootContainer=function hk(Ne,et){if(et||(et=!(!(et=Ne?9===Ne.nodeType?Ne.documentElement:Ne.firstChild:null)||1!==et.nodeType||!et.hasAttribute("data-reactroot"))),!et)for(var tt;tt=Ne.lastChild;)Ne.removeChild(tt);return new fk(Ne,0,et?{hydrate:!0}:void 0)}(tt,rt),ot=it._internalRoot,"function"==typeof nt){var st=nt;nt=function(){var Ne=ck(ot);st.call(Ne)}}Nj((function(){bk(et,ot,Ne,nt)}))}return ck(ot)}function jk(Ne,et,tt){var rt=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Vn,key:null==rt?null:""+rt,children:Ne,containerInfo:et,implementation:tt}}function kk(Ne,et){var tt=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!gk(et))throw Error(u(200));return jk(Ne,et,null,tt)}fk.prototype.render=function(Ne){bk(Ne,this._internalRoot,null,null)},fk.prototype.unmount=function(){var Ne=this._internalRoot,et=Ne.containerInfo;bk(null,Ne,null,(function(){et[du]=null}))},Cs=function(Ne){if(13===Ne.tag){var et=hg(Gg(),150,100);Ig(Ne,et),ek(Ne,et)}},Ps=function(Ne){13===Ne.tag&&(Ig(Ne,3),ek(Ne,3))},As=function(Ne){if(13===Ne.tag){var et=Gg();Ig(Ne,et=Hg(et,Ne,null)),ek(Ne,et)}},rr=function(Ne,et,tt){switch(et){case"input":if(Cb(Ne,tt),et=tt.name,"radio"===tt.type&&null!=et){for(tt=Ne;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<tt.length;et++){var rt=tt[et];if(rt!==Ne&&rt.form===Ne.form){var nt=Qd(rt);if(!nt)throw Error(u(90));yb(rt),Cb(rt,nt)}}}break;case"textarea":Kb(Ne,tt);break;case"select":null!=(et=tt.value)&&Hb(Ne,!!tt.multiple,et,!1)}},Fa=Mj,Ga=function(Ne,et,tt,rt,nt){var it=Of;Of|=4;try{return cg(98,Ne.bind(null,et,tt,rt,nt))}finally{0===(Of=it)&&gg()}},Ha=function(){0==(49&Of)&&(function Lj(){if(null!==_d){var Ne=_d;_d=null,Ne.forEach((function(Ne,et){Cj(et,Ne),Z(et)})),gg()}}(),Dj())},Sr=function(Ne,et){var tt=Of;Of|=2;try{return Ne(et)}finally{0===(Of=tt)&&gg()}};var Ad={Events:[Nc,Pd,Qd,xa,Dt,Xd,function(Ne){jc(Ne,Wd)},Da,Ea,id,mc,Dj,{current:!1}]};!function(Ne){var et=Ne.findFiberByHostInstance;(function Yj(Ne){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var et=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(et.isDisabled||!et.supportsFiber)return!0;try{var tt=et.inject(Ne);Cd=function(Ne){try{et.onCommitFiberRoot(tt,Ne,void 0,64==(64&Ne.current.effectTag))}catch(Ne){}},Id=function(Ne){try{et.onCommitFiberUnmount(tt,Ne)}catch(Ne){}}}catch(Ne){}return!0})(nt({},Ne,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(Ne){return null===(Ne=hc(Ne))?null:Ne.stateNode},findFiberByHostInstance:function(Ne){return et?et(Ne):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:tc,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ad,et.createPortal=kk,et.findDOMNode=function(Ne){if(null==Ne)return null;if(1===Ne.nodeType)return Ne;var et=Ne._reactInternalFiber;if(void 0===et){if("function"==typeof Ne.render)throw Error(u(188));throw Error(u(268,Object.keys(Ne)))}return Ne=null===(Ne=hc(et))?null:Ne.stateNode},et.flushSync=function(Ne,et){if(0!=(48&Of))throw Error(u(187));var tt=Of;Of|=1;try{return cg(99,Ne.bind(null,et))}finally{Of=tt,gg()}},et.hydrate=function(Ne,et,tt){if(!gk(et))throw Error(u(200));return ik(null,Ne,et,!0,tt)},et.render=function(Ne,et,tt){if(!gk(et))throw Error(u(200));return ik(null,Ne,et,!1,tt)},et.unmountComponentAtNode=function(Ne){if(!gk(Ne))throw Error(u(40));return!!Ne._reactRootContainer&&(Nj((function(){ik(null,null,Ne,!1,(function(){Ne._reactRootContainer=null,Ne[du]=null}))})),!0)},et.unstable_batchedUpdates=Mj,et.unstable_createPortal=function(Ne,et){return kk(Ne,et,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},et.unstable_renderSubtreeIntoContainer=function(Ne,et,tt,rt){if(!gk(tt))throw Error(u(200));if(null==Ne||void 0===Ne._reactInternalFiber)throw Error(u(38));return ik(Ne,et,tt,!1,rt)},et.version="16.13.1"},3935:(Ne,et,tt)=>{"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(Ne){console.error(Ne)}}(),Ne.exports=tt(4448)},7762:(Ne,et,tt)=>{"use strict";Ne.exports=tt(8698)},9921:(Ne,et)=>{"use strict";var tt="function"==typeof Symbol&&Symbol.for,rt=tt?Symbol.for("react.element"):60103,nt=tt?Symbol.for("react.portal"):60106,it=tt?Symbol.for("react.fragment"):60107,ot=tt?Symbol.for("react.strict_mode"):60108,at=tt?Symbol.for("react.profiler"):60114,st=tt?Symbol.for("react.provider"):60109,ct=tt?Symbol.for("react.context"):60110,pt=tt?Symbol.for("react.async_mode"):60111,ft=tt?Symbol.for("react.concurrent_mode"):60111,dt=tt?Symbol.for("react.forward_ref"):60112,mt=tt?Symbol.for("react.suspense"):60113,yt=tt?Symbol.for("react.suspense_list"):60120,vt=tt?Symbol.for("react.memo"):60115,Rt=tt?Symbol.for("react.lazy"):60116,Dt=tt?Symbol.for("react.block"):60121,Ot=tt?Symbol.for("react.fundamental"):60117,Bt=tt?Symbol.for("react.responder"):60118,er=tt?Symbol.for("react.scope"):60119;function z(Ne){if("object"==typeof Ne&&null!==Ne){var et=Ne.$$typeof;switch(et){case rt:switch(Ne=Ne.type){case pt:case ft:case it:case at:case ot:case mt:return Ne;default:switch(Ne=Ne&&Ne.$$typeof){case ct:case dt:case Rt:case vt:case st:return Ne;default:return et}}case nt:return et}}}function A(Ne){return z(Ne)===ft}et.AsyncMode=pt,et.ConcurrentMode=ft,et.ContextConsumer=ct,et.ContextProvider=st,et.Element=rt,et.ForwardRef=dt,et.Fragment=it,et.Lazy=Rt,et.Memo=vt,et.Portal=nt,et.Profiler=at,et.StrictMode=ot,et.Suspense=mt,et.isAsyncMode=function(Ne){return A(Ne)||z(Ne)===pt},et.isConcurrentMode=A,et.isContextConsumer=function(Ne){return z(Ne)===ct},et.isContextProvider=function(Ne){return z(Ne)===st},et.isElement=function(Ne){return"object"==typeof Ne&&null!==Ne&&Ne.$$typeof===rt},et.isForwardRef=function(Ne){return z(Ne)===dt},et.isFragment=function(Ne){return z(Ne)===it},et.isLazy=function(Ne){return z(Ne)===Rt},et.isMemo=function(Ne){return z(Ne)===vt},et.isPortal=function(Ne){return z(Ne)===nt},et.isProfiler=function(Ne){return z(Ne)===at},et.isStrictMode=function(Ne){return z(Ne)===ot},et.isSuspense=function(Ne){return z(Ne)===mt},et.isValidElementType=function(Ne){return"string"==typeof Ne||"function"==typeof Ne||Ne===it||Ne===ft||Ne===at||Ne===ot||Ne===mt||Ne===yt||"object"==typeof Ne&&null!==Ne&&(Ne.$$typeof===Rt||Ne.$$typeof===vt||Ne.$$typeof===st||Ne.$$typeof===ct||Ne.$$typeof===dt||Ne.$$typeof===Ot||Ne.$$typeof===Bt||Ne.$$typeof===er||Ne.$$typeof===Dt)},et.typeOf=z},9864:(Ne,et,tt)=>{"use strict";Ne.exports=tt(9921)},6585:Ne=>{Ne.exports=Array.isArray||function(Ne){return"[object Array]"==Object.prototype.toString.call(Ne)}},9658:(Ne,et,tt)=>{var rt=tt(6585);Ne.exports=pathToRegexp,Ne.exports.parse=parse,Ne.exports.compile=function compile(Ne,et){return tokensToFunction(parse(Ne,et),et)},Ne.exports.tokensToFunction=tokensToFunction,Ne.exports.tokensToRegExp=tokensToRegExp;var nt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(Ne,et){for(var tt,rt=[],it=0,ot=0,at="",st=et&&et.delimiter||"/";null!=(tt=nt.exec(Ne));){var ct=tt[0],pt=tt[1],ft=tt.index;if(at+=Ne.slice(ot,ft),ot=ft+ct.length,pt)at+=pt[1];else{var dt=Ne[ot],mt=tt[2],yt=tt[3],vt=tt[4],Rt=tt[5],Dt=tt[6],Ot=tt[7];at&&(rt.push(at),at="");var Bt=null!=mt&&null!=dt&&dt!==mt,er="+"===Dt||"*"===Dt,rr="?"===Dt||"*"===Dt,vr=tt[2]||st,wr=vt||Rt;rt.push({name:yt||it++,prefix:mt||"",delimiter:vr,optional:rr,repeat:er,partial:Bt,asterisk:!!Ot,pattern:wr?escapeGroup(wr):Ot?".*":"[^"+escapeString(vr)+"]+?"})}}return ot<Ne.length&&(at+=Ne.substr(ot)),at&&rt.push(at),rt}function encodeURIComponentPretty(Ne){return encodeURI(Ne).replace(/[\/?#]/g,(function(Ne){return"%"+Ne.charCodeAt(0).toString(16).toUpperCase()}))}function tokensToFunction(Ne,et){for(var tt=new Array(Ne.length),nt=0;nt<Ne.length;nt++)"object"==typeof Ne[nt]&&(tt[nt]=new RegExp("^(?:"+Ne[nt].pattern+")$",flags(et)));return function(et,nt){for(var it="",ot=et||{},at=(nt||{}).pretty?encodeURIComponentPretty:encodeURIComponent,st=0;st<Ne.length;st++){var ct=Ne[st];if("string"!=typeof ct){var pt,ft=ot[ct.name];if(null==ft){if(ct.optional){ct.partial&&(it+=ct.prefix);continue}throw new TypeError('Expected "'+ct.name+'" to be defined')}if(rt(ft)){if(!ct.repeat)throw new TypeError('Expected "'+ct.name+'" to not repeat, but received `'+JSON.stringify(ft)+"`");if(0===ft.length){if(ct.optional)continue;throw new TypeError('Expected "'+ct.name+'" to not be empty')}for(var dt=0;dt<ft.length;dt++){if(pt=at(ft[dt]),!tt[st].test(pt))throw new TypeError('Expected all "'+ct.name+'" to match "'+ct.pattern+'", but received `'+JSON.stringify(pt)+"`");it+=(0===dt?ct.prefix:ct.delimiter)+pt}}else{if(pt=ct.asterisk?encodeURI(ft).replace(/[?#]/g,(function(Ne){return"%"+Ne.charCodeAt(0).toString(16).toUpperCase()})):at(ft),!tt[st].test(pt))throw new TypeError('Expected "'+ct.name+'" to match "'+ct.pattern+'", but received "'+pt+'"');it+=ct.prefix+pt}}else it+=ct}return it}}function escapeString(Ne){return Ne.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(Ne){return Ne.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(Ne,et){return Ne.keys=et,Ne}function flags(Ne){return Ne&&Ne.sensitive?"":"i"}function tokensToRegExp(Ne,et,tt){rt(et)||(tt=et||tt,et=[]);for(var nt=(tt=tt||{}).strict,it=!1!==tt.end,ot="",at=0;at<Ne.length;at++){var st=Ne[at];if("string"==typeof st)ot+=escapeString(st);else{var ct=escapeString(st.prefix),pt="(?:"+st.pattern+")";et.push(st),st.repeat&&(pt+="(?:"+ct+pt+")*"),ot+=pt=st.optional?st.partial?ct+"("+pt+")?":"(?:"+ct+"("+pt+"))?":ct+"("+pt+")"}}var ft=escapeString(tt.delimiter||"/"),dt=ot.slice(-ft.length)===ft;return nt||(ot=(dt?ot.slice(0,-ft.length):ot)+"(?:"+ft+"(?=$))?"),ot+=it?"$":nt&&dt?"":"(?="+ft+"|$)",attachKeys(new RegExp("^"+ot,flags(tt)),et)}function pathToRegexp(Ne,et,tt){return rt(et)||(tt=et||tt,et=[]),tt=tt||{},Ne instanceof RegExp?function regexpToRegexp(Ne,et){var tt=Ne.source.match(/\((?!\?)/g);if(tt)for(var rt=0;rt<tt.length;rt++)et.push({name:rt,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(Ne,et)}(Ne,et):rt(Ne)?function arrayToRegexp(Ne,et,tt){for(var rt=[],nt=0;nt<Ne.length;nt++)rt.push(pathToRegexp(Ne[nt],et,tt).source);return attachKeys(new RegExp("(?:"+rt.join("|")+")",flags(tt)),et)}(Ne,et,tt):function stringToRegexp(Ne,et,tt){return tokensToRegExp(parse(Ne,tt),et,tt)}(Ne,et,tt)}},2408:(Ne,et,tt)=>{"use strict";var rt=tt(7418),nt="function"==typeof Symbol&&Symbol.for,it=nt?Symbol.for("react.element"):60103,ot=nt?Symbol.for("react.portal"):60106,at=nt?Symbol.for("react.fragment"):60107,st=nt?Symbol.for("react.strict_mode"):60108,ct=nt?Symbol.for("react.profiler"):60114,pt=nt?Symbol.for("react.provider"):60109,ft=nt?Symbol.for("react.context"):60110,dt=nt?Symbol.for("react.forward_ref"):60112,mt=nt?Symbol.for("react.suspense"):60113,yt=nt?Symbol.for("react.memo"):60115,vt=nt?Symbol.for("react.lazy"):60116,Rt="function"==typeof Symbol&&Symbol.iterator;function C(Ne){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+Ne,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+Ne+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ot={};function F(Ne,et,tt){this.props=Ne,this.context=et,this.refs=Ot,this.updater=tt||Dt}function G(){}function H(Ne,et,tt){this.props=Ne,this.context=et,this.refs=Ot,this.updater=tt||Dt}F.prototype.isReactComponent={},F.prototype.setState=function(Ne,et){if("object"!=typeof Ne&&"function"!=typeof Ne&&null!=Ne)throw Error(C(85));this.updater.enqueueSetState(this,Ne,et,"setState")},F.prototype.forceUpdate=function(Ne){this.updater.enqueueForceUpdate(this,Ne,"forceUpdate")},G.prototype=F.prototype;var Bt=H.prototype=new G;Bt.constructor=H,rt(Bt,F.prototype),Bt.isPureReactComponent=!0;var er={current:null},rr=Object.prototype.hasOwnProperty,vr={key:!0,ref:!0,__self:!0,__source:!0};function M(Ne,et,tt){var rt,nt={},ot=null,at=null;if(null!=et)for(rt in void 0!==et.ref&&(at=et.ref),void 0!==et.key&&(ot=""+et.key),et)rr.call(et,rt)&&!vr.hasOwnProperty(rt)&&(nt[rt]=et[rt]);var st=arguments.length-2;if(1===st)nt.children=tt;else if(1<st){for(var ct=Array(st),pt=0;pt<st;pt++)ct[pt]=arguments[pt+2];nt.children=ct}if(Ne&&Ne.defaultProps)for(rt in st=Ne.defaultProps)void 0===nt[rt]&&(nt[rt]=st[rt]);return{$$typeof:it,type:Ne,key:ot,ref:at,props:nt,_owner:er.current}}function O(Ne){return"object"==typeof Ne&&null!==Ne&&Ne.$$typeof===it}var wr=/\/+/g,Sr=[];function R(Ne,et,tt,rt){if(Sr.length){var nt=Sr.pop();return nt.result=Ne,nt.keyPrefix=et,nt.func=tt,nt.context=rt,nt.count=0,nt}return{result:Ne,keyPrefix:et,func:tt,context:rt,count:0}}function S(Ne){Ne.result=null,Ne.keyPrefix=null,Ne.func=null,Ne.context=null,Ne.count=0,10>Sr.length&&Sr.push(Ne)}function T(Ne,et,tt,rt){var nt=typeof Ne;"undefined"!==nt&&"boolean"!==nt||(Ne=null);var at=!1;if(null===Ne)at=!0;else switch(nt){case"string":case"number":at=!0;break;case"object":switch(Ne.$$typeof){case it:case ot:at=!0}}if(at)return tt(rt,Ne,""===et?"."+U(Ne,0):et),1;if(at=0,et=""===et?".":et+":",Array.isArray(Ne))for(var st=0;st<Ne.length;st++){var ct=et+U(nt=Ne[st],st);at+=T(nt,ct,tt,rt)}else if(null===Ne||"object"!=typeof Ne?ct=null:ct="function"==typeof(ct=Rt&&Ne[Rt]||Ne["@@iterator"])?ct:null,"function"==typeof ct)for(Ne=ct.call(Ne),st=0;!(nt=Ne.next()).done;)at+=T(nt=nt.value,ct=et+U(nt,st++),tt,rt);else if("object"===nt)throw tt=""+Ne,Error(C(31,"[object Object]"===tt?"object with keys {"+Object.keys(Ne).join(", ")+"}":tt,""));return at}function V(Ne,et,tt){return null==Ne?0:T(Ne,"",et,tt)}function U(Ne,et){return"object"==typeof Ne&&null!==Ne&&null!=Ne.key?function escape(Ne){var et={"=":"=0",":":"=2"};return"$"+(""+Ne).replace(/[=:]/g,(function(Ne){return et[Ne]}))}(Ne.key):et.toString(36)}function W(Ne,et){Ne.func.call(Ne.context,et,Ne.count++)}function aa(Ne,et,tt){var rt=Ne.result,nt=Ne.keyPrefix;Ne=Ne.func.call(Ne.context,et,Ne.count++),Array.isArray(Ne)?X(Ne,rt,tt,(function(Ne){return Ne})):null!=Ne&&(O(Ne)&&(Ne=function N(Ne,et){return{$$typeof:it,type:Ne.type,key:et,ref:Ne.ref,props:Ne.props,_owner:Ne._owner}}(Ne,nt+(!Ne.key||et&&et.key===Ne.key?"":(""+Ne.key).replace(wr,"$&/")+"/")+tt)),rt.push(Ne))}function X(Ne,et,tt,rt,nt){var it="";null!=tt&&(it=(""+tt).replace(wr,"$&/")+"/"),V(Ne,aa,et=R(et,it,rt,nt)),S(et)}var rn={current:null};function Z(){var Ne=rn.current;if(null===Ne)throw Error(C(321));return Ne}var vn={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:er,IsSomeRendererActing:{current:!1},assign:rt};et.Children={map:function(Ne,et,tt){if(null==Ne)return Ne;var rt=[];return X(Ne,rt,null,et,tt),rt},forEach:function(Ne,et,tt){if(null==Ne)return Ne;V(Ne,W,et=R(null,null,et,tt)),S(et)},count:function(Ne){return V(Ne,(function(){return null}),null)},toArray:function(Ne){var et=[];return X(Ne,et,null,(function(Ne){return Ne})),et},only:function(Ne){if(!O(Ne))throw Error(C(143));return Ne}},et.Component=F,et.Fragment=at,et.Profiler=ct,et.PureComponent=H,et.StrictMode=st,et.Suspense=mt,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vn,et.cloneElement=function(Ne,et,tt){if(null==Ne)throw Error(C(267,Ne));var nt=rt({},Ne.props),ot=Ne.key,at=Ne.ref,st=Ne._owner;if(null!=et){if(void 0!==et.ref&&(at=et.ref,st=er.current),void 0!==et.key&&(ot=""+et.key),Ne.type&&Ne.type.defaultProps)var ct=Ne.type.defaultProps;for(pt in et)rr.call(et,pt)&&!vr.hasOwnProperty(pt)&&(nt[pt]=void 0===et[pt]&&void 0!==ct?ct[pt]:et[pt])}var pt=arguments.length-2;if(1===pt)nt.children=tt;else if(1<pt){ct=Array(pt);for(var ft=0;ft<pt;ft++)ct[ft]=arguments[ft+2];nt.children=ct}return{$$typeof:it,type:Ne.type,key:ot,ref:at,props:nt,_owner:st}},et.createContext=function(Ne,et){return void 0===et&&(et=null),(Ne={$$typeof:ft,_calculateChangedBits:et,_currentValue:Ne,_currentValue2:Ne,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:pt,_context:Ne},Ne.Consumer=Ne},et.createElement=M,et.createFactory=function(Ne){var et=M.bind(null,Ne);return et.type=Ne,et},et.createRef=function(){return{current:null}},et.forwardRef=function(Ne){return{$$typeof:dt,render:Ne}},et.isValidElement=O,et.lazy=function(Ne){return{$$typeof:vt,_ctor:Ne,_status:-1,_result:null}},et.memo=function(Ne,et){return{$$typeof:yt,type:Ne,compare:void 0===et?null:et}},et.useCallback=function(Ne,et){return Z().useCallback(Ne,et)},et.useContext=function(Ne,et){return Z().useContext(Ne,et)},et.useDebugValue=function(){},et.useEffect=function(Ne,et){return Z().useEffect(Ne,et)},et.useImperativeHandle=function(Ne,et,tt){return Z().useImperativeHandle(Ne,et,tt)},et.useLayoutEffect=function(Ne,et){return Z().useLayoutEffect(Ne,et)},et.useMemo=function(Ne,et){return Z().useMemo(Ne,et)},et.useReducer=function(Ne,et,tt){return Z().useReducer(Ne,et,tt)},et.useRef=function(Ne){return Z().useRef(Ne)},et.useState=function(Ne){return Z().useState(Ne)},et.version="16.13.1"},7294:(Ne,et,tt)=>{"use strict";Ne.exports=tt(2408)},7163:function(Ne,et){var tt,rt,nt;rt=[],tt=function s(){"use strict";var Ne="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==Ne?Ne:{},et=!Ne.document&&!!Ne.postMessage,tt=et&&/blob:/i.test((Ne.location||{}).protocol),rt={},nt=0,it={parse:function(et,tt){var ot=(tt=tt||{}).dynamicTyping||!1;if(M(ot)&&(tt.dynamicTypingFunction=ot,ot={}),tt.dynamicTyping=ot,tt.transform=!!M(tt.transform)&&tt.transform,tt.worker&&it.WORKERS_SUPPORTED){var at=function(){if(!it.WORKERS_SUPPORTED)return!1;var et,tt,ot=(et=Ne.URL||Ne.webkitURL||null,tt=s.toString(),it.BLOB_URL||(it.BLOB_URL=et.createObjectURL(new Blob(["(",tt,")();"],{type:"text/javascript"})))),at=new Ne.Worker(ot);return at.onmessage=_,at.id=nt++,rt[at.id]=at}();return at.userStep=tt.step,at.userChunk=tt.chunk,at.userComplete=tt.complete,at.userError=tt.error,tt.step=M(tt.step),tt.chunk=M(tt.chunk),tt.complete=M(tt.complete),tt.error=M(tt.error),delete tt.worker,void at.postMessage({input:et,config:tt,workerId:at.id})}var st=null;return it.NODE_STREAM_INPUT,"string"==typeof et?st=tt.download?new l(tt):new p(tt):!0===et.readable&&M(et.read)&&M(et.on)?st=new g(tt):(Ne.File&&et instanceof File||et instanceof Object)&&(st=new c(tt)),st.stream(et)},unparse:function(Ne,et){var tt=!1,rt=!0,nt=",",ot="\r\n",at='"',st=at+at,ct=!1,pt=null,ft=!1;!function(){if("object"==typeof et){if("string"!=typeof et.delimiter||it.BAD_DELIMITERS.filter((function(Ne){return-1!==et.delimiter.indexOf(Ne)})).length||(nt=et.delimiter),("boolean"==typeof et.quotes||"function"==typeof et.quotes||Array.isArray(et.quotes))&&(tt=et.quotes),"boolean"!=typeof et.skipEmptyLines&&"string"!=typeof et.skipEmptyLines||(ct=et.skipEmptyLines),"string"==typeof et.newline&&(ot=et.newline),"string"==typeof et.quoteChar&&(at=et.quoteChar),"boolean"==typeof et.header&&(rt=et.header),Array.isArray(et.columns)){if(0===et.columns.length)throw new Error("Option columns is empty");pt=et.columns}void 0!==et.escapeChar&&(st=et.escapeChar+at),"boolean"==typeof et.escapeFormulae&&(ft=et.escapeFormulae)}}();var dt=new RegExp(j(at),"g");if("string"==typeof Ne&&(Ne=JSON.parse(Ne)),Array.isArray(Ne)){if(!Ne.length||Array.isArray(Ne[0]))return u(null,Ne,ct);if("object"==typeof Ne[0])return u(pt||Object.keys(Ne[0]),Ne,ct)}else if("object"==typeof Ne)return"string"==typeof Ne.data&&(Ne.data=JSON.parse(Ne.data)),Array.isArray(Ne.data)&&(Ne.fields||(Ne.fields=Ne.meta&&Ne.meta.fields),Ne.fields||(Ne.fields=Array.isArray(Ne.data[0])?Ne.fields:"object"==typeof Ne.data[0]?Object.keys(Ne.data[0]):[]),Array.isArray(Ne.data[0])||"object"==typeof Ne.data[0]||(Ne.data=[Ne.data])),u(Ne.fields||[],Ne.data||[],ct);throw new Error("Unable to serialize unrecognized input");function u(Ne,et,tt){var it="";"string"==typeof Ne&&(Ne=JSON.parse(Ne)),"string"==typeof et&&(et=JSON.parse(et));var at=Array.isArray(Ne)&&0<Ne.length,st=!Array.isArray(et[0]);if(at&&rt){for(var ct=0;ct<Ne.length;ct++)0<ct&&(it+=nt),it+=v(Ne[ct],ct);0<et.length&&(it+=ot)}for(var pt=0;pt<et.length;pt++){var ft=at?Ne.length:et[pt].length,dt=!1,mt=at?0===Object.keys(et[pt]).length:0===et[pt].length;if(tt&&!at&&(dt="greedy"===tt?""===et[pt].join("").trim():1===et[pt].length&&0===et[pt][0].length),"greedy"===tt&&at){for(var yt=[],vt=0;vt<ft;vt++){var Rt=st?Ne[vt]:vt;yt.push(et[pt][Rt])}dt=""===yt.join("").trim()}if(!dt){for(var Dt=0;Dt<ft;Dt++){0<Dt&&!mt&&(it+=nt);var Ot=at&&st?Ne[Dt]:Dt;it+=v(et[pt][Ot],Dt)}pt<et.length-1&&(!tt||0<ft&&!mt)&&(it+=ot)}}return it}function v(Ne,et){if(null==Ne)return"";if(Ne.constructor===Date)return JSON.stringify(Ne).slice(1,25);!0===ft&&"string"==typeof Ne&&null!==Ne.match(/^[=+\-@].*$/)&&(Ne="'"+Ne);var rt=Ne.toString().replace(dt,st),ot="boolean"==typeof tt&&tt||"function"==typeof tt&&tt(Ne,et)||Array.isArray(tt)&&tt[et]||function(Ne,et){for(var tt=0;tt<et.length;tt++)if(-1<Ne.indexOf(et[tt]))return!0;return!1}(rt,it.BAD_DELIMITERS)||-1<rt.indexOf(nt)||" "===rt.charAt(0)||" "===rt.charAt(rt.length-1);return ot?at+rt+at:rt}}};if(it.RECORD_SEP=String.fromCharCode(30),it.UNIT_SEP=String.fromCharCode(31),it.BYTE_ORDER_MARK="\ufeff",it.BAD_DELIMITERS=["\r","\n",'"',it.BYTE_ORDER_MARK],it.WORKERS_SUPPORTED=!et&&!!Ne.Worker,it.NODE_STREAM_INPUT=1,it.LocalChunkSize=10485760,it.RemoteChunkSize=5242880,it.DefaultDelimiter=",",it.Parser=E,it.ParserHandle=i,it.NetworkStreamer=l,it.FileStreamer=c,it.StringStreamer=p,it.ReadableStreamStreamer=g,Ne.jQuery){var ot=Ne.jQuery;ot.fn.parse=function(et){var tt=et.config||{},rt=[];return this.each((function(et){if("INPUT"!==ot(this).prop("tagName").toUpperCase()||"file"!==ot(this).attr("type").toLowerCase()||!Ne.FileReader||!this.files||0===this.files.length)return!0;for(var nt=0;nt<this.files.length;nt++)rt.push({file:this.files[nt],inputElem:this,instanceConfig:ot.extend({},tt)})})),e(),this;function e(){if(0!==rt.length){var Ne,tt,nt,at,st=rt[0];if(M(et.before)){var ct=et.before(st.file,st.inputElem);if("object"==typeof ct){if("abort"===ct.action)return Ne="AbortError",tt=st.file,nt=st.inputElem,at=ct.reason,void(M(et.error)&&et.error({name:Ne},tt,nt,at));if("skip"===ct.action)return void u();"object"==typeof ct.config&&(st.instanceConfig=ot.extend(st.instanceConfig,ct.config))}else if("skip"===ct)return void u()}var pt=st.instanceConfig.complete;st.instanceConfig.complete=function(Ne){M(pt)&&pt(Ne,st.file,st.inputElem),u()},it.parse(st.file,st.instanceConfig)}else M(et.complete)&&et.complete()}function u(){rt.splice(0,1),e()}}}function u(et){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(Ne){var et=w(Ne);et.chunkSize=parseInt(et.chunkSize),Ne.step||Ne.chunk||(et.chunkSize=null),this._handle=new i(et),(this._handle.streamer=this)._config=et}.call(this,et),this.parseChunk=function(et,rt){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var nt=this._config.beforeFirstChunk(et);void 0!==nt&&(et=nt)}this.isFirstChunk=!1,this._halted=!1;var ot=this._partialLine+et;this._partialLine="";var at=this._handle.parse(ot,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var st=at.meta.cursor;this._finished||(this._partialLine=ot.substring(st-this._baseIndex),this._baseIndex=st),at&&at.data&&(this._rowCount+=at.data.length);var ct=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(tt)Ne.postMessage({results:at,workerId:it.WORKER_ID,finished:ct});else if(M(this._config.chunk)&&!rt){if(this._config.chunk(at,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);at=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(at.data),this._completeResults.errors=this._completeResults.errors.concat(at.errors),this._completeResults.meta=at.meta),this._completed||!ct||!M(this._config.complete)||at&&at.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ct||at&&at.meta.paused||this._nextChunk(),at}this._halted=!0},this._sendError=function(et){M(this._config.error)?this._config.error(et):tt&&this._config.error&&Ne.postMessage({workerId:it.WORKER_ID,error:et,finished:!1})}}function l(Ne){var tt;(Ne=Ne||{}).chunkSize||(Ne.chunkSize=it.RemoteChunkSize),u.call(this,Ne),this._nextChunk=et?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Ne){this._input=Ne,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(tt=new XMLHttpRequest,this._config.withCredentials&&(tt.withCredentials=this._config.withCredentials),et||(tt.onload=v(this._chunkLoaded,this),tt.onerror=v(this._chunkError,this)),tt.open(this._config.downloadRequestBody?"POST":"GET",this._input,!et),this._config.downloadRequestHeaders){var Ne=this._config.downloadRequestHeaders;for(var rt in Ne)tt.setRequestHeader(rt,Ne[rt])}if(this._config.chunkSize){var nt=this._start+this._config.chunkSize-1;tt.setRequestHeader("Range","bytes="+this._start+"-"+nt)}try{tt.send(this._config.downloadRequestBody)}catch(Ne){this._chunkError(Ne.message)}et&&0===tt.status&&this._chunkError()}},this._chunkLoaded=function(){4===tt.readyState&&(tt.status<200||400<=tt.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:tt.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(Ne){var et=Ne.getResponseHeader("Content-Range");return null===et?-1:parseInt(et.substring(et.lastIndexOf("/")+1))}(tt),this.parseChunk(tt.responseText)))},this._chunkError=function(Ne){var et=tt.statusText||Ne;this._sendError(new Error(et))}}function c(Ne){var et,tt;(Ne=Ne||{}).chunkSize||(Ne.chunkSize=it.LocalChunkSize),u.call(this,Ne);var rt="undefined"!=typeof FileReader;this.stream=function(Ne){this._input=Ne,tt=Ne.slice||Ne.webkitSlice||Ne.mozSlice,rt?((et=new FileReader).onload=v(this._chunkLoaded,this),et.onerror=v(this._chunkError,this)):et=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Ne=this._input;if(this._config.chunkSize){var nt=Math.min(this._start+this._config.chunkSize,this._input.size);Ne=tt.call(Ne,this._start,nt)}var it=et.readAsText(Ne,this._config.encoding);rt||this._chunkLoaded({target:{result:it}})},this._chunkLoaded=function(Ne){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Ne.target.result)},this._chunkError=function(){this._sendError(et.error)}}function p(Ne){var et;u.call(this,Ne=Ne||{}),this.stream=function(Ne){return et=Ne,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Ne,tt=this._config.chunkSize;return tt?(Ne=et.substring(0,tt),et=et.substring(tt)):(Ne=et,et=""),this._finished=!et,this.parseChunk(Ne)}}}function g(Ne){u.call(this,Ne=Ne||{});var et=[],tt=!0,rt=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Ne){this._input=Ne,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){rt&&1===et.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),et.length?this.parseChunk(et.shift()):tt=!0},this._streamData=v((function(Ne){try{et.push("string"==typeof Ne?Ne:Ne.toString(this._config.encoding)),tt&&(tt=!1,this._checkIsFinished(),this.parseChunk(et.shift()))}catch(Ne){this._streamError(Ne)}}),this),this._streamError=v((function(Ne){this._streamCleanUp(),this._sendError(Ne)}),this),this._streamEnd=v((function(){this._streamCleanUp(),rt=!0,this._streamData("")}),this),this._streamCleanUp=v((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function i(Ne){var et,tt,rt,nt=Math.pow(2,53),ot=-nt,at=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,st=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,ct=this,pt=0,ft=0,dt=!1,mt=!1,yt=[],vt={data:[],errors:[],meta:{}};if(M(Ne.step)){var Rt=Ne.step;Ne.step=function(et){if(vt=et,_())g();else{if(g(),0===vt.data.length)return;pt+=et.data.length,Ne.preview&&pt>Ne.preview?tt.abort():(vt.data=vt.data[0],Rt(vt,ct))}}}function y(et){return"greedy"===Ne.skipEmptyLines?""===et.join("").trim():1===et.length&&0===et[0].length}function g(){if(vt&&rt&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+it.DefaultDelimiter+"'"),rt=!1),Ne.skipEmptyLines)for(var et=0;et<vt.data.length;et++)y(vt.data[et])&&vt.data.splice(et--,1);return _()&&function(){if(vt)if(Array.isArray(vt.data[0])){for(var et=0;_()&&et<vt.data.length;et++)vt.data[et].forEach(e);vt.data.splice(0,1)}else vt.data.forEach(e);function e(et,tt){M(Ne.transformHeader)&&(et=Ne.transformHeader(et,tt)),yt.push(et)}}(),function(){if(!vt||!Ne.header&&!Ne.dynamicTyping&&!Ne.transform)return vt;function e(et,tt){var rt,nt=Ne.header?{}:[];for(rt=0;rt<et.length;rt++){var it=rt,ot=et[rt];Ne.header&&(it=rt>=yt.length?"__parsed_extra":yt[rt]),Ne.transform&&(ot=Ne.transform(ot,it)),ot=v(it,ot),"__parsed_extra"===it?(nt[it]=nt[it]||[],nt[it].push(ot)):nt[it]=ot}return Ne.header&&(rt>yt.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+yt.length+" fields but parsed "+rt,ft+tt):rt<yt.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+yt.length+" fields but parsed "+rt,ft+tt)),nt}var et=1;return!vt.data.length||Array.isArray(vt.data[0])?(vt.data=vt.data.map(e),et=vt.data.length):vt.data=e(vt.data,0),Ne.header&&vt.meta&&(vt.meta.fields=yt),ft+=et,vt}()}function _(){return Ne.header&&0===yt.length}function v(et,tt){return rt=et,Ne.dynamicTypingFunction&&void 0===Ne.dynamicTyping[rt]&&(Ne.dynamicTyping[rt]=Ne.dynamicTypingFunction(rt)),!0===(Ne.dynamicTyping[rt]||Ne.dynamicTyping)?"true"===tt||"TRUE"===tt||"false"!==tt&&"FALSE"!==tt&&(function(Ne){if(at.test(Ne)){var et=parseFloat(Ne);if(ot<et&&et<nt)return!0}return!1}(tt)?parseFloat(tt):st.test(tt)?new Date(tt):""===tt?null:tt):tt;var rt}function k(Ne,et,tt,rt){var nt={type:Ne,code:et,message:tt};void 0!==rt&&(nt.row=rt),vt.errors.push(nt)}this.parse=function(nt,ot,at){var st=Ne.quoteChar||'"';if(Ne.newline||(Ne.newline=function(Ne,et){Ne=Ne.substring(0,1048576);var tt=new RegExp(j(et)+"([^]*?)"+j(et),"gm"),rt=(Ne=Ne.replace(tt,"")).split("\r"),nt=Ne.split("\n"),it=1<nt.length&&nt[0].length<rt[0].length;if(1===rt.length||it)return"\n";for(var ot=0,at=0;at<rt.length;at++)"\n"===rt[at][0]&&ot++;return ot>=rt.length/2?"\r\n":"\r"}(nt,st)),rt=!1,Ne.delimiter)M(Ne.delimiter)&&(Ne.delimiter=Ne.delimiter(nt),vt.meta.delimiter=Ne.delimiter);else{var ct=function(et,tt,rt,nt,ot){var at,st,ct,pt;ot=ot||[",","\t","|",";",it.RECORD_SEP,it.UNIT_SEP];for(var ft=0;ft<ot.length;ft++){var dt=ot[ft],mt=0,yt=0,vt=0;ct=void 0;for(var Rt=new E({comments:nt,delimiter:dt,newline:tt,preview:10}).parse(et),Dt=0;Dt<Rt.data.length;Dt++)if(rt&&y(Rt.data[Dt]))vt++;else{var Ot=Rt.data[Dt].length;yt+=Ot,void 0!==ct?0<Ot&&(mt+=Math.abs(Ot-ct),ct=Ot):ct=Ot}0<Rt.data.length&&(yt/=Rt.data.length-vt),(void 0===st||mt<=st)&&(void 0===pt||pt<yt)&&1.99<yt&&(st=mt,at=dt,pt=yt)}return{successful:!!(Ne.delimiter=at),bestDelimiter:at}}(nt,Ne.newline,Ne.skipEmptyLines,Ne.comments,Ne.delimitersToGuess);ct.successful?Ne.delimiter=ct.bestDelimiter:(rt=!0,Ne.delimiter=it.DefaultDelimiter),vt.meta.delimiter=Ne.delimiter}var pt=w(Ne);return Ne.preview&&Ne.header&&pt.preview++,et=nt,tt=new E(pt),vt=tt.parse(et,ot,at),g(),dt?{meta:{paused:!0}}:vt||{meta:{paused:!1}}},this.paused=function(){return dt},this.pause=function(){dt=!0,tt.abort(),et=M(Ne.chunk)?"":et.substring(tt.getCharIndex())},this.resume=function(){ct.streamer._halted?(dt=!1,ct.streamer.parseChunk(et,!0)):setTimeout(ct.resume,3)},this.aborted=function(){return mt},this.abort=function(){mt=!0,tt.abort(),vt.meta.aborted=!0,M(Ne.complete)&&Ne.complete(vt),et=""}}function j(Ne){return Ne.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(Ne){var et,tt=(Ne=Ne||{}).delimiter,rt=Ne.newline,nt=Ne.comments,ot=Ne.step,at=Ne.preview,st=Ne.fastMode,ct=et=void 0===Ne.quoteChar?'"':Ne.quoteChar;if(void 0!==Ne.escapeChar&&(ct=Ne.escapeChar),("string"!=typeof tt||-1<it.BAD_DELIMITERS.indexOf(tt))&&(tt=","),nt===tt)throw new Error("Comment character same as delimiter");!0===nt?nt="#":("string"!=typeof nt||-1<it.BAD_DELIMITERS.indexOf(nt))&&(nt=!1),"\n"!==rt&&"\r"!==rt&&"\r\n"!==rt&&(rt="\n");var pt=0,ft=!1;this.parse=function(Ne,it,dt){if("string"!=typeof Ne)throw new Error("Input must be a string");var mt=Ne.length,yt=tt.length,vt=rt.length,Rt=nt.length,Dt=M(ot),Ot=[],Bt=[],er=[],rr=pt=0;if(!Ne)return C();if(st||!1!==st&&-1===Ne.indexOf(et)){for(var vr=Ne.split(rt),wr=0;wr<vr.length;wr++){if(er=vr[wr],pt+=er.length,wr!==vr.length-1)pt+=rt.length;else if(dt)return C();if(!nt||er.substring(0,Rt)!==nt){if(Dt){if(Ot=[],k(er.split(tt)),R(),ft)return C()}else k(er.split(tt));if(at&&at<=wr)return Ot=Ot.slice(0,at),C(!0)}}return C()}for(var Sr=Ne.indexOf(tt,pt),rn=Ne.indexOf(rt,pt),vn=new RegExp(j(ct)+j(et),"g"),bn=Ne.indexOf(et,pt);;)if(Ne[pt]!==et)if(nt&&0===er.length&&Ne.substring(pt,pt+Rt)===nt){if(-1===rn)return C();pt=rn+vt,rn=Ne.indexOf(rt,pt),Sr=Ne.indexOf(tt,pt)}else if(-1!==Sr&&(Sr<rn||-1===rn))er.push(Ne.substring(pt,Sr)),pt=Sr+yt,Sr=Ne.indexOf(tt,pt);else{if(-1===rn)break;if(er.push(Ne.substring(pt,rn)),w(rn+vt),Dt&&(R(),ft))return C();if(at&&Ot.length>=at)return C(!0)}else for(bn=pt,pt++;;){if(-1===(bn=Ne.indexOf(et,bn+1)))return dt||Bt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ot.length,index:pt}),E();if(bn===mt-1)return E(Ne.substring(pt,bn).replace(vn,et));if(et!==ct||Ne[bn+1]!==ct){if(et===ct||0===bn||Ne[bn-1]!==ct){-1!==Sr&&Sr<bn+1&&(Sr=Ne.indexOf(tt,bn+1)),-1!==rn&&rn<bn+1&&(rn=Ne.indexOf(rt,bn+1));var Tn=b(-1===rn?Sr:Math.min(Sr,rn));if(Ne[bn+1+Tn]===tt){er.push(Ne.substring(pt,bn).replace(vn,et)),Ne[pt=bn+1+Tn+yt]!==et&&(bn=Ne.indexOf(et,pt)),Sr=Ne.indexOf(tt,pt),rn=Ne.indexOf(rt,pt);break}var Cn=b(rn);if(Ne.substring(bn+1+Cn,bn+1+Cn+vt)===rt){if(er.push(Ne.substring(pt,bn).replace(vn,et)),w(bn+1+Cn+vt),Sr=Ne.indexOf(tt,pt),bn=Ne.indexOf(et,pt),Dt&&(R(),ft))return C();if(at&&Ot.length>=at)return C(!0);break}Bt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ot.length,index:pt}),bn++}}else bn++}return E();function k(Ne){Ot.push(Ne),rr=pt}function b(et){var tt=0;if(-1!==et){var rt=Ne.substring(bn+1,et);rt&&""===rt.trim()&&(tt=rt.length)}return tt}function E(et){return dt||(void 0===et&&(et=Ne.substring(pt)),er.push(et),pt=mt,k(er),Dt&&R()),C()}function w(et){pt=et,k(er),er=[],rn=Ne.indexOf(rt,pt)}function C(Ne){return{data:Ot,errors:Bt,meta:{delimiter:tt,linebreak:rt,aborted:ft,truncated:!!Ne,cursor:rr+(it||0)}}}function R(){ot(C()),Ot=[],Bt=[]}},this.abort=function(){ft=!0},this.getCharIndex=function(){return pt}}function _(Ne){var et=Ne.data,tt=rt[et.workerId],nt=!1;if(et.error)tt.userError(et.error,et.file);else if(et.results&&et.results.data){var it={abort:function(){nt=!0,m(et.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(M(tt.userStep)){for(var ot=0;ot<et.results.data.length&&(tt.userStep({data:et.results.data[ot],errors:et.results.errors,meta:et.results.meta},it),!nt);ot++);delete et.results}else M(tt.userChunk)&&(tt.userChunk(et.results,it,et.file),delete et.results)}et.finished&&!nt&&m(et.workerId,et.results)}function m(Ne,et){var tt=rt[Ne];M(tt.userComplete)&&tt.userComplete(et),tt.terminate(),delete rt[Ne]}function y(){throw new Error("Not implemented.")}function w(Ne){if("object"!=typeof Ne||null===Ne)return Ne;var et=Array.isArray(Ne)?[]:{};for(var tt in Ne)et[tt]=w(Ne[tt]);return et}function v(Ne,et){return function(){Ne.apply(et,arguments)}}function M(Ne){return"function"==typeof Ne}return tt&&(Ne.onmessage=function(et){var tt=et.data;if(void 0===it.WORKER_ID&&tt&&(it.WORKER_ID=tt.workerId),"string"==typeof tt.input)Ne.postMessage({workerId:it.WORKER_ID,results:it.parse(tt.input,tt.config),finished:!0});else if(Ne.File&&tt.input instanceof File||tt.input instanceof Object){var rt=it.parse(tt.input,tt.config);rt&&Ne.postMessage({workerId:it.WORKER_ID,results:rt,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,it},void 0===(nt="function"==typeof tt?tt.apply(et,rt):tt)||(Ne.exports=nt)},53:(Ne,et)=>{"use strict";var tt,rt,nt,it,ot;if("undefined"==typeof window||"function"!=typeof MessageChannel){var at=null,st=null,t=function(){if(null!==at)try{var Ne=et.unstable_now();at(!0,Ne),at=null}catch(Ne){throw setTimeout(t,0),Ne}},ct=Date.now();et.unstable_now=function(){return Date.now()-ct},tt=function(Ne){null!==at?setTimeout(tt,0,Ne):(at=Ne,setTimeout(t,0))},rt=function(Ne,et){st=setTimeout(Ne,et)},nt=function(){clearTimeout(st)},it=function(){return!1},ot=et.unstable_forceFrameRate=function(){}}else{var pt=window.performance,ft=window.Date,dt=window.setTimeout,mt=window.clearTimeout;if("undefined"!=typeof console){var yt=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof yt&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof pt&&"function"==typeof pt.now)et.unstable_now=function(){return pt.now()};else{var vt=ft.now();et.unstable_now=function(){return ft.now()-vt}}var Rt=!1,Dt=null,Ot=-1,Bt=5,er=0;it=function(){return et.unstable_now()>=er},ot=function(){},et.unstable_forceFrameRate=function(Ne){0>Ne||125<Ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):Bt=0<Ne?Math.floor(1e3/Ne):5};var rr=new MessageChannel,vr=rr.port2;rr.port1.onmessage=function(){if(null!==Dt){var Ne=et.unstable_now();er=Ne+Bt;try{Dt(!0,Ne)?vr.postMessage(null):(Rt=!1,Dt=null)}catch(Ne){throw vr.postMessage(null),Ne}}else Rt=!1},tt=function(Ne){Dt=Ne,Rt||(Rt=!0,vr.postMessage(null))},rt=function(Ne,tt){Ot=dt((function(){Ne(et.unstable_now())}),tt)},nt=function(){mt(Ot),Ot=-1}}function J(Ne,et){var tt=Ne.length;Ne.push(et);e:for(;;){var rt=tt-1>>>1,nt=Ne[rt];if(!(void 0!==nt&&0<K(nt,et)))break e;Ne[rt]=et,Ne[tt]=nt,tt=rt}}function L(Ne){return void 0===(Ne=Ne[0])?null:Ne}function M(Ne){var et=Ne[0];if(void 0!==et){var tt=Ne.pop();if(tt!==et){Ne[0]=tt;e:for(var rt=0,nt=Ne.length;rt<nt;){var it=2*(rt+1)-1,ot=Ne[it],at=it+1,st=Ne[at];if(void 0!==ot&&0>K(ot,tt))void 0!==st&&0>K(st,ot)?(Ne[rt]=st,Ne[at]=tt,rt=at):(Ne[rt]=ot,Ne[it]=tt,rt=it);else{if(!(void 0!==st&&0>K(st,tt)))break e;Ne[rt]=st,Ne[at]=tt,rt=at}}}return et}return null}function K(Ne,et){var tt=Ne.sortIndex-et.sortIndex;return 0!==tt?tt:Ne.id-et.id}var wr=[],Sr=[],rn=1,vn=null,bn=3,Tn=!1,Cn=!1,In=!1;function V(Ne){for(var et=L(Sr);null!==et;){if(null===et.callback)M(Sr);else{if(!(et.startTime<=Ne))break;M(Sr),et.sortIndex=et.expirationTime,J(wr,et)}et=L(Sr)}}function W(Ne){if(In=!1,V(Ne),!Cn)if(null!==L(wr))Cn=!0,tt(X);else{var et=L(Sr);null!==et&&rt(W,et.startTime-Ne)}}function X(Ne,tt){Cn=!1,In&&(In=!1,nt()),Tn=!0;var ot=bn;try{for(V(tt),vn=L(wr);null!==vn&&(!(vn.expirationTime>tt)||Ne&&!it());){var at=vn.callback;if(null!==at){vn.callback=null,bn=vn.priorityLevel;var st=at(vn.expirationTime<=tt);tt=et.unstable_now(),"function"==typeof st?vn.callback=st:vn===L(wr)&&M(wr),V(tt)}else M(wr);vn=L(wr)}if(null!==vn)var ct=!0;else{var pt=L(Sr);null!==pt&&rt(W,pt.startTime-tt),ct=!1}return ct}finally{vn=null,bn=ot,Tn=!1}}function Y(Ne){switch(Ne){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Mn=ot;et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Ne){Ne.callback=null},et.unstable_continueExecution=function(){Cn||Tn||(Cn=!0,tt(X))},et.unstable_getCurrentPriorityLevel=function(){return bn},et.unstable_getFirstCallbackNode=function(){return L(wr)},et.unstable_next=function(Ne){switch(bn){case 1:case 2:case 3:var et=3;break;default:et=bn}var tt=bn;bn=et;try{return Ne()}finally{bn=tt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=Mn,et.unstable_runWithPriority=function(Ne,et){switch(Ne){case 1:case 2:case 3:case 4:case 5:break;default:Ne=3}var tt=bn;bn=Ne;try{return et()}finally{bn=tt}},et.unstable_scheduleCallback=function(Ne,it,ot){var at=et.unstable_now();if("object"==typeof ot&&null!==ot){var st=ot.delay;st="number"==typeof st&&0<st?at+st:at,ot="number"==typeof ot.timeout?ot.timeout:Y(Ne)}else ot=Y(Ne),st=at;return Ne={id:rn++,callback:it,priorityLevel:Ne,startTime:st,expirationTime:ot=st+ot,sortIndex:-1},st>at?(Ne.sortIndex=st,J(Sr,Ne),null===L(wr)&&Ne===L(Sr)&&(In?nt():In=!0,rt(W,st-at))):(Ne.sortIndex=ot,J(wr,Ne),Cn||Tn||(Cn=!0,tt(X))),Ne},et.unstable_shouldYield=function(){var Ne=et.unstable_now();V(Ne);var tt=L(wr);return tt!==vn&&null!==vn&&null!==tt&&null!==tt.callback&&tt.startTime<=Ne&&tt.expirationTime<vn.expirationTime||it()},et.unstable_wrapCallback=function(Ne){var et=bn;return function(){var tt=bn;bn=et;try{return Ne.apply(this,arguments)}finally{bn=tt}}}},3840:(Ne,et,tt)=>{"use strict";Ne.exports=tt(53)},3379:Ne=>{"use strict";var et=[];function getIndexByIdentifier(Ne){for(var tt=-1,rt=0;rt<et.length;rt++)if(et[rt].identifier===Ne){tt=rt;break}return tt}function modulesToDom(Ne,tt){for(var rt={},nt=[],it=0;it<Ne.length;it++){var ot=Ne[it],at=tt.base?ot[0]+tt.base:ot[0],st=rt[at]||0,ct="".concat(at," ").concat(st);rt[at]=st+1;var pt=getIndexByIdentifier(ct),ft={css:ot[1],media:ot[2],sourceMap:ot[3],supports:ot[4],layer:ot[5]};if(-1!==pt)et[pt].references++,et[pt].updater(ft);else{var dt=addElementStyle(ft,tt);tt.byIndex=it,et.splice(it,0,{identifier:ct,updater:dt,references:1})}nt.push(ct)}return nt}function addElementStyle(Ne,et){var tt=et.domAPI(et);tt.update(Ne);return function updater(et){if(et){if(et.css===Ne.css&&et.media===Ne.media&&et.sourceMap===Ne.sourceMap&&et.supports===Ne.supports&&et.layer===Ne.layer)return;tt.update(Ne=et)}else tt.remove()}}Ne.exports=function(Ne,tt){var rt=modulesToDom(Ne=Ne||[],tt=tt||{});return function update(Ne){Ne=Ne||[];for(var nt=0;nt<rt.length;nt++){var it=getIndexByIdentifier(rt[nt]);et[it].references--}for(var ot=modulesToDom(Ne,tt),at=0;at<rt.length;at++){var st=getIndexByIdentifier(rt[at]);0===et[st].references&&(et[st].updater(),et.splice(st,1))}rt=ot}}},569:Ne=>{"use strict";var et={};Ne.exports=function insertBySelector(Ne,tt){var rt=function getTarget(Ne){if(void 0===et[Ne]){var tt=document.querySelector(Ne);if(window.HTMLIFrameElement&&tt instanceof window.HTMLIFrameElement)try{tt=tt.contentDocument.head}catch(Ne){tt=null}et[Ne]=tt}return et[Ne]}(Ne);if(!rt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");rt.appendChild(tt)}},9216:Ne=>{"use strict";Ne.exports=function insertStyleElement(Ne){var et=document.createElement("style");return Ne.setAttributes(et,Ne.attributes),Ne.insert(et,Ne.options),et}},3565:(Ne,et,tt)=>{"use strict";Ne.exports=function setAttributesWithoutAttributes(Ne){var et=tt.nc;et&&Ne.setAttribute("nonce",et)}},7795:Ne=>{"use strict";Ne.exports=function domAPI(Ne){var et=Ne.insertStyleElement(Ne);return{update:function update(tt){!function apply(Ne,et,tt){var rt="";tt.supports&&(rt+="@supports (".concat(tt.supports,") {")),tt.media&&(rt+="@media ".concat(tt.media," {"));var nt=void 0!==tt.layer;nt&&(rt+="@layer".concat(tt.layer.length>0?" ".concat(tt.layer):""," {")),rt+=tt.css,nt&&(rt+="}"),tt.media&&(rt+="}"),tt.supports&&(rt+="}");var it=tt.sourceMap;it&&"undefined"!=typeof btoa&&(rt+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(it))))," */")),et.styleTagTransform(rt,Ne,et.options)}(et,Ne,tt)},remove:function remove(){!function removeStyleElement(Ne){if(null===Ne.parentNode)return!1;Ne.parentNode.removeChild(Ne)}(et)}}}},4589:Ne=>{"use strict";Ne.exports=function styleTagTransform(Ne,et){if(et.styleSheet)et.styleSheet.cssText=Ne;else{for(;et.firstChild;)et.removeChild(et.firstChild);et.appendChild(document.createTextNode(Ne))}}},3514:Ne=>{Ne.exports="# About\n## Project overview\n\n#### Authors: Ryan Liang, Yuezi Wu, Hasan Siddiqui\n\n\nThe project for Cloud Computing and Big Data course (Fall 2021) is motivated by the need to relay the data products to QSEL partners in Sub Saharan Africa. \n\nDemo for MVP:\nFront end for platform\nThe map tab allows users to view interactive open street map similar to Google Maps\nSome imagery products like EVI (Enhanced Vegetation Index) and other products can be layered on top of base maps (this feature is not avialable on Google Maps which do not allow uploading of custom products and hence making this project unique)\n\nWork in progress:\nAuthentication/Login page\nUsers can process imagery to create maps such as EVI and land cover classifications by searching for coordinates and highest resolution free imagery available ie. Sentinel 2 at 10m resolution.\nThe development team should be able to push local development to a Git repository linked to the user interface and introduce new products\nThe outputs of the tasks would be stored in a data bucket"},907:(Ne,et,tt)=>{"use strict";function _arrayLikeToArray(Ne,et){(null==et||et>Ne.length)&&(et=Ne.length);for(var tt=0,rt=new Array(et);tt<et;tt++)rt[tt]=Ne[tt];return rt}tt.d(et,{Z:()=>_arrayLikeToArray})},7326:(Ne,et,tt)=>{"use strict";function _assertThisInitialized(Ne){if(void 0===Ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ne}tt.d(et,{Z:()=>_assertThisInitialized})},4942:(Ne,et,tt)=>{"use strict";function _defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}tt.d(et,{Z:()=>_defineProperty})},7462:(Ne,et,tt)=>{"use strict";function _extends(){return _extends=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(Ne[rt]=tt[rt])}return Ne},_extends.apply(this,arguments)}tt.d(et,{Z:()=>_extends})},1721:(Ne,et,tt)=>{"use strict";function _setPrototypeOf(Ne,et){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(Ne,et){return Ne.__proto__=et,Ne},_setPrototypeOf(Ne,et)}function _inheritsLoose(Ne,et){Ne.prototype=Object.create(et.prototype),Ne.prototype.constructor=Ne,_setPrototypeOf(Ne,et)}tt.d(et,{Z:()=>_inheritsLoose})},5987:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>_objectWithoutProperties});var rt=tt(5245);function _objectWithoutProperties(Ne,et){if(null==Ne)return{};var tt,nt,it=(0,rt.Z)(Ne,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(Ne);for(nt=0;nt<ot.length;nt++)tt=ot[nt],et.indexOf(tt)>=0||Object.prototype.propertyIsEnumerable.call(Ne,tt)&&(it[tt]=Ne[tt])}return it}},5245:(Ne,et,tt)=>{"use strict";function _objectWithoutPropertiesLoose(Ne,et){if(null==Ne)return{};var tt,rt,nt={},it=Object.keys(Ne);for(rt=0;rt<it.length;rt++)tt=it[rt],et.indexOf(tt)>=0||(nt[tt]=Ne[tt]);return nt}tt.d(et,{Z:()=>_objectWithoutPropertiesLoose})},885:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>_slicedToArray});var rt=tt(181);function _slicedToArray(Ne,et){return function _arrayWithHoles(Ne){if(Array.isArray(Ne))return Ne}(Ne)||function _iterableToArrayLimit(Ne,et){var tt=null==Ne?null:"undefined"!=typeof Symbol&&Ne[Symbol.iterator]||Ne["@@iterator"];if(null!=tt){var rt,nt,it=[],ot=!0,at=!1;try{for(tt=tt.call(Ne);!(ot=(rt=tt.next()).done)&&(it.push(rt.value),!et||it.length!==et);ot=!0);}catch(Ne){at=!0,nt=Ne}finally{try{ot||null==tt.return||tt.return()}finally{if(at)throw nt}}return it}}(Ne,et)||(0,rt.Z)(Ne,et)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>_toConsumableArray});var rt=tt(907);var nt=tt(181);function _toConsumableArray(Ne){return function _arrayWithoutHoles(Ne){if(Array.isArray(Ne))return(0,rt.Z)(Ne)}(Ne)||function _iterableToArray(Ne){if("undefined"!=typeof Symbol&&null!=Ne[Symbol.iterator]||null!=Ne["@@iterator"])return Array.from(Ne)}(Ne)||(0,nt.Z)(Ne)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:(Ne,et,tt)=>{"use strict";function _typeof(Ne){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(Ne){return typeof Ne}:function _typeof(Ne){return Ne&&"function"==typeof Symbol&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},_typeof(Ne)}tt.d(et,{Z:()=>_typeof})},181:(Ne,et,tt)=>{"use strict";tt.d(et,{Z:()=>_unsupportedIterableToArray});var rt=tt(907);function _unsupportedIterableToArray(Ne,et){if(Ne){if("string"==typeof Ne)return(0,rt.Z)(Ne,et);var tt=Object.prototype.toString.call(Ne).slice(8,-1);return"Object"===tt&&Ne.constructor&&(tt=Ne.constructor.name),"Map"===tt||"Set"===tt?Array.from(Ne):"Arguments"===tt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt)?(0,rt.Z)(Ne,et):void 0}}}},it={};function __webpack_require__(Ne){var et=it[Ne];if(void 0!==et)return et.exports;var tt=it[Ne]={id:Ne,exports:{}};return nt[Ne].call(tt.exports,tt,tt.exports,__webpack_require__),tt.exports}__webpack_require__.m=nt,__webpack_require__.n=Ne=>{var et=Ne&&Ne.__esModule?()=>Ne.default:()=>Ne;return __webpack_require__.d(et,{a:et}),et},et=Object.getPrototypeOf?Ne=>Object.getPrototypeOf(Ne):Ne=>Ne.__proto__,__webpack_require__.t=function(tt,rt){if(1&rt&&(tt=this(tt)),8&rt)return tt;if("object"==typeof tt&&tt){if(4&rt&&tt.__esModule)return tt;if(16&rt&&"function"==typeof tt.then)return tt}var nt=Object.create(null);__webpack_require__.r(nt);var it={};Ne=Ne||[null,et({}),et([]),et(et)];for(var ot=2&rt&&tt;"object"==typeof ot&&!~Ne.indexOf(ot);ot=et(ot))Object.getOwnPropertyNames(ot).forEach((Ne=>it[Ne]=()=>tt[Ne]));return it.default=()=>tt,__webpack_require__.d(nt,it),nt},__webpack_require__.d=(Ne,et)=>{for(var tt in et)__webpack_require__.o(et,tt)&&!__webpack_require__.o(Ne,tt)&&Object.defineProperty(Ne,tt,{enumerable:!0,get:et[tt]})},__webpack_require__.f={},__webpack_require__.e=Ne=>Promise.all(Object.keys(__webpack_require__.f).reduce(((et,tt)=>(__webpack_require__.f[tt](Ne,et),et)),[])),__webpack_require__.u=Ne=>Ne+".js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Ne){if("object"==typeof window)return window}}(),__webpack_require__.o=(Ne,et)=>Object.prototype.hasOwnProperty.call(Ne,et),tt={},rt="geolocation6998:",__webpack_require__.l=(Ne,et,nt,it)=>{if(tt[Ne])tt[Ne].push(et);else{var ot,at;if(void 0!==nt)for(var st=document.getElementsByTagName("script"),ct=0;ct<st.length;ct++){var pt=st[ct];if(pt.getAttribute("src")==Ne||pt.getAttribute("data-webpack")==rt+nt){ot=pt;break}}ot||(at=!0,(ot=document.createElement("script")).charset="utf-8",ot.timeout=120,__webpack_require__.nc&&ot.setAttribute("nonce",__webpack_require__.nc),ot.setAttribute("data-webpack",rt+nt),ot.src=Ne),tt[Ne]=[et];var onScriptComplete=(et,rt)=>{ot.onerror=ot.onload=null,clearTimeout(ft);var nt=tt[Ne];if(delete tt[Ne],ot.parentNode&&ot.parentNode.removeChild(ot),nt&&nt.forEach((Ne=>Ne(rt))),et)return et(rt)},ft=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:ot}),12e4);ot.onerror=onScriptComplete.bind(null,ot.onerror),ot.onload=onScriptComplete.bind(null,ot.onload),at&&document.head.appendChild(ot)}},__webpack_require__.r=Ne=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Ne,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ne,"__esModule",{value:!0})},(()=>{var Ne;__webpack_require__.g.importScripts&&(Ne=__webpack_require__.g.location+"");var et=__webpack_require__.g.document;if(!Ne&&et&&(et.currentScript&&(Ne=et.currentScript.src),!Ne)){var tt=et.getElementsByTagName("script");tt.length&&(Ne=tt[tt.length-1].src)}if(!Ne)throw new Error("Automatic publicPath is not supported in this browser");Ne=Ne.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=Ne})(),(()=>{var Ne={179:0};__webpack_require__.f.j=(et,tt)=>{var rt=__webpack_require__.o(Ne,et)?Ne[et]:void 0;if(0!==rt)if(rt)tt.push(rt[2]);else{var nt=new Promise(((tt,nt)=>rt=Ne[et]=[tt,nt]));tt.push(rt[2]=nt);var it=__webpack_require__.p+__webpack_require__.u(et),ot=new Error;__webpack_require__.l(it,(tt=>{if(__webpack_require__.o(Ne,et)&&(0!==(rt=Ne[et])&&(Ne[et]=void 0),rt)){var nt=tt&&("load"===tt.type?"missing":tt.type),it=tt&&tt.target&&tt.target.src;ot.message="Loading chunk "+et+" failed.\n("+nt+": "+it+")",ot.name="ChunkLoadError",ot.type=nt,ot.request=it,rt[1](ot)}}),"chunk-"+et,et)}};var webpackJsonpCallback=(et,tt)=>{var rt,nt,[it,ot,at]=tt,st=0;if(it.some((et=>0!==Ne[et]))){for(rt in ot)__webpack_require__.o(ot,rt)&&(__webpack_require__.m[rt]=ot[rt]);if(at)at(__webpack_require__)}for(et&&et(tt);st<it.length;st++)nt=it[st],__webpack_require__.o(Ne,nt)&&Ne[nt]&&Ne[nt][0](),Ne[it[st]]=0},et=self.webpackChunkgeolocation6998=self.webpackChunkgeolocation6998||[];et.forEach(webpackJsonpCallback.bind(null,0)),et.push=webpackJsonpCallback.bind(null,et.push.bind(et))})(),(()=>{"use strict";var Ne=__webpack_require__(7294),et=__webpack_require__(3935),tt=__webpack_require__(1721),rt=__webpack_require__(5697),nt=__webpack_require__.n(rt),it=__webpack_require__(7462);function isAbsolute(Ne){return"/"===Ne.charAt(0)}function spliceOne(Ne,et){for(var tt=et,rt=tt+1,nt=Ne.length;rt<nt;tt+=1,rt+=1)Ne[tt]=Ne[rt];Ne.pop()}const ot=function resolvePathname(Ne,et){void 0===et&&(et="");var tt,rt=Ne&&Ne.split("/")||[],nt=et&&et.split("/")||[],it=Ne&&isAbsolute(Ne),ot=et&&isAbsolute(et),at=it||ot;if(Ne&&isAbsolute(Ne)?nt=rt:rt.length&&(nt.pop(),nt=nt.concat(rt)),!nt.length)return"/";if(nt.length){var st=nt[nt.length-1];tt="."===st||".."===st||""===st}else tt=!1;for(var ct=0,pt=nt.length;pt>=0;pt--){var ft=nt[pt];"."===ft?spliceOne(nt,pt):".."===ft?(spliceOne(nt,pt),ct++):ct&&(spliceOne(nt,pt),ct--)}if(!at)for(;ct--;ct)nt.unshift("..");!at||""===nt[0]||nt[0]&&isAbsolute(nt[0])||nt.unshift("");var dt=nt.join("/");return tt&&"/"!==dt.substr(-1)&&(dt+="/"),dt};var at="Invariant failed";const st=function tiny_invariant_esm_invariant(Ne,et){if(!Ne)throw new Error(at)};function addLeadingSlash(Ne){return"/"===Ne.charAt(0)?Ne:"/"+Ne}function stripLeadingSlash(Ne){return"/"===Ne.charAt(0)?Ne.substr(1):Ne}function stripBasename(Ne,et){return function hasBasename(Ne,et){return 0===Ne.toLowerCase().indexOf(et.toLowerCase())&&-1!=="/?#".indexOf(Ne.charAt(et.length))}(Ne,et)?Ne.substr(et.length):Ne}function stripTrailingSlash(Ne){return"/"===Ne.charAt(Ne.length-1)?Ne.slice(0,-1):Ne}function createPath(Ne){var et=Ne.pathname,tt=Ne.search,rt=Ne.hash,nt=et||"/";return tt&&"?"!==tt&&(nt+="?"===tt.charAt(0)?tt:"?"+tt),rt&&"#"!==rt&&(nt+="#"===rt.charAt(0)?rt:"#"+rt),nt}function history_createLocation(Ne,et,tt,rt){var nt;"string"==typeof Ne?(nt=function parsePath(Ne){var et=Ne||"/",tt="",rt="",nt=et.indexOf("#");-1!==nt&&(rt=et.substr(nt),et=et.substr(0,nt));var it=et.indexOf("?");return-1!==it&&(tt=et.substr(it),et=et.substr(0,it)),{pathname:et,search:"?"===tt?"":tt,hash:"#"===rt?"":rt}}(Ne),nt.state=et):(void 0===(nt=(0,it.Z)({},Ne)).pathname&&(nt.pathname=""),nt.search?"?"!==nt.search.charAt(0)&&(nt.search="?"+nt.search):nt.search="",nt.hash?"#"!==nt.hash.charAt(0)&&(nt.hash="#"+nt.hash):nt.hash="",void 0!==et&&void 0===nt.state&&(nt.state=et));try{nt.pathname=decodeURI(nt.pathname)}catch(Ne){throw Ne instanceof URIError?new URIError('Pathname "'+nt.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):Ne}return tt&&(nt.key=tt),rt?nt.pathname?"/"!==nt.pathname.charAt(0)&&(nt.pathname=ot(nt.pathname,rt.pathname)):nt.pathname=rt.pathname:nt.pathname||(nt.pathname="/"),nt}function createTransitionManager(){var Ne=null;var et=[];return{setPrompt:function setPrompt(et){return Ne=et,function(){Ne===et&&(Ne=null)}},confirmTransitionTo:function confirmTransitionTo(et,tt,rt,nt){if(null!=Ne){var it="function"==typeof Ne?Ne(et,tt):Ne;"string"==typeof it?"function"==typeof rt?rt(it,nt):nt(!0):nt(!1!==it)}else nt(!0)},appendListener:function appendListener(Ne){var tt=!0;function listener(){tt&&Ne.apply(void 0,arguments)}return et.push(listener),function(){tt=!1,et=et.filter((function(Ne){return Ne!==listener}))}},notifyListeners:function notifyListeners(){for(var Ne=arguments.length,tt=new Array(Ne),rt=0;rt<Ne;rt++)tt[rt]=arguments[rt];et.forEach((function(Ne){return Ne.apply(void 0,tt)}))}}}var ct=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(Ne,et){et(window.confirm(Ne))}var pt="popstate",ft="hashchange";function getHistoryState(){try{return window.history.state||{}}catch(Ne){return{}}}function createBrowserHistory(Ne){void 0===Ne&&(Ne={}),ct||st(!1);var et=window.history,tt=function supportsHistory(){var Ne=window.navigator.userAgent;return(-1===Ne.indexOf("Android 2.")&&-1===Ne.indexOf("Android 4.0")||-1===Ne.indexOf("Mobile Safari")||-1!==Ne.indexOf("Chrome")||-1!==Ne.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),rt=!function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}(),nt=Ne,ot=nt.forceRefresh,at=void 0!==ot&&ot,dt=nt.getUserConfirmation,mt=void 0===dt?getConfirmation:dt,yt=nt.keyLength,vt=void 0===yt?6:yt,Rt=Ne.basename?stripTrailingSlash(addLeadingSlash(Ne.basename)):"";function getDOMLocation(Ne){var et=Ne||{},tt=et.key,rt=et.state,nt=window.location,it=nt.pathname+nt.search+nt.hash;return Rt&&(it=stripBasename(it,Rt)),history_createLocation(it,rt,tt)}function createKey(){return Math.random().toString(36).substr(2,vt)}var Dt=createTransitionManager();function setState(Ne){(0,it.Z)(wr,Ne),wr.length=et.length,Dt.notifyListeners(wr.location,wr.action)}function handlePopState(Ne){(function isExtraneousPopstateEvent(Ne){return void 0===Ne.state&&-1===navigator.userAgent.indexOf("CriOS")})(Ne)||handlePop(getDOMLocation(Ne.state))}function handleHashChange(){handlePop(getDOMLocation(getHistoryState()))}var Ot=!1;function handlePop(Ne){if(Ot)Ot=!1,setState();else{Dt.confirmTransitionTo(Ne,"POP",mt,(function(et){et?setState({action:"POP",location:Ne}):function revertPop(Ne){var et=wr.location,tt=er.indexOf(et.key);-1===tt&&(tt=0);var rt=er.indexOf(Ne.key);-1===rt&&(rt=0);var nt=tt-rt;nt&&(Ot=!0,go(nt))}(Ne)}))}}var Bt=getDOMLocation(getHistoryState()),er=[Bt.key];function createHref(Ne){return Rt+createPath(Ne)}function go(Ne){et.go(Ne)}var rr=0;function checkDOMListeners(Ne){1===(rr+=Ne)&&1===Ne?(window.addEventListener(pt,handlePopState),rt&&window.addEventListener(ft,handleHashChange)):0===rr&&(window.removeEventListener(pt,handlePopState),rt&&window.removeEventListener(ft,handleHashChange))}var vr=!1;var wr={length:et.length,action:"POP",location:Bt,createHref,push:function push(Ne,rt){var nt="PUSH",it=history_createLocation(Ne,rt,createKey(),wr.location);Dt.confirmTransitionTo(it,nt,mt,(function(Ne){if(Ne){var rt=createHref(it),ot=it.key,st=it.state;if(tt)if(et.pushState({key:ot,state:st},null,rt),at)window.location.href=rt;else{var ct=er.indexOf(wr.location.key),pt=er.slice(0,ct+1);pt.push(it.key),er=pt,setState({action:nt,location:it})}else window.location.href=rt}}))},replace:function replace(Ne,rt){var nt="REPLACE",it=history_createLocation(Ne,rt,createKey(),wr.location);Dt.confirmTransitionTo(it,nt,mt,(function(Ne){if(Ne){var rt=createHref(it),ot=it.key,st=it.state;if(tt)if(et.replaceState({key:ot,state:st},null,rt),at)window.location.replace(rt);else{var ct=er.indexOf(wr.location.key);-1!==ct&&(er[ct]=it.key),setState({action:nt,location:it})}else window.location.replace(rt)}}))},go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(Ne){void 0===Ne&&(Ne=!1);var et=Dt.setPrompt(Ne);return vr||(checkDOMListeners(1),vr=!0),function(){return vr&&(vr=!1,checkDOMListeners(-1)),et()}},listen:function listen(Ne){var et=Dt.appendListener(Ne);return checkDOMListeners(1),function(){checkDOMListeners(-1),et()}}};return wr}var dt="hashchange",mt={hashbang:{encodePath:function encodePath(Ne){return"!"===Ne.charAt(0)?Ne:"!/"+stripLeadingSlash(Ne)},decodePath:function decodePath(Ne){return"!"===Ne.charAt(0)?Ne.substr(1):Ne}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function stripHash(Ne){var et=Ne.indexOf("#");return-1===et?Ne:Ne.slice(0,et)}function getHashPath(){var Ne=window.location.href,et=Ne.indexOf("#");return-1===et?"":Ne.substring(et+1)}function replaceHashPath(Ne){window.location.replace(stripHash(window.location.href)+"#"+Ne)}function createHashHistory(Ne){void 0===Ne&&{},ct||st(!1);var et=window.history,tt=(function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}(),Ne),rt=tt.getUserConfirmation,nt=void 0===rt?getConfirmation:rt,ot=tt.hashType,at=void 0===ot?"slash":ot,pt=Ne.basename?stripTrailingSlash(addLeadingSlash(Ne.basename)):"",ft=mt[at],yt=ft.encodePath,vt=ft.decodePath;function getDOMLocation(){var Ne=vt(getHashPath());return pt&&stripBasename(Ne,pt),history_createLocation(Ne)}var Rt=createTransitionManager();function setState(Ne){(0,it.Z)(rn,Ne),rn.length=et.length,Rt.notifyListeners(rn.location,rn.action)}var Dt=!1,Ot=null;function handleHashChange(){var Ne=getHashPath(),et=yt(Ne);if(Ne!==et)replaceHashPath(et);else{var tt=getDOMLocation(),rt=rn.location;if(!Dt&&function locationsAreEqual$$1(Ne,et){return Ne.pathname===et.pathname&&Ne.search===et.search&&Ne.hash===et.hash}(rt,tt))return;if(Ot===createPath(tt))return;null,function handlePop(Ne){if(Dt)!1,setState();else{var et="POP";Rt.confirmTransitionTo(Ne,et,nt,(function(tt){tt?setState({action:et,location:Ne}):function revertPop(Ne){var et=rn.location,tt=vr.lastIndexOf(createPath(et));-1===tt&&0;var rt=vr.lastIndexOf(createPath(Ne));-1===rt&&0;var nt=tt-rt;nt&&(!0,go(nt))}(Ne)}))}}(tt)}}var Bt=getHashPath(),er=yt(Bt);Bt!==er&&replaceHashPath(er);var rr=getDOMLocation(),vr=[createPath(rr)];function go(Ne){et.go(Ne)}var wr=0;function checkDOMListeners(Ne){1===(wr+=Ne)&&1===Ne?window.addEventListener(dt,handleHashChange):0===wr&&window.removeEventListener(dt,handleHashChange)}var Sr=!1;var rn={length:et.length,action:"POP",location:rr,createHref:function createHref(Ne){var et=document.querySelector("base"),tt="";return et&&et.getAttribute("href")&&stripHash(window.location.href),tt+"#"+yt(pt+createPath(Ne))},push:function push(Ne,et){var tt="PUSH",rt=history_createLocation(Ne,void 0,void 0,rn.location);Rt.confirmTransitionTo(rt,tt,nt,(function(Ne){if(Ne){var et=createPath(rt),nt=yt(pt+et);if(getHashPath()!==nt){et,function pushHashPath(Ne){window.location.hash=Ne}(nt);var it=vr.lastIndexOf(createPath(rn.location)),ot=vr.slice(0,it+1);ot.push(et),ot,setState({action:tt,location:rt})}else setState()}}))},replace:function replace(Ne,et){var tt="REPLACE",rt=history_createLocation(Ne,void 0,void 0,rn.location);Rt.confirmTransitionTo(rt,tt,nt,(function(Ne){if(Ne){var et=createPath(rt),nt=yt(pt+et);getHashPath()!==nt&&(et,replaceHashPath(nt));var it=vr.indexOf(createPath(rn.location));-1!==it&&(vr[it]=et),setState({action:tt,location:rt})}}))},go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(Ne){void 0===Ne&&!1;var et=Rt.setPrompt(Ne);return Sr||(checkDOMListeners(1),!0),function(){return Sr&&(!1,checkDOMListeners(-1)),et()}},listen:function listen(Ne){var et=Rt.appendListener(Ne);return checkDOMListeners(1),function(){checkDOMListeners(-1),et()}}};return rn}function clamp(Ne,et,tt){return Math.min(Math.max(Ne,et),tt)}function createMemoryHistory(Ne){void 0===Ne&&{};var et=Ne,tt=et.getUserConfirmation,rt=et.initialEntries,nt=void 0===rt?["/"]:rt,ot=et.initialIndex,at=void 0===ot?0:ot,st=et.keyLength,ct=void 0===st?6:st,pt=createTransitionManager();function setState(Ne){(0,it.Z)(yt,Ne),yt.length=yt.entries.length,pt.notifyListeners(yt.location,yt.action)}function createKey(){return Math.random().toString(36).substr(2,ct)}var ft=clamp(at,0,nt.length-1),dt=nt.map((function(Ne){return history_createLocation(Ne,void 0,"string"==typeof Ne?createKey():Ne.key||createKey())})),mt=createPath;function go(Ne){var et=clamp(yt.index+Ne,0,yt.entries.length-1),rt=yt.entries[et];pt.confirmTransitionTo(rt,"POP",tt,(function(Ne){Ne?setState({action:"POP",location:rt,index:et}):setState()}))}var yt={length:dt.length,action:"POP",location:dt[ft],index:ft,entries:dt,createHref:mt,push:function push(Ne,et){var rt="PUSH",nt=history_createLocation(Ne,et,createKey(),yt.location);pt.confirmTransitionTo(nt,rt,tt,(function(Ne){if(Ne){var et=yt.index+1,tt=yt.entries.slice(0);tt.length>et?tt.splice(et,tt.length-et,nt):tt.push(nt),setState({action:rt,location:nt,index:et,entries:tt})}}))},replace:function replace(Ne,et){var rt="REPLACE",nt=history_createLocation(Ne,et,createKey(),yt.location);pt.confirmTransitionTo(nt,rt,tt,(function(Ne){Ne&&(yt.entries[yt.index]=nt,setState({action:rt,location:nt}))}))},go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},canGo:function canGo(Ne){var et=yt.index+Ne;return et>=0&&et<yt.entries.length},block:function block(Ne){return void 0===Ne&&!1,pt.setPrompt(Ne)},listen:function listen(Ne){return pt.appendListener(Ne)}};return yt}var yt=1073741823,vt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:{};function createEventEmitter(Ne){var et=[];return{on:function on(Ne){et.push(Ne)},off:function off(Ne){et=et.filter((function(et){return et!==Ne}))},get:function get(){return Ne},set:function set(tt,rt){Ne=tt,et.forEach((function(et){return et(Ne,rt)}))}}}var Rt=Ne.createContext||function createReactContext(et,rt){var it,ot,at="__create-react-context-"+function getUniqueId(){var Ne="__global_unique_id__";return vt[Ne]=(vt[Ne]||0)+1}()+"__",st=function(Ne){function Provider(){var et;return(et=Ne.apply(this,arguments)||this).emitter=createEventEmitter(et.props.value),et}(0,tt.Z)(Provider,Ne);var et=Provider.prototype;return et.getChildContext=function getChildContext(){var Ne;return(Ne={})[at]=this.emitter,Ne},et.componentWillReceiveProps=function componentWillReceiveProps(Ne){if(this.props.value!==Ne.value){var et,tt=this.props.value,nt=Ne.value;!function objectIs(Ne,et){return Ne===et?0!==Ne||1/Ne==1/et:Ne!=Ne&&et!=et}(tt,nt)?(et="function"==typeof rt?rt(tt,nt):yt,0!==(et|=0)&&this.emitter.set(Ne.value,et)):et=0}},et.render=function render(){return this.props.children},Provider}(Ne.Component);st.childContextTypes=((it={})[at]=nt().object.isRequired,it);var ct=function(Ne){function Consumer(){var et;return(et=Ne.apply(this,arguments)||this).state={value:et.getValue()},et.onUpdate=function(Ne,tt){0!=((0|et.observedBits)&tt)&&et.setState({value:et.getValue()})},et}(0,tt.Z)(Consumer,Ne);var rt=Consumer.prototype;return rt.componentWillReceiveProps=function componentWillReceiveProps(Ne){var et=Ne.observedBits;this.observedBits=null==et?yt:et},rt.componentDidMount=function componentDidMount(){this.context[at]&&this.context[at].on(this.onUpdate);var Ne=this.props.observedBits;this.observedBits=null==Ne?yt:Ne},rt.componentWillUnmount=function componentWillUnmount(){this.context[at]&&this.context[at].off(this.onUpdate)},rt.getValue=function getValue(){return this.context[at]?this.context[at].get():et},rt.render=function render(){return function onlyChild(Ne){return Array.isArray(Ne)?Ne[0]:Ne}(this.props.children)(this.state.value)},Consumer}(Ne.Component);return ct.contextTypes=((ot={})[at]=nt().object,ot),{Provider:st,Consumer:ct}};const Dt=Rt;var Ot=__webpack_require__(9658),Bt=__webpack_require__.n(Ot),er=(__webpack_require__(9864),__webpack_require__(5245)),rr=__webpack_require__(8679),vr=__webpack_require__.n(rr),wr=function createNamedContext(Ne){var et=Dt();return et.displayName=Ne,et},Sr=wr("Router-History"),rn=function createNamedContext(Ne){var et=Dt();return et.displayName=Ne,et},vn=rn("Router"),bn=function(et){function Router(Ne){var tt;return(tt=et.call(this,Ne)||this).state={location:Ne.history.location},tt._isMounted=!1,tt._pendingLocation=null,Ne.staticContext||(tt.unlisten=Ne.history.listen((function(Ne){tt._isMounted?tt.setState({location:Ne}):tt._pendingLocation=Ne}))),tt}(0,tt.Z)(Router,et),Router.computeRootMatch=function computeRootMatch(Ne){return{path:"/",url:"/",params:{},isExact:"/"===Ne}};var rt=Router.prototype;return rt.componentDidMount=function componentDidMount(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},rt.componentWillUnmount=function componentWillUnmount(){this.unlisten&&this.unlisten()},rt.render=function render(){return Ne.createElement(vn.Provider,{value:{history:this.props.history,location:this.state.location,match:Router.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Ne.createElement(Sr.Provider,{children:this.props.children||null,value:this.props.history}))},Router}(Ne.Component);Ne.Component;Ne.Component;var Tn={},Cn=0;function matchPath(Ne,et){void 0===et&&(et={}),("string"==typeof et||Array.isArray(et))&&(et={path:et});var tt=et,rt=tt.path,nt=tt.exact,it=void 0!==nt&&nt,ot=tt.strict,at=void 0!==ot&&ot,st=tt.sensitive,ct=void 0!==st&&st;return[].concat(rt).reduce((function(et,tt){if(!tt&&""!==tt)return null;if(et)return et;var rt=function compilePath$1(Ne,et){var tt=""+et.end+et.strict+et.sensitive,rt=Tn[tt]||(Tn[tt]={});if(rt[Ne])return rt[Ne];var nt=[],it={regexp:Bt()(Ne,nt,et),keys:nt};return Cn<1e4&&(rt[Ne]=it,Cn++),it}(tt,{end:it,strict:at,sensitive:ct}),nt=rt.regexp,ot=rt.keys,st=nt.exec(Ne);if(!st)return null;var pt=st[0],ft=st.slice(1),dt=Ne===pt;return it&&!dt?null:{path:tt,url:"/"===tt&&""===pt?"/":pt,isExact:dt,params:ot.reduce((function(Ne,et,tt){return Ne[et.name]=ft[tt],Ne}),{})}}),null)}var In=function(et){function Route(){return et.apply(this,arguments)||this}return(0,tt.Z)(Route,et),Route.prototype.render=function render(){var et=this;return Ne.createElement(vn.Consumer,null,(function(tt){tt||st(!1);var rt=et.props.location||tt.location,nt=et.props.computedMatch?et.props.computedMatch:et.props.path?matchPath(rt.pathname,et.props):tt.match,ot=(0,it.Z)({},tt,{location:rt,match:nt}),at=et.props,ct=at.children,pt=at.component,ft=at.render;return Array.isArray(ct)&&0===ct.length&&(ct=null),Ne.createElement(vn.Provider,{value:ot},ot.match?ct?"function"==typeof ct?ct(ot):ct:pt?Ne.createElement(pt,ot):ft?ft(ot):null:"function"==typeof ct?ct(ot):null)}))},Route}(Ne.Component);function react_router_addLeadingSlash(Ne){return"/"===Ne.charAt(0)?Ne:"/"+Ne}function react_router_stripBasename(Ne,et){if(!Ne)return et;var tt=react_router_addLeadingSlash(Ne);return 0!==et.pathname.indexOf(tt)?et:(0,it.Z)({},et,{pathname:et.pathname.substr(tt.length)})}function createURL(Ne){return"string"==typeof Ne?Ne:createPath(Ne)}function staticHandler(Ne){return function(){st(!1)}}function noop(){}Ne.Component;var Mn=function(et){function Switch(){return et.apply(this,arguments)||this}return(0,tt.Z)(Switch,et),Switch.prototype.render=function render(){var et=this;return Ne.createElement(vn.Consumer,null,(function(tt){tt||st(!1);var rt,nt,ot=et.props.location||tt.location;return Ne.Children.forEach(et.props.children,(function(et){if(null==nt&&Ne.isValidElement(et)){rt=et;var at=et.props.path||et.props.from;nt=at?matchPath(ot.pathname,(0,it.Z)({},et.props,{path:at})):tt.match}})),nt?Ne.cloneElement(rt,{location:ot,computedMatch:nt}):null}))},Switch}(Ne.Component);function withRouter(et){var tt="withRouter("+(et.displayName||et.name)+")",rt=function C(tt){var rt=tt.wrappedComponentRef,nt=(0,er.Z)(tt,["wrappedComponentRef"]);return Ne.createElement(vn.Consumer,null,(function(tt){return tt||st(!1),Ne.createElement(et,(0,it.Z)({},nt,tt,{ref:rt}))}))};return rt.displayName=tt,rt.WrappedComponent=et,vr()(rt,et)}Ne.useContext;var zn=function(et){function BrowserRouter(){for(var Ne,tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];return(Ne=et.call.apply(et,[this].concat(rt))||this).history=createBrowserHistory(Ne.props),Ne}return(0,tt.Z)(BrowserRouter,et),BrowserRouter.prototype.render=function render(){return Ne.createElement(bn,{history:this.history,children:this.props.children})},BrowserRouter}(Ne.Component);Ne.Component;var Ln=function resolveToLocation(Ne,et){return"function"==typeof Ne?Ne(et):Ne},Fn=function normalizeToLocation(Ne,et){return"string"==typeof Ne?history_createLocation(Ne,null,null,et):Ne},Bn=function forwardRefShim(Ne){return Ne},Nn=Ne.forwardRef;void 0===Nn&&(Nn=Bn);var Vn=Nn((function(et,tt){var rt=et.innerRef,nt=et.navigate,ot=et.onClick,at=(0,er.Z)(et,["innerRef","navigate","onClick"]),st=at.target,ct=(0,it.Z)({},at,{onClick:function onClick(Ne){try{ot&&ot(Ne)}catch(et){throw Ne.preventDefault(),et}Ne.defaultPrevented||0!==Ne.button||st&&"_self"!==st||function isModifiedEvent(Ne){return!!(Ne.metaKey||Ne.altKey||Ne.ctrlKey||Ne.shiftKey)}(Ne)||(Ne.preventDefault(),nt())}});return ct.ref=Bn!==Nn&&tt||rt,Ne.createElement("a",ct)}));var Wn=Nn((function(et,tt){var rt=et.component,nt=void 0===rt?Vn:rt,ot=et.replace,at=et.to,ct=et.innerRef,pt=(0,er.Z)(et,["component","replace","to","innerRef"]);return Ne.createElement(vn.Consumer,null,(function(et){et||st(!1);var rt=et.history,ft=Fn(Ln(at,et.location),et.location),dt=ft?rt.createHref(ft):"",mt=(0,it.Z)({},pt,{href:dt,navigate:function navigate(){var Ne=Ln(at,et.location);(ot?rt.replace:rt.push)(Ne)}});return Bn!==Nn?mt.ref=tt||ct:mt.innerRef=ct,Ne.createElement(nt,mt)}))})),$n=function forwardRefShim(Ne){return Ne},Yn=Ne.forwardRef;void 0===Yn&&(Yn=$n);var ii=Yn((function(et,tt){var rt=et["aria-current"],nt=void 0===rt?"page":rt,ot=et.activeClassName,at=void 0===ot?"active":ot,ct=et.activeStyle,pt=et.className,ft=et.exact,dt=et.isActive,mt=et.location,yt=et.sensitive,vt=et.strict,Rt=et.style,Dt=et.to,Ot=et.innerRef,Bt=(0,er.Z)(et,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Ne.createElement(vn.Consumer,null,(function(et){et||st(!1);var rt=mt||et.location,ot=Fn(Ln(Dt,rt),rt),er=ot.pathname,rr=er&&er.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),vr=rr?matchPath(rt.pathname,{path:rr,exact:ft,sensitive:yt,strict:vt}):null,wr=!!(dt?dt(vr,rt):vr),Sr=wr?function joinClassnames(){for(var Ne=arguments.length,et=new Array(Ne),tt=0;tt<Ne;tt++)et[tt]=arguments[tt];return et.filter((function(Ne){return Ne})).join(" ")}(pt,at):pt,rn=wr?(0,it.Z)({},Rt,{},ct):Rt,vn=(0,it.Z)({"aria-current":wr&&nt||null,className:Sr,style:rn,to:ot},Bt);return $n!==Yn?vn.ref=tt||Ot:vn.innerRef=Ot,Ne.createElement(Wn,vn)}))})),qi=__webpack_require__(3379),uo=__webpack_require__.n(qi),po=__webpack_require__(7795),vo=__webpack_require__.n(po),So=__webpack_require__(569),ea=__webpack_require__.n(So),ta=__webpack_require__(3565),ia=__webpack_require__.n(ta),sa=__webpack_require__(9216),la=__webpack_require__.n(sa),fa=__webpack_require__(4589),ga=__webpack_require__.n(fa),_a=__webpack_require__(6371),Aa={};Aa.styleTagTransform=ga(),Aa.setAttributes=ia(),Aa.insert=ea().bind(null,"head"),Aa.domAPI=vo(),Aa.insertStyleElement=la();uo()(_a.Z,Aa);_a.Z&&_a.Z.locals&&_a.Z.locals;__webpack_require__(4916),__webpack_require__(5306);var os=__webpack_require__(9837),as={};as.styleTagTransform=ga(),as.setAttributes=ia(),as.insert=ea().bind(null,"head"),as.domAPI=vo(),as.insertStyleElement=la();uo()(os.Z,as);const ss=os.Z&&os.Z.locals?os.Z.locals:void 0;__webpack_require__(8674);var ls=__webpack_require__(2567),us={};us.styleTagTransform=ga(),us.setAttributes=ia(),us.insert=ea().bind(null,"head"),us.domAPI=vo(),us.insertStyleElement=la();uo()(ls.Z,us);const fs=ls.Z&&ls.Z.locals?ls.Z.locals:void 0;__webpack_require__(8921),__webpack_require__(6248),__webpack_require__(3599),__webpack_require__(1477),__webpack_require__(4362),__webpack_require__(5389),__webpack_require__(401),__webpack_require__(5164),__webpack_require__(1238),__webpack_require__(4837),__webpack_require__(7485),__webpack_require__(465),__webpack_require__(6651),__webpack_require__(1437),__webpack_require__(5285),__webpack_require__(9865),__webpack_require__(2472),__webpack_require__(3824);var gs=__webpack_require__(4951),vs=__webpack_require__(3614),xs=__webpack_require__(7163);let Ss,Es,Cs,Ps,As,Rs;async function authorize({apiToken:Ne}){if(Ne)return setCachedAuthToken({access_token:Ne,expires_at:Date.now()+1e10});await getAuthToken({apiToken:Ne,forceReauthorization:!0})}async function getAuthToken({forceReauthorization:Ne=!1}){if(As){if(!Ne)return As;await As}return As=async function(){return Ne?Ss=null:Ss||(Ss=await async function getCachedAuthToken(){try{if("undefined"==typeof window){const{default:Ne}=await __webpack_require__.e(247).then(__webpack_require__.t.bind(__webpack_require__,5247,19)),et=await Ne.getPassword("redivis-node","user@redivis.com");return et?JSON.parse(et):null}{const Ne=sessionStorage.getItem("redivis_oauth_token");return Ne?JSON.parse(Ne):null}}catch(Ne){}}()),Cs||await async function importCrypto(){if(!Cs)if("undefined"==typeof window){const{webcrypto:Ne}=await __webpack_require__.e(490).then(__webpack_require__.t.bind(__webpack_require__,5490,19));Cs=Ne}else Cs=window.crypto}(),Es||await async function importFetch(){if(!Es)if("undefined"==typeof window){const{default:Ne}=await __webpack_require__.e(255).then(__webpack_require__.t.bind(__webpack_require__,6255,19));Es=Ne}else Es=window.fetch}(),Ss&&new Date(1e3*Ss.expires_at)>Date.now()?Ss?.access_token:"undefined"!=typeof process?"AAAAXtGcJ4BCOmXb3OT+XuGr1C5NuWyX":(Ss="undefined"==typeof window?await async function oAuthNode(){const Ne=(await __webpack_require__.e(967).then(__webpack_require__.t.bind(__webpack_require__,6967,19))).createInterface({input:process.stdin,output:process.stdout}),et="data.data",tt=generateRandomString(),rt="urn:ietf:wg:oauth:2.0:oob",{challenge:nt,verifier:it}=await getPKCE(),ot=process.env.REDIVIS_API_ENDPOINT?process.env.REDIVIS_API_ENDPOINT.match(/(https:\/\/.*?)\//)[1]:"https://redivis.com",at=`${ot}/oauth/authorize?scope=${et}&redirect_uri=${rt}&response_type=code&state=${tt}&code_challenge=${nt}&code_challenge_method=S256`;let st;function validateAuthorizationCode(){return new Promise(((et,tt)=>{Ne.question("\nEnter the authorization code:",(async function(nt){try{st=nt;const tt=await Es(`${ot}/oauth/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"authorization_code",code:st,redirect_uri:decodeURIComponent(rt),code_verifier:it})}),at=await tt.json();if(tt.status>=400)throw new Error(at.error);Ne.close(),et(at)}catch(Ne){tt(Ne)}}))}))}console.log("You must be logged in to perform this action. Please navigate to the following URL to get an authorization code.\n"),console.log(at);for(;;)try{return await validateAuthorizationCode()}catch(Ne){console.error(`Invalid authorization code: ${Ne.message}`)}}():await async function oAuthBrowser(){const Ne="data.data",et=encodeURIComponent("urn:ietf:wg:oauth:2.0:oob:auto"),tt=generateRandomString(),{challenge:rt,verifier:nt}=await getPKCE(),it=`https://redivis.com/oauth/authorize?&scope=${Ne}&redirect_uri=${et}&response_type=code&state=${tt}&code_challenge=${rt}&code_challenge_method=S256`,ot="toolbar=no,menubar=no,width=600,height=600,left=100,top=100";return new Promise(((Ne,rt)=>{if(Ps&&!Ps?.closed||(Ps=window.open(it,"Authorize Redivis",ot)),!Ps||Ps.closed||void 0===Ps.closed)return rt(new Error("The Redivis authentication window was blocked by the browser. Please enable popups for this page and try again."));Ps.focus();const at=setInterval((function(){if(!Ps||Ps.closed)return clearInterval(at),window.removeEventListener("message",onMessageEventHandler),rt(new Error("The Redivis authentication window was prematurely closed. Please try again."))}),500);async function onMessageEventHandler(ot){try{if(window.removeEventListener("message",onMessageEventHandler),clearInterval(at),!it.startsWith(ot.origin))throw new Error("Invalid origin");const{code:rt,state:st}=JSON.parse(ot.data);if(tt!==st)throw new Error("An error occurred during login. Inconsistent state.");const ct=await Es("https://redivis.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"authorization_code",code:rt,redirect_uri:decodeURIComponent(et),code_verifier:nt})}),pt=await ct.json();if(ct.status>=400)throw new Error(pt.error);Ne(pt)}catch(Ne){rt(Ne)}}window.addEventListener("message",onMessageEventHandler)}))}(),await setCachedAuthToken(Ss),Ss?.access_token)}(),As}async function setCachedAuthToken(Ne){try{if("undefined"==typeof window){const{default:et}=await __webpack_require__.e(247).then(__webpack_require__.t.bind(__webpack_require__,5247,19));return et.setPassword("redivis-node","user@redivis.com",JSON.stringify(Ne))}sessionStorage.setItem("redivis_oauth_token",JSON.stringify(Ne))}catch(Ne){}}async function getPKCE(){const Ne=generateRandomString();return{verifier:Ne,challenge:await async function pkceChallengeFromVerifier(Ne){return function base64urlencode(Ne){let et;et="undefined"==typeof window?Buffer.from(new Uint8Array(Ne)).toString("base64"):btoa(String.fromCharCode.apply(null,new Uint8Array(Ne)));return et.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(await function sha256(Ne){const et=(new TextEncoder).encode(Ne);return Cs.subtle.digest("SHA-256",et)}(Ne))}(Ne)}}function generateRandomString(){const Ne=new Uint32Array(28);return Cs.getRandomValues(Ne),Array.from(Ne,dec2hex).join("")}function dec2hex(Ne){return("0"+Ne.toString(16)).substr(-2)}async function makeRequest({method:Ne,path:et,query:tt,payload:rt,forceReauthorization:nt=!1}){let it=`${function getApiEndpoint(){return"undefined"!=typeof process&&process.env?.REDIVIS_API_ENDPOINT||"https://redivis.com/api/v1"}()}${et}`;const ot={Authorization:`Bearer ${await getAuthToken({forceReauthorization:nt})}`};if(tt&&(it+=`?${Object.entries(tt).map((([Ne,et])=>`${Ne}=${et}`)).join("&")}`),rt=JSON.stringify(rt),!Rs){const{default:Ne}=await __webpack_require__.e(255).then(__webpack_require__.t.bind(__webpack_require__,6255,19));Rs=Ne}const at=await Rs(it,{method:Ne,headers:ot,body:rt});let st;if(st=at.headers.get("content-type")?.startsWith?.("application/json")?await at.json():await at.text(),at.status>=400){if(401===at.status)return makeRequest({method:Ne,path:et,query:tt,payload:rt,forceReauthorization:!0});const nt=new Error(st.error?.message||st);if(st.error)for(const[Ne,et]of Object.entries(st.error))nt[Ne]=et;throw nt.status=at.status,nt}return st}async function makePaginatedRequest({path:Ne,pageSize:et=100,query:tt={},maxResults:rt}){const nt=[];let it,ot=0;for(;!(rt&&nt.length>=rt);){it&&(tt.pageToken=it);const at=await makeRequest({method:"GET",path:Ne,query:{...tt,maxResults:void 0===rt||(ot+1)*et<rt?et:rt-ot*et}});if(ot++,nt.push(...at.results),it=at.nextPageToken,!it)break}return nt}async function makeRowsRequest({uri:Ne,maxResults:et,query:tt={}}){return await makeRequest({method:"GET",path:`${Ne}/rows`,query:{...tt,maxResults:et}})}"undefined"!=typeof window&&(Rs=window.fetch),"undefined"!=typeof process&&process.env?.REDIVIS_API_ENDPOINT&&process.env.REDIVIS_API_ENDPOINT.startsWith("https://localhost")&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED=0);class Variable{constructor(Ne,et={}){"object"==typeof Ne&&(et=Ne,Ne=void 0);const{name:tt=Ne,label:rt,description:nt,valueLabels:it,type:ot,table:at,query:st,properties:ct={}}=et;this.name=tt,this.type=ot,this.table=at,this.query=st,this.properties={name:tt,type:ot,label:rt,description:nt,valueLabels:it,...ct},this.uri=`${(this.table||this.query).uri}/variables/${this.name}`}getProperty(Ne){return this.properties?.[Ne]}toString(){return JSON.stringify(this.properties,null,2)}async exists(){try{await makeRequest({method:"GET",path:this.uri})}catch(Ne){if(404!==Ne.status)throw Ne;return!1}return!0}async get(){return this.properties=await makeRequest({method:"GET",path:this.uri}),this.uri=this.properties.uri,this}}class Table{constructor(Ne,et={}){"object"==typeof Ne&&(et=Ne,Ne=void 0);const{name:tt=Ne,sample:rt=!1,dataset:nt,project:it,properties:ot}=et,at=nt||it,st=at.organization||at.user,ct=rt?":sample":"",pt=nt?`:${nt.version}`:"";this.hasPopulatedProperties=!1,this.name=tt,this.dataset=nt,this.project=it,this.identifier=`${st.name}.${at.name}:${pt}.${this.name}${ct}`,this.uri=`/tables/${encodeURIComponent(this.identifier)}`,this.properties={name:tt,identifier:this.identifier,uri:this.uri,dataset:nt,project:it,...ot}}getProperty(Ne){return this.properties?.[Ne]}toString(){return JSON.stringify(this.properties,null,2)}variable(Ne){return new Variable(Ne,{table:this})}async exists(){try{await makeRequest({method:"GET",path:this.uri})}catch(Ne){if(404!==Ne.status)throw Ne;return!1}return!0}async get(){return this.properties=await makeRequest({method:"GET",path:this.uri}),this.uri=this.properties.uri,this.hasPopulatedProperties=!0,this}async listVariables({maxResults:Ne}={}){let et=await makePaginatedRequest({path:`${this.uri}/variables`,pageSize:1e3,maxResults:Ne});return et=et.map((Ne=>new Variable({...Ne,table:this}))),(void 0===Ne||et.length<Ne)&&(this.variables=et),et}async listRows(Ne,et={}){"object"==typeof Ne&&(et=Ne,Ne=void 0);let{maxResults:tt=Ne,variables:rt}=et;this.variables||(this.variables=await this.listVariables({maxResults:1e4})),this.hasPopulatedProperties||await this.get(),tt=void 0===tt?this.properties.numRows:Math.min(tt,this.properties.numRows);let nt=this.variables;rt?.length&&(nt=rt.map((Ne=>{const et=this.variables.find((({name:et})=>et.toLowerCase()===Ne.toLowerCase()));if(!et)throw new Error(`The variable ${Ne} was not found in this table`);return{name:Ne,type:et.type}})));const it=await makeRowsRequest({uri:this.uri,maxResults:tt,query:{selectedVariables:nt.map((Ne=>Ne.name)).join(","),format:"csv"}}),{data:ot}=xs.parse(it);return ot.map((Ne=>{const et={};for(let tt=0;tt<Ne.length;tt++)if(null===Ne[tt])et[nt[tt].name]=Ne[tt];else switch(nt[tt].type){case"integer":et[nt[tt].name]=parseInt(Ne[tt]);break;case"float":et[nt[tt].name]=parseFloat(Ne[tt]);break;case"date":et[nt[tt].name]=new Date(`${Ne[tt]}T00:00:00Z`);break;case"dateTime":et[nt[tt].name]=new Date(`${Ne[tt]}Z`);break;default:et[nt[tt].name]=Ne[tt]}return et}))}}class Query{constructor(Ne,et={}){this.isFetching=!0,"object"==typeof Ne&&(et=Ne,Ne=void 0);const{query:tt=Ne,defaultProject:rt,defaultDataset:nt}=et,it={query:tt};rt?it.defaultProject=rt.identifier:nt&&(it.defaultDataset=nt.identifier),makeRequest({method:"POST",path:"/queries",payload:it}).then((Ne=>{this.isFetching=!1,this.properties=Ne,this.uri=`/queries/${this.properties.id}`})).catch((Ne=>{this.error=Ne,this.isFetching=!1}))}getProperty(Ne){return this.properties?.[Ne]}toString(){return JSON.stringify(this.properties,null,2)}async get(){return this.properties=await makeRequest({method:"GET",path:this.uri}),this}async listVariables(){return await this.#e(),this.properties.outputSchema.map((Ne=>new Variable({...Ne,query:this})))}async listRows(Ne){await this.#e(),Ne=void 0===Ne?this.properties.outputNumRows:Math.max(Ne,this.properties.outputNumRows);const et=await makeRowsRequest({uri:this.uri,maxResults:Ne,query:{format:"csv"}}),{data:tt}=xs.parse(et),rt=await this.listVariables();return tt.map((Ne=>{const et={};for(let tt=0;tt<Ne.length;tt++)if(null===Ne[tt])et[rt[tt].name]=Ne[tt];else switch(rt[tt].type){case"integer":et[rt[tt].name]=parseInt(Ne[tt]);break;case"float":et[rt[tt].name]=parseFloat(Ne[tt]);break;case"date":et[rt[tt].name]=new Date(`${Ne[tt]}T00:00:00Z`);break;case"dateTime":et[rt[tt].name]=new Date(`${Ne[tt]}Z`);break;default:et[rt[tt].name]=Ne[tt]}return et}))}async#e(){for(;;)if(this.isFetching)await new Promise((Ne=>setTimeout(Ne,2e3)));else{if(this.error)throw new Error(this.error);if("completed"===this.properties.status)break;if("failed"===this.properties.status)throw new Error(`Query job failed with message: ${this.properties.errorMessage}`);if("cancelled"===this.properties.status)throw new Error("Query job was cancelled");await new Promise((Ne=>setTimeout(Ne,2e3))),await this.get()}}}class Dataset{constructor(Ne,et={}){"object"==typeof Ne&&(et=Ne,Ne=void 0);const{name:tt=Ne,version:rt="current",user:nt,organization:it,properties:ot={}}=et;this.name=tt,this.version=rt,this.user=nt,this.organization=it,this.identifier=`${(this.organization||this.user).name}.${this.name}:${this.version}`,this.uri=`/datasets/${encodeURIComponent(this.identifier)}`,this.properties=ot}toString(){return JSON.stringify(this.properties,null,2)}getProperty(Ne){return this.properties?.[Ne]}table(Ne,et={}){return new Table({name:Ne,...et,dataset:this})}query(Ne,et={}){return new Query({query:Ne,...et,defaultDataset:this})}async exists(){try{await makeRequest({method:"GET",path:this.uri})}catch(Ne){if(404!==Ne.status)throw Ne;return!1}return!0}async get(){return this.properties=await makeRequest({method:"GET",path:this.uri}),this.uri=this.properties.uri,this}async create({publicAccessLevel:Ne="none",description:et}={}){let tt;return tt=this.organization?`/organizations/${this.organization.name}/datasets`:`/users/${this.user.name}/datasets`,this.properties=await makeRequest({method:"POST",path:tt,payload:{name:this.name,description:et,publicAccessLevel:Ne}}),this.uri=this.properties.uri,this}async update({name:Ne,publicAccessLevel:et,description:tt}={}){const rt={};return Ne&&(rt.name=Ne),et&&(rt.publicAccessLevel=et),tt&&(rt.description=tt),this.properties=await makeRequest({method:"POST",path:this.uri,payload:rt}),this}async delete(){await makeRequest({method:"DELETE",path:this.uri})}async createNextVersion({ignoreIfExists:Ne=!1}={}){if(this.properties?.nextVersion||await this.get(),this.properties.nextVersion){if(!Ne)throw new Error(`Next version already exists at ${this.properties.nextVersion.datasetUri}. To avoid this error, set option ignoreIfExists to true`)}else await makeRequest({method:"POST",path:`${this.uri}/versions`});return new Dataset(this.name,{user:this.user,organization:this.organization}).get()}async release(){return await makeRequest({method:"POST",path:`${this.uri}/versions/next/release`}),new Dataset(this.name,{user:this.user,organization:this.organization,version:"current"}).get()}async listTables({maxResults:Ne}={}){return(await makePaginatedRequest({path:`${this.uri}/tables`,pageSize:100,maxResults:Ne})).map((Ne=>new Table(Ne.name,{dataset:this,properties:Ne})))}}class Project{constructor(Ne,et={}){"object"==typeof Ne&&(et=Ne,Ne=void 0);const{name:tt=Ne,user:rt,properties:nt}=et;this.user=rt,this.name=tt,this.identifier=`${rt.name}.${tt}`,this.uri=`/projects/${encodeURIComponent(this.identifier)}`,this.properties=nt}getProperty(){return this.properties?.[property]}query(Ne,et={}){return new Query({query:Ne,...et,defaultProject:this})}table(Ne,et={}){return new Table({name:Ne,...et,project:this})}async listTables({maxResults:Ne,includeDatasetTables:et}={}){return(await makePaginatedRequest({method:"GET",pageSize:100,path:`${this.uri}/tables`,maxResults:Ne,query:{includeDatasetTables:et}})).map((Ne=>new Table(Ne.name,{project:this,properties:Ne})))}}class User{constructor(Ne){this.name=Ne}dataset(Ne,et={}){return new Dataset({name:Ne,...et,user:this})}project(Ne,et={}){return new Project({name:Ne,...et,user:this})}}function user(Ne){return new User(Ne)}function _defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}const Ms="AAAAXtGcJ4BCOmXb3OT+XuGr1C5NuWyX";class VectorSource{constructor({name:Ne,label:et,hierarchyIndex:tt,tableIdentifier:rt,geoVariables:nt,isGeobuf:it,getGeometry:ot,isDefault:at,showOnHome:st,filterVariables:ct=[],metadataVariables:pt=[],legendVariable:ft,legend:dt,regionNameVariable:mt,regionParentVariable:yt,regionBoundingBoxVariable:vt,mapboxSourceType:Rt,mapboxLayerType:Dt,mapboxLayerOptions:Ot,minZoom:Bt,maxZoom:er}){_defineProperty(this,"fetchMetadata",(async()=>{if(this.metadata)return this.metadata;const Ne=new Set([...this.filterVariables.map((({name:Ne})=>Ne.toLowerCase())),...this.metadataVariables.map((({name:Ne})=>Ne.toLowerCase()))]);this.regionNameVariable&&Ne.add(this.regionNameVariable.name.toLowerCase()),this.regionParentVariable&&Ne.add(this.regionParentVariable.name.toLowerCase()),this.regionBoundingBoxVariable&&Ne.add(this.regionBoundingBoxVariable.name.toLowerCase());const et=[...Ne],[tt,rt,nt]=this.tableIdentifier.split(".");await authorize({apiToken:Ms});const it=await user(tt).dataset(rt).table(nt).listRows({variables:et});try{return this.metadata=it.map((Ne=>{const et={},tt={};for(const tt of this.metadataVariables)et[tt.label||tt.name]=String(Ne[tt.name.toLowerCase()]);for(const et of this.filterVariables)tt[et.name]=String(Ne[et.name.toLowerCase()]);return this.regionNameVariable&&(tt.regionName=Ne[this.regionNameVariable.name.toLowerCase()]),this.regionParentVariable&&(tt.parentRegionName=Ne[this.regionParentVariable.name.toLowerCase()]),this.regionBoundingBoxVariable&&(tt.bbox=Ne[this.regionBoundingBoxVariable.name.toLowerCase()]),{metadata:et,properties:{...et,...tt}}})),this.metadata}catch(Ne){return alert(`An error occurred when parsing data from ${this.tableIdentifier}: ${Ne.message}`),[]}})),_defineProperty(this,"fetchData",(async()=>{if(this.data)return this.data;const Ne=new Set([...this.geoVariables.map((({name:Ne})=>Ne.toLowerCase()))]);this.metadata||await this.fetchMetadata();const et=[...Ne],[tt,rt,nt]=this.tableIdentifier.split(".");await authorize({apiToken:Ms});const it=await user(tt).dataset(rt).table(nt).listRows({variables:et});try{return this.data=it.map(((Ne,et)=>{let tt;return Ne[this.geoVariables[0].name.toLowerCase()]&&(tt=this.isGeobuf?gs.decode(new vs(new Uint8Array(atob(Ne[this.geoVariables[0].name.toLowerCase()]).split("").map((function(Ne){return Ne.charCodeAt(0)}))))).geometry:this.getGeometry?this.getGeometry(...this.geoVariables.map((et=>Ne[et.name.toLowerCase()]))):JSON.parse(Ne[this.geoVariables[0].name.toLowerCase()])),{geometry:tt,...this.metadata[et]}})),this.data}catch(Ne){return alert(`An error occurred when parsing data from ${this.tableIdentifier}: ${Ne.message}`),[]}})),this.name=Ne,this.label=et,this.hierarchyIndex=tt,this.tableIdentifier=rt,this.geoVariables=nt,this.isGeobuf=it,this.filterVariables=ct,this.metadataVariables=pt,this.legendVariable=ft,this.legend=dt,this.regionNameVariable=mt,this.regionParentVariable=yt,this.regionBoundingBoxVariable=vt,this.mapboxSourceType=Rt,this.mapboxLayerType=Dt,this.mapboxLayerOptions=Ot,this.minZoom=Bt,this.maxZoom=er,this.isDefault=at,this.showOnHome=st,this.getGeometry=ot,this.metadata=null,this.data=null}}const zs=.05,Ls=[10],Os=0,Fs=1,Bs=2,Ns=3,Vs=[{name:"Regions (full size)",label:"Uganda",hierarchyIndex:0,isDefault:!0,showOnHome:!0,tableIdentifier:"modilab.uganda_geodata:3.uganda_regions:9",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[],metadataVariables:[{name:"AREA"},{name:"PERIMETER"},{name:"ID"},{name:"CAPTION"}],regionNameVariable:{name:"ID"},regionParentVariable:{name:"CAPTION"},regionBoundingBoxVariable:{name:"BBOX"},mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":Os},paint:{"fill-opacity":["number",["get","opacity"],zs],"fill-color":"#787b8c"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":Os},paint:{"line-color":"#787b8c","line-width":["interpolate",["linear"],["zoom"],3,.5,10,2],"line-dasharray":[10,0]}}}},{name:"Districts (full size)",label:"Uganda",hierarchyIndex:1,isDefault:!1,showOnHome:!0,tableIdentifier:"modilab.uganda_geodata:3.uganda_districts:3",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[],metadataVariables:[{name:"AREA_SQKM",label:"Area (km^2)"},{name:"POPPERSQKM",label:"Population per km^2"},{name:"CAPTION",label:"Region"}],regionNameVariable:{name:"DNAME2019"},regionParentVariable:{name:"CAPTION"},regionBoundingBoxVariable:{name:"BBOX"},mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":Fs},paint:{"fill-opacity":["number",["get","opacity"],zs],"fill-color":"#9699a6"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":Fs},paint:{"line-color":"#9699a6","line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]]}}}},{name:"Subcounties (full size)",label:"Uganda",hierarchyIndex:2,isDefault:!1,tableIdentifier:"modilab.uganda_geodata:3.uganda_subcounties:8",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,metadataVariables:[{name:"District"},{name:"County"},{name:"Subcounty"},{name:"regions"}],regionNameVariable:{name:"Subcounty"},regionParentVariable:{name:"District"},regionBoundingBoxVariable:null,mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":Bs},paint:{"fill-opacity":["number",["get","opacity"],zs],"fill-color":"#9699a6"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":Bs},paint:{"line-color":"#9699a6","line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]]}}}},{name:"Parishes (full size)",label:"Uganda",hierarchyIndex:3,isDefault:!1,tableIdentifier:"modilab.uganda_geodata:3.uganda_parishes:7",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[],metadataVariables:[{name:"DName2016"},{name:"CName2016"},{name:"SName2016"}],regionNameVariable:{name:"P"},regionParentVariable:{name:"S"},regionBoundingBoxVariable:null,mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":Ns},paint:{"fill-opacity":["number",["get","opacity"],zs],"fill-color":"#9699a6"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":Ns},paint:{"line-color":"#9699a6","line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]]}}}}];for(let Ne=0;Ne<Vs.length;Ne++){for(let et=0;et<Ls.length;et++){const tt=Ls[et];Vs.splice(Ne+et+1,0,{...Vs[Ne],isDefault:!1,showOnHome:!1,name:`${Vs[Ne].name}`.replace("full size",`${tt}%`),geoVariables:[{name:`geoBuf_simplified_${tt}`}]})}Ne+=Ls.length}const Us=Vs.map((Ne=>new VectorSource(Ne)));var js=__webpack_require__(5551),Zs=__webpack_require__(8105),Js=__webpack_require__(5987),tl=__webpack_require__(6010),ol=__webpack_require__(3871),sl=44;function easeOut(Ne){return Ne=function getRelativeValue(Ne,et,tt){return(Math.min(Math.max(et,Ne),tt)-et)/(tt-et)}(Ne,0,1),Ne=(Ne-=1)*Ne*Ne+1}var dl=Ne.forwardRef((function CircularProgress(et,tt){var rt=et.classes,nt=et.className,ot=et.color,at=void 0===ot?"primary":ot,st=et.disableShrink,ct=void 0!==st&&st,pt=et.size,ft=void 0===pt?40:pt,dt=et.style,mt=et.thickness,yt=void 0===mt?3.6:mt,vt=et.value,Rt=void 0===vt?0:vt,Dt=et.variant,Ot=void 0===Dt?"indeterminate":Dt,Bt=(0,Js.Z)(et,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),er={},rr={},vr={};if("determinate"===Ot||"static"===Ot){var wr=2*Math.PI*((sl-yt)/2);er.strokeDasharray=wr.toFixed(3),vr["aria-valuenow"]=Math.round(Rt),"static"===Ot?(er.strokeDashoffset="".concat(((100-Rt)/100*wr).toFixed(3),"px"),rr.transform="rotate(-90deg)"):(er.strokeDashoffset="".concat((function easeIn(Ne){return Ne*Ne}((100-Rt)/100)*wr).toFixed(3),"px"),rr.transform="rotate(".concat((270*easeOut(Rt/70)).toFixed(3),"deg)"))}return Ne.createElement("div",(0,it.Z)({className:(0,tl.Z)(rt.root,nt,"inherit"!==at&&rt["color".concat((0,ol.Z)(at))],{indeterminate:rt.indeterminate,static:rt.static}[Ot]),style:(0,it.Z)({width:ft,height:ft},rr,dt),ref:tt,role:"progressbar"},vr,Bt),Ne.createElement("svg",{className:rt.svg,viewBox:"".concat(22," ").concat(22," ").concat(sl," ").concat(sl)},Ne.createElement("circle",{className:(0,tl.Z)(rt.circle,ct&&rt.circleDisableShrink,{indeterminate:rt.circleIndeterminate,static:rt.circleStatic}[Ot]),style:er,cx:sl,cy:sl,r:(sl-yt)/2,fill:"none",strokeWidth:yt})))}));const gl=(0,js.Z)((function styles(Ne){return{root:{display:"inline-block"},static:{transition:Ne.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:Ne.palette.primary.main},colorSecondary:{color:Ne.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:Ne.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(dl);var yl=Ne.forwardRef((function ListSubheader(et,tt){var rt=et.classes,nt=et.className,ot=et.color,at=void 0===ot?"default":ot,st=et.component,ct=void 0===st?"li":st,pt=et.disableGutters,ft=void 0!==pt&&pt,dt=et.disableSticky,mt=void 0!==dt&&dt,yt=et.inset,vt=void 0!==yt&&yt,Rt=(0,Js.Z)(et,["classes","className","color","component","disableGutters","disableSticky","inset"]);return Ne.createElement(ct,(0,it.Z)({className:(0,tl.Z)(rt.root,nt,"default"!==at&&rt["color".concat((0,ol.Z)(at))],vt&&rt.inset,!mt&&rt.sticky,!ft&&rt.gutters),ref:tt},Rt))}));const vl=(0,js.Z)((function styles(Ne){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:Ne.palette.text.secondary,fontFamily:Ne.typography.fontFamily,fontWeight:Ne.typography.fontWeightMedium,fontSize:Ne.typography.pxToRem(14)},colorPrimary:{color:Ne.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(yl);const _l=Ne.createContext({});var bl=Ne.forwardRef((function List(et,tt){var rt=et.children,nt=et.classes,ot=et.className,at=et.component,st=void 0===at?"ul":at,ct=et.dense,pt=void 0!==ct&&ct,ft=et.disablePadding,dt=void 0!==ft&&ft,mt=et.subheader,yt=(0,Js.Z)(et,["children","classes","className","component","dense","disablePadding","subheader"]),vt=Ne.useMemo((function(){return{dense:pt}}),[pt]);return Ne.createElement(_l.Provider,{value:vt},Ne.createElement(st,(0,it.Z)({className:(0,tl.Z)(nt.root,ot,pt&&nt.dense,!dt&&nt.padding,mt&&nt.subheader),ref:tt},yt),mt,rt))}));const xl=(0,js.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(bl);function setRef(Ne,et){"function"==typeof Ne?Ne(et):Ne&&(Ne.current=et)}function useForkRef(et,tt){return Ne.useMemo((function(){return null==et&&null==tt?null:function(Ne){setRef(et,Ne),setRef(tt,Ne)}}),[et,tt])}var wl="undefined"!=typeof window?Ne.useLayoutEffect:Ne.useEffect;function useEventCallback(et){var tt=Ne.useRef(et);return wl((function(){tt.current=et})),Ne.useCallback((function(){return tt.current.apply(void 0,arguments)}),[])}var kl=!0,Sl=!1,Cl=null,Il={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function handleKeyDown(Ne){Ne.metaKey||Ne.altKey||Ne.ctrlKey||(kl=!0)}function handlePointerDown(){kl=!1}function handleVisibilityChange(){"hidden"===this.visibilityState&&Sl&&(kl=!0)}function isFocusVisible(Ne){var et=Ne.target;try{return et.matches(":focus-visible")}catch(Ne){}return kl||function focusTriggersKeyboardModality(Ne){var et=Ne.type,tt=Ne.tagName;return!("INPUT"!==tt||!Il[et]||Ne.readOnly)||"TEXTAREA"===tt&&!Ne.readOnly||!!Ne.isContentEditable}(et)}function handleBlurVisible(){Sl=!0,window.clearTimeout(Cl),Cl=window.setTimeout((function(){Sl=!1}),100)}function useIsFocusVisible(){return{isFocusVisible,onBlurVisible:handleBlurVisible,ref:Ne.useCallback((function(Ne){var tt=et.findDOMNode(Ne);null!=tt&&function prepare(Ne){Ne.addEventListener("keydown",handleKeyDown,!0),Ne.addEventListener("mousedown",handlePointerDown,!0),Ne.addEventListener("pointerdown",handlePointerDown,!0),Ne.addEventListener("touchstart",handlePointerDown,!0),Ne.addEventListener("visibilitychange",handleVisibilityChange,!0)}(tt.ownerDocument)}),[])}}var Al=__webpack_require__(2982),zl=__webpack_require__(7326);const Fl=Ne.createContext(null);function getChildMapping(et,tt){var rt=Object.create(null);return et&&Ne.Children.map(et,(function(Ne){return Ne})).forEach((function(et){rt[et.key]=function mapper(et){return tt&&(0,Ne.isValidElement)(et)?tt(et):et}(et)})),rt}function getProp(Ne,et,tt){return null!=tt[et]?tt[et]:Ne.props[et]}function getNextChildMapping(et,tt,rt){var nt=getChildMapping(et.children),it=function mergeChildMappings(Ne,et){function getValueForKey(tt){return tt in et?et[tt]:Ne[tt]}Ne=Ne||{},et=et||{};var tt,rt=Object.create(null),nt=[];for(var it in Ne)it in et?nt.length&&(rt[it]=nt,nt=[]):nt.push(it);var ot={};for(var at in et){if(rt[at])for(tt=0;tt<rt[at].length;tt++){var st=rt[at][tt];ot[rt[at][tt]]=getValueForKey(st)}ot[at]=getValueForKey(at)}for(tt=0;tt<nt.length;tt++)ot[nt[tt]]=getValueForKey(nt[tt]);return ot}(tt,nt);return Object.keys(it).forEach((function(ot){var at=it[ot];if((0,Ne.isValidElement)(at)){var st=ot in tt,ct=ot in nt,pt=tt[ot],ft=(0,Ne.isValidElement)(pt)&&!pt.props.in;!ct||st&&!ft?ct||!st||ft?ct&&st&&(0,Ne.isValidElement)(pt)&&(it[ot]=(0,Ne.cloneElement)(at,{onExited:rt.bind(null,at),in:pt.props.in,exit:getProp(at,"exit",et),enter:getProp(at,"enter",et)})):it[ot]=(0,Ne.cloneElement)(at,{in:!1}):it[ot]=(0,Ne.cloneElement)(at,{onExited:rt.bind(null,at),in:!0,exit:getProp(at,"exit",et),enter:getProp(at,"enter",et)})}})),it}var Hl=Object.values||function(Ne){return Object.keys(Ne).map((function(et){return Ne[et]}))},du=function(et){function TransitionGroup(Ne,tt){var rt,nt=(rt=et.call(this,Ne,tt)||this).handleExited.bind((0,zl.Z)(rt));return rt.state={contextValue:{isMounting:!0},handleExited:nt,firstRender:!0},rt}(0,tt.Z)(TransitionGroup,et);var rt=TransitionGroup.prototype;return rt.componentDidMount=function componentDidMount(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},rt.componentWillUnmount=function componentWillUnmount(){this.mounted=!1},TransitionGroup.getDerivedStateFromProps=function getDerivedStateFromProps(et,tt){var rt,nt,it=tt.children,ot=tt.handleExited;return{children:tt.firstRender?(rt=et,nt=ot,getChildMapping(rt.children,(function(et){return(0,Ne.cloneElement)(et,{onExited:nt.bind(null,et),in:!0,appear:getProp(et,"appear",rt),enter:getProp(et,"enter",rt),exit:getProp(et,"exit",rt)})}))):getNextChildMapping(et,it,ot),firstRender:!1}},rt.handleExited=function handleExited(Ne,et){var tt=getChildMapping(this.props.children);Ne.key in tt||(Ne.props.onExited&&Ne.props.onExited(et),this.mounted&&this.setState((function(et){var tt=(0,it.Z)({},et.children);return delete tt[Ne.key],{children:tt}})))},rt.render=function render(){var et=this.props,tt=et.component,rt=et.childFactory,nt=(0,er.Z)(et,["component","childFactory"]),it=this.state.contextValue,ot=Hl(this.state.children).map(rt);return delete nt.appear,delete nt.enter,delete nt.exit,null===tt?Ne.createElement(Fl.Provider,{value:it},ot):Ne.createElement(Fl.Provider,{value:it},Ne.createElement(tt,nt,ot))},TransitionGroup}(Ne.Component);du.propTypes={},du.defaultProps={component:"div",childFactory:function childFactory(Ne){return Ne}};const vu=du;var _u="undefined"==typeof window?Ne.useEffect:Ne.useLayoutEffect;const wu=function Ripple(et){var tt=et.classes,rt=et.pulsate,nt=void 0!==rt&&rt,it=et.rippleX,ot=et.rippleY,at=et.rippleSize,st=et.in,ct=et.onExited,pt=void 0===ct?function(){}:ct,ft=et.timeout,dt=Ne.useState(!1),mt=dt[0],yt=dt[1],vt=(0,tl.Z)(tt.ripple,tt.rippleVisible,nt&&tt.ripplePulsate),Rt={width:at,height:at,top:-at/2+ot,left:-at/2+it},Dt=(0,tl.Z)(tt.child,mt&&tt.childLeaving,nt&&tt.childPulsate),Ot=useEventCallback(pt);return _u((function(){if(!st){yt(!0);var Ne=setTimeout(Ot,ft);return function(){clearTimeout(Ne)}}}),[Ot,st,ft]),Ne.createElement("span",{className:vt,style:Rt},Ne.createElement("span",{className:Dt}))};var Tu=Ne.forwardRef((function TouchRipple(et,tt){var rt=et.center,nt=void 0!==rt&&rt,ot=et.classes,at=et.className,st=(0,Js.Z)(et,["center","classes","className"]),ct=Ne.useState([]),pt=ct[0],ft=ct[1],dt=Ne.useRef(0),mt=Ne.useRef(null);Ne.useEffect((function(){mt.current&&(mt.current(),mt.current=null)}),[pt]);var yt=Ne.useRef(!1),vt=Ne.useRef(null),Rt=Ne.useRef(null),Dt=Ne.useRef(null);Ne.useEffect((function(){return function(){clearTimeout(vt.current)}}),[]);var Ot=Ne.useCallback((function(et){var tt=et.pulsate,rt=et.rippleX,nt=et.rippleY,it=et.rippleSize,at=et.cb;ft((function(et){return[].concat((0,Al.Z)(et),[Ne.createElement(wu,{key:dt.current,classes:ot,timeout:550,pulsate:tt,rippleX:rt,rippleY:nt,rippleSize:it})])})),dt.current+=1,mt.current=at}),[ot]),Bt=Ne.useCallback((function(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tt=arguments.length>2?arguments[2]:void 0,rt=et.pulsate,it=void 0!==rt&&rt,ot=et.center,at=void 0===ot?nt||et.pulsate:ot,st=et.fakeElement,ct=void 0!==st&&st;if("mousedown"===Ne.type&&yt.current)yt.current=!1;else{"touchstart"===Ne.type&&(yt.current=!0);var pt,ft,dt,mt=ct?null:Dt.current,Bt=mt?mt.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(at||0===Ne.clientX&&0===Ne.clientY||!Ne.clientX&&!Ne.touches)pt=Math.round(Bt.width/2),ft=Math.round(Bt.height/2);else{var er=Ne.touches?Ne.touches[0]:Ne,rr=er.clientX,vr=er.clientY;pt=Math.round(rr-Bt.left),ft=Math.round(vr-Bt.top)}if(at)(dt=Math.sqrt((2*Math.pow(Bt.width,2)+Math.pow(Bt.height,2))/3))%2==0&&(dt+=1);else{var wr=2*Math.max(Math.abs((mt?mt.clientWidth:0)-pt),pt)+2,Sr=2*Math.max(Math.abs((mt?mt.clientHeight:0)-ft),ft)+2;dt=Math.sqrt(Math.pow(wr,2)+Math.pow(Sr,2))}Ne.touches?null===Rt.current&&(Rt.current=function(){Ot({pulsate:it,rippleX:pt,rippleY:ft,rippleSize:dt,cb:tt})},vt.current=setTimeout((function(){Rt.current&&(Rt.current(),Rt.current=null)}),80)):Ot({pulsate:it,rippleX:pt,rippleY:ft,rippleSize:dt,cb:tt})}}),[nt,Ot]),er=Ne.useCallback((function(){Bt({},{pulsate:!0})}),[Bt]),rr=Ne.useCallback((function(Ne,et){if(clearTimeout(vt.current),"touchend"===Ne.type&&Rt.current)return Ne.persist(),Rt.current(),Rt.current=null,void(vt.current=setTimeout((function(){rr(Ne,et)})));Rt.current=null,ft((function(Ne){return Ne.length>0?Ne.slice(1):Ne})),mt.current=et}),[]);return Ne.useImperativeHandle(tt,(function(){return{pulsate:er,start:Bt,stop:rr}}),[er,Bt,rr]),Ne.createElement("span",(0,it.Z)({className:(0,tl.Z)(ot.root,at),ref:Dt},st),Ne.createElement(vu,{component:null,exit:!0},pt))}));const Fu=(0,js.Z)((function styles(Ne){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(Ne.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(Ne.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(Ne.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(Ne.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(Ne.memo(Tu));var ac=Ne.forwardRef((function ButtonBase(tt,rt){var nt=tt.action,ot=tt.buttonRef,at=tt.centerRipple,st=void 0!==at&&at,ct=tt.children,pt=tt.classes,ft=tt.className,dt=tt.component,mt=void 0===dt?"button":dt,yt=tt.disabled,vt=void 0!==yt&&yt,Rt=tt.disableRipple,Dt=void 0!==Rt&&Rt,Ot=tt.disableTouchRipple,Bt=void 0!==Ot&&Ot,er=tt.focusRipple,rr=void 0!==er&&er,vr=tt.focusVisibleClassName,wr=tt.onBlur,Sr=tt.onClick,rn=tt.onFocus,vn=tt.onFocusVisible,bn=tt.onKeyDown,Tn=tt.onKeyUp,Cn=tt.onMouseDown,In=tt.onMouseLeave,Mn=tt.onMouseUp,zn=tt.onTouchEnd,Ln=tt.onTouchMove,Fn=tt.onTouchStart,Bn=tt.onDragLeave,Nn=tt.tabIndex,Vn=void 0===Nn?0:Nn,Wn=tt.TouchRippleProps,$n=tt.type,Yn=void 0===$n?"button":$n,ii=(0,Js.Z)(tt,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),qi=Ne.useRef(null);var uo=Ne.useRef(null),po=Ne.useState(!1),vo=po[0],So=po[1];vt&&vo&&So(!1);var ea=useIsFocusVisible(),ta=ea.isFocusVisible,ia=ea.onBlurVisible,sa=ea.ref;function useRippleHandler(Ne,et){var tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt;return useEventCallback((function(rt){return et&&et(rt),!tt&&uo.current&&uo.current[Ne](rt),!0}))}Ne.useImperativeHandle(nt,(function(){return{focusVisible:function focusVisible(){So(!0),qi.current.focus()}}}),[]),Ne.useEffect((function(){vo&&rr&&!Dt&&uo.current.pulsate()}),[Dt,rr,vo]);var la=useRippleHandler("start",Cn),fa=useRippleHandler("stop",Bn),ga=useRippleHandler("stop",Mn),_a=useRippleHandler("stop",(function(Ne){vo&&Ne.preventDefault(),In&&In(Ne)})),Aa=useRippleHandler("start",Fn),os=useRippleHandler("stop",zn),as=useRippleHandler("stop",Ln),ss=useRippleHandler("stop",(function(Ne){vo&&(ia(Ne),So(!1)),wr&&wr(Ne)}),!1),ls=useEventCallback((function(Ne){qi.current||(qi.current=Ne.currentTarget),ta(Ne)&&(So(!0),vn&&vn(Ne)),rn&&rn(Ne)})),us=function isNonNativeButton(){var Ne=function getButtonNode(){return et.findDOMNode(qi.current)}();return mt&&"button"!==mt&&!("A"===Ne.tagName&&Ne.href)},fs=Ne.useRef(!1),gs=useEventCallback((function(Ne){rr&&!fs.current&&vo&&uo.current&&" "===Ne.key&&(fs.current=!0,Ne.persist(),uo.current.stop(Ne,(function(){uo.current.start(Ne)}))),Ne.target===Ne.currentTarget&&us()&&" "===Ne.key&&Ne.preventDefault(),bn&&bn(Ne),Ne.target===Ne.currentTarget&&us()&&"Enter"===Ne.key&&!vt&&(Ne.preventDefault(),Sr&&Sr(Ne))})),vs=useEventCallback((function(Ne){rr&&" "===Ne.key&&uo.current&&vo&&!Ne.defaultPrevented&&(fs.current=!1,Ne.persist(),uo.current.stop(Ne,(function(){uo.current.pulsate(Ne)}))),Tn&&Tn(Ne),Sr&&Ne.target===Ne.currentTarget&&us()&&" "===Ne.key&&!Ne.defaultPrevented&&Sr(Ne)})),xs=mt;"button"===xs&&ii.href&&(xs="a");var Ss={};"button"===xs?(Ss.type=Yn,Ss.disabled=vt):("a"===xs&&ii.href||(Ss.role="button"),Ss["aria-disabled"]=vt);var Es=useForkRef(ot,rt),Cs=useForkRef(sa,qi),Ps=useForkRef(Es,Cs),As=Ne.useState(!1),Rs=As[0],Ms=As[1];Ne.useEffect((function(){Ms(!0)}),[]);var zs=Rs&&!Dt&&!vt;return Ne.createElement(xs,(0,it.Z)({className:(0,tl.Z)(pt.root,ft,vo&&[pt.focusVisible,vr],vt&&pt.disabled),onBlur:ss,onClick:Sr,onFocus:ls,onKeyDown:gs,onKeyUp:vs,onMouseDown:la,onMouseLeave:_a,onMouseUp:ga,onDragLeave:fa,onTouchEnd:os,onTouchMove:as,onTouchStart:Aa,ref:Ps,tabIndex:vt?-1:Vn},Ss,ii),ct,zs?Ne.createElement(Fu,(0,it.Z)({ref:uo,center:st},Wn)):null)}));const pc=(0,js.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(ac);function isMuiElement(et,tt){return Ne.isValidElement(et)&&-1!==tt.indexOf(et.type.muiName)}var yc="undefined"==typeof window?Ne.useEffect:Ne.useLayoutEffect,_c=Ne.forwardRef((function ListItem(tt,rt){var nt=tt.alignItems,ot=void 0===nt?"center":nt,at=tt.autoFocus,st=void 0!==at&&at,ct=tt.button,pt=void 0!==ct&&ct,ft=tt.children,dt=tt.classes,mt=tt.className,yt=tt.component,vt=tt.ContainerComponent,Rt=void 0===vt?"li":vt,Dt=tt.ContainerProps,Ot=(Dt=void 0===Dt?{}:Dt).className,Bt=(0,Js.Z)(Dt,["className"]),er=tt.dense,rr=void 0!==er&&er,vr=tt.disabled,wr=void 0!==vr&&vr,Sr=tt.disableGutters,rn=void 0!==Sr&&Sr,vn=tt.divider,bn=void 0!==vn&&vn,Tn=tt.focusVisibleClassName,Cn=tt.selected,In=void 0!==Cn&&Cn,Mn=(0,Js.Z)(tt,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),zn=Ne.useContext(_l),Ln={dense:rr||zn.dense||!1,alignItems:ot},Fn=Ne.useRef(null);yc((function(){st&&Fn.current&&Fn.current.focus()}),[st]);var Bn=Ne.Children.toArray(ft),Nn=Bn.length&&isMuiElement(Bn[Bn.length-1],["ListItemSecondaryAction"]),Vn=useForkRef(Ne.useCallback((function(Ne){Fn.current=et.findDOMNode(Ne)}),[]),rt),Wn=(0,it.Z)({className:(0,tl.Z)(dt.root,mt,Ln.dense&&dt.dense,!rn&&dt.gutters,bn&&dt.divider,wr&&dt.disabled,pt&&dt.button,"center"!==ot&&dt.alignItemsFlexStart,Nn&&dt.secondaryAction,In&&dt.selected),disabled:wr},Mn),$n=yt||"li";return pt&&(Wn.component=yt||"div",Wn.focusVisibleClassName=(0,tl.Z)(dt.focusVisible,Tn),$n=pc),Nn?($n=Wn.component||yt?$n:"div","li"===Rt&&("li"===$n?$n="div":"li"===Wn.component&&(Wn.component="div")),Ne.createElement(_l.Provider,{value:Ln},Ne.createElement(Rt,(0,it.Z)({className:(0,tl.Z)(dt.container,Ot),ref:Vn},Bt),Ne.createElement($n,Wn,Bn),Bn.pop()))):Ne.createElement(_l.Provider,{value:Ln},Ne.createElement($n,(0,it.Z)({ref:Vn},Wn),Bn))}));const bc=(0,js.Z)((function styles(Ne){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:Ne.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:Ne.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(Ne.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:Ne.transitions.create("background-color",{duration:Ne.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:Ne.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(_c);var xc={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},wc=Ne.forwardRef((function Typography(et,tt){var rt=et.align,nt=void 0===rt?"inherit":rt,ot=et.classes,at=et.className,st=et.color,ct=void 0===st?"initial":st,pt=et.component,ft=et.display,dt=void 0===ft?"initial":ft,mt=et.gutterBottom,yt=void 0!==mt&&mt,vt=et.noWrap,Rt=void 0!==vt&&vt,Dt=et.paragraph,Ot=void 0!==Dt&&Dt,Bt=et.variant,er=void 0===Bt?"body1":Bt,rr=et.variantMapping,vr=void 0===rr?xc:rr,wr=(0,Js.Z)(et,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),Sr=pt||(Ot?"p":vr[er]||xc[er])||"span";return Ne.createElement(Sr,(0,it.Z)({className:(0,tl.Z)(ot.root,at,"inherit"!==er&&ot[er],"initial"!==ct&&ot["color".concat((0,ol.Z)(ct))],Rt&&ot.noWrap,yt&&ot.gutterBottom,Ot&&ot.paragraph,"inherit"!==nt&&ot["align".concat((0,ol.Z)(nt))],"initial"!==dt&&ot["display".concat((0,ol.Z)(dt))]),ref:tt},wr))}));const kc=(0,js.Z)((function styles(Ne){return{root:{margin:0},body2:Ne.typography.body2,body1:Ne.typography.body1,caption:Ne.typography.caption,button:Ne.typography.button,h1:Ne.typography.h1,h2:Ne.typography.h2,h3:Ne.typography.h3,h4:Ne.typography.h4,h5:Ne.typography.h5,h6:Ne.typography.h6,subtitle1:Ne.typography.subtitle1,subtitle2:Ne.typography.subtitle2,overline:Ne.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:Ne.palette.primary.main},colorSecondary:{color:Ne.palette.secondary.main},colorTextPrimary:{color:Ne.palette.text.primary},colorTextSecondary:{color:Ne.palette.text.secondary},colorError:{color:Ne.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(wc);var Ec=Ne.forwardRef((function ListItemText(et,tt){var rt=et.children,nt=et.classes,ot=et.className,at=et.disableTypography,st=void 0!==at&&at,ct=et.inset,pt=void 0!==ct&&ct,ft=et.primary,dt=et.primaryTypographyProps,mt=et.secondary,yt=et.secondaryTypographyProps,vt=(0,Js.Z)(et,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),Rt=Ne.useContext(_l).dense,Dt=null!=ft?ft:rt;null==Dt||Dt.type===kc||st||(Dt=Ne.createElement(kc,(0,it.Z)({variant:Rt?"body2":"body1",className:nt.primary,component:"span",display:"block"},dt),Dt));var Ot=mt;return null==Ot||Ot.type===kc||st||(Ot=Ne.createElement(kc,(0,it.Z)({variant:"body2",className:nt.secondary,color:"textSecondary",display:"block"},yt),Ot)),Ne.createElement("div",(0,it.Z)({className:(0,tl.Z)(nt.root,ot,Rt&&nt.dense,pt&&nt.inset,Dt&&Ot&&nt.multiline),ref:tt},vt),Dt,Ot)}));const Cc=(0,js.Z)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(Ec);var Ic=__webpack_require__(885);const Ac=!1;var zc="unmounted",Dc="exited",Fc="entering",Bc="entered",Zc="exiting",Wc=function(rt){function Transition(Ne,et){var tt;tt=rt.call(this,Ne,et)||this;var nt,it=et&&!et.isMounting?Ne.enter:Ne.appear;return tt.appearStatus=null,Ne.in?it?(nt=Dc,tt.appearStatus=Fc):nt=Bc:nt=Ne.unmountOnExit||Ne.mountOnEnter?zc:Dc,tt.state={status:nt},tt.nextCallback=null,tt}(0,tt.Z)(Transition,rt),Transition.getDerivedStateFromProps=function getDerivedStateFromProps(Ne,et){return Ne.in&&et.status===zc?{status:Dc}:null};var nt=Transition.prototype;return nt.componentDidMount=function componentDidMount(){this.updateStatus(!0,this.appearStatus)},nt.componentDidUpdate=function componentDidUpdate(Ne){var et=null;if(Ne!==this.props){var tt=this.state.status;this.props.in?tt!==Fc&&tt!==Bc&&(et=Fc):tt!==Fc&&tt!==Bc||(et=Zc)}this.updateStatus(!1,et)},nt.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},nt.getTimeouts=function getTimeouts(){var Ne,et,tt,rt=this.props.timeout;return Ne=et=tt=rt,null!=rt&&"number"!=typeof rt&&(Ne=rt.exit,et=rt.enter,tt=void 0!==rt.appear?rt.appear:et),{exit:Ne,enter:et,appear:tt}},nt.updateStatus=function updateStatus(Ne,et){void 0===Ne&&(Ne=!1),null!==et?(this.cancelNextCallback(),et===Fc?this.performEnter(Ne):this.performExit()):this.props.unmountOnExit&&this.state.status===Dc&&this.setState({status:zc})},nt.performEnter=function performEnter(Ne){var tt=this,rt=this.props.enter,nt=this.context?this.context.isMounting:Ne,it=this.props.nodeRef?[nt]:[et.findDOMNode(this),nt],ot=it[0],at=it[1],st=this.getTimeouts(),ct=nt?st.appear:st.enter;!Ne&&!rt||Ac?this.safeSetState({status:Bc},(function(){tt.props.onEntered(ot)})):(this.props.onEnter(ot,at),this.safeSetState({status:Fc},(function(){tt.props.onEntering(ot,at),tt.onTransitionEnd(ct,(function(){tt.safeSetState({status:Bc},(function(){tt.props.onEntered(ot,at)}))}))})))},nt.performExit=function performExit(){var Ne=this,tt=this.props.exit,rt=this.getTimeouts(),nt=this.props.nodeRef?void 0:et.findDOMNode(this);tt&&!Ac?(this.props.onExit(nt),this.safeSetState({status:Zc},(function(){Ne.props.onExiting(nt),Ne.onTransitionEnd(rt.exit,(function(){Ne.safeSetState({status:Dc},(function(){Ne.props.onExited(nt)}))}))}))):this.safeSetState({status:Dc},(function(){Ne.props.onExited(nt)}))},nt.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},nt.safeSetState=function safeSetState(Ne,et){et=this.setNextCallback(et),this.setState(Ne,et)},nt.setNextCallback=function setNextCallback(Ne){var et=this,tt=!0;return this.nextCallback=function(rt){tt&&(tt=!1,et.nextCallback=null,Ne(rt))},this.nextCallback.cancel=function(){tt=!1},this.nextCallback},nt.onTransitionEnd=function onTransitionEnd(Ne,tt){this.setNextCallback(tt);var rt=this.props.nodeRef?this.props.nodeRef.current:et.findDOMNode(this),nt=null==Ne&&!this.props.addEndListener;if(rt&&!nt){if(this.props.addEndListener){var it=this.props.nodeRef?[this.nextCallback]:[rt,this.nextCallback],ot=it[0],at=it[1];this.props.addEndListener(ot,at)}null!=Ne&&setTimeout(this.nextCallback,Ne)}else setTimeout(this.nextCallback,0)},nt.render=function render(){var et=this.state.status;if(et===zc)return null;var tt=this.props,rt=tt.children,nt=(tt.in,tt.mountOnEnter,tt.unmountOnExit,tt.appear,tt.enter,tt.exit,tt.timeout,tt.addEndListener,tt.onEnter,tt.onEntering,tt.onEntered,tt.onExit,tt.onExiting,tt.onExited,tt.nodeRef,(0,er.Z)(tt,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return Ne.createElement(Fl.Provider,{value:null},"function"==typeof rt?rt(et,nt):Ne.cloneElement(Ne.Children.only(rt),nt))},Transition}(Ne.Component);function Transition_noop(){}Wc.contextType=Fl,Wc.propTypes={},Wc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Transition_noop,onEntering:Transition_noop,onEntered:Transition_noop,onExit:Transition_noop,onExiting:Transition_noop,onExited:Transition_noop},Wc.UNMOUNTED=zc,Wc.EXITED=Dc,Wc.ENTERING=Fc,Wc.ENTERED=Bc,Wc.EXITING=Zc;const Gc=Wc;var $c=__webpack_require__(3291);function getTransitionProps(Ne,et){var tt=Ne.timeout,rt=Ne.style,nt=void 0===rt?{}:rt;return{duration:nt.transitionDuration||"number"==typeof tt?tt:tt[et.mode]||0,delay:nt.transitionDelay}}var Hc=__webpack_require__(5959),Xc=__webpack_require__(9741);function useTheme_useTheme(){return(0,Hc.Z)()||Xc.Z}var Yc=Ne.forwardRef((function Collapse(et,tt){var rt=et.children,nt=et.classes,ot=et.className,at=et.collapsedHeight,st=void 0===at?"0px":at,ct=et.component,pt=void 0===ct?"div":ct,ft=et.disableStrictModeCompat,dt=void 0!==ft&&ft,mt=et.in,yt=et.onEnter,vt=et.onEntered,Rt=et.onEntering,Dt=et.onExit,Ot=et.onExited,Bt=et.onExiting,er=et.style,rr=et.timeout,vr=void 0===rr?$c.x9.standard:rr,wr=et.TransitionComponent,Sr=void 0===wr?Gc:wr,rn=(0,Js.Z)(et,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),vn=useTheme_useTheme(),bn=Ne.useRef(),Tn=Ne.useRef(null),Cn=Ne.useRef(),In="number"==typeof st?"".concat(st,"px"):st;Ne.useEffect((function(){return function(){clearTimeout(bn.current)}}),[]);var Mn=vn.unstable_strictMode&&!dt,zn=Ne.useRef(null),Ln=useForkRef(tt,Mn?zn:void 0),Fn=function normalizedTransitionCallback(Ne){return function(et,tt){if(Ne){var rt=Mn?[zn.current,et]:[et,tt],nt=(0,Ic.Z)(rt,2),it=nt[0],ot=nt[1];void 0===ot?Ne(it):Ne(it,ot)}}},Bn=Fn((function(Ne,et){Ne.style.height=In,yt&&yt(Ne,et)})),Nn=Fn((function(Ne,et){var tt=Tn.current?Tn.current.clientHeight:0,rt=getTransitionProps({style:er,timeout:vr},{mode:"enter"}).duration;if("auto"===vr){var nt=vn.transitions.getAutoHeightDuration(tt);Ne.style.transitionDuration="".concat(nt,"ms"),Cn.current=nt}else Ne.style.transitionDuration="string"==typeof rt?rt:"".concat(rt,"ms");Ne.style.height="".concat(tt,"px"),Rt&&Rt(Ne,et)})),Vn=Fn((function(Ne,et){Ne.style.height="auto",vt&&vt(Ne,et)})),Wn=Fn((function(Ne){var et=Tn.current?Tn.current.clientHeight:0;Ne.style.height="".concat(et,"px"),Dt&&Dt(Ne)})),$n=Fn(Ot),Yn=Fn((function(Ne){var et=Tn.current?Tn.current.clientHeight:0,tt=getTransitionProps({style:er,timeout:vr},{mode:"exit"}).duration;if("auto"===vr){var rt=vn.transitions.getAutoHeightDuration(et);Ne.style.transitionDuration="".concat(rt,"ms"),Cn.current=rt}else Ne.style.transitionDuration="string"==typeof tt?tt:"".concat(tt,"ms");Ne.style.height=In,Bt&&Bt(Ne)}));return Ne.createElement(Sr,(0,it.Z)({in:mt,onEnter:Bn,onEntered:Vn,onEntering:Nn,onExit:Wn,onExited:$n,onExiting:Yn,addEndListener:function addEndListener(Ne,et){var tt=Mn?Ne:et;"auto"===vr&&(bn.current=setTimeout(tt,Cn.current||0))},nodeRef:Mn?zn:void 0,timeout:"auto"===vr?null:vr},rn),(function(et,tt){return Ne.createElement(pt,(0,it.Z)({className:(0,tl.Z)(nt.container,ot,{entered:nt.entered,exited:!mt&&"0px"===In&&nt.hidden}[et]),style:(0,it.Z)({minHeight:In},er),ref:Ln},tt),Ne.createElement("div",{className:nt.wrapper,ref:Tn},Ne.createElement("div",{className:nt.wrapperInner},rt)))}))}));Yc.muiSupportAuto=!0;const rp=(0,js.Z)((function styles(Ne){return{container:{height:0,overflow:"hidden",transition:Ne.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(Yc);var ip=__webpack_require__(9693),op=Ne.forwardRef((function IconButton(et,tt){var rt=et.edge,nt=void 0!==rt&&rt,ot=et.children,at=et.classes,st=et.className,ct=et.color,pt=void 0===ct?"default":ct,ft=et.disabled,dt=void 0!==ft&&ft,mt=et.disableFocusRipple,yt=void 0!==mt&&mt,vt=et.size,Rt=void 0===vt?"medium":vt,Dt=(0,Js.Z)(et,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return Ne.createElement(pc,(0,it.Z)({className:(0,tl.Z)(at.root,st,"default"!==pt&&at["color".concat((0,ol.Z)(pt))],dt&&at.disabled,"small"===Rt&&at["size".concat((0,ol.Z)(Rt))],{start:at.edgeStart,end:at.edgeEnd}[nt]),centerRipple:!0,focusRipple:!yt,disabled:dt,ref:tt},Dt),Ne.createElement("span",{className:at.label},ot))}));const ap=(0,js.Z)((function styles(Ne){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:Ne.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:Ne.palette.action.active,transition:Ne.transitions.create("background-color",{duration:Ne.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,ip.U1)(Ne.palette.action.active,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:Ne.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:Ne.palette.primary.main,"&:hover":{backgroundColor:(0,ip.U1)(Ne.palette.primary.main,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:Ne.palette.secondary.main,"&:hover":{backgroundColor:(0,ip.U1)(Ne.palette.secondary.main,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:Ne.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(op);var sp=Ne.forwardRef((function ListItemSecondaryAction(et,tt){var rt=et.classes,nt=et.className,ot=(0,Js.Z)(et,["classes","className"]);return Ne.createElement("div",(0,it.Z)({className:(0,tl.Z)(rt.root,nt),ref:tt},ot))}));sp.muiName="ListItemSecondaryAction";const lp=(0,js.Z)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(sp);var cp=__webpack_require__(5025),pp=__webpack_require__(4566);const hp={Uganda:{src:"/assets/uganda_outline.png",alt:"Uganda outline",href:"/map?zoom=7&lng=32.37&lat=1.313"},Ethiopia:{src:"/assets/ethiopia_outline.png",alt:"Ethiopia outline",href:"/map?zoom=5.82&lng=40.25&lat=8.83"}};function Explore_defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}const fp=(0,js.Z)((Ne=>({root:{width:"100%",maxWidth:400,backgroundColor:Ne.palette.background.paper},nested:{paddingLeft:Ne.spacing(4)}})))((et=>{const{group:{regionGroup:tt,regions:rt},onToggleRegionIsCollapsed:nt,onSelectRegion:it,regionIsCollapsed:ot,classes:at}=et;return Ne.createElement(xl,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:Ne.createElement(vl,{component:"div",id:"nested-list-subheader"},tt),className:at.root},rt.sort(((Ne,et)=>Ne.name.localeCompare(et.name))).map((et=>{const{name:rt,regions:st=[]}=et,ct=ot[tt][rt];return Ne.createElement(Ne.Fragment,{key:`${tt}_${rt}`},Ne.createElement(bc,{button:!0,onClick:()=>it(et)},Ne.createElement(Cc,{primary:rt}),Ne.createElement(lp,null,!!st.length&&Ne.createElement(ap,{edge:"end","aria-label":"comments",onClick:()=>nt(tt,rt)},ct?Ne.createElement(cp.Z,null):Ne.createElement(pp.Z,null)))),Ne.createElement(rp,{in:ct,timeout:"auto",unmountOnExit:!0},Ne.createElement(xl,{component:"div",disablePadding:!0,dense:!0},st.sort(((Ne,et)=>Ne.name.localeCompare(et.name))).map((et=>Ne.createElement(bc,{key:`${tt}_${rt}_${et.name}`,button:!0,className:at.nested,onClick:()=>it(et)},Ne.createElement(Cc,{primary:et.name})))))))})))})),dp=(0,js.Z)({root:{color:Zs.Z[300]}})((et=>Ne.createElement(gl,{size:30,...et})));function nestRegions(Ne){const et=Ne[0],tt=Ne[1];if(Ne.length<2)return et.regions=et.regions.map((Ne=>({...Ne,regionLevel:et.regionLevel,hierarchyIndex:et.hierarchyIndex,regionGroup:et.regionGroup}))),et;tt.regions=tt.regions.map((Ne=>({...Ne,regionLevel:tt.regionLevel,hierarchyIndex:tt.hierarchyIndex,regionGroup:tt.regionGroup,regions:[]})));const rt={};return tt.regions.forEach(((Ne,et)=>{const tt=Ne.name.toLowerCase();rt[tt]||(rt[tt]=et)})),et.regions.forEach((Ne=>{const nt=Ne.parent?Ne.parent.toLowerCase():null;nt&&void 0!==rt[nt]?tt.regions[rt[nt]].regions.push({...Ne,regionLevel:et.regionLevel,hierarchyIndex:et.hierarchyIndex,regionGroup:et.regionGroup}):console.error(`Region (${Ne.name}) does not have a parent or parent (${nt}) was not found in higher level regions`)})),Ne.splice(0,1),nestRegions(Ne)}function formatData(Ne){const et=[];let tt={};for(const rt of Ne){const{regionGroup:Ne}=rt;void 0===tt[Ne]&&(tt[Ne]=et.length,et.push([])),et[tt[Ne]].push(rt)}return et.map((Ne=>(Ne.sort(((Ne,et)=>et.hierarchyIndex-Ne.hierarchyIndex)),nestRegions(Ne))))}class Explore extends Ne.Component{constructor(et){super(et),Explore_defineProperty(this,"loadAdminRegions",(async()=>{this.setState({isLoading:!0});const Ne=formatData(await Promise.all(Us.filter((({showOnHome:Ne})=>Ne)).map((async Ne=>{const{name:et,label:tt,hierarchyIndex:rt}=Ne;return{regionLevel:et,regionGroup:tt,hierarchyIndex:rt,regions:(await Ne.fetchMetadata()).map((({properties:Ne})=>({name:Ne.regionName,parent:Ne.parentRegionName,bbox:Ne.bbox})))}})))),et={};for(const tt of Ne){et[tt.regionGroup]={};for(const Ne of tt.regions)et[tt.regionGroup][Ne.name]=!1}this.setState({regionGroups:Ne,regionIsCollapsed:et,isLoading:!1})})),Explore_defineProperty(this,"handleToggleRegionIsCollapsed",((Ne,et)=>{const{regionIsCollapsed:tt}=this.state,rt=tt[Ne][et],nt={...tt,[Ne]:{...tt[Ne],[et]:!rt}};this.setState({regionIsCollapsed:nt})})),Explore_defineProperty(this,"handleSelectRegion",(Ne=>{const{history:et}=this.props,{regionGroup:tt,regionLevel:rt,name:nt,bbox:it}=Ne,ot=`/map?&bbox=${it}&region=${encodeURIComponent(nt)}&adminLayer_${encodeURIComponent(tt)}=${encodeURIComponent(rt)}`;et.push(ot)})),Explore_defineProperty(this,"renderAdminRegions",(()=>{const{regionGroups:et,regionIsCollapsed:tt,isLoading:rt}=this.state;return rt?Ne.createElement("div",{className:fs.loadingWrapper},Ne.createElement(dp,null)):et.map((({regionGroup:et,regions:rt})=>Ne.createElement("div",{key:et,className:fs.regionWrapper},Ne.createElement("div",{className:fs.imageWrapper},Ne.createElement("img",{width:100,height:100,src:`${(hp[et]||{}).src}`,alt:(hp[et]||{}).alt,onClick:()=>{const{history:Ne}=this.props;Ne.push(hp[et].href)}})),Ne.createElement("div",{className:fs.listWrapper},Ne.createElement(fp,{group:{regionGroup:et,regions:rt},regionIsCollapsed:tt,onToggleRegionIsCollapsed:this.handleToggleRegionIsCollapsed,onSelectRegion:this.handleSelectRegion})))))})),this.state={isLoading:!1,regionGroups:[],regionIsCollapsed:{}}}componentDidMount(){this.loadAdminRegions()}render(){return Ne.createElement("div",{className:fs.exploreWrapper},this.renderAdminRegions())}}const mp=withRouter(Explore);__webpack_require__(3475),__webpack_require__(5827),__webpack_require__(4603);var gp=__webpack_require__(8996),yp={};yp.styleTagTransform=ga(),yp.setAttributes=ia(),yp.insert=ea().bind(null,"head"),yp.domAPI=vo(),yp.insertStyleElement=la();uo()(gp.Z,yp);const vp=gp.Z&&gp.Z.locals?gp.Z.locals:void 0;var _p=__webpack_require__(7762),bp=Ne.forwardRef((function FormGroup(et,tt){var rt=et.classes,nt=et.className,ot=et.row,at=void 0!==ot&&ot,st=(0,Js.Z)(et,["classes","className","row"]);return Ne.createElement("div",(0,it.Z)({className:(0,tl.Z)(rt.root,nt,at&&rt.row),ref:tt},st))}));const xp=(0,js.Z)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(bp);function hasValue(Ne){return null!=Ne&&!(Array.isArray(Ne)&&0===Ne.length)}var wp=Ne.createContext();const kp=wp;var Sp=Ne.forwardRef((function FormControl(et,tt){var rt=et.children,nt=et.classes,ot=et.className,at=et.color,st=void 0===at?"primary":at,ct=et.component,pt=void 0===ct?"div":ct,ft=et.disabled,dt=void 0!==ft&&ft,mt=et.error,yt=void 0!==mt&&mt,vt=et.fullWidth,Rt=void 0!==vt&&vt,Dt=et.focused,Ot=et.hiddenLabel,Bt=void 0!==Ot&&Ot,er=et.margin,rr=void 0===er?"none":er,vr=et.required,wr=void 0!==vr&&vr,Sr=et.size,rn=et.variant,vn=void 0===rn?"standard":rn,bn=(0,Js.Z)(et,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),Tn=Ne.useState((function(){var et=!1;return rt&&Ne.Children.forEach(rt,(function(Ne){if(isMuiElement(Ne,["Input","Select"])){var tt=isMuiElement(Ne,["Select"])?Ne.props.input:Ne;tt&&function isAdornedStart(Ne){return Ne.startAdornment}(tt.props)&&(et=!0)}})),et})),Cn=Tn[0],In=Tn[1],Mn=Ne.useState((function(){var et=!1;return rt&&Ne.Children.forEach(rt,(function(Ne){isMuiElement(Ne,["Input","Select"])&&function isFilled(Ne){var et=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ne&&(hasValue(Ne.value)&&""!==Ne.value||et&&hasValue(Ne.defaultValue)&&""!==Ne.defaultValue)}(Ne.props,!0)&&(et=!0)})),et})),zn=Mn[0],Ln=Mn[1],Fn=Ne.useState(!1),Bn=Fn[0],Nn=Fn[1],Vn=void 0!==Dt?Dt:Bn;dt&&Vn&&Nn(!1);var Wn=Ne.useCallback((function(){Ln(!0)}),[]),$n={adornedStart:Cn,setAdornedStart:In,color:st,disabled:dt,error:yt,filled:zn,focused:Vn,fullWidth:Rt,hiddenLabel:Bt,margin:("small"===Sr?"dense":void 0)||rr,onBlur:function onBlur(){Nn(!1)},onEmpty:Ne.useCallback((function(){Ln(!1)}),[]),onFilled:Wn,onFocus:function onFocus(){Nn(!0)},registerEffect:undefined,required:wr,variant:vn};return Ne.createElement(kp.Provider,{value:$n},Ne.createElement(pt,(0,it.Z)({className:(0,tl.Z)(nt.root,ot,"none"!==rr&&nt["margin".concat((0,ol.Z)(rr))],Rt&&nt.fullWidth),ref:tt},bn),rt))}));const Ep=(0,js.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(Sp);function useFormControl_useFormControl(){return Ne.useContext(kp)}var Tp=Ne.forwardRef((function FormControlLabel(et,tt){et.checked;var rt=et.classes,nt=et.className,ot=et.control,at=et.disabled,st=(et.inputRef,et.label),ct=et.labelPlacement,pt=void 0===ct?"end":ct,ft=(et.name,et.onChange,et.value,(0,Js.Z)(et,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),dt=useFormControl_useFormControl(),mt=at;void 0===mt&&void 0!==ot.props.disabled&&(mt=ot.props.disabled),void 0===mt&&dt&&(mt=dt.disabled);var yt={disabled:mt};return["checked","name","onChange","value","inputRef"].forEach((function(Ne){void 0===ot.props[Ne]&&void 0!==et[Ne]&&(yt[Ne]=et[Ne])})),Ne.createElement("label",(0,it.Z)({className:(0,tl.Z)(rt.root,nt,"end"!==pt&&rt["labelPlacement".concat((0,ol.Z)(pt))],mt&&rt.disabled),ref:tt},ft),Ne.cloneElement(ot,yt),Ne.createElement(kc,{component:"span",className:(0,tl.Z)(rt.label,mt&&rt.disabled)},st))}));const Cp=(0,js.Z)((function styles(Ne){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:Ne.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(Tp);var Pp=Ne.forwardRef((function FormHelperText(et,tt){var rt=et.children,nt=et.classes,ot=et.className,at=et.component,st=void 0===at?"p":at,ct=(et.disabled,et.error,et.filled,et.focused,et.margin,et.required,et.variant,(0,Js.Z)(et,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),pt=function formControlState(Ne){var et=Ne.props,tt=Ne.states,rt=Ne.muiFormControl;return tt.reduce((function(Ne,tt){return Ne[tt]=et[tt],rt&&void 0===et[tt]&&(Ne[tt]=rt[tt]),Ne}),{})}({props:et,muiFormControl:useFormControl_useFormControl(),states:["variant","margin","disabled","error","filled","focused","required"]});return Ne.createElement(st,(0,it.Z)({className:(0,tl.Z)(nt.root,("filled"===pt.variant||"outlined"===pt.variant)&&nt.contained,ot,pt.disabled&&nt.disabled,pt.error&&nt.error,pt.filled&&nt.filled,pt.focused&&nt.focused,pt.required&&nt.required,"dense"===pt.margin&&nt.marginDense),ref:tt},ct)," "===rt?Ne.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):rt)}));const Ip=(0,js.Z)((function styles(Ne){return{root:(0,it.Z)({color:Ne.palette.text.secondary},Ne.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:Ne.palette.text.disabled},"&$error":{color:Ne.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(Pp);function useControlled(et){var tt=et.controlled,rt=et.default,nt=(et.name,et.state,Ne.useRef(void 0!==tt).current),it=Ne.useState(rt),ot=it[0],at=it[1];return[nt?tt:ot,Ne.useCallback((function(Ne){nt||at(Ne)}),[])]}var Ap=Ne.forwardRef((function SwitchBase(et,tt){var rt=et.autoFocus,nt=et.checked,ot=et.checkedIcon,at=et.classes,st=et.className,ct=et.defaultChecked,pt=et.disabled,ft=et.icon,dt=et.id,mt=et.inputProps,yt=et.inputRef,vt=et.name,Rt=et.onBlur,Dt=et.onChange,Ot=et.onFocus,Bt=et.readOnly,er=et.required,rr=et.tabIndex,vr=et.type,wr=et.value,Sr=(0,Js.Z)(et,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),rn=useControlled({controlled:nt,default:Boolean(ct),name:"SwitchBase",state:"checked"}),vn=(0,Ic.Z)(rn,2),bn=vn[0],Tn=vn[1],Cn=useFormControl_useFormControl(),In=pt;Cn&&void 0===In&&(In=Cn.disabled);var Mn="checkbox"===vr||"radio"===vr;return Ne.createElement(ap,(0,it.Z)({component:"span",className:(0,tl.Z)(at.root,st,bn&&at.checked,In&&at.disabled),disabled:In,tabIndex:null,role:void 0,onFocus:function handleFocus(Ne){Ot&&Ot(Ne),Cn&&Cn.onFocus&&Cn.onFocus(Ne)},onBlur:function handleBlur(Ne){Rt&&Rt(Ne),Cn&&Cn.onBlur&&Cn.onBlur(Ne)},ref:tt},Sr),Ne.createElement("input",(0,it.Z)({autoFocus:rt,checked:nt,defaultChecked:ct,className:at.input,disabled:In,id:Mn&&dt,name:vt,onChange:function handleInputChange(Ne){var et=Ne.target.checked;Tn(et),Dt&&Dt(Ne,et)},readOnly:Bt,ref:yt,required:er,tabIndex:rr,type:vr,value:wr},mt)),bn?ot:ft)}));const Rp=(0,js.Z)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(Ap);var Mp=Ne.forwardRef((function Switch(et,tt){var rt=et.classes,nt=et.className,ot=et.color,at=void 0===ot?"secondary":ot,st=et.edge,ct=void 0!==st&&st,pt=et.size,ft=void 0===pt?"medium":pt,dt=(0,Js.Z)(et,["classes","className","color","edge","size"]),mt=Ne.createElement("span",{className:rt.thumb});return Ne.createElement("span",{className:(0,tl.Z)(rt.root,nt,{start:rt.edgeStart,end:rt.edgeEnd}[ct],"small"===ft&&rt["size".concat((0,ol.Z)(ft))])},Ne.createElement(Rp,(0,it.Z)({type:"checkbox",icon:mt,checkedIcon:mt,classes:{root:(0,tl.Z)(rt.switchBase,rt["color".concat((0,ol.Z)(at))]),input:rt.input,checked:rt.checked,disabled:rt.disabled},ref:tt},dt)),Ne.createElement("span",{className:rt.track}))}));const zp=(0,js.Z)((function styles(Ne){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===Ne.palette.type?Ne.palette.grey[50]:Ne.palette.grey[400],transition:Ne.transitions.create(["left","transform"],{duration:Ne.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===Ne.palette.type?Ne.palette.grey[400]:Ne.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===Ne.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:Ne.palette.primary.main,"&:hover":{backgroundColor:(0,ip.U1)(Ne.palette.primary.main,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===Ne.palette.type?Ne.palette.grey[400]:Ne.palette.grey[800]},"&$checked + $track":{backgroundColor:Ne.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===Ne.palette.type?Ne.palette.common.black:Ne.palette.common.white}},colorSecondary:{"&$checked":{color:Ne.palette.secondary.main,"&:hover":{backgroundColor:(0,ip.U1)(Ne.palette.secondary.main,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===Ne.palette.type?Ne.palette.grey[400]:Ne.palette.grey[800]},"&$checked + $track":{backgroundColor:Ne.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===Ne.palette.type?Ne.palette.common.black:Ne.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:Ne.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:Ne.transitions.create(["opacity","background-color"],{duration:Ne.transitions.duration.shortest}),backgroundColor:"light"===Ne.palette.type?Ne.palette.common.black:Ne.palette.common.white,opacity:"light"===Ne.palette.type?.38:.3}}}),{name:"MuiSwitch"})(Mp);var Lp=__webpack_require__(2087);function createSvgIcon(et,tt){var rt=function Component(tt,rt){return Ne.createElement(Lp.Z,(0,it.Z)({ref:rt},tt),et)};return rt.muiName=Lp.Z.muiName,Ne.memo(Ne.forwardRef(rt))}const Dp=createSvgIcon(Ne.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Op=createSvgIcon(Ne.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}));const Fp=(0,js.Z)((function styles(Ne){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:Ne.transitions.create("transform",{easing:Ne.transitions.easing.easeOut,duration:Ne.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:Ne.transitions.create("transform",{easing:Ne.transitions.easing.easeIn,duration:Ne.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function RadioButtonIcon(et){var tt=et.checked,rt=et.classes,nt=et.fontSize;return Ne.createElement("div",{className:(0,tl.Z)(rt.root,tt&&rt.checked)},Ne.createElement(Dp,{fontSize:nt}),Ne.createElement(Op,{fontSize:nt,className:rt.layer}))}));function createChainedFunction(){for(var Ne=arguments.length,et=new Array(Ne),tt=0;tt<Ne;tt++)et[tt]=arguments[tt];return et.reduce((function(Ne,et){return null==et?Ne:function chainedFunction(){for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];Ne.apply(this,rt),et.apply(this,rt)}}),(function(){}))}const Bp=Ne.createContext();var Np=Ne.createElement(Fp,{checked:!0}),Vp=Ne.createElement(Fp,null),Up=Ne.forwardRef((function Radio(et,tt){var rt=et.checked,nt=et.classes,ot=et.color,at=void 0===ot?"secondary":ot,st=et.name,ct=et.onChange,pt=et.size,ft=void 0===pt?"medium":pt,dt=(0,Js.Z)(et,["checked","classes","color","name","onChange","size"]),mt=function useRadioGroup(){return Ne.useContext(Bp)}(),yt=rt,vt=createChainedFunction(ct,mt&&mt.onChange),Rt=st;return mt&&(void 0===yt&&(yt=mt.value===et.value),void 0===Rt&&(Rt=mt.name)),Ne.createElement(Rp,(0,it.Z)({color:at,type:"radio",icon:Ne.cloneElement(Vp,{fontSize:"small"===ft?"small":"default"}),checkedIcon:Ne.cloneElement(Np,{fontSize:"small"===ft?"small":"default"}),classes:{root:(0,tl.Z)(nt.root,nt["color".concat((0,ol.Z)(at))]),checked:nt.checked,disabled:nt.disabled},name:Rt,checked:yt,onChange:vt,ref:tt},dt))}));const jp=(0,js.Z)((function styles(Ne){return{root:{color:Ne.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:Ne.palette.primary.main,"&:hover":{backgroundColor:(0,ip.U1)(Ne.palette.primary.main,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:Ne.palette.action.disabled}},colorSecondary:{"&$checked":{color:Ne.palette.secondary.main,"&:hover":{backgroundColor:(0,ip.U1)(Ne.palette.secondary.main,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:Ne.palette.action.disabled}}}}),{name:"MuiRadio"})(Up);function useId(et){var tt=Ne.useState(et),rt=tt[0],nt=tt[1],it=et||rt;return Ne.useEffect((function(){null==rt&&nt("mui-".concat(Math.round(1e5*Math.random())))}),[rt]),it}const Zp=Ne.forwardRef((function RadioGroup(et,tt){var rt=et.actions,nt=et.children,ot=et.name,at=et.value,st=et.onChange,ct=(0,Js.Z)(et,["actions","children","name","value","onChange"]),pt=Ne.useRef(null),ft=useControlled({controlled:at,default:et.defaultValue,name:"RadioGroup"}),dt=(0,Ic.Z)(ft,2),mt=dt[0],yt=dt[1];Ne.useImperativeHandle(rt,(function(){return{focus:function focus(){var Ne=pt.current.querySelector("input:not(:disabled):checked");Ne||(Ne=pt.current.querySelector("input:not(:disabled)")),Ne&&Ne.focus()}}}),[]);var vt=useForkRef(tt,pt),Rt=useId(ot);return Ne.createElement(Bp.Provider,{value:{name:Rt,onChange:function handleChange(Ne){yt(Ne.target.value),st&&st(Ne,Ne.target.value)},value:mt}},Ne.createElement(xp,(0,it.Z)({role:"radiogroup",ref:vt},ct),nt))})),qp=createSvgIcon(Ne.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function isDeleteKeyboardEvent(Ne){return"Backspace"===Ne.key||"Delete"===Ne.key}var Wp=Ne.forwardRef((function Chip(et,tt){var rt=et.avatar,nt=et.classes,ot=et.className,at=et.clickable,st=et.color,ct=void 0===st?"default":st,pt=et.component,ft=et.deleteIcon,dt=et.disabled,mt=void 0!==dt&&dt,yt=et.icon,vt=et.label,Rt=et.onClick,Dt=et.onDelete,Ot=et.onKeyDown,Bt=et.onKeyUp,er=et.size,rr=void 0===er?"medium":er,vr=et.variant,wr=void 0===vr?"default":vr,Sr=(0,Js.Z)(et,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),rn=Ne.useRef(null),vn=useForkRef(rn,tt),bn=function handleDeleteIconClick(Ne){Ne.stopPropagation(),Dt&&Dt(Ne)},Tn=!(!1===at||!Rt)||at,Cn="small"===rr,In=pt||(Tn?pc:"div"),Mn=In===pc?{component:"div"}:{},zn=null;if(Dt){var Ln=(0,tl.Z)("default"!==ct&&("default"===wr?nt["deleteIconColor".concat((0,ol.Z)(ct))]:nt["deleteIconOutlinedColor".concat((0,ol.Z)(ct))]),Cn&&nt.deleteIconSmall);zn=ft&&Ne.isValidElement(ft)?Ne.cloneElement(ft,{className:(0,tl.Z)(ft.props.className,nt.deleteIcon,Ln),onClick:bn}):Ne.createElement(qp,{className:(0,tl.Z)(nt.deleteIcon,Ln),onClick:bn})}var Fn=null;rt&&Ne.isValidElement(rt)&&(Fn=Ne.cloneElement(rt,{className:(0,tl.Z)(nt.avatar,rt.props.className,Cn&&nt.avatarSmall,"default"!==ct&&nt["avatarColor".concat((0,ol.Z)(ct))])}));var Bn=null;return yt&&Ne.isValidElement(yt)&&(Bn=Ne.cloneElement(yt,{className:(0,tl.Z)(nt.icon,yt.props.className,Cn&&nt.iconSmall,"default"!==ct&&nt["iconColor".concat((0,ol.Z)(ct))])})),Ne.createElement(In,(0,it.Z)({role:Tn||Dt?"button":void 0,className:(0,tl.Z)(nt.root,ot,"default"!==ct&&[nt["color".concat((0,ol.Z)(ct))],Tn&&nt["clickableColor".concat((0,ol.Z)(ct))],Dt&&nt["deletableColor".concat((0,ol.Z)(ct))]],"default"!==wr&&[nt.outlined,{primary:nt.outlinedPrimary,secondary:nt.outlinedSecondary}[ct]],mt&&nt.disabled,Cn&&nt.sizeSmall,Tn&&nt.clickable,Dt&&nt.deletable),"aria-disabled":!!mt||void 0,tabIndex:Tn||Dt?0:void 0,onClick:Rt,onKeyDown:function handleKeyDown(Ne){Ne.currentTarget===Ne.target&&isDeleteKeyboardEvent(Ne)&&Ne.preventDefault(),Ot&&Ot(Ne)},onKeyUp:function handleKeyUp(Ne){Ne.currentTarget===Ne.target&&(Dt&&isDeleteKeyboardEvent(Ne)?Dt(Ne):"Escape"===Ne.key&&rn.current&&rn.current.blur()),Bt&&Bt(Ne)},ref:vn},Mn,Sr),Fn||Bn,Ne.createElement("span",{className:(0,tl.Z)(nt.label,Cn&&nt.labelSmall)},vt),zn)}));const Gp=(0,js.Z)((function styles(Ne){var et="light"===Ne.palette.type?Ne.palette.grey[300]:Ne.palette.grey[700],tt=(0,ip.U1)(Ne.palette.text.primary,.26);return{root:{fontFamily:Ne.typography.fontFamily,fontSize:Ne.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:Ne.palette.getContrastText(et),backgroundColor:et,borderRadius:16,whiteSpace:"nowrap",transition:Ne.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===Ne.palette.type?Ne.palette.grey[700]:Ne.palette.grey[300],fontSize:Ne.typography.pxToRem(12)},"& $avatarColorPrimary":{color:Ne.palette.primary.contrastText,backgroundColor:Ne.palette.primary.dark},"& $avatarColorSecondary":{color:Ne.palette.secondary.contrastText,backgroundColor:Ne.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:Ne.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:Ne.palette.primary.main,color:Ne.palette.primary.contrastText},colorSecondary:{backgroundColor:Ne.palette.secondary.main,color:Ne.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:(0,ip._4)(et,.08)},"&:active":{boxShadow:Ne.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:(0,ip._4)(Ne.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:(0,ip._4)(Ne.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:(0,ip._4)(et,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:(0,ip._4)(Ne.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:(0,ip._4)(Ne.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===Ne.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,ip.U1)(Ne.palette.text.primary,Ne.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:Ne.palette.primary.main,border:"1px solid ".concat(Ne.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,ip.U1)(Ne.palette.primary.main,Ne.palette.action.hoverOpacity)}},outlinedSecondary:{color:Ne.palette.secondary.main,border:"1px solid ".concat(Ne.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,ip.U1)(Ne.palette.secondary.main,Ne.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===Ne.palette.type?Ne.palette.grey[700]:Ne.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:tt,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:(0,ip.U1)(tt,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:(0,ip.U1)(Ne.palette.primary.contrastText,.7),"&:hover, &:active":{color:Ne.palette.primary.contrastText}},deleteIconColorSecondary:{color:(0,ip.U1)(Ne.palette.secondary.contrastText,.7),"&:hover, &:active":{color:Ne.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:(0,ip.U1)(Ne.palette.primary.main,.7),"&:hover, &:active":{color:Ne.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:(0,ip.U1)(Ne.palette.secondary.main,.7),"&:hover, &:active":{color:Ne.palette.secondary.main}}}}),{name:"MuiChip"})(Wp);function ownerDocument(Ne){return Ne&&Ne.ownerDocument||document}const $p=(0,js.Z)((function styles(Ne){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:(0,it.Z)({zIndex:1},Ne.typography.body2,{fontSize:Ne.typography.pxToRem(12),lineHeight:1.2,transition:Ne.transitions.create(["transform"],{duration:Ne.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:Ne.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function ValueLabel(et){var tt=et.children,rt=et.classes,nt=et.className,it=et.open,ot=et.value,at=et.valueLabelDisplay;return"off"===at?tt:Ne.cloneElement(tt,{className:(0,tl.Z)(tt.props.className,(it||"on"===at)&&rt.open,rt.thumb)},Ne.createElement("span",{className:(0,tl.Z)(rt.offset,nt)},Ne.createElement("span",{className:rt.circle},Ne.createElement("span",{className:rt.label},ot))))}));function asc(Ne,et){return Ne-et}function Slider_clamp(Ne,et,tt){return Math.min(Math.max(et,Ne),tt)}function findClosest(Ne,et){var tt=Ne.reduce((function(Ne,tt,rt){var nt=Math.abs(et-tt);return null===Ne||nt<Ne.distance||nt===Ne.distance?{distance:nt,index:rt}:Ne}),null);return tt.index}function trackFinger(Ne,et){if(void 0!==et.current&&Ne.changedTouches){for(var tt=0;tt<Ne.changedTouches.length;tt+=1){var rt=Ne.changedTouches[tt];if(rt.identifier===et.current)return{x:rt.clientX,y:rt.clientY}}return!1}return{x:Ne.clientX,y:Ne.clientY}}function valueToPercent(Ne,et,tt){return 100*(Ne-et)/(tt-et)}function roundValueToStep(Ne,et,tt){var rt=Math.round((Ne-tt)/et)*et+tt;return Number(rt.toFixed(function getDecimalPrecision(Ne){if(Math.abs(Ne)<1){var et=Ne.toExponential().split("e-"),tt=et[0].split(".")[1];return(tt?tt.length:0)+parseInt(et[1],10)}var rt=Ne.toString().split(".")[1];return rt?rt.length:0}(et)))}function setValueIndex(Ne){var et=Ne.values,tt=Ne.source,rt=Ne.newValue,nt=Ne.index;if(et[nt]===rt)return tt;var it=et.slice();return it[nt]=rt,it}function focusThumb(Ne){var et=Ne.sliderRef,tt=Ne.activeIndex,rt=Ne.setActive;et.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===tt||et.current.querySelector('[role="slider"][data-index="'.concat(tt,'"]')).focus(),rt&&rt(tt)}var Hp={horizontal:{offset:function offset(Ne){return{left:"".concat(Ne,"%")}},leap:function leap(Ne){return{width:"".concat(Ne,"%")}}},"horizontal-reverse":{offset:function offset(Ne){return{right:"".concat(Ne,"%")}},leap:function leap(Ne){return{width:"".concat(Ne,"%")}}},vertical:{offset:function offset(Ne){return{bottom:"".concat(Ne,"%")}},leap:function leap(Ne){return{height:"".concat(Ne,"%")}}}},Xp=function Identity(Ne){return Ne},Kp=Ne.forwardRef((function Slider(et,tt){var rt=et["aria-label"],nt=et["aria-labelledby"],ot=et["aria-valuetext"],at=et.classes,st=et.className,ct=et.color,pt=void 0===ct?"primary":ct,ft=et.component,dt=void 0===ft?"span":ft,mt=et.defaultValue,yt=et.disabled,vt=void 0!==yt&&yt,Rt=et.getAriaLabel,Dt=et.getAriaValueText,Ot=et.marks,Bt=void 0!==Ot&&Ot,er=et.max,rr=void 0===er?100:er,vr=et.min,wr=void 0===vr?0:vr,Sr=et.name,rn=et.onChange,vn=et.onChangeCommitted,bn=et.onMouseDown,Tn=et.orientation,Cn=void 0===Tn?"horizontal":Tn,In=et.scale,Mn=void 0===In?Xp:In,zn=et.step,Ln=void 0===zn?1:zn,Fn=et.ThumbComponent,Bn=void 0===Fn?"span":Fn,Nn=et.track,Vn=void 0===Nn?"normal":Nn,Wn=et.value,$n=et.ValueLabelComponent,Yn=void 0===$n?$p:$n,ii=et.valueLabelDisplay,qi=void 0===ii?"off":ii,uo=et.valueLabelFormat,po=void 0===uo?Xp:uo,vo=(0,Js.Z)(et,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),So=useTheme_useTheme(),ea=Ne.useRef(),ta=Ne.useState(-1),ia=ta[0],sa=ta[1],la=Ne.useState(-1),fa=la[0],ga=la[1],_a=useControlled({controlled:Wn,default:mt,name:"Slider"}),Aa=(0,Ic.Z)(_a,2),os=Aa[0],as=Aa[1],ss=Array.isArray(os),ls=ss?os.slice().sort(asc):[os];ls=ls.map((function(Ne){return Slider_clamp(Ne,wr,rr)}));var us=!0===Bt&&null!==Ln?(0,Al.Z)(Array(Math.floor((rr-wr)/Ln)+1)).map((function(Ne,et){return{value:wr+Ln*et}})):Bt||[],fs=useIsFocusVisible(),gs=fs.isFocusVisible,vs=fs.onBlurVisible,xs=fs.ref,Ss=Ne.useState(-1),Es=Ss[0],Cs=Ss[1],Ps=Ne.useRef(),As=useForkRef(xs,Ps),Rs=useForkRef(tt,As),Ms=useEventCallback((function(Ne){var et=Number(Ne.currentTarget.getAttribute("data-index"));gs(Ne)&&Cs(et),ga(et)})),zs=useEventCallback((function(){-1!==Es&&(Cs(-1),vs()),ga(-1)})),Ls=useEventCallback((function(Ne){var et=Number(Ne.currentTarget.getAttribute("data-index"));ga(et)})),Os=useEventCallback((function(){ga(-1)})),Fs="rtl"===So.direction,Bs=useEventCallback((function(Ne){var et,tt=Number(Ne.currentTarget.getAttribute("data-index")),rt=ls[tt],nt=(rr-wr)/10,it=us.map((function(Ne){return Ne.value})),ot=it.indexOf(rt),at=Fs?"ArrowLeft":"ArrowRight",st=Fs?"ArrowRight":"ArrowLeft";switch(Ne.key){case"Home":et=wr;break;case"End":et=rr;break;case"PageUp":Ln&&(et=rt+nt);break;case"PageDown":Ln&&(et=rt-nt);break;case at:case"ArrowUp":et=Ln?rt+Ln:it[ot+1]||it[it.length-1];break;case st:case"ArrowDown":et=Ln?rt-Ln:it[ot-1]||it[0];break;default:return}if(Ne.preventDefault(),Ln&&(et=roundValueToStep(et,Ln,wr)),et=Slider_clamp(et,wr,rr),ss){var ct=et;et=setValueIndex({values:ls,source:os,newValue:et,index:tt}).sort(asc),focusThumb({sliderRef:Ps,activeIndex:et.indexOf(ct)})}as(et),Cs(tt),rn&&rn(Ne,et),vn&&vn(Ne,et)})),Ns=Ne.useRef(),Vs=Cn;Fs&&"vertical"!==Cn&&(Vs+="-reverse");var Us=function getFingerNewValue(Ne){var et,tt,rt=Ne.finger,nt=Ne.move,it=void 0!==nt&&nt,ot=Ne.values,at=Ne.source,st=Ps.current.getBoundingClientRect(),ct=st.width,pt=st.height,ft=st.bottom,dt=st.left;if(et=0===Vs.indexOf("vertical")?(ft-rt.y)/pt:(rt.x-dt)/ct,-1!==Vs.indexOf("-reverse")&&(et=1-et),tt=function percentToValue(Ne,et,tt){return(tt-et)*Ne+et}(et,wr,rr),Ln)tt=roundValueToStep(tt,Ln,wr);else{var mt=us.map((function(Ne){return Ne.value}));tt=mt[findClosest(mt,tt)]}tt=Slider_clamp(tt,wr,rr);var yt=0;if(ss){var vt=tt;yt=(tt=setValueIndex({values:ot,source:at,newValue:tt,index:yt=it?Ns.current:findClosest(ot,tt)}).sort(asc)).indexOf(vt),Ns.current=yt}return{newValue:tt,activeIndex:yt}},js=useEventCallback((function(Ne){var et=trackFinger(Ne,ea);if(et){var tt=Us({finger:et,move:!0,values:ls,source:os}),rt=tt.newValue,nt=tt.activeIndex;focusThumb({sliderRef:Ps,activeIndex:nt,setActive:sa}),as(rt),rn&&rn(Ne,rt)}})),Zs=useEventCallback((function(Ne){var et=trackFinger(Ne,ea);if(et){var tt=Us({finger:et,values:ls,source:os}).newValue;sa(-1),"touchend"===Ne.type&&ga(-1),vn&&vn(Ne,tt),ea.current=void 0;var rt=ownerDocument(Ps.current);rt.removeEventListener("mousemove",js),rt.removeEventListener("mouseup",Zs),rt.removeEventListener("touchmove",js),rt.removeEventListener("touchend",Zs)}})),sl=useEventCallback((function(Ne){Ne.preventDefault();var et=Ne.changedTouches[0];null!=et&&(ea.current=et.identifier);var tt=trackFinger(Ne,ea),rt=Us({finger:tt,values:ls,source:os}),nt=rt.newValue,it=rt.activeIndex;focusThumb({sliderRef:Ps,activeIndex:it,setActive:sa}),as(nt),rn&&rn(Ne,nt);var ot=ownerDocument(Ps.current);ot.addEventListener("touchmove",js),ot.addEventListener("touchend",Zs)}));Ne.useEffect((function(){var Ne=Ps.current;Ne.addEventListener("touchstart",sl);var et=ownerDocument(Ne);return function(){Ne.removeEventListener("touchstart",sl),et.removeEventListener("mousemove",js),et.removeEventListener("mouseup",Zs),et.removeEventListener("touchmove",js),et.removeEventListener("touchend",Zs)}}),[Zs,js,sl]);var dl=useEventCallback((function(Ne){bn&&bn(Ne),Ne.preventDefault();var et=trackFinger(Ne,ea),tt=Us({finger:et,values:ls,source:os}),rt=tt.newValue,nt=tt.activeIndex;focusThumb({sliderRef:Ps,activeIndex:nt,setActive:sa}),as(rt),rn&&rn(Ne,rt);var it=ownerDocument(Ps.current);it.addEventListener("mousemove",js),it.addEventListener("mouseup",Zs)})),gl=valueToPercent(ss?ls[0]:wr,wr,rr),yl=valueToPercent(ls[ls.length-1],wr,rr)-gl,vl=(0,it.Z)({},Hp[Vs].offset(gl),Hp[Vs].leap(yl));return Ne.createElement(dt,(0,it.Z)({ref:Rs,className:(0,tl.Z)(at.root,at["color".concat((0,ol.Z)(pt))],st,vt&&at.disabled,us.length>0&&us.some((function(Ne){return Ne.label}))&&at.marked,!1===Vn&&at.trackFalse,"vertical"===Cn&&at.vertical,"inverted"===Vn&&at.trackInverted),onMouseDown:dl},vo),Ne.createElement("span",{className:at.rail}),Ne.createElement("span",{className:at.track,style:vl}),Ne.createElement("input",{value:ls.join(","),name:Sr,type:"hidden"}),us.map((function(et,tt){var rt,nt=valueToPercent(et.value,wr,rr),it=Hp[Vs].offset(nt);return rt=!1===Vn?-1!==ls.indexOf(et.value):"normal"===Vn&&(ss?et.value>=ls[0]&&et.value<=ls[ls.length-1]:et.value<=ls[0])||"inverted"===Vn&&(ss?et.value<=ls[0]||et.value>=ls[ls.length-1]:et.value>=ls[0]),Ne.createElement(Ne.Fragment,{key:et.value},Ne.createElement("span",{style:it,"data-index":tt,className:(0,tl.Z)(at.mark,rt&&at.markActive)}),null!=et.label?Ne.createElement("span",{"aria-hidden":!0,"data-index":tt,style:it,className:(0,tl.Z)(at.markLabel,rt&&at.markLabelActive)},et.label):null)})),ls.map((function(et,tt){var it=valueToPercent(et,wr,rr),st=Hp[Vs].offset(it);return Ne.createElement(Yn,{key:tt,valueLabelFormat:po,valueLabelDisplay:qi,className:at.valueLabel,value:"function"==typeof po?po(Mn(et),tt):po,index:tt,open:fa===tt||ia===tt||"on"===qi,disabled:vt},Ne.createElement(Bn,{className:(0,tl.Z)(at.thumb,at["thumbColor".concat((0,ol.Z)(pt))],ia===tt&&at.active,vt&&at.disabled,Es===tt&&at.focusVisible),tabIndex:vt?null:0,role:"slider",style:st,"data-index":tt,"aria-label":Rt?Rt(tt):rt,"aria-labelledby":nt,"aria-orientation":Cn,"aria-valuemax":Mn(rr),"aria-valuemin":Mn(wr),"aria-valuenow":Mn(et),"aria-valuetext":Dt?Dt(Mn(et),tt):ot,onKeyDown:Bs,onFocus:Ms,onBlur:zs,onMouseOver:Ls,onMouseLeave:Os}))})))}));const Yp=(0,js.Z)((function styles(Ne){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:Ne.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:Ne.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:Ne.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===Ne.palette.type?(0,ip.$n)(Ne.palette.primary.main,.62):(0,ip._j)(Ne.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:Ne.transitions.create(["box-shadow"],{duration:Ne.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,ip.U1)(Ne.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,ip.U1)(Ne.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,ip.U1)(Ne.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,ip.U1)(Ne.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:Ne.palette.background.paper,opacity:.8},markLabel:(0,it.Z)({},Ne.typography.body2,{color:Ne.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:Ne.palette.text.primary}}}),{name:"MuiSlider"})(Kp);var Jp=__webpack_require__(4942),Qp=__webpack_require__(5953);function getScale(Ne){return"scale(".concat(Ne,", ").concat(Math.pow(Ne,2),")")}var rh={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},ah=Ne.forwardRef((function Grow(et,tt){var rt=et.children,nt=et.disableStrictModeCompat,ot=void 0!==nt&&nt,at=et.in,st=et.onEnter,ct=et.onEntered,pt=et.onEntering,ft=et.onExit,dt=et.onExited,mt=et.onExiting,yt=et.style,vt=et.timeout,Rt=void 0===vt?"auto":vt,Dt=et.TransitionComponent,Ot=void 0===Dt?Gc:Dt,Bt=(0,Js.Z)(et,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),er=Ne.useRef(),rr=Ne.useRef(),vr=useTheme_useTheme(),wr=vr.unstable_strictMode&&!ot,Sr=Ne.useRef(null),rn=useForkRef(rt.ref,tt),vn=useForkRef(wr?Sr:void 0,rn),bn=function normalizedTransitionCallback(Ne){return function(et,tt){if(Ne){var rt=wr?[Sr.current,et]:[et,tt],nt=(0,Ic.Z)(rt,2),it=nt[0],ot=nt[1];void 0===ot?Ne(it):Ne(it,ot)}}},Tn=bn(pt),Cn=bn((function(Ne,et){!function reflow(Ne){Ne.scrollTop}(Ne);var tt,rt=getTransitionProps({style:yt,timeout:Rt},{mode:"enter"}),nt=rt.duration,it=rt.delay;"auto"===Rt?(tt=vr.transitions.getAutoHeightDuration(Ne.clientHeight),rr.current=tt):tt=nt,Ne.style.transition=[vr.transitions.create("opacity",{duration:tt,delay:it}),vr.transitions.create("transform",{duration:.666*tt,delay:it})].join(","),st&&st(Ne,et)})),In=bn(ct),Mn=bn(mt),zn=bn((function(Ne){var et,tt=getTransitionProps({style:yt,timeout:Rt},{mode:"exit"}),rt=tt.duration,nt=tt.delay;"auto"===Rt?(et=vr.transitions.getAutoHeightDuration(Ne.clientHeight),rr.current=et):et=rt,Ne.style.transition=[vr.transitions.create("opacity",{duration:et,delay:nt}),vr.transitions.create("transform",{duration:.666*et,delay:nt||.333*et})].join(","),Ne.style.opacity="0",Ne.style.transform=getScale(.75),ft&&ft(Ne)})),Ln=bn(dt);return Ne.useEffect((function(){return function(){clearTimeout(er.current)}}),[]),Ne.createElement(Ot,(0,it.Z)({appear:!0,in:at,nodeRef:wr?Sr:void 0,onEnter:Cn,onEntered:In,onEntering:Tn,onExit:zn,onExited:Ln,onExiting:Mn,addEndListener:function addEndListener(Ne,et){var tt=wr?Ne:et;"auto"===Rt&&(er.current=setTimeout(tt,rr.current||0))},timeout:"auto"===Rt?null:Rt},Bt),(function(et,tt){return Ne.cloneElement(rt,(0,it.Z)({style:(0,it.Z)({opacity:0,transform:getScale(.75),visibility:"exited"!==et||at?void 0:"hidden"},rh[et],yt,rt.props.style),ref:vn},tt))}))}));ah.muiSupportAuto=!0;const sh=ah;var lh="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,ph=function(){for(var Ne=["Edge","Trident","Firefox"],et=0;et<Ne.length;et+=1)if(lh&&navigator.userAgent.indexOf(Ne[et])>=0)return 1;return 0}();var mh=lh&&window.Promise?function microtaskDebounce(Ne){var et=!1;return function(){et||(et=!0,window.Promise.resolve().then((function(){et=!1,Ne()})))}}:function taskDebounce(Ne){var et=!1;return function(){et||(et=!0,setTimeout((function(){et=!1,Ne()}),ph))}};function isFunction(Ne){return Ne&&"[object Function]"==={}.toString.call(Ne)}function getStyleComputedProperty(Ne,et){if(1!==Ne.nodeType)return[];var tt=Ne.ownerDocument.defaultView.getComputedStyle(Ne,null);return et?tt[et]:tt}function getParentNode(Ne){return"HTML"===Ne.nodeName?Ne:Ne.parentNode||Ne.host}function getScrollParent(Ne){if(!Ne)return document.body;switch(Ne.nodeName){case"HTML":case"BODY":return Ne.ownerDocument.body;case"#document":return Ne.body}var et=getStyleComputedProperty(Ne),tt=et.overflow,rt=et.overflowX,nt=et.overflowY;return/(auto|scroll|overlay)/.test(tt+nt+rt)?Ne:getScrollParent(getParentNode(Ne))}function getReferenceNode(Ne){return Ne&&Ne.referenceNode?Ne.referenceNode:Ne}var _h=lh&&!(!window.MSInputMethodContext||!document.documentMode),bh=lh&&/MSIE 10/.test(navigator.userAgent);function isIE(Ne){return 11===Ne?_h:10===Ne?bh:_h||bh}function getOffsetParent(Ne){if(!Ne)return document.documentElement;for(var et=isIE(10)?document.body:null,tt=Ne.offsetParent||null;tt===et&&Ne.nextElementSibling;)tt=(Ne=Ne.nextElementSibling).offsetParent;var rt=tt&&tt.nodeName;return rt&&"BODY"!==rt&&"HTML"!==rt?-1!==["TH","TD","TABLE"].indexOf(tt.nodeName)&&"static"===getStyleComputedProperty(tt,"position")?getOffsetParent(tt):tt:Ne?Ne.ownerDocument.documentElement:document.documentElement}function getRoot(Ne){return null!==Ne.parentNode?getRoot(Ne.parentNode):Ne}function findCommonOffsetParent(Ne,et){if(!(Ne&&Ne.nodeType&&et&&et.nodeType))return document.documentElement;var tt=Ne.compareDocumentPosition(et)&Node.DOCUMENT_POSITION_FOLLOWING,rt=tt?Ne:et,nt=tt?et:Ne,it=document.createRange();it.setStart(rt,0),it.setEnd(nt,0);var ot=it.commonAncestorContainer;if(Ne!==ot&&et!==ot||rt.contains(nt))return function isOffsetContainer(Ne){var et=Ne.nodeName;return"BODY"!==et&&("HTML"===et||getOffsetParent(Ne.firstElementChild)===Ne)}(ot)?ot:getOffsetParent(ot);var at=getRoot(Ne);return at.host?findCommonOffsetParent(at.host,et):findCommonOffsetParent(Ne,getRoot(et).host)}function getScroll(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",tt="top"===et?"scrollTop":"scrollLeft",rt=Ne.nodeName;if("BODY"===rt||"HTML"===rt){var nt=Ne.ownerDocument.documentElement,it=Ne.ownerDocument.scrollingElement||nt;return it[tt]}return Ne[tt]}function includeScroll(Ne,et){var tt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],rt=getScroll(et,"top"),nt=getScroll(et,"left"),it=tt?-1:1;return Ne.top+=rt*it,Ne.bottom+=rt*it,Ne.left+=nt*it,Ne.right+=nt*it,Ne}function getBordersSize(Ne,et){var tt="x"===et?"Left":"Top",rt="Left"===tt?"Right":"Bottom";return parseFloat(Ne["border"+tt+"Width"])+parseFloat(Ne["border"+rt+"Width"])}function getSize(Ne,et,tt,rt){return Math.max(et["offset"+Ne],et["scroll"+Ne],tt["client"+Ne],tt["offset"+Ne],tt["scroll"+Ne],isIE(10)?parseInt(tt["offset"+Ne])+parseInt(rt["margin"+("Height"===Ne?"Top":"Left")])+parseInt(rt["margin"+("Height"===Ne?"Bottom":"Right")]):0)}function getWindowSizes(Ne){var et=Ne.body,tt=Ne.documentElement,rt=isIE(10)&&getComputedStyle(tt);return{height:getSize("Height",et,tt,rt),width:getSize("Width",et,tt,rt)}}var classCallCheck=function(Ne,et){if(!(Ne instanceof et))throw new TypeError("Cannot call a class as a function")},kh=function(){function defineProperties(Ne,et){for(var tt=0;tt<et.length;tt++){var rt=et[tt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(Ne,rt.key,rt)}}return function(Ne,et,tt){return et&&defineProperties(Ne.prototype,et),tt&&defineProperties(Ne,tt),Ne}}(),popper_defineProperty=function(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne},Ph=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(Ne[rt]=tt[rt])}return Ne};function getClientRect(Ne){return Ph({},Ne,{right:Ne.left+Ne.width,bottom:Ne.top+Ne.height})}function getBoundingClientRect(Ne){var et={};try{if(isIE(10)){et=Ne.getBoundingClientRect();var tt=getScroll(Ne,"top"),rt=getScroll(Ne,"left");et.top+=tt,et.left+=rt,et.bottom+=tt,et.right+=rt}else et=Ne.getBoundingClientRect()}catch(Ne){}var nt={left:et.left,top:et.top,width:et.right-et.left,height:et.bottom-et.top},it="HTML"===Ne.nodeName?getWindowSizes(Ne.ownerDocument):{},ot=it.width||Ne.clientWidth||nt.width,at=it.height||Ne.clientHeight||nt.height,st=Ne.offsetWidth-ot,ct=Ne.offsetHeight-at;if(st||ct){var pt=getStyleComputedProperty(Ne);st-=getBordersSize(pt,"x"),ct-=getBordersSize(pt,"y"),nt.width-=st,nt.height-=ct}return getClientRect(nt)}function getOffsetRectRelativeToArbitraryNode(Ne,et){var tt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],rt=isIE(10),nt="HTML"===et.nodeName,it=getBoundingClientRect(Ne),ot=getBoundingClientRect(et),at=getScrollParent(Ne),st=getStyleComputedProperty(et),ct=parseFloat(st.borderTopWidth),pt=parseFloat(st.borderLeftWidth);tt&&nt&&(ot.top=Math.max(ot.top,0),ot.left=Math.max(ot.left,0));var ft=getClientRect({top:it.top-ot.top-ct,left:it.left-ot.left-pt,width:it.width,height:it.height});if(ft.marginTop=0,ft.marginLeft=0,!rt&&nt){var dt=parseFloat(st.marginTop),mt=parseFloat(st.marginLeft);ft.top-=ct-dt,ft.bottom-=ct-dt,ft.left-=pt-mt,ft.right-=pt-mt,ft.marginTop=dt,ft.marginLeft=mt}return(rt&&!tt?et.contains(at):et===at&&"BODY"!==at.nodeName)&&(ft=includeScroll(ft,et)),ft}function getViewportOffsetRectRelativeToArtbitraryNode(Ne){var et=arguments.length>1&&void 0!==arguments[1]&&arguments[1],tt=Ne.ownerDocument.documentElement,rt=getOffsetRectRelativeToArbitraryNode(Ne,tt),nt=Math.max(tt.clientWidth,window.innerWidth||0),it=Math.max(tt.clientHeight,window.innerHeight||0),ot=et?0:getScroll(tt),at=et?0:getScroll(tt,"left"),st={top:ot-rt.top+rt.marginTop,left:at-rt.left+rt.marginLeft,width:nt,height:it};return getClientRect(st)}function isFixed(Ne){var et=Ne.nodeName;if("BODY"===et||"HTML"===et)return!1;if("fixed"===getStyleComputedProperty(Ne,"position"))return!0;var tt=getParentNode(Ne);return!!tt&&isFixed(tt)}function getFixedPositionOffsetParent(Ne){if(!Ne||!Ne.parentElement||isIE())return document.documentElement;for(var et=Ne.parentElement;et&&"none"===getStyleComputedProperty(et,"transform");)et=et.parentElement;return et||document.documentElement}function getBoundaries(Ne,et,tt,rt){var nt=arguments.length>4&&void 0!==arguments[4]&&arguments[4],it={top:0,left:0},ot=nt?getFixedPositionOffsetParent(Ne):findCommonOffsetParent(Ne,getReferenceNode(et));if("viewport"===rt)it=getViewportOffsetRectRelativeToArtbitraryNode(ot,nt);else{var at=void 0;"scrollParent"===rt?"BODY"===(at=getScrollParent(getParentNode(et))).nodeName&&(at=Ne.ownerDocument.documentElement):at="window"===rt?Ne.ownerDocument.documentElement:rt;var st=getOffsetRectRelativeToArbitraryNode(at,ot,nt);if("HTML"!==at.nodeName||isFixed(ot))it=st;else{var ct=getWindowSizes(Ne.ownerDocument),pt=ct.height,ft=ct.width;it.top+=st.top-st.marginTop,it.bottom=pt+st.top,it.left+=st.left-st.marginLeft,it.right=ft+st.left}}var dt="number"==typeof(tt=tt||0);return it.left+=dt?tt:tt.left||0,it.top+=dt?tt:tt.top||0,it.right-=dt?tt:tt.right||0,it.bottom-=dt?tt:tt.bottom||0,it}function getArea(Ne){return Ne.width*Ne.height}function computeAutoPlacement(Ne,et,tt,rt,nt){var it=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===Ne.indexOf("auto"))return Ne;var ot=getBoundaries(tt,rt,it,nt),at={top:{width:ot.width,height:et.top-ot.top},right:{width:ot.right-et.right,height:ot.height},bottom:{width:ot.width,height:ot.bottom-et.bottom},left:{width:et.left-ot.left,height:ot.height}},st=Object.keys(at).map((function(Ne){return Ph({key:Ne},at[Ne],{area:getArea(at[Ne])})})).sort((function(Ne,et){return et.area-Ne.area})),ct=st.filter((function(Ne){var et=Ne.width,rt=Ne.height;return et>=tt.clientWidth&&rt>=tt.clientHeight})),pt=ct.length>0?ct[0].key:st[0].key,ft=Ne.split("-")[1];return pt+(ft?"-"+ft:"")}function getReferenceOffsets(Ne,et,tt){var rt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,nt=rt?getFixedPositionOffsetParent(et):findCommonOffsetParent(et,getReferenceNode(tt));return getOffsetRectRelativeToArbitraryNode(tt,nt,rt)}function getOuterSizes(Ne){var et=Ne.ownerDocument.defaultView.getComputedStyle(Ne),tt=parseFloat(et.marginTop||0)+parseFloat(et.marginBottom||0),rt=parseFloat(et.marginLeft||0)+parseFloat(et.marginRight||0);return{width:Ne.offsetWidth+rt,height:Ne.offsetHeight+tt}}function getOppositePlacement(Ne){var et={left:"right",right:"left",bottom:"top",top:"bottom"};return Ne.replace(/left|right|bottom|top/g,(function(Ne){return et[Ne]}))}function getPopperOffsets(Ne,et,tt){tt=tt.split("-")[0];var rt=getOuterSizes(Ne),nt={width:rt.width,height:rt.height},it=-1!==["right","left"].indexOf(tt),ot=it?"top":"left",at=it?"left":"top",st=it?"height":"width",ct=it?"width":"height";return nt[ot]=et[ot]+et[st]/2-rt[st]/2,nt[at]=tt===at?et[at]-rt[ct]:et[getOppositePlacement(at)],nt}function find(Ne,et){return Array.prototype.find?Ne.find(et):Ne.filter(et)[0]}function runModifiers(Ne,et,tt){return(void 0===tt?Ne:Ne.slice(0,function findIndex(Ne,et,tt){if(Array.prototype.findIndex)return Ne.findIndex((function(Ne){return Ne[et]===tt}));var rt=find(Ne,(function(Ne){return Ne[et]===tt}));return Ne.indexOf(rt)}(Ne,"name",tt))).forEach((function(Ne){Ne.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var tt=Ne.function||Ne.fn;Ne.enabled&&isFunction(tt)&&(et.offsets.popper=getClientRect(et.offsets.popper),et.offsets.reference=getClientRect(et.offsets.reference),et=tt(et,Ne))})),et}function popper_update(){if(!this.state.isDestroyed){var Ne={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};Ne.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),Ne.placement=computeAutoPlacement(this.options.placement,Ne.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),Ne.originalPlacement=Ne.placement,Ne.positionFixed=this.options.positionFixed,Ne.offsets.popper=getPopperOffsets(this.popper,Ne.offsets.reference,Ne.placement),Ne.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",Ne=runModifiers(this.modifiers,Ne),this.state.isCreated?this.options.onUpdate(Ne):(this.state.isCreated=!0,this.options.onCreate(Ne))}}function isModifierEnabled(Ne,et){return Ne.some((function(Ne){var tt=Ne.name;return Ne.enabled&&tt===et}))}function getSupportedPropertyName(Ne){for(var et=[!1,"ms","Webkit","Moz","O"],tt=Ne.charAt(0).toUpperCase()+Ne.slice(1),rt=0;rt<et.length;rt++){var nt=et[rt],it=nt?""+nt+tt:Ne;if(void 0!==document.body.style[it])return it}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(Ne){var et=Ne.ownerDocument;return et?et.defaultView:window}function attachToScrollParents(Ne,et,tt,rt){var nt="BODY"===Ne.nodeName,it=nt?Ne.ownerDocument.defaultView:Ne;it.addEventListener(et,tt,{passive:!0}),nt||attachToScrollParents(getScrollParent(it.parentNode),et,tt,rt),rt.push(it)}function setupEventListeners(Ne,et,tt,rt){tt.updateBound=rt,getWindow(Ne).addEventListener("resize",tt.updateBound,{passive:!0});var nt=getScrollParent(Ne);return attachToScrollParents(nt,"scroll",tt.updateBound,tt.scrollParents),tt.scrollElement=nt,tt.eventsEnabled=!0,tt}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function removeEventListeners(Ne,et){return getWindow(Ne).removeEventListener("resize",et.updateBound),et.scrollParents.forEach((function(Ne){Ne.removeEventListener("scroll",et.updateBound)})),et.updateBound=null,et.scrollParents=[],et.scrollElement=null,et.eventsEnabled=!1,et}(this.reference,this.state))}function isNumeric(Ne){return""!==Ne&&!isNaN(parseFloat(Ne))&&isFinite(Ne)}function setStyles(Ne,et){Object.keys(et).forEach((function(tt){var rt="";-1!==["width","height","top","right","bottom","left"].indexOf(tt)&&isNumeric(et[tt])&&(rt="px"),Ne.style[tt]=et[tt]+rt}))}var Oh=lh&&/Firefox/i.test(navigator.userAgent);function isModifierRequired(Ne,et,tt){var rt=find(Ne,(function(Ne){return Ne.name===et})),nt=!!rt&&Ne.some((function(Ne){return Ne.name===tt&&Ne.enabled&&Ne.order<rt.order}));if(!nt){var it="`"+et+"`",ot="`"+tt+"`";console.warn(ot+" modifier is required by "+it+" modifier in order to work, be sure to include it before "+it+"!")}return nt}var jh=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],qh=jh.slice(3);function clockwise(Ne){var et=arguments.length>1&&void 0!==arguments[1]&&arguments[1],tt=qh.indexOf(Ne),rt=qh.slice(tt+1).concat(qh.slice(0,tt));return et?rt.reverse():rt}var Yh="flip",Qh="clockwise",ef="counterclockwise";function parseOffset(Ne,et,tt,rt){var nt=[0,0],it=-1!==["right","left"].indexOf(rt),ot=Ne.split(/(\+|\-)/).map((function(Ne){return Ne.trim()})),at=ot.indexOf(find(ot,(function(Ne){return-1!==Ne.search(/,|\s/)})));ot[at]&&-1===ot[at].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var st=/\s*,\s*|\s+/,ct=-1!==at?[ot.slice(0,at).concat([ot[at].split(st)[0]]),[ot[at].split(st)[1]].concat(ot.slice(at+1))]:[ot];return ct=ct.map((function(Ne,rt){var nt=(1===rt?!it:it)?"height":"width",ot=!1;return Ne.reduce((function(Ne,et){return""===Ne[Ne.length-1]&&-1!==["+","-"].indexOf(et)?(Ne[Ne.length-1]=et,ot=!0,Ne):ot?(Ne[Ne.length-1]+=et,ot=!1,Ne):Ne.concat(et)}),[]).map((function(Ne){return function toValue(Ne,et,tt,rt){var nt=Ne.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),it=+nt[1],ot=nt[2];if(!it)return Ne;if(0===ot.indexOf("%")){return getClientRect("%p"===ot?tt:rt)[et]/100*it}if("vh"===ot||"vw"===ot)return("vh"===ot?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*it;return it}(Ne,nt,et,tt)}))})),ct.forEach((function(Ne,et){Ne.forEach((function(tt,rt){isNumeric(tt)&&(nt[et]+=tt*("-"===Ne[rt-1]?-1:1))}))})),nt}var tf={shift:{order:100,enabled:!0,fn:function shift(Ne){var et=Ne.placement,tt=et.split("-")[0],rt=et.split("-")[1];if(rt){var nt=Ne.offsets,it=nt.reference,ot=nt.popper,at=-1!==["bottom","top"].indexOf(tt),st=at?"left":"top",ct=at?"width":"height",pt={start:popper_defineProperty({},st,it[st]),end:popper_defineProperty({},st,it[st]+it[ct]-ot[ct])};Ne.offsets.popper=Ph({},ot,pt[rt])}return Ne}},offset:{order:200,enabled:!0,fn:function offset(Ne,et){var tt=et.offset,rt=Ne.placement,nt=Ne.offsets,it=nt.popper,ot=nt.reference,at=rt.split("-")[0],st=void 0;return st=isNumeric(+tt)?[+tt,0]:parseOffset(tt,it,ot,at),"left"===at?(it.top+=st[0],it.left-=st[1]):"right"===at?(it.top+=st[0],it.left+=st[1]):"top"===at?(it.left+=st[0],it.top-=st[1]):"bottom"===at&&(it.left+=st[0],it.top+=st[1]),Ne.popper=it,Ne},offset:0},preventOverflow:{order:300,enabled:!0,fn:function preventOverflow(Ne,et){var tt=et.boundariesElement||getOffsetParent(Ne.instance.popper);Ne.instance.reference===tt&&(tt=getOffsetParent(tt));var rt=getSupportedPropertyName("transform"),nt=Ne.instance.popper.style,it=nt.top,ot=nt.left,at=nt[rt];nt.top="",nt.left="",nt[rt]="";var st=getBoundaries(Ne.instance.popper,Ne.instance.reference,et.padding,tt,Ne.positionFixed);nt.top=it,nt.left=ot,nt[rt]=at,et.boundaries=st;var ct=et.priority,pt=Ne.offsets.popper,ft={primary:function primary(Ne){var tt=pt[Ne];return pt[Ne]<st[Ne]&&!et.escapeWithReference&&(tt=Math.max(pt[Ne],st[Ne])),popper_defineProperty({},Ne,tt)},secondary:function secondary(Ne){var tt="right"===Ne?"left":"top",rt=pt[tt];return pt[Ne]>st[Ne]&&!et.escapeWithReference&&(rt=Math.min(pt[tt],st[Ne]-("right"===Ne?pt.width:pt.height))),popper_defineProperty({},tt,rt)}};return ct.forEach((function(Ne){var et=-1!==["left","top"].indexOf(Ne)?"primary":"secondary";pt=Ph({},pt,ft[et](Ne))})),Ne.offsets.popper=pt,Ne},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function keepTogether(Ne){var et=Ne.offsets,tt=et.popper,rt=et.reference,nt=Ne.placement.split("-")[0],it=Math.floor,ot=-1!==["top","bottom"].indexOf(nt),at=ot?"right":"bottom",st=ot?"left":"top",ct=ot?"width":"height";return tt[at]<it(rt[st])&&(Ne.offsets.popper[st]=it(rt[st])-tt[ct]),tt[st]>it(rt[at])&&(Ne.offsets.popper[st]=it(rt[at])),Ne}},arrow:{order:500,enabled:!0,fn:function arrow(Ne,et){var tt;if(!isModifierRequired(Ne.instance.modifiers,"arrow","keepTogether"))return Ne;var rt=et.element;if("string"==typeof rt){if(!(rt=Ne.instance.popper.querySelector(rt)))return Ne}else if(!Ne.instance.popper.contains(rt))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),Ne;var nt=Ne.placement.split("-")[0],it=Ne.offsets,ot=it.popper,at=it.reference,st=-1!==["left","right"].indexOf(nt),ct=st?"height":"width",pt=st?"Top":"Left",ft=pt.toLowerCase(),dt=st?"left":"top",mt=st?"bottom":"right",yt=getOuterSizes(rt)[ct];at[mt]-yt<ot[ft]&&(Ne.offsets.popper[ft]-=ot[ft]-(at[mt]-yt)),at[ft]+yt>ot[mt]&&(Ne.offsets.popper[ft]+=at[ft]+yt-ot[mt]),Ne.offsets.popper=getClientRect(Ne.offsets.popper);var vt=at[ft]+at[ct]/2-yt/2,Rt=getStyleComputedProperty(Ne.instance.popper),Dt=parseFloat(Rt["margin"+pt]),Ot=parseFloat(Rt["border"+pt+"Width"]),Bt=vt-Ne.offsets.popper[ft]-Dt-Ot;return Bt=Math.max(Math.min(ot[ct]-yt,Bt),0),Ne.arrowElement=rt,Ne.offsets.arrow=(popper_defineProperty(tt={},ft,Math.round(Bt)),popper_defineProperty(tt,dt,""),tt),Ne},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function flip(Ne,et){if(isModifierEnabled(Ne.instance.modifiers,"inner"))return Ne;if(Ne.flipped&&Ne.placement===Ne.originalPlacement)return Ne;var tt=getBoundaries(Ne.instance.popper,Ne.instance.reference,et.padding,et.boundariesElement,Ne.positionFixed),rt=Ne.placement.split("-")[0],nt=getOppositePlacement(rt),it=Ne.placement.split("-")[1]||"",ot=[];switch(et.behavior){case Yh:ot=[rt,nt];break;case Qh:ot=clockwise(rt);break;case ef:ot=clockwise(rt,!0);break;default:ot=et.behavior}return ot.forEach((function(at,st){if(rt!==at||ot.length===st+1)return Ne;rt=Ne.placement.split("-")[0],nt=getOppositePlacement(rt);var ct=Ne.offsets.popper,pt=Ne.offsets.reference,ft=Math.floor,dt="left"===rt&&ft(ct.right)>ft(pt.left)||"right"===rt&&ft(ct.left)<ft(pt.right)||"top"===rt&&ft(ct.bottom)>ft(pt.top)||"bottom"===rt&&ft(ct.top)<ft(pt.bottom),mt=ft(ct.left)<ft(tt.left),yt=ft(ct.right)>ft(tt.right),vt=ft(ct.top)<ft(tt.top),Rt=ft(ct.bottom)>ft(tt.bottom),Dt="left"===rt&&mt||"right"===rt&&yt||"top"===rt&&vt||"bottom"===rt&&Rt,Ot=-1!==["top","bottom"].indexOf(rt),Bt=!!et.flipVariations&&(Ot&&"start"===it&&mt||Ot&&"end"===it&&yt||!Ot&&"start"===it&&vt||!Ot&&"end"===it&&Rt),er=!!et.flipVariationsByContent&&(Ot&&"start"===it&&yt||Ot&&"end"===it&&mt||!Ot&&"start"===it&&Rt||!Ot&&"end"===it&&vt),rr=Bt||er;(dt||Dt||rr)&&(Ne.flipped=!0,(dt||Dt)&&(rt=ot[st+1]),rr&&(it=function getOppositeVariation(Ne){return"end"===Ne?"start":"start"===Ne?"end":Ne}(it)),Ne.placement=rt+(it?"-"+it:""),Ne.offsets.popper=Ph({},Ne.offsets.popper,getPopperOffsets(Ne.instance.popper,Ne.offsets.reference,Ne.placement)),Ne=runModifiers(Ne.instance.modifiers,Ne,"flip"))})),Ne},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function inner(Ne){var et=Ne.placement,tt=et.split("-")[0],rt=Ne.offsets,nt=rt.popper,it=rt.reference,ot=-1!==["left","right"].indexOf(tt),at=-1===["top","left"].indexOf(tt);return nt[ot?"left":"top"]=it[tt]-(at?nt[ot?"width":"height"]:0),Ne.placement=getOppositePlacement(et),Ne.offsets.popper=getClientRect(nt),Ne}},hide:{order:800,enabled:!0,fn:function hide(Ne){if(!isModifierRequired(Ne.instance.modifiers,"hide","preventOverflow"))return Ne;var et=Ne.offsets.reference,tt=find(Ne.instance.modifiers,(function(Ne){return"preventOverflow"===Ne.name})).boundaries;if(et.bottom<tt.top||et.left>tt.right||et.top>tt.bottom||et.right<tt.left){if(!0===Ne.hide)return Ne;Ne.hide=!0,Ne.attributes["x-out-of-boundaries"]=""}else{if(!1===Ne.hide)return Ne;Ne.hide=!1,Ne.attributes["x-out-of-boundaries"]=!1}return Ne}},computeStyle:{order:850,enabled:!0,fn:function computeStyle(Ne,et){var tt=et.x,rt=et.y,nt=Ne.offsets.popper,it=find(Ne.instance.modifiers,(function(Ne){return"applyStyle"===Ne.name})).gpuAcceleration;void 0!==it&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var ot=void 0!==it?it:et.gpuAcceleration,at=getOffsetParent(Ne.instance.popper),st=getBoundingClientRect(at),ct={position:nt.position},pt=function getRoundedOffsets(Ne,et){var tt=Ne.offsets,rt=tt.popper,nt=tt.reference,it=Math.round,ot=Math.floor,at=function noRound(Ne){return Ne},st=it(nt.width),ct=it(rt.width),pt=-1!==["left","right"].indexOf(Ne.placement),ft=-1!==Ne.placement.indexOf("-"),dt=et?pt||ft||st%2==ct%2?it:ot:at,mt=et?it:at;return{left:dt(st%2==1&&ct%2==1&&!ft&&et?rt.left-1:rt.left),top:mt(rt.top),bottom:mt(rt.bottom),right:dt(rt.right)}}(Ne,window.devicePixelRatio<2||!Oh),ft="bottom"===tt?"top":"bottom",dt="right"===rt?"left":"right",mt=getSupportedPropertyName("transform"),yt=void 0,vt=void 0;if(vt="bottom"===ft?"HTML"===at.nodeName?-at.clientHeight+pt.bottom:-st.height+pt.bottom:pt.top,yt="right"===dt?"HTML"===at.nodeName?-at.clientWidth+pt.right:-st.width+pt.right:pt.left,ot&&mt)ct[mt]="translate3d("+yt+"px, "+vt+"px, 0)",ct[ft]=0,ct[dt]=0,ct.willChange="transform";else{var Rt="bottom"===ft?-1:1,Dt="right"===dt?-1:1;ct[ft]=vt*Rt,ct[dt]=yt*Dt,ct.willChange=ft+", "+dt}var Ot={"x-placement":Ne.placement};return Ne.attributes=Ph({},Ot,Ne.attributes),Ne.styles=Ph({},ct,Ne.styles),Ne.arrowStyles=Ph({},Ne.offsets.arrow,Ne.arrowStyles),Ne},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function applyStyle(Ne){return setStyles(Ne.instance.popper,Ne.styles),function setAttributes(Ne,et){Object.keys(et).forEach((function(tt){!1!==et[tt]?Ne.setAttribute(tt,et[tt]):Ne.removeAttribute(tt)}))}(Ne.instance.popper,Ne.attributes),Ne.arrowElement&&Object.keys(Ne.arrowStyles).length&&setStyles(Ne.arrowElement,Ne.arrowStyles),Ne},onLoad:function applyStyleOnLoad(Ne,et,tt,rt,nt){var it=getReferenceOffsets(nt,et,Ne,tt.positionFixed),ot=computeAutoPlacement(tt.placement,it,et,Ne,tt.modifiers.flip.boundariesElement,tt.modifiers.flip.padding);return et.setAttribute("x-placement",ot),setStyles(et,{position:tt.positionFixed?"fixed":"absolute"}),tt},gpuAcceleration:void 0}},rf={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function onCreate(){},onUpdate:function onUpdate(){},modifiers:tf},nf=function(){function Popper(Ne,et){var tt=this,rt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};classCallCheck(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(tt.update)},this.update=mh(this.update.bind(this)),this.options=Ph({},Popper.Defaults,rt),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=Ne&&Ne.jquery?Ne[0]:Ne,this.popper=et&&et.jquery?et[0]:et,this.options.modifiers={},Object.keys(Ph({},Popper.Defaults.modifiers,rt.modifiers)).forEach((function(Ne){tt.options.modifiers[Ne]=Ph({},Popper.Defaults.modifiers[Ne]||{},rt.modifiers?rt.modifiers[Ne]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(Ne){return Ph({name:Ne},tt.options.modifiers[Ne])})).sort((function(Ne,et){return Ne.order-et.order})),this.modifiers.forEach((function(Ne){Ne.enabled&&isFunction(Ne.onLoad)&&Ne.onLoad(tt.reference,tt.popper,tt.options,Ne,tt.state)})),this.update();var nt=this.options.eventsEnabled;nt&&this.enableEventListeners(),this.state.eventsEnabled=nt}return kh(Popper,[{key:"update",value:function update$$1(){return popper_update.call(this)}},{key:"destroy",value:function destroy$$1(){return destroy.call(this)}},{key:"enableEventListeners",value:function enableEventListeners$$1(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function disableEventListeners$$1(){return disableEventListeners.call(this)}}]),Popper}();nf.Utils=("undefined"!=typeof window?window:__webpack_require__.g).PopperUtils,nf.placements=jh,nf.Defaults=rf;const af=nf;var sf="undefined"!=typeof window?Ne.useLayoutEffect:Ne.useEffect;const lf=Ne.forwardRef((function Portal(tt,rt){var nt=tt.children,it=tt.container,ot=tt.disablePortal,at=void 0!==ot&&ot,st=tt.onRendered,ct=Ne.useState(null),pt=ct[0],ft=ct[1],dt=useForkRef(Ne.isValidElement(nt)?nt.ref:null,rt);return sf((function(){at||ft(function getContainer(Ne){return Ne="function"==typeof Ne?Ne():Ne,et.findDOMNode(Ne)}(it)||document.body)}),[it,at]),sf((function(){if(pt&&!at)return setRef(rt,pt),function(){setRef(rt,null)}}),[rt,pt,at]),sf((function(){st&&(pt||at)&&st()}),[st,pt,at]),at?Ne.isValidElement(nt)?Ne.cloneElement(nt,{ref:dt}):nt:pt?et.createPortal(nt,pt):pt}));function getAnchorEl(Ne){return"function"==typeof Ne?Ne():Ne}var uf="undefined"!=typeof window?Ne.useLayoutEffect:Ne.useEffect,cf={},pf=Ne.forwardRef((function Popper(et,tt){var rt=et.anchorEl,nt=et.children,ot=et.container,at=et.disablePortal,st=void 0!==at&&at,ct=et.keepMounted,pt=void 0!==ct&&ct,ft=et.modifiers,dt=et.open,mt=et.placement,yt=void 0===mt?"bottom":mt,vt=et.popperOptions,Rt=void 0===vt?cf:vt,Dt=et.popperRef,Ot=et.style,Bt=et.transition,er=void 0!==Bt&&Bt,rr=(0,Js.Z)(et,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),vr=Ne.useRef(null),wr=useForkRef(vr,tt),Sr=Ne.useRef(null),rn=useForkRef(Sr,Dt),vn=Ne.useRef(rn);uf((function(){vn.current=rn}),[rn]),Ne.useImperativeHandle(Dt,(function(){return Sr.current}),[]);var bn=Ne.useState(!0),Tn=bn[0],Cn=bn[1],In=function flipPlacement(Ne,et){if("ltr"===(et&&et.direction||"ltr"))return Ne;switch(Ne){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return Ne}}(yt,(0,Hc.Z)()),Mn=Ne.useState(In),zn=Mn[0],Ln=Mn[1];Ne.useEffect((function(){Sr.current&&Sr.current.update()}));var Fn=Ne.useCallback((function(){if(vr.current&&rt&&dt){Sr.current&&(Sr.current.destroy(),vn.current(null));var Ne=function handlePopperUpdate(Ne){Ln(Ne.placement)},et=(getAnchorEl(rt),new af(getAnchorEl(rt),vr.current,(0,it.Z)({placement:In},Rt,{modifiers:(0,it.Z)({},st?{}:{preventOverflow:{boundariesElement:"window"}},ft,Rt.modifiers),onCreate:createChainedFunction(Ne,Rt.onCreate),onUpdate:createChainedFunction(Ne,Rt.onUpdate)})));vn.current(et)}}),[rt,st,ft,dt,In,Rt]),Bn=Ne.useCallback((function(Ne){setRef(wr,Ne),Fn()}),[wr,Fn]),Nn=function handleClose(){Sr.current&&(Sr.current.destroy(),vn.current(null))};if(Ne.useEffect((function(){return function(){Nn()}}),[]),Ne.useEffect((function(){dt||er||Nn()}),[dt,er]),!pt&&!dt&&(!er||Tn))return null;var Vn={placement:zn};return er&&(Vn.TransitionProps={in:dt,onEnter:function handleEnter(){Cn(!1)},onExited:function handleExited(){Cn(!0),Nn()}}),Ne.createElement(lf,{disablePortal:st,container:ot},Ne.createElement("div",(0,it.Z)({ref:Bn,role:"tooltip"},rr,{style:(0,it.Z)({position:"fixed",top:0,left:0,display:dt||!pt||er?null:"none"},Ot)}),"function"==typeof nt?nt(Vn):nt))}));const hf=pf;function round(Ne){return Math.round(1e5*Ne)/1e5}var ff=!1,df=null;var mf=Ne.forwardRef((function Tooltip(tt,rt){var nt=tt.arrow,ot=void 0!==nt&&nt,at=tt.children,st=tt.classes,ct=tt.disableFocusListener,pt=void 0!==ct&&ct,ft=tt.disableHoverListener,dt=void 0!==ft&&ft,mt=tt.disableTouchListener,yt=void 0!==mt&&mt,vt=tt.enterDelay,Rt=void 0===vt?100:vt,Dt=tt.enterNextDelay,Ot=void 0===Dt?0:Dt,Bt=tt.enterTouchDelay,er=void 0===Bt?700:Bt,rr=tt.id,vr=tt.interactive,wr=void 0!==vr&&vr,Sr=tt.leaveDelay,rn=void 0===Sr?0:Sr,vn=tt.leaveTouchDelay,bn=void 0===vn?1500:vn,Tn=tt.onClose,Cn=tt.onOpen,In=tt.open,Mn=tt.placement,zn=void 0===Mn?"bottom":Mn,Ln=tt.PopperComponent,Fn=void 0===Ln?hf:Ln,Bn=tt.PopperProps,Nn=tt.title,Vn=tt.TransitionComponent,Wn=void 0===Vn?sh:Vn,$n=tt.TransitionProps,Yn=(0,Js.Z)(tt,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),ii=useTheme_useTheme(),qi=Ne.useState(),uo=qi[0],po=qi[1],vo=Ne.useState(null),So=vo[0],ea=vo[1],ta=Ne.useRef(!1),ia=Ne.useRef(),sa=Ne.useRef(),la=Ne.useRef(),fa=Ne.useRef(),ga=useControlled({controlled:In,default:!1,name:"Tooltip",state:"open"}),_a=(0,Ic.Z)(ga,2),Aa=_a[0],os=_a[1],as=Aa,ss=useId(rr);Ne.useEffect((function(){return function(){clearTimeout(ia.current),clearTimeout(sa.current),clearTimeout(la.current),clearTimeout(fa.current)}}),[]);var ls=function handleOpen(Ne){clearTimeout(df),ff=!0,os(!0),Cn&&Cn(Ne)},us=function handleEnter(){var Ne=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(et){var tt=at.props;"mouseover"===et.type&&tt.onMouseOver&&Ne&&tt.onMouseOver(et),ta.current&&"touchstart"!==et.type||(uo&&uo.removeAttribute("title"),clearTimeout(sa.current),clearTimeout(la.current),Rt||ff&&Ot?(et.persist(),sa.current=setTimeout((function(){ls(et)}),ff?Ot:Rt)):ls(et))}},fs=useIsFocusVisible(),gs=fs.isFocusVisible,vs=fs.onBlurVisible,xs=fs.ref,Ss=Ne.useState(!1),Es=Ss[0],Cs=Ss[1],Ps=function handleBlur(){Es&&(Cs(!1),vs())},As=function handleFocus(){var Ne=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(et){uo||po(et.currentTarget),gs(et)&&(Cs(!0),us()(et));var tt=at.props;tt.onFocus&&Ne&&tt.onFocus(et)}},Rs=function handleClose(Ne){clearTimeout(df),df=setTimeout((function(){ff=!1}),800+rn),os(!1),Tn&&Tn(Ne),clearTimeout(ia.current),ia.current=setTimeout((function(){ta.current=!1}),ii.transitions.duration.shortest)},Ms=function handleLeave(){var Ne=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(et){var tt=at.props;"blur"===et.type&&(tt.onBlur&&Ne&&tt.onBlur(et),Ps()),"mouseleave"===et.type&&tt.onMouseLeave&&et.currentTarget===uo&&tt.onMouseLeave(et),clearTimeout(sa.current),clearTimeout(la.current),et.persist(),la.current=setTimeout((function(){Rs(et)}),rn)}},zs=function detectTouchStart(Ne){ta.current=!0;var et=at.props;et.onTouchStart&&et.onTouchStart(Ne)},Ls=useForkRef(po,rt),Os=useForkRef(xs,Ls),Fs=Ne.useCallback((function(Ne){setRef(Os,et.findDOMNode(Ne))}),[Os]),Bs=useForkRef(at.ref,Fs);""===Nn&&(as=!1);var Ns=!as&&!dt,Vs=(0,it.Z)({"aria-describedby":as?ss:null,title:Ns&&"string"==typeof Nn?Nn:null},Yn,at.props,{className:(0,tl.Z)(Yn.className,at.props.className),onTouchStart:zs,ref:Bs}),Us={};yt||(Vs.onTouchStart=function handleTouchStart(Ne){zs(Ne),clearTimeout(la.current),clearTimeout(ia.current),clearTimeout(fa.current),Ne.persist(),fa.current=setTimeout((function(){us()(Ne)}),er)},Vs.onTouchEnd=function handleTouchEnd(Ne){at.props.onTouchEnd&&at.props.onTouchEnd(Ne),clearTimeout(fa.current),clearTimeout(la.current),Ne.persist(),la.current=setTimeout((function(){Rs(Ne)}),bn)}),dt||(Vs.onMouseOver=us(),Vs.onMouseLeave=Ms(),wr&&(Us.onMouseOver=us(!1),Us.onMouseLeave=Ms(!1))),pt||(Vs.onFocus=As(),Vs.onBlur=Ms(),wr&&(Us.onFocus=As(!1),Us.onBlur=Ms(!1)));var js=Ne.useMemo((function(){return(0,Qp.Z)({popperOptions:{modifiers:{arrow:{enabled:Boolean(So),element:So}}}},Bn)}),[So,Bn]);return Ne.createElement(Ne.Fragment,null,Ne.cloneElement(at,Vs),Ne.createElement(Fn,(0,it.Z)({className:(0,tl.Z)(st.popper,wr&&st.popperInteractive,ot&&st.popperArrow),placement:zn,anchorEl:uo,open:!!uo&&as,id:Vs["aria-describedby"],transition:!0},Us,js),(function(et){var tt=et.placement,rt=et.TransitionProps;return Ne.createElement(Wn,(0,it.Z)({timeout:ii.transitions.duration.shorter},rt,$n),Ne.createElement("div",{className:(0,tl.Z)(st.tooltip,st["tooltipPlacement".concat((0,ol.Z)(tt.split("-")[0]))],ta.current&&st.touch,ot&&st.tooltipArrow)},Nn,ot?Ne.createElement("span",{className:st.arrow,ref:ea}):null))})))}));const gf=(0,js.Z)((function styles(Ne){return{popper:{zIndex:Ne.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,ip.U1)(Ne.palette.grey[700],.9),borderRadius:Ne.shape.borderRadius,color:Ne.palette.common.white,fontFamily:Ne.typography.fontFamily,padding:"4px 8px",fontSize:Ne.typography.pxToRem(10),lineHeight:"".concat(round(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:Ne.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,ip.U1)(Ne.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:Ne.typography.pxToRem(14),lineHeight:"".concat(round(16/14),"em"),fontWeight:Ne.typography.fontWeightRegular},tooltipPlacementLeft:(0,Jp.Z)({transformOrigin:"right center",margin:"0 24px "},Ne.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,Jp.Z)({transformOrigin:"left center",margin:"0 24px"},Ne.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,Jp.Z)({transformOrigin:"center bottom",margin:"24px 0"},Ne.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,Jp.Z)({transformOrigin:"center top",margin:"24px 0"},Ne.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(mf);__webpack_require__(5792);function groupOptions(Ne){const et=new Set([]),tt=[];for(const rt of Ne){const Ne=rt.label||"";et.has(Ne)||(tt.push({label:Ne,options:[]}),et.add(Ne));tt.find((et=>et.label===Ne)).options.push(rt)}return tt}var yf=__webpack_require__(5528),vf={};vf.styleTagTransform=ga(),vf.setAttributes=ia(),vf.insert=ea().bind(null,"head"),vf.domAPI=vo(),vf.insertStyleElement=la();uo()(yf.Z,vf);const _f=yf.Z&&yf.Z.locals?yf.Z.locals:void 0,xf=(0,js.Z)({switchBase:{color:Zs.Z[200],"&$checked":{color:Zs.Z[500]},"&$checked + $track":{backgroundColor:Zs.Z[500]}},checked:{},track:{backgroundColor:Zs.Z[300]}})(zp),wf=(0,js.Z)({root:{color:Zs.Z[300],"&$checked":{color:Zs.Z[500]}},checked:{}})((et=>Ne.createElement(jp,{color:"default",...et}))),kf=(0,js.Z)({thumb:{backgroundColor:Zs.Z[500]},track:{backgroundColor:Zs.Z[500]},rail:{backgroundColor:Zs.Z[500]},mark:{backgroundColor:Zs.Z[500]}})(Yp),Sf=(0,js.Z)({thumb:{backgroundColor:Zs.Z[500],display:"none"},track:{backgroundColor:Zs.Z[500],display:"none"},rail:{backgroundColor:Zs.Z[500],display:"none"},mark:{backgroundColor:Zs.Z[500]},root:{padding:0},markLabel:{top:5}})(Yp),Tf=(0,js.Z)({root:{color:Zs.Z[500],marginRight:5}})((et=>Ne.createElement(gl,{size:20,...et}))),Pf=(0,js.Z)({entered:{marginBottom:10}})(rp),If=(0,js.Z)({root:{width:"100%"}})(Ep),Af=(0,js.Z)({root:{whiteSpace:"nowrap"}})(Cp),Rf=(0,js.Z)({root:{width:"calc(100% + 60px)",color:Zs.Z[900],paddingLeft:30,marginLeft:-30,marginRight:-30}})(bc),Mf=(0,js.Z)({primary:{fontWeight:"bold"}})(Cc),zf=(0,js.Z)({root:{color:Zs.Z[500],marginBottom:0,"&:not(:last-of-type)":{marginBottom:0}}})(Ip),Lf=(0,js.Z)({root:{paddingLeft:20,paddingBottom:10,marginRight:16}})(xl);function hexToRgba(Ne,et){return`rgba(${parseInt(Ne.slice(1,3),16)}, ${parseInt(Ne.slice(3,5),16)}, ${parseInt(Ne.slice(5),16)}, ${et})`}function ValueLabelComponent(et){const{children:tt,open:rt,value:nt}=et;return Ne.createElement(gf,{open:rt,enterTouchDelay:0,placement:"top",title:nt},tt)}function sortValues(Ne,et){return isNaN(Ne)||isNaN(et)?et.localeCompare(Ne):parseInt(et,10)-parseInt(Ne,10)}function Filters({baseMapLayers:et,rasterLayers:tt,vectorLayers:rt,observationVectorLayers:nt,adminVectorLayers:it,selectedAdminVectorLayerNamesByLabel:ot,vectorFiltersByNamesMap:at,selectedBaseMapLayerName:st,selectedRasterLayerNamesSet:ct,rasterOpacityByNameMap:pt,selectedVectorLayerNamesSet:ft,selectedObservationVectorLayerNamesSet:dt,onUpdateBaseMapLayer:mt,onUpdateRasterLayers:yt,onUpdateRasterLayerOpacityByNameMap:vt,onUpdateVectorLayers:Rt,onUpdateObservationVectorLayers:Dt,onUpdateAdminVectorLayers:Ot,onUpdateVectorFilters:Bt,isLoadingRasters:er,isLoadingVectors:rr,isLoadingObservationVectors:vr,isLoadingAdminVectors:wr}){function renderLegend(et,tt){const{name:rt,mapboxLayerOptions:nt,legendVariable:it,legend:ot,customLegend:st}=tt;if(it){const tt=at[rt],ot={vectorName:rt,filterName:it.name,valuesSet:((tt||{})[it.name]||{}).valuesSet,selectedValuesSet:((tt||{})[it.name]||{}).selectedValuesSet},{vectorName:st,filterName:ct,valuesSet:pt=new Set([]),selectedValuesSet:ft=new Set([])}=ot,dt=[...pt],mt={},yt=nt.paint[it.mapboxPaintProperty].slice(2);for(let Ne=0;Ne<yt.length;Ne+=2)Ne===yt.length-1?mt.default=yt[Ne]:mt[yt[Ne]]=yt[Ne+1];return Ne.createElement(rp,{in:et,timeout:"auto",unmountOnExit:!0},Ne.createElement(Lf,{component:"div",disablePadding:!0,dense:!0},Ne.createElement(zf,null,`${it.name} (${it.mapboxPaintProperty})`),dt.sort(sortValues).map((et=>{const tt=ft.has(et),rt=(0,js.Z)({root:{backgroundColor:tt?mt[et]||mt.default:Zs.Z[200]}})(bc),nt=(0,js.Z)({switchBase:{color:Zs.Z[200],"&$checked":{color:mt[et]||mt.default},"&$checked + $track":{backgroundColor:Zs.Z[300]}},checked:{},track:{backgroundColor:Zs.Z[300]}})(zp);return Ne.createElement(rt,{key:et},Ne.createElement(Cc,{primary:et}),Ne.createElement(lp,null,Ne.createElement(nt,{edge:"end",onChange:Ne=>function handleToggleFilter(Ne,et,tt,rt){const nt={...at},it=new Set([...nt[rt][tt].selectedValuesSet]);Ne?it.add(et):it.delete(et),Bt({...at,[rt]:{...at[rt],[tt]:{...at[rt][tt],selectedValuesSet:it}}})}(Ne.target.checked,et,ct,st),checked:tt})))}))))}if(st){const tt=pt[rt],{type:nt,categories:it,min:ot,max:at}=st;let ct=null;if("categorical"===nt)ct=it.map((({name:et,color:rt})=>{const nt=(0,js.Z)({root:{backgroundColor:hexToRgba(rt,tt)}})(bc);return Ne.createElement(nt,{key:et},Ne.createElement(Cc,{primary:et}),Ne.createElement(lp,null))}));else if("continuous"===nt){const et=(0,js.Z)({root:{background:`linear-gradient(to right, ${hexToRgba(ot.color,tt)}, ${hexToRgba(at.color,tt)})`}})(bc),nt=(0,js.Z)({root:{color:at.color}})(Cc),it=(0,js.Z)({root:{textAlign:"right",color:ot.color}})(Cc),st=[{value:0,label:"0.0"},{value:.2,label:"0.2"},{value:.4,label:"0.4"},{value:.6,label:"0.6"},{value:.8,label:"0.8"},{value:1,label:"1.0"}];ct=Ne.createElement(Ne.Fragment,null,Ne.createElement(et,{key:rt},Ne.createElement(nt,{primary:ot.name}),Ne.createElement(it,{primary:at.name})),Ne.createElement(Sf,{step:.1,min:0,max:1,valueLabelDisplay:"auto",disabled:!0,marks:st}))}return Ne.createElement(rp,{in:et,timeout:"auto",unmountOnExit:!0},Ne.createElement(Lf,{component:"div",disablePadding:!0,dense:!0},Ne.createElement(zf,null,`Opacity: ${tt}`),Ne.createElement(kf,{defaultValue:tt,onChangeCommitted:(Ne,et)=>function handleUpdateRasterOpacity(Ne,et){let tt={...pt};tt[Ne]=et,vt(tt)}(rt,et),getAriaValueText:()=>`${tt}`,ValueLabelComponent,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:.1,marks:!0,min:0,max:1}),ct))}if(ot){const tt=(0,js.Z)({root:{backgroundColor:et?nt.paint[ot.mapboxPaintProperty]:Zs.Z[200]}})(bc);return Ne.createElement(rp,{in:et,timeout:"auto",unmountOnExit:!0},Ne.createElement(Lf,{component:"div",disablePadding:!0,dense:!0},Ne.createElement(tt,{key:"legend"},Ne.createElement(Cc,{primary:ot.mapboxPaintProperty}))))}return null}const[Sr,rn]=(0,Ne.useState)(!1),[vn,bn]=(0,Ne.useState)(!1),[Tn,Cn]=(0,Ne.useState)(!1),[In,Mn]=(0,Ne.useState)(!1),[zn,Ln]=(0,Ne.useState)(!1);return Ne.createElement("div",{className:_f.sideBarWrapper},Ne.createElement("div",{className:_f.bodyWrapper},Ne.createElement("div",{className:_f.sectionWrapper},Ne.createElement(If,{component:"fieldset"},Ne.createElement(Rf,{button:!0,onClick:()=>rn(!Sr)},Ne.createElement(Mf,{primary:"Base map"}),Ne.createElement(Gp,{size:"small",label:st}),Sr?Ne.createElement(pp.Z,{edge:"end"}):Ne.createElement(cp.Z,{edge:"end"})),Ne.createElement(Pf,{in:Sr},Ne.createElement(Zp,{"aria-label":"Base map",name:"Base map",value:st,onChange:Ne=>function handleSelectBaseMapLayer(Ne){mt(Ne)}(Ne.target.value)},et.map((et=>{const{name:tt}=et;return Ne.createElement(Af,{key:tt,value:tt,control:Ne.createElement(wf,null),label:tt})})))))),Ne.createElement("div",{className:_f.sectionWrapper},Ne.createElement(If,{component:"fieldset"},Ne.createElement(Rf,{button:!0,onClick:()=>Cn(!Tn)},Ne.createElement(Mf,{primary:"Pre-existing maps & data"}),rr&&Ne.createElement(Tf,null),!!ft.size&&Ne.createElement(Gp,{size:"small",label:ft.size}),Tn?Ne.createElement(pp.Z,{edge:"end"}):Ne.createElement(cp.Z,{edge:"end"})),Ne.createElement(Pf,{in:Tn},groupOptions(rt).map((et=>{const{label:tt,options:rt}=et;return Ne.createElement(Ne.Fragment,{key:tt},Ne.createElement(zf,null,tt),Ne.createElement(xp,null,rt.map((et=>{const{name:tt}=et,rt=ft.has(tt);return Ne.createElement(Ne.Fragment,{key:tt},Ne.createElement(Af,{control:Ne.createElement(xf,{checked:rt,onChange:Ne=>function handleToggleVectorLayer(Ne,et){let tt=new Set([...ft]);et?tt.add(Ne):tt.delete(Ne),Rt(tt)}(tt,Ne.target.checked),name:tt}),label:tt}),renderLegend(rt,et))}))))}))))),Ne.createElement("div",{className:_f.sectionWrapper},Ne.createElement(If,{component:"fieldset"},Ne.createElement(Rf,{button:!0,onClick:()=>bn(!vn)},Ne.createElement(Mf,{primary:"Landscape predictions"}),er&&Ne.createElement(Tf,null),!!ct.size&&Ne.createElement(Gp,{size:"small",label:ct.size}),vn?Ne.createElement(pp.Z,{edge:"end"}):Ne.createElement(cp.Z,{edge:"end"})),Ne.createElement(Pf,{in:vn},groupOptions(tt).map((et=>{const{label:tt,options:rt}=et;return Ne.createElement(Ne.Fragment,{key:tt},Ne.createElement(zf,null,tt),Ne.createElement(xp,null,rt.map((et=>{const{name:tt}=et,rt=ct.has(tt);return Ne.createElement(Ne.Fragment,{key:tt},Ne.createElement(Af,{control:Ne.createElement(xf,{checked:rt,onChange:Ne=>function handleToggleRasterLayer(Ne,et){let tt=new Set([...ct]);et?tt.add(Ne):tt.delete(Ne),yt(tt)}(tt,Ne.target.checked),name:tt}),label:tt}),renderLegend(rt,et))}))))}))))),Ne.createElement("div",{className:_f.sectionWrapper},Ne.createElement(If,{component:"fieldset"},Ne.createElement(Rf,{button:!0,onClick:()=>Mn(!In)},Ne.createElement(Mf,{primary:"Landscape observations"}),vr&&Ne.createElement(Tf,null),!!dt.size&&Ne.createElement(Gp,{size:"small",label:dt.size}),In?Ne.createElement(pp.Z,{edge:"end"}):Ne.createElement(cp.Z,{edge:"end"})),Ne.createElement(Pf,{in:In},groupOptions(nt).map((et=>{const{label:tt,options:rt}=et;return Ne.createElement(Ne.Fragment,{key:tt},Ne.createElement(zf,null,tt),Ne.createElement(xp,null,rt.map((et=>{const{name:tt}=et,rt=dt.has(tt);return Ne.createElement(Ne.Fragment,{key:tt},Ne.createElement(Af,{control:Ne.createElement(xf,{checked:rt,onChange:Ne=>function handleToggleObservationVectorLayer(Ne,et){let tt=new Set([...dt]);et?tt.add(Ne):tt.delete(Ne),Dt(tt)}(tt,Ne.target.checked),name:tt}),label:tt}),renderLegend(rt,et))}))))}))))),Ne.createElement("div",{className:_f.sectionWrapper},Ne.createElement(If,{component:"fieldset"},Ne.createElement(Rf,{button:!0,onClick:()=>Ln(!zn)},Ne.createElement(Mf,{primary:"Admin polygons"}),wr&&Ne.createElement(Tf,null),zn?Ne.createElement(pp.Z,{edge:"end"}):Ne.createElement(cp.Z,{edge:"end"})),Ne.createElement(Pf,{in:zn},groupOptions(it).map((et=>{const{label:tt,options:rt}=et,nt=ot[tt];return Ne.createElement(Zp,{"aria-label":"Admin polygons",name:"Admin polygons",value:nt,key:tt,onChange:Ne=>function handleSelectAdminVectorLayers(Ne,et){let tt={...ot,[Ne]:et};Ot(tt)}(tt,Ne.target.value)},Ne.createElement(zf,null,tt),rt.map((et=>{const{name:tt}=et;return Ne.createElement(Af,{key:tt,value:tt,control:Ne.createElement(wf,null),label:tt})})))})))))))}__webpack_require__(72),__webpack_require__(9137),__webpack_require__(1957),__webpack_require__(6306),__webpack_require__(103),__webpack_require__(4592),__webpack_require__(8276),__webpack_require__(5082),__webpack_require__(2813),__webpack_require__(8222),__webpack_require__(8563),__webpack_require__(336),__webpack_require__(7512);var Of=__webpack_require__(6158),Bf=__webpack_require__.n(Of),Nf=__webpack_require__(7489),Vf={};Vf.styleTagTransform=ga(),Vf.setAttributes=ia(),Vf.insert=ea().bind(null,"head"),Vf.domAPI=vo(),Vf.insertStyleElement=la();uo()(Nf.Z,Vf);const Uf=Nf.Z&&Nf.Z.locals?Nf.Z.locals:void 0,Zf=[{name:"Topo",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckbva72vc19hi1ipk8im36in5",isDefault:!0},{name:"Satellite",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckbva7yuu19hj1iob2pocca04"},{name:"Streets",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckbvor8tn0coz1htdjabo8h49"},{name:"Dark",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckbvas4jd0zlm1jo7v7k9p76t"},{name:"Light",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckbvofjle0cbj1ipjnzb8nhxr"},{name:"None",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckccdqxri00ny1jtf2dhbs3hd"}];function getAdminRegionId({name:Ne,label:et}){return`${et}_${Ne}`}function MapRenderer_defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}function getLayerIdentifier({name:Ne,label:et},tt=!1){return tt?getAdminRegionId({name:Ne,label:et}):Ne}Bf().accessToken="pk.eyJ1IjoiY29sdW1iaWEtZGF0YXBsYXRmb3JtIiwiYSI6ImNrYXpxbml5bDAwMzEycm11NGpqd2l3b2cifQ.-ql-7fIcoPv0c-m6ezRwjw";const qf=[33,1];class MapRenderer{constructor(Ne,et){MapRenderer_defineProperty(this,"handleMoveEnd",(()=>{const Ne=this.map.getZoom(),et=this.map.getCenter();this.onZoomOrPan(Ne,et)})),MapRenderer_defineProperty(this,"handleZoomEnd",(()=>{const Ne=this.map.getZoom(),et=this.map.getCenter();this.onZoomOrPan(Ne,et)})),MapRenderer_defineProperty(this,"waitForStyleLoad",((Ne=(()=>{}),et=200)=>{clearTimeout(this.styleTimeout);const waiting=()=>{this.map.isStyleLoaded()?Ne():this.styleTimeout=setTimeout(waiting,et)};waiting()})),MapRenderer_defineProperty(this,"removeLayerFromMap",(Ne=>{const et=Ne.id,tt=Ne.type instanceof Array?Ne.type:[Ne.type];for(const Ne of tt){const tt=`${et}_${Ne}`;this.map.getLayer(tt)&&this.map.removeLayer(tt)}this.map.getSource(et)&&this.map.removeSource(et)})),MapRenderer_defineProperty(this,"addVectorLayerToMap",((Ne,et=!1)=>{const{mapboxSourceType:tt,mapboxLayerType:rt,mapboxLayerOptions:nt={},features:it,minZoom:ot,maxZoom:at,onFeatureClick:st}=Ne,ct=getLayerIdentifier(Ne,et),pt={type:tt,data:{type:"FeatureCollection",features:it}};this.map.getSource(ct)||this.map.addSource(ct,pt);const ft={id:ct,type:rt,source:ct,...nt},dt=rt instanceof Array?rt:[rt];for(const Ne of dt){const et=`${ct}_${Ne}`,tt={id:et,type:Ne,source:ct,...rt instanceof Array?nt[Ne]:nt};if(ot&&(tt.minzoom=ot),at&&(tt.maxzoom=at),!this.map.getLayer(et))if(this.map.addLayer(tt),st)this.map.on("click",et,(Ne=>{const tt=this.map.queryRenderedFeatures(Ne.point,{layers:[et]})[0].properties;st(tt)}));else{const Ne=new(Bf().Popup)({closeButton:!1,closeOnClick:!1});this.map.on("mouseenter",et,(tt=>{const rt=this.map.queryRenderedFeatures(tt.point,{layers:[et]})[0].properties;if(Object.keys(rt).length){this.map.getCanvas().style.cursor="pointer";const et=[parseFloat(tt.lngLat.lng),parseFloat(tt.lngLat.lat)];for(;Math.abs(tt.lngLat.lng-et[0])>180;)et[0]+=tt.lngLat.lng>et[0]?360:-360;Ne.setLngLat(et).setHTML(Object.keys(rt).map((Ne=>this.renderMetadataSection(Ne,rt[Ne]))).join("")).addTo(this.map)}})),this.map.on("mouseleave",et,(()=>{this.map.getCanvas().style.cursor="",Ne.remove()}))}}return ft})),MapRenderer_defineProperty(this,"addRasterLayerToMap",((Ne,et)=>{const{mapboxId:tt,minNativeZoom:rt,maxNativeZoom:nt,bounds:it,minZoom:ot,maxZoom:at,opacity:st}=Ne,ct=getLayerIdentifier(Ne),pt={type:"raster",tiles:[`https://api.mapbox.com/v4/${tt}/{z}/{x}/{y}.png?access_token=${Bf().accessToken}`],tileSize:512,minzoom:rt,maxzoom:nt,bounds:it};this.map.getSource(ct)||this.map.addSource(ct,pt);const ft={id:ct,type:"raster",source:ct},dt=`${ct}_raster`,mt={id:dt,type:"raster",source:ct,minzoom:ot,maxzoom:at,paint:{"raster-opacity":st}};return this.map.getLayer(dt)||this.map.addLayer(mt,et),ft})),this.elem=Ne,this.baseLayers=new Map,this.rasterLayers=new Map,this.vectorLayers=new Map,this.observationVectorLayers=new Map,this.adminVectorLayers=new Map;const{baseMapLayer:tt,center:rt,zoom:nt,renderMetadataSection:it=((Ne,et)=>`<p><b>${Ne}</b><br>${et[Ne]}</p>`)}=et;this.renderMetadataSection=it;const ot=tt||Zf.find((({isDefault:Ne})=>Ne));this.baseLayers.set(getLayerIdentifier(ot),ot),this.map=new(Bf().Map)({container:this.elem,style:ot.mapboxStyle,center:rt||qf,zoom:nt||7});const at=new(Bf().ScaleControl)({maxWidth:100,unit:"metric"});this.map.addControl(at);const st=new(Bf().NavigationControl)({showCompass:!1});this.map.addControl(st,"top-left"),this.onZoomOrPan=et.onZoomOrPan,this.map.on("zoomend",this.handleZoomEnd),this.map.on("moveend",this.handleMoveEnd),this.map.once("style.load",(()=>{this.waitForStyleLoad((()=>{this.update(et,{initialRender:!0})}))}))}addCustomLayerToMap(Ne=30,et=0){console.log("111 call custom"),this.map.on("load",(()=>{this.map.addSource("radar",{type:"image",url:"https://geomap-rasters-pics.s3.amazonaws.com/cat_test.png",coordinates:[[Ne-.1,et+.1],[Ne+.1,et+.1],[Ne+.1,et-.1],[Ne-.1,et-.1]]}),this.map.addLayer({id:"radar-layer",type:"raster",source:"radar",paint:{"raster-fade-duration":0}})}))}update({baseMapLayer:Ne,rasterLayers:et,vectorLayers:tt,observationVectorLayers:rt,adminVectorLayers:nt,center:it=qf,zoom:ot=7,boundingBox:at},{initialRender:st=!1}={}){if(st&&this.map.jumpTo({center:it,zoom:ot}),at&&this.map.fitBounds(at),!this.baseLayers.get(getLayerIdentifier(Ne))){for(const[Ne,et]of this.baseLayers)this.baseLayers.delete(Ne);return this.baseLayers.set(getLayerIdentifier(Ne),Ne),this.map.setStyle(Ne.mapboxStyle),void this.map.once("style.load",(()=>{this.waitForStyleLoad((()=>{for(const[Ne,et]of this.adminVectorLayers)this.removeLayerFromMap(et),this.adminVectorLayers.delete(Ne);for(const[Ne,et]of this.rasterLayers)this.removeLayerFromMap(et),this.rasterLayers.delete(Ne);for(const[Ne,et]of this.vectorLayers)this.removeLayerFromMap(et),this.vectorLayers.delete(Ne);for(const[Ne,et]of this.observationVectorLayers)this.removeLayerFromMap(et),this.vectorLayers.delete(Ne);this.update({baseMapLayer:Ne,rasterLayers:et,vectorLayers:tt,observationVectorLayers:rt,adminVectorLayers:nt,center:it,zoom:ot},{initialRender:!0})}))}))}this.waitForStyleLoad((()=>{const Ne=new Set(nt.map((Ne=>getLayerIdentifier(Ne,!0))));for(const[et,tt]of this.adminVectorLayers)Ne.has(et)||(this.removeLayerFromMap(tt),this.adminVectorLayers.delete(et));for(const Ne of nt){let et=this.adminVectorLayers.get(getLayerIdentifier(Ne,!0));et?this.map.getSource(getLayerIdentifier(Ne,!0))&&Ne.features.length&&this.map.getSource(getLayerIdentifier(Ne,!0)).setData({type:"FeatureCollection",features:Ne.features}):(et=this.addVectorLayerToMap(Ne,!0),this.adminVectorLayers.set(getLayerIdentifier(Ne,!0),et))}const it=new Set(et.map((Ne=>getLayerIdentifier(Ne))));for(const[Ne,et]of this.rasterLayers)it.has(Ne)||(this.removeLayerFromMap(et),this.rasterLayers.delete(Ne));for(const Ne of et){let et=this.rasterLayers.get(getLayerIdentifier(Ne));if(et){const et=`${getLayerIdentifier(Ne)}_raster`,tt=this.map.getPaintProperty(et,"raster-opacity");Ne.opacity!==tt&&this.map.setPaintProperty(et,"raster-opacity",Ne.opacity)}else et=this.addRasterLayerToMap(Ne,`${getLayerIdentifier(nt[0],!0)}_${nt[0].mapboxLayerType instanceof Array?nt[0].mapboxLayerType[0]:nt[0].mapboxLayerType}`),this.rasterLayers.set(getLayerIdentifier(Ne),et)}const ot=new Set(tt.map((Ne=>getLayerIdentifier(Ne))));for(const[Ne,et]of this.vectorLayers)ot.has(Ne)||(this.removeLayerFromMap(et),this.vectorLayers.delete(Ne));for(const Ne of tt){let et=this.vectorLayers.get(getLayerIdentifier(Ne));et?this.map.getSource(getLayerIdentifier(Ne))&&this.map.getSource(getLayerIdentifier(Ne)).setData({type:"FeatureCollection",features:Ne.features}):(et=this.addVectorLayerToMap(Ne),this.vectorLayers.set(getLayerIdentifier(Ne),et))}const at=new Set(rt.map((Ne=>getLayerIdentifier(Ne))));for(const[Ne,et]of this.observationVectorLayers)at.has(Ne)||(this.removeLayerFromMap(et),this.observationVectorLayers.delete(Ne));for(const Ne of rt){let et=this.observationVectorLayers.get(getLayerIdentifier(Ne));et?this.map.getSource(getLayerIdentifier(Ne))&&this.map.getSource(getLayerIdentifier(Ne)).setData({type:"FeatureCollection",features:Ne.features}):(et=this.addVectorLayerToMap(Ne),this.observationVectorLayers.set(getLayerIdentifier(Ne),et))}}))}unload(){clearTimeout(this.styleTimeout)}}function Map_defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}class Map_Map extends Ne.Component{componentDidMount(){this.mapRenderer=new MapRenderer(this.mapElement,this.props)}componentDidUpdate(Ne){this.mapRenderer.update(this.props)}componentWillUnmount(){this.mapRenderer.unload()}render(){return Ne.createElement("div",{ref:Ne=>this.mapElement=Ne,className:Uf.wrapper})}}Map_defineProperty(Map_Map,"propTypes",{baseMapLayer:nt().object,vectorLayers:nt().arrayOf(nt().object),rasterLayers:nt().arrayOf(nt().object)}),Map_defineProperty(Map_Map,"defaultProps",{vectorLayers:[],rasterLayers:[]});class RasterSource{constructor({mapboxId:Ne,isDefault:et,minZoom:tt=0,maxZoom:rt=22,minNativeZoom:nt,maxNativeZoom:it,boundingBox:ot,name:at,label:st,customLegend:ct}){this.name=at,this.label=st,this.mapboxId=Ne,this.minZoom=parseInt(tt),this.maxZoom=parseInt(rt),this.minNativeZoom=parseInt(nt),this.maxNativeZoom=parseInt(it),this.isDefault=et,this.customLegend=ct,ot&&(ot=ot.split(","),this.bounds=[parseFloat(ot[0]),parseFloat(ot[1]),parseFloat(ot[2]),parseFloat(ot[3])])}}const Wf=[new class RasterSourceGroup{constructor({label:Ne,tableIdentifier:et,mapboxIdVariable:tt,minNativeZoomVariable:rt,maxNativeZoomVariable:nt,boundingBoxVariable:it,nameVariable:ot,customLegendsByMapboxId:at,customNamesByMapboxId:st}){!function RasterSourceGroup_defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}(this,"fetchData",(async()=>{if(this.data)return this.data;const Ne=[...new Set([this.mapboxIdVariable.name.toLowerCase(),this.minNativeZoomVariable.name.toLowerCase(),this.maxNativeZoomVariable.name.toLowerCase(),this.boundingBoxVariable.name.toLowerCase(),this.nameVariable.name.toLowerCase()])],[et,tt,rt]=this.tableIdentifier.split(".");await authorize({apiToken:"AAAAXtGcJ4BCOmXb3OT+XuGr1C5NuWyX"});const nt=await user(et).dataset(tt).table(rt).listRows({variables:Ne});return this.data=nt.map((et=>new RasterSource({mapboxId:et[Ne[0]],minNativeZoom:et[Ne[1]],maxNativeZoom:et[Ne[2]],boundingBox:et[Ne[3]],name:this.customNamesByMapboxId&&this.customNamesByMapboxId[et[Ne[0]]]?this.customNamesByMapboxId[et[Ne[0]]]:et[Ne[4]],label:this.label,customLegend:this.customLegendsByMapboxId&&et[Ne[0]]?this.customLegendsByMapboxId[et[Ne[0]]]:null}))),this.data})),this.label=Ne,this.tableIdentifier=et,this.mapboxIdVariable=tt,this.minNativeZoomVariable=rt,this.maxNativeZoomVariable=nt,this.boundingBoxVariable=it,this.nameVariable=ot,this.customNamesByMapboxId=st,this.customLegendsByMapboxId=at}}({label:"Uganda",tableIdentifier:"modilab.uganda_geodata:3.raster_layer_metadata:1",mapboxIdVariable:{name:"mapbox_id"},minNativeZoomVariable:{name:"zoom_min"},maxNativeZoomVariable:{name:"zoom_max"},boundingBoxVariable:{name:"bounding_box"},nameVariable:{name:"catalog_name"},customNamesByMapboxId:{"columbia-dataplatform.altp17rc":"Cropland cover fraction (2015)","columbia-dataplatform.5y1gv038":"Road Density (2020)"},customLegendsByMapboxId:{"columbia-dataplatform.0xf4g95w":{type:"categorical",categories:[{name:"No buildings, no cropland, no woody cover",color:"#b9b6b9"},{name:"Woody cover (> 60%)",color:"#0e7d0e"},{name:"Cropland",color:"#fec28c"},{name:"Cropland and woody cover (> 60%)",color:"#fcfe9c"},{name:"Buildings",color:"#fe0c0c"},{name:"Buildings and woody cover (> 60%)",color:"#ea3690"},{name:"Buildings and cropland",color:"#ca7d47"},{name:"Buildings, cropland, and woody cover",color:"#6d6d6d"}]},"columbia-dataplatform.altp17rc":{type:"continuous",min:{name:"Less cropland",color:"#000000"},max:{name:"More cropland",color:"#ffffff"}},"columbia-dataplatform.5y1gv038":{type:"continuous",min:{name:"Lower road density",color:"#000000"},max:{name:"Higher road density",color:"#ffffff"}}}})],$f=Wf,Xf=[10],Kf=0,Yf=1,Jf=[{name:"Uganda Electricity Transmission Lines (full size)",label:"Uganda",isDefault:!1,tableIdentifier:"modilab.uganda_geodata:3.uganda_electricity_transmission_lines:6",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[{name:"VOLTAGE_KV"},{name:"STATUS"},{name:"INSTALLATI"},{name:"STRUCTURE_"}],metadataVariables:[{name:"OBJECTID"},{name:"LINE_ID"},{name:"LINE_NAME"},{name:"VOLTAGE_KV"},{name:"STATUS"},{name:"STATUS_DET"},{name:"YEAR_COMMI"},{name:"YEAR_UPGRA"},{name:"YEAR_DECOM"},{name:"INSTALLATI"},{name:"STRUCTURE_"},{name:"FINANCIER"},{name:"CONTRACTOR"}],legendVariable:{name:"VOLTAGE_KV",mapboxPaintProperty:"line-color"},mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round","line-sort-key":Us.length+Kf},paint:{"line-color":["match",["get","VOLTAGE_KV"],"400","#045a8d","220","#2b8cbe","132","#74a9cf","66","#bdc9e1","#f1eef6"],"line-width":4}}},{name:"UMEME REA power distribution lines 2018 (full size)",label:"Uganda",isDefault:!1,tableIdentifier:"modilab.uganda_geodata:3.umeme_rea_power_distribution_lines_2018:5",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[{name:"Voltage"},{name:"Status"},{name:"Phase"}],metadataVariables:[{name:"Voltage"},{name:"Status"},{name:"Phase"}],legendVariable:{name:"Voltage",mapboxPaintProperty:"line-color"},mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round","line-sort-key":Us.length+Yf},paint:{"line-color":["match",["get","Voltage"],"33 kV","#dd1c77","11 kV","#c994c7","#e7e1ef"],"line-width":2}}}];for(let Ne=0;Ne<Jf.length;Ne++){for(let et=0;et<Xf.length;et++){const tt=Xf[et];Jf.splice(Ne+et+1,0,{...Jf[Ne],isDefault:!1,name:`${Jf[Ne].name}`.replace("full size",`${tt}%`),geoVariables:[{name:`geoBuf_simplified_${tt}`}]})}Ne+=Xf.length}const Qf=Jf.map((Ne=>new VectorSource(Ne))),ed=[new VectorSource({name:"Uganda Geosurvey Results",label:"Uganda",isDefault:!1,tableIdentifier:"modilab.uganda_geodata:3.uganda_geosurvey_results:2",geoVariables:[{name:"lat"},{name:"lon"}],getGeometry:(Ne,et)=>({type:"Point",coordinates:[parseFloat(et),parseFloat(Ne)]}),metadataVariables:[],mapboxSourceType:"geojson",mapboxLayerType:"circle",mapboxLayerOptions:{layout:{"circle-sort-key":Us.length+Qf.length+0},paint:{"circle-color":"rgb(0,0,0)","circle-stroke-color":"white","circle-stroke-width":1,"circle-opacity":.6,"circle-radius":5}}})];var nd=Ne.forwardRef((function Paper(et,tt){var rt=et.classes,nt=et.className,ot=et.component,at=void 0===ot?"div":ot,st=et.square,ct=void 0!==st&&st,pt=et.elevation,ft=void 0===pt?1:pt,dt=et.variant,mt=void 0===dt?"elevation":dt,yt=(0,Js.Z)(et,["classes","className","component","square","elevation","variant"]);return Ne.createElement(at,(0,it.Z)({className:(0,tl.Z)(rt.root,nt,"outlined"===mt?rt.outlined:rt["elevation".concat(ft)],!ct&&rt.rounded),ref:tt},yt))}));const cd=(0,js.Z)((function styles(Ne){var et={};return Ne.shadows.forEach((function(Ne,tt){et["elevation".concat(tt)]={boxShadow:Ne}})),(0,it.Z)({root:{backgroundColor:Ne.palette.background.paper,color:Ne.palette.text.primary,transition:Ne.transitions.create("box-shadow")},rounded:{borderRadius:Ne.shape.borderRadius},outlined:{border:"1px solid ".concat(Ne.palette.divider)}},et)}),{name:"MuiPaper"})(nd);var fd=Ne.forwardRef((function Card(et,tt){var rt=et.classes,nt=et.className,ot=et.raised,at=void 0!==ot&&ot,st=(0,Js.Z)(et,["classes","className","raised"]);return Ne.createElement(cd,(0,it.Z)({className:(0,tl.Z)(rt.root,nt),elevation:at?8:1,ref:tt},st))}));const dd=(0,js.Z)({root:{overflow:"hidden"}},{name:"MuiCard"})(fd);var _d=Ne.forwardRef((function CardContent(et,tt){var rt=et.classes,nt=et.className,ot=et.component,at=void 0===ot?"div":ot,st=(0,Js.Z)(et,["classes","className","component"]);return Ne.createElement(at,(0,it.Z)({className:(0,tl.Z)(rt.root,nt),ref:tt},st))}));const bd=(0,js.Z)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(_d);function MapWrapper_defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}const kd=null,Ed=/&zoom=([\d+\.]+)/,Cd=/&lat=(-?[\d+\.]+)/,Id=/&lng=(-?[\d+\.]+)/,Ad=/&bbox=(-?[\d+\.]+),(-?[\d+\.]+),(-?[\d+\.]+),(-?[\d+\.]+)/,Md=/&region=([^&]+)/,zd=/&adminLayer_([^(&=)]+)=([^&]+)/g,Ld=(0,js.Z)({root:{minWidth:200}})(dd),Dd=(0,js.Z)({root:{fontSize:14,marginBottom:12}})(kc),Od=(0,js.Z)({root:{fontSize:12}})(kc);function getSelectedAdminVectorLayerNamesByLabel(Ne){const et=groupOptions(Us),tt={};let rt;for(;null!==(rt=zd.exec(Ne));)tt[decodeURIComponent(rt[1])]=decodeURIComponent(rt[2]);zd.lastIndex=0;for(const Ne of et)tt[Ne.label]||(tt[Ne.label]=Ne.options.find((({isDefault:Ne})=>Ne)).name);return tt}function getSelectedRegionName(Ne){const{location:{search:et}}=Ne,tt=et.match(Md);return tt?decodeURIComponent(tt[1]):null}class MapWrapper extends Ne.Component{constructor(et){super(et),MapWrapper_defineProperty(this,"loadRasters",(async()=>{this.setState({isLoadingRasters:!0});const Ne=(await Promise.all($f.map((async Ne=>await Ne.fetchData())))).reduce(((Ne,et)=>Ne.concat(et)),[]),et={};for(const tt of Ne)et[tt.name]=1;this.setState({rasters:Ne,rasterOpacityByNameMap:et,isLoadingRasters:!1})})),MapWrapper_defineProperty(this,"loadVectors",(async()=>{this.setState({isLoadingVectors:!0});const{currentVectorLayerNamesSet:Ne}=this.state,et=Qf.filter((({name:et})=>Ne.has(et))),tt={},rt={};await Promise.all(et.map((async Ne=>{const et=await Ne.fetchData();tt[Ne.name]=et;const nt=new Set([...(Ne.filterVariables||[]).map((({name:Ne})=>Ne))]);if(Ne.legendVariable&&nt.add(Ne.legendVariable.name),nt.size){const tt=function getFiltersMap(Ne,et){const tt={};for(const rt of Ne)for(const Ne in rt.metadata)et.has(Ne)&&(tt[Ne]||(tt[Ne]={valuesSet:new Set([]),selectedValuesSet:new Set([])}),tt[Ne].valuesSet.add(null===rt.metadata[Ne]?kd:rt.metadata[Ne]),tt[Ne].selectedValuesSet.add(null===rt.metadata[Ne]?kd:rt.metadata[Ne]));return tt}(et,nt);rt[Ne.name]=tt}}))),this.setState({vectorFeaturesByNamesMap:tt,vectorFiltersByNamesMap:rt,isLoadingVectors:!1})})),MapWrapper_defineProperty(this,"loadObservationVectors",(async()=>{this.setState({isLoadingObservationVectors:!0});const{currentObservationVectorLayerNamesSet:Ne}=this.state,et=ed.filter((({name:et})=>Ne.has(et))),tt={};await Promise.all(et.map((async Ne=>{const et=await Ne.fetchData();tt[Ne.name]=et}))),this.setState({observationVectorFeaturesByNamesMap:tt,isLoadingObservationVectors:!1})})),MapWrapper_defineProperty(this,"loadAdminVectors",(async()=>{const{location:{search:Ne}}=this.props;this.setState({isLoadingAdminVectors:!0});const et=getSelectedAdminVectorLayerNamesByLabel(Ne),tt=getSelectedRegionName(this.props),rt=Us.filter((({name:Ne,label:tt})=>et[tt]===Ne)),nt={};await Promise.all(rt.map((async Ne=>{const et=await Ne.fetchData();if(tt)for(const Ne of et)Ne.properties.regionName===tt&&(Ne.properties.opacity=.2);nt[getAdminRegionId(Ne)]=et}))),this.setState({adminVectorFeaturesByIdMap:nt,isLoadingAdminVectors:!1})})),MapWrapper_defineProperty(this,"handleUpdateBaseMapLayer",(Ne=>{this.setState({currentBaseMapLayerName:Ne})})),MapWrapper_defineProperty(this,"handleUpdateRasterLayers",(Ne=>{this.setState({currentRasterLayerNamesSet:Ne})})),MapWrapper_defineProperty(this,"handleUpdateRasterLayerOpacityByNameMap",(Ne=>{this.setState({rasterOpacityByNameMap:Ne})})),MapWrapper_defineProperty(this,"handleUpdateVectorLayers",(Ne=>{this.setState({currentVectorLayerNamesSet:Ne},this.loadVectors)})),MapWrapper_defineProperty(this,"handleUpdateObservationVectorLayers",(Ne=>{this.setState({currentObservationVectorLayerNamesSet:Ne},this.loadObservationVectors)})),MapWrapper_defineProperty(this,"handleUpdateAdminVectorLayers",(Ne=>{const{location:{search:et},history:tt}=this.props,rt=et.match(Md);let nt=rt?`${et.slice(0,rt.index)}${et.slice(rt.index+rt[0].length)}`:et;for(const et of Object.keys(Ne)){const tt=RegExp(`&adminLayer_${encodeURIComponent(et)}=([^&]+)`),rt=nt.match(tt);nt=rt?`${nt.slice(0,rt.index)}&adminLayer_${encodeURIComponent(et)}=${encodeURIComponent(Ne[et])}${nt.slice(rt.index+rt[0].length)}`:nt.concat(`&adminLayer_${encodeURIComponent(et)}=${encodeURIComponent(Ne[et])}`)}tt.replace({search:nt})})),MapWrapper_defineProperty(this,"handleUpdateVectorFilters",(Ne=>{this.setState({vectorFiltersByNamesMap:Ne})})),MapWrapper_defineProperty(this,"filterFeatures",((Ne,et)=>{const{vectorFiltersByNamesMap:tt}=this.state,rt=tt[Ne],nt=[];for(const Ne in rt)nt.push(Ne);return et.filter((Ne=>!Ne.metadata||nt.every((et=>void 0===Ne.metadata[et]||rt[et].selectedValuesSet.has(null===Ne.metadata[et]?kd:Ne.metadata[et])))))})),MapWrapper_defineProperty(this,"handleAdminVectorFeatureClick",(Ne=>{const{location:{search:et},history:tt}=this.props;if(Ne.regionName){const rt=et.match(Md),nt=encodeURIComponent(Ne.regionName),it=rt?`${et.slice(0,rt.index)}${nt!==rt[1]?`&region=${nt}`:""}${et.slice(rt.index+rt[0].length)}`:et.concat(`&region=${nt}`);tt.replace({search:it})}})),MapWrapper_defineProperty(this,"handleZoomOrPan",((Ne,et)=>{const{location:{pathname:tt,search:rt},history:nt}=this.props,it=rt.match(Ed);let ot=it?`${rt.slice(0,it.index)}&zoom=${encodeURIComponent(Ne)}${rt.slice(it.index+it[0].length)}`:rt.concat(`&zoom=${encodeURIComponent(Ne)}`);const at=ot.match(Id);ot=at?`${ot.slice(0,at.index)}&lng=${encodeURIComponent(et.lng)}${ot.slice(at.index+at[0].length)}`:ot.concat(`&lng=${encodeURIComponent(et.lng)}`);const st=ot.match(Cd);ot=st?`${ot.slice(0,st.index)}&lat=${encodeURIComponent(et.lat)}${ot.slice(st.index+st[0].length)}`:ot.concat(`&lat=${encodeURIComponent(et.lat)}`),nt.replace({pathname:tt,search:ot})})),MapWrapper_defineProperty(this,"getZoomAndCenter",(()=>{const{location:{search:Ne}}=this.props,et=Ne.match(Ed),tt=Ne.match(Cd),rt=Ne.match(Id),nt=Ne.match(Ad),it={};return et&&(it.zoom=parseInt(et[1],10)),tt&&rt&&(it.center=[parseFloat(rt[1]),parseFloat(tt[1])]),nt&&(it.boundingBox=[[parseFloat(nt[1]),parseFloat(nt[2])],[parseFloat(nt[3]),parseFloat(nt[4])]]),it})),MapWrapper_defineProperty(this,"renderMetadataSection",((et,tt)=>Ne.createElement("div",{key:et,className:vp.regionSection},Ne.createElement(Od,{color:"textSecondary",gutterBottom:!0},et),null===tt?Ne.createElement(Od,{color:"textSecondary"},"Not listed"):Ne.createElement(Gp,{size:"small",label:tt})))),MapWrapper_defineProperty(this,"renderSelectedRegion",(et=>{const{adminVectorFeaturesByIdMap:tt}=this.state,rt=getSelectedRegionName(this.props);for(const nt of Object.keys(et)){const it=getAdminRegionId({name:et[nt],label:nt});if(rt&&tt[it]){const et=tt[it].find((({properties:Ne})=>Ne.regionName===rt));if(et)return Ne.createElement("div",{className:vp.regionTileWrapper},Ne.createElement(Ld,null,Ne.createElement(bd,null,Ne.createElement(Dd,{gutterBottom:!0},et.properties.regionName),Object.keys(et.metadata).filter((Ne=>"regionName"!==Ne)).map((Ne=>this.renderMetadataSection(Ne,et.metadata[Ne]))))))}}return null}));const tt=Qf.filter((({isDefault:Ne})=>Ne)),rt=ed.filter((({isDefault:Ne})=>Ne)),nt=Us.filter((({isDefault:Ne})=>Ne)),it={},ot={},at={},st={};for(const Ne of tt)it[Ne.name]=[],ot[Ne.name]={};for(const Ne of rt)at[Ne.name]=[];for(const Ne of nt)st[getAdminRegionId(Ne)]=[];this.state={currentBaseMapLayerName:Zf.find((({isDefault:Ne})=>Ne)).name,currentRasterLayerNamesSet:new Set([]),currentVectorLayerNamesSet:new Set(tt.map((({name:Ne})=>Ne))),currentObservationVectorLayerNamesSet:new Set(rt.map((({name:Ne})=>Ne))),rasters:[],rasterOpacityByNameMap:{},vectorFeaturesByNamesMap:it,vectorFiltersByNamesMap:ot,adminVectorFeaturesByIdMap:st,observationVectorFeaturesByNamesMap:at,isLoadingRasters:!1,isLoadingVectors:!1,isLoadingObservationVectors:!1,isLoadingAdminVectors:!1,previousSearch:null,previousRegionName:null}}componentDidMount(){const{location:{search:Ne},history:et}=this.props;this.loadRasters(),this.loadVectors(),this.loadObservationVectors(),this.loadAdminVectors();const tt=Ne.match(Ad);if(tt){const rt=`${Ne.slice(0,tt.index)}${Ne.slice(tt.index+tt[0].length)}`;et.replace({search:rt})}}static getDerivedStateFromProps(Ne,et){const{location:{search:tt}}=Ne,{adminVectorFeaturesByIdMap:rt,previousRegionName:nt,previousSearch:it}=et,ot=getSelectedAdminVectorLayerNamesByLabel(tt),at=getSelectedAdminVectorLayerNamesByLabel(it);let st=getSelectedRegionName(Ne);if(st!==nt){const Ne={adminVectorFeaturesByIdMap:{...rt},previousRegionName:st,previousSearch:tt};for(const et of Object.keys(at))for(const tt of Ne.adminVectorFeaturesByIdMap[getAdminRegionId({name:at[et],label:et})]||[])tt.properties.opacity=void 0;for(const et of Object.keys(ot))for(const tt of Ne.adminVectorFeaturesByIdMap[getAdminRegionId({name:ot[et],label:et})]||[])tt.properties.opacity=void 0,st&&tt.properties.regionName===st&&(tt.properties.opacity=.2);return Ne}return null}componentDidUpdate(Ne){const{location:{search:et}}=this.props,tt=getSelectedAdminVectorLayerNamesByLabel(et),rt=getSelectedAdminVectorLayerNamesByLabel(Ne.location.search);groupOptions(Us).some((({label:Ne})=>tt[Ne]!==rt[Ne]))&&this.loadAdminVectors()}render(){const{location:{search:et}}=this.props,{vectorFiltersByNamesMap:tt,vectorFeaturesByNamesMap:rt,adminVectorFeaturesByIdMap:nt,observationVectorFeaturesByNamesMap:it,currentRasterLayerNamesSet:ot,currentVectorLayerNamesSet:at,currentObservationVectorLayerNamesSet:st,currentBaseMapLayerName:ct,rasters:pt,rasterOpacityByNameMap:ft,isLoadingRasters:dt,isLoadingVectors:mt,isLoadingObservationVectors:yt,isLoadingAdminVectors:vt}=this.state,{zoom:Rt,center:Dt,boundingBox:Ot}=this.getZoomAndCenter(),Bt=getSelectedAdminVectorLayerNamesByLabel(et);return Ne.createElement("div",{className:vp.mapWrapper},this.renderSelectedRegion(Bt),Ne.createElement("div",{className:vp.filters},Ne.createElement(Filters,{baseMapLayers:Zf,rasterLayers:pt,vectorLayers:Qf,adminVectorLayers:Us,observationVectorLayers:ed,selectedAdminVectorLayerNamesByLabel:Bt,vectorFiltersByNamesMap:tt,selectedBaseMapLayerName:ct,selectedRasterLayerNamesSet:ot,rasterOpacityByNameMap:ft,selectedVectorLayerNamesSet:at,selectedObservationVectorLayerNamesSet:st,onUpdateBaseMapLayer:this.handleUpdateBaseMapLayer,onUpdateRasterLayers:this.handleUpdateRasterLayers,onUpdateRasterLayerOpacityByNameMap:this.handleUpdateRasterLayerOpacityByNameMap,onUpdateVectorLayers:this.handleUpdateVectorLayers,onUpdateAdminVectorLayers:this.handleUpdateAdminVectorLayers,onUpdateObservationVectorLayers:this.handleUpdateObservationVectorLayers,onUpdateVectorFilters:this.handleUpdateVectorFilters,isLoadingRasters:dt,isLoadingVectors:mt,isLoadingObservationVectors:yt,isLoadingAdminVectors:vt})),Ne.createElement("div",{className:vp.map},Ne.createElement(Map_Map,{baseMapLayer:Zf.find((({name:Ne})=>Ne===ct)),rasterLayers:pt.filter((({name:Ne})=>ot.has(Ne))).map((Ne=>({...Ne,opacity:ft[Ne.name]}))),vectorLayers:Qf.filter((({name:Ne})=>at.has(Ne))).map((Ne=>({...Ne,features:this.filterFeatures(Ne.name,rt[Ne.name]||[])}))),observationVectorLayers:ed.filter((({name:Ne})=>st.has(Ne))).map((Ne=>({...Ne,features:it[Ne.name]||[]}))),adminVectorLayers:Us.filter((({name:Ne,label:et})=>Bt[et]===Ne)).map((Ne=>({...Ne,features:nt[getAdminRegionId(Ne)]||[],onFeatureClick:this.handleAdminVectorFeatureClick}))),onZoomOrPan:this.handleZoomOrPan,zoom:Rt,center:Dt,boundingBox:Ot,renderMetadataSection:(Ne,et)=>(0,_p.renderToString)(this.renderMetadataSection(Ne,et))})))}}const Bd=withRouter(MapWrapper);var Nd=__webpack_require__(472),jd={};jd.styleTagTransform=ga(),jd.setAttributes=ia(),jd.insert=ea().bind(null,"head"),jd.domAPI=vo(),jd.insertStyleElement=la();uo()(Nd.Z,jd);const Zd=Nd.Z&&Nd.Z.locals?Nd.Z.locals:void 0;var qd=__webpack_require__(7084),$d=__webpack_require__.n(qd),Hd=__webpack_require__(3514),Yd=__webpack_require__.n(Hd);class About extends Ne.Component{render(){return Ne.createElement("div",{className:Zd.aboutWrapper},Ne.createElement("div",{className:Zd.markdownWrapper,dangerouslySetInnerHTML:{__html:$d()(Yd(),{breaks:!0,gfm:!0})}}))}}const tm=withRouter(About);function App_defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}const rm=(0,js.Z)({root:{fontSize:20}})(kc),nm=(0,js.Z)({root:{marginLeft:10,fontSize:20,color:Zs.Z[600]}})(kc);class App extends Ne.Component{constructor(et){super(et),App_defineProperty(this,"renderHeader",(()=>Ne.createElement("div",{className:ss.headerWrapper},Ne.createElement("div",{className:ss.header},Ne.createElement(rm,{component:"h4"},"Subsaharan Satellite Imagery Project"),Ne.createElement(nm,{component:"h4"},"Graphical Landscape in Africa")),Ne.createElement("div",{className:ss.navigation},Ne.createElement(ii,{exact:!0,className:ss.link,activeClassName:ss.active,to:""},"Region"),Ne.createElement(ii,{exact:!0,className:ss.link,activeClassName:ss.active,to:"/map"},"Map"),Ne.createElement(ii,{exact:!0,className:ss.link,activeClassName:ss.active,to:"/about"},"About"))))),App_defineProperty(this,"renderBody",(()=>Ne.createElement("div",{className:ss.bodyWrapper},Ne.createElement(Mn,null,Ne.createElement(In,{exact:!0,path:"/map",component:Bd}),Ne.createElement(In,{exact:!0,path:"/about",component:tm}),Ne.createElement(In,{component:mp})))));const{history:tt}=et;let rt=localStorage.getItem("path");rt&&(localStorage.removeItem("path"),tt.replace(`/${rt}`))}render(){return Ne.createElement("div",{className:ss.appWrapper},this.renderHeader(),this.renderBody())}}const im=withRouter(App);let om=document.getElementById("root");om||(om=document.createElement("div"),om.id="root",document.body.appendChild(om)),(0,et.render)(Ne.createElement(zn,null,Ne.createElement(im,null)),om)})()})();